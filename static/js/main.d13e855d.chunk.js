(this["webpackJsonpcancer-atlas"]=this["webpackJsonpcancer-atlas"]||[]).push([[0],{202:function(e,a){},289:function(e,a,t){e.exports=t(369)},302:function(e,a,t){},303:function(e,a){},369:function(e,a,t){"use strict";t.r(a);var n,r,i=t(0),c=t.n(i),o=t(43),l=t.n(o),s=t(102),u=t(40),d=t(87),m=t(93),p=t(158),f=t(116),g=t.n(f),b=t(24),h=t(59),y=t(187),v=t.n(y);!function(e){e.FamilyMedicine="family_medicine",e.Laboratory="laboratories",e.HomeCare="home_care",e.Imaging="imaging"}(n||(n={})),function(e){e[e.Uninitialized=0]="Uninitialized",e[e.OK=1]="OK",e[e.Fail=2]="Fail"}(r||(r={}));var E,j={code:r.Uninitialized},O=Object.values(n).reduce((function(e,a){return Object(h.a)({},e,Object(b.a)({},a,{data:[],status:j}))}),{}),x={viewState:{width:window.innerWidth,height:window.innerHeight,longitude:23.5602928,latitude:46.0291793,zoom:6,maxZoom:20,minZoom:1,bearing:0,pitch:0},medicalServices:O,geoJsonData:{data:[],status:j},uatGeoJson:[],countyGeoJson:[]},w=Object(d.b)({name:"serviceMap",initialState:x,reducers:{updateViewState:function(e,a){e.viewState=Object(h.a)({},e.viewState,{},a.payload)},receiveMedicalServiceDataLayer:function(e,a){e.medicalServices=Object(h.a)({},e.medicalServices,Object(b.a)({},a.payload.service,a.payload.layer))},setMedicalServiceDataLayerCode:function(e,a){e.medicalServices=Object(h.a)({},e.medicalServices,Object(b.a)({},a.payload.service,{data:e.medicalServices[a.payload.service].data,status:a.payload.status}))},receiveUatGeoJson:function(e,a){e.uatGeoJson=a.payload},receiveCountiesGeoJson:function(e,a){e.countyGeoJson=a.payload},receiveMedicalServicesGeoJsonDataSuccess:function(e,a){e.geoJsonData.data=a.payload,e.geoJsonData.status={code:r.OK}},receiveMedicalServicesGeoJsonDataFailed:function(e,a){e.geoJsonData.status={code:r.Fail,msg:a.payload}}}}),k=w.actions,S=(k.updateViewState,k.receiveMedicalServicesGeoJsonDataSuccess,k.receiveMedicalServicesGeoJsonDataFailed,k.receiveMedicalServiceDataLayer),C=k.setMedicalServiceDataLayerCode,N=k.receiveUatGeoJson,z=k.receiveCountiesGeoJson,L=w.reducer,I={services:[n.FamilyMedicine,n.HomeCare,n.Imaging,n.Laboratory]},R=Object(d.b)({name:"switchListItem",initialState:I,reducers:{toggleServiceType:function(e,a){var t=e.services.indexOf(a.payload),n=Object(p.a)(e.services);-1===t?n.push(a.payload):n.splice(t,1),e.services=n}}}),P=R.actions.toggleServiceType,G=R.reducer;!function(e){e.ScatterPlot="ScatterPlot",e.Icon="Icon",e.Heatmap="Heatmap",e.Grid="Grid",e.Choropleth="Choropleth",e.Extruded="Extruded"}(E||(E={}));var T={layerType:E.Choropleth},F=Object(d.b)({name:"layerPicker",initialState:T,reducers:{setLayerType:function(e,a){e.layerType!==a.payload&&(e.layerType=a.payload)}}}),M=F.actions.setLayerType,D=F.reducer,J=t(238),B=t.n(J),_={query:"",searchOptions:{threshold:.2,location:0,distance:100,tokenize:!0,maxPatternLength:16,keys:["address","contractNo","email","medicName","phone","supplierName","specialty"]}},A=Object(d.b)({name:"searchGroup",initialState:_,reducers:{setQuery:function(e,a){e.query=a.payload},performQuery:function(e,a){e.query.length<3?e.searchResults=void 0:e.searchResults=Object.keys(a.payload).reduce((function(t,n){var i=a.payload[n],c=new B.a(i.data,e.searchOptions).search(e.query);return Object(h.a)({},t,Object(b.a)({},n,{data:c,status:{code:r.OK}}))}),{})}}}),H=A.actions,W=H.setQuery,V=H.performQuery,U=A.reducer,K=Object(m.combineReducers)({switchListItemReducer:G,layerPickerReducer:D,serviceMapReducer:L,searchGroupReducer:U}),Z=Object(d.a)({reducer:K}),q=(t(302),t(67)),Q=t(239),Y=t(119),X=t(240),$=t(114),ee=t(428),ae=t(429),te=t(430),ne=t(416),re=t(420),ie=t(409),ce=t(431),oe=t(434),le=t(191),se=t(441),ue=t(425),de=t(423),me=t(447),pe=t(417),fe=t(418),ge=t(258),be=t.n(ge),he=t(260),ye=t.n(he),ve=t(259),Ee=t.n(ve),je=t(8),Oe=Object(X.a)((function(e){return{gradientText:{background:"linear-gradient(103deg, #31dccf, #244fe7)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},branding:{fontWeight:900,fontSize:14,lineHeight:"14px",textTransform:"uppercase",position:"relative",paddingLeft:8,zIndex:2,background:ct},brandingSymbol:{marginRight:12,fontSize:"19px",position:"absolute",display:"block",right:0,top:-12,border:"2px solid transparent",width:"50px",paddingLeft:16,height:36,background:ct,backgroundClip:"padding-box",textShadow:"none","&::before":{content:"' '",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:-1,margin:"-2px",background:"linear-gradient(\n        103deg,\n        #31dccf,\n        #244fe7)\n      "}},beta:{fontFamily:"Architects Daughter, cursive",fontSize:8,textTransform:"lowercase",textShadow:"none",position:"absolute",left:0,zIndex:100,lineHeight:1}}})),xe=function(e){var a=Oe();return c.a.createElement("div",{style:e.style,className:Object(je.a)(a.branding,e.className)},c.a.createElement("div",{className:a.brandingSymbol},c.a.createElement(ie.a,{className:Object(je.a)(a.gradientText,"far fa-lungs"),style:{width:"unset",verticalAlign:"sub",fontSize:19,marginTop:6}})),c.a.createElement(le.a,{variant:"h5",component:"h1",style:Object(h.a)({},e.style,{marginRight:50}),className:Object(je.a)(a.branding,e.className)},c.a.createElement("sup",{className:a.beta},"\u03b2"),"Atlas"))},we=t(190),ke=t.n(we),Se=t(55),Ce=t(440),Ne=t(421),ze=t(422),Le=t(419),Ie=t(432),Re=t(261),Pe=t(267),Ge=t(437),Te=t(433),Fe=t(435),Me=t(57),De=t.n(Me),Je=t(112),Be=t(131),_e=t(185),Ae=t(132),He=t(174),We=t(414),Ve=t(436),Ue=t(265);var Ke=function(e){function a(e){return Object(Je.a)(this,a),Object(_e.a)(this,Object(Ae.a)(a).call(this,e))}return Object(He.a)(a,e),Object(Be.a)(a,[{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){var a=e.props,t=e.oldProps,n=e.changeFlags.dataChanged||a.sizeScale!==t.sizeScale;if(n){var r=new Ue.a({maxZoom:16,radius:a.sizeScale});r.load(a.data.map((function(e){return{geometry:{coordinates:a.getPosition(e)},properties:e}}))),this.setState({index:r})}var i=Math.floor(this.context.viewport.zoom);(n||i!==this.state.z)&&this.setState({data:this.state.index.getClusters([-180,-85,180,85],i),z:i})}},{key:"getPickingInfo",value:function(e){var a=e.info,t=e.mode,n=a.object&&a.object.properties;return n&&(n.cluster&&"hover"!==t&&(a.objects=this.state.index.getLeaves(n.cluster_id,25).map((function(e){return e.properties}))),a.object=n),a}},{key:"renderLayers",value:function(){var e=this.state.data,a=this.props,t=a.iconAtlas,n=a.iconMapping,r=a.sizeScale,i=a.id;return new Ve.a(this.getSubLayerProps({id:i,data:e,iconAtlas:t,iconMapping:n,sizeScale:r,getPosition:function(e){return e.geometry.coordinates},getIcon:function(e){return 0===(a=e.properties.cluster?e.properties.point_count:1)?"":a<10?"marker-".concat(a):a<100?"marker-".concat(Math.floor(a/10),"0"):"marker-100";var a},getSize:function(e){return a=e.properties.cluster?e.properties.point_count:1,Math.min(100,a)/100+1;var a}}))}}]),a}(We.a);function Ze(e){return"right"===e.tag}function qe(e){return{value:e,tag:"left"}}function Qe(e){return{value:e,tag:"right"}}Ke.layerName="Foobar";var Ye,Xe,$e,ea,aa=[De()("#5A1846").rgb(),De()("#900C3F").rgb(),De()("#C70039").rgb(),De()("#E3611C").rgb(),De()("#F1920E").rgb(),De()("#FFC300").rgb()],ta={populationAxis:[De()("#f4cfd3").rgb(),De()("#e48791").rgb(),De()("#d44050").rgb()],medicalServicesAxis:[De()("#d2e8f9").rgb(),De()("#8ec5f1").rgb(),De()("#4ba3e9").rgb()]},na=function(e,a,t,n){return new Pe.a({id:"ScatterplotLayer-".concat(a),data:e,visible:t,pickable:!0,opacity:.6,stroked:!0,filled:!0,radiusScale:10,radiusMinPixels:5,radiusMaxPixels:20,lineWidthMinPixels:1,getPosition:function(e){return[e.lng,e.lat]},getRadius:12,getFillColor:function(e){return De()(ya[e.type]).rgb()},getLineColor:[0,0,0,100],onHover:function(e){return n.onHover(e.object,{x:e.x,y:e.y})},onClick:function(e){return n.onClick(e.object)}})},ra=function(e,a){return new Ke({id:"IconLayer",data:e,getPosition:function(e){return[e.lng,e.lat]},iconMapping:"data/location-icon-mapping.json",iconAtlas:"data/location-icon-atlas.png",sizeScale:30,pickable:!0})},ia=function(e,a){return new Ge.a({id:"HeatmapLayer",data:e,colorRange:aa,opacity:.75,getPosition:function(e){return[e.lng,e.lat]},radiusPixels:80,intensity:1})},ca=function(e,a){return new Te.a({id:"ScreenGridLayer",data:e,colorRange:aa,cellSizePixels:15,aggregation:"SUM",coverage:.9,opacity:.7,colorScaleType:"quantile",getPosition:function(e){return[e.lng,e.lat]}})},oa=function(e,a){return[new Fe.a({id:"GeoJsonLayer-Bivariate",data:e.choroplethData,pickable:!1,extruded:!1,stroked:!0,filled:!0,lineWidthMinPixels:.2,getLineColor:[255,255,255,200],getPolygon:function(e){return{type:"FeatureCollection",features:[e]}},getFillColor:function(e){return De()(e.properties.color).rgb()},getLineWidth:1}),new Fe.a({id:"GeoJsonLayer-CountyBorders",data:e.countyBorders,pickable:!1,extruded:!1,stroked:!0,filled:!1,lineWidthMinPixels:1,getLineColor:[255,255,255],getPolygon:function(e){return{type:"FeatureCollection",features:[e]}},getLineWidth:1})]},la=function(){},sa=t(446),ua=t(443),da=t(251),ma=t.n(da),pa=t(415),fa=t(250),ga=t.n(fa),ba=(Ye={},Object(b.a)(Ye,n.FamilyMedicine,"Medici de familie"),Object(b.a)(Ye,n.HomeCare,"\xcengrijire la domiciliu"),Object(b.a)(Ye,n.Imaging,"Servicii de imagistic\u0103"),Object(b.a)(Ye,n.Laboratory,"Laboratoare de analiz\u0103"),Ye),ha=(Xe={},Object(b.a)(Xe,n.FamilyMedicine,"mf_buildings_with_attrs_epsg4326"),Object(b.a)(Xe,n.HomeCare,null),Object(b.a)(Xe,n.Imaging,null),Object(b.a)(Xe,n.Laboratory,null),$e={},Object(b.a)($e,n.FamilyMedicine,"fal fa-user-md"),Object(b.a)($e,n.HomeCare,"fal fa-home-heart"),Object(b.a)($e,n.Imaging,"fal fa-x-ray"),Object(b.a)($e,n.Laboratory,"fal fa-flask"),$e),ya=(ea={},Object(b.a)(ea,n.FamilyMedicine,"#1abc9c"),Object(b.a)(ea,n.HomeCare,"#3498db"),Object(b.a)(ea,n.Imaging,"#9b59b6"),Object(b.a)(ea,n.Laboratory,"#e67e22"),ea),va=Object(X.a)((function(e){return Object(sa.a)({icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}})})),Ea=function(e){var a=va(),t=c.a.useState(!0),o=Object(q.a)(t,2),l=o[0],s=o[1],d=function(e,a){"clickaway"!==a&&s(!1)},m=Object(u.b)(),f=Object(u.c)((function(e){return e.serviceMapReducer})),g=f.viewState,b=f.medicalServices,y=f.uatGeoJson,j=f.countyGeoJson,O=Object(u.c)((function(e){return e.searchGroupReducer})).searchResults,x=Object(u.c)((function(e){return e.switchListItemReducer})).services;if(Object(i.useEffect)((function(){!function(e,a,t){v()("https://cdn.jsdelivr.net/gh/civicnet/cancer-atlas-scripts@".concat("0.3.7","/data/json/national/").concat("uats_with_family_medicine_weights.json")).node("properties",(function(e){return{natcode:e.natcode,name:e.name,countyCode:e.countyCode,county:e.county,pop2015:e.pop2015,color:e.color}})).done((function(e){a(e)})).fail((function(){t("failed loading borders for ".concat(e))}))}("uats",(function(e){return m(N(e))}),(function(e){return console.log(e)}))}),[m]),Object(i.useEffect)((function(){!function(e,a){v()("https://cdn.jsdelivr.net/gh/civicnet/geojson-romania@".concat("0.1.0","/generated/counties.json")).node("properties",(function(e){return{name:e.name}})).done((function(a){e(a)})).fail((function(){a("failed loading borders for counties")}))}((function(e){return m(z(e))}),(function(e){return console.log(e)}))}),[m]),Object(i.useEffect)((function(){s(!0)}),[e.layerType]),Object(i.useEffect)((function(){!function(e,a,t,n){e.forEach((function(e){v()(function(e,a){return"https://cdn.jsdelivr.net/gh/civicnet/cancer-atlas-scripts@".concat("0.3.7","/data/").concat(e,"/national/").concat(a,".").concat(e)}("json",e)).node("{lat lng}",(function(a){return t(a),Object(h.a)({},a,{type:e})})).done((function(t){a(e,{data:t,status:{code:r.OK}})})).fail((function(){n(e,"failed loading data")}))}))}(Object.values(n),(function(e,a){return m(S({service:e,layer:a}))}),la,(function(e,a){return m(C({service:e,status:{code:r.Fail,msg:a}}))}))}),[m]),!b[n.FamilyMedicine].data)return null;var w=void 0!==O?O:b,k=function(e,a,t){var n=e.medicalData,i=function(){return Object.values(n).reduce((function(e,a){return void 0===a?e:a.status.code!==r.OK?e:[].concat(Object(p.a)(e),Object(p.a)(a.data))}),[])};switch(t.layerType){case E.Heatmap:return Qe([ia(i(),t)]);case E.Grid:return Qe([ca(i(),t)]);case E.Extruded:return qe({msg:"Tip de vizualizare in lucru, te rugam alege alt tip de vizualizare",layerType:E.Extruded});case E.Icon:return Qe([ra(i(),t)]);case E.Choropleth:return Qe(oa({medicalData:i(),choroplethData:e.choroplethData,countyBorders:e.countyBorders},t));case E.ScatterPlot:default:var c=e.medicalData;return Qe(Object.keys(c).map((function(e){var n=e,i=c[n];if(void 0===i)return null;if(i.status.code!==r.OK)return null;var o=a.includes(n);return na(i.data,n,o,t)})).filter((function(e){return null!==e})))}}({medicalData:e.layerType!==E.Extruded?w:{},choroplethData:y,countyBorders:j},x,e),L=null;return"left"===k.tag&&(L=c.a.createElement(ua.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:l,autoHideDuration:6e3,onClose:d,ContentProps:{"aria-describedby":"message-id",style:{background:pa.a[700]}},message:c.a.createElement("span",{id:"message-id",className:a.message},c.a.createElement(ga.a,{className:Object(je.a)(a.icon,a.iconVariant)}),k.value.msg),action:[c.a.createElement(ne.a,{key:"close","aria-label":"close",color:"inherit",onClick:d},c.a.createElement(ma.a,{className:a.icon}))]})),c.a.createElement(c.a.Fragment,null,L,c.a.createElement(Ie.a,{initialViewState:g,controller:!0,layers:Ze(k)?k.value:[]},c.a.createElement(Re.a,{key:"static_map",width:"100%",height:"100%",mapStyle:e.layerType!==E.Choropleth?"mapbox://styles/claudiuc/ck4j3z14e09hg1dmkpijn2kma":"mapbox://styles/claudiuc/ck4rj1g758emo1do5slyr0i09",mapboxApiAccessToken:"pk.eyJ1IjoiY2xhdWRpdWMiLCJhIjoiY2s0aGxpZmlwMGRnNzNsbXc4dmNwajVtdCJ9.6wRAkLu9yKEz8auJGOX5tQ"})))},ja=t(16),Oa=t(444),xa=function(e){var a=e||"#34495e";return Object(ja.a)({switchBase:{color:"#CCC","&$checked":{color:a},"&$checked + $track":{backgroundColor:a}},checked:{},track:{}})(Oa.a)},wa=Object(X.a)((function(e){return{serviceIcon:{width:36,textAlign:"center"},listItemRoot:{paddingLeft:0}}})),ka=function(e){var a,t=wa(),n=Object(u.b)(),r=Object(u.c)((function(e){return e.switchListItemReducer})).services,i=Object(u.c)((function(e){return e.serviceMapReducer})).medicalServices,o=Object(u.c)((function(e){return e.searchGroupReducer})).searchResults,l=Object(u.c)((function(e){return e.layerPickerReducer})).layerType,s=e.serviceType,d=function(e,a){return e.reduce((function(e,t){return t.type!==a?e:e+1}),0)},m=l===E.ScatterPlot?xa(ya[s]):xa(),p=-1!==r.indexOf(s)&&l!==E.Extruded;return c.a.createElement(me.a,{classes:{root:t.listItemRoot}},c.a.createElement(pe.a,null,c.a.createElement(ie.a,{className:Object(je.a)(t.serviceIcon,ha[s])})),c.a.createElement(fe.a,{id:ba[s],primary:ba[s],secondary:c.a.createElement(c.a.Fragment,null,c.a.createElement(le.a,{variant:"caption",component:"span",style:{color:p?"inherit":"#ccc"}},function(e){var a=o&&o[e],t=a?a.data:i[e].data;return d(t,e)}(s)," /"),c.a.createElement(le.a,{component:"span",variant:"caption"},d(i[s].data,s)))}),c.a.createElement(Le.a,null,c.a.createElement(m,{edge:"end",disabled:l===E.Extruded,onChange:(a=s,function(){n(P(a))}),checked:p,inputProps:{"aria-labelledby":ba[s]}})))},Sa=t(254),Ca=t.n(Sa),Na=t(253),za=t.n(Na),La=Object(X.a)((function(e){return{search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Se.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Se.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:325}),filterOpen:{transition:e.transitions.create("max-height",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),maxHeight:345},filterClose:{maxHeight:0,overflowY:"hidden",transition:e.transitions.create("max-height",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},filterCard:{width:350,right:0,position:"absolute",paddingBottom:0},filterCardContent:{paddingBottom:0}}})),Ia=function(){var e,a=La(),t=c.a.useState(!1),r=Object(q.a)(t,2),i=r[0],o=r[1],l=Object(u.b)(),s=Object(u.c)((function(e){return e.serviceMapReducer})).medicalServices,d=Object(u.c)((function(e){return e.searchGroupReducer})),m=d.searchResults,p=d.query,f=za()((function(e){return l(V(e))}),250),g=m&&Object.values(m).map((function(e){return e&&e.data.length})).reduce((function(e,a){return e+Number(a)}),0);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:a.search},c.a.createElement("div",{className:a.searchIcon},c.a.createElement(Ca.a,null)),c.a.createElement(Ce.a,{placeholder:"Cauta servicii medicale (ex: radiologie)",classes:{root:a.inputRoot,input:a.inputInput},onChange:function(e){i&&o(!1),l(W(e.target.value)),f(s)},onKeyDown:function(e){13===e.keyCode&&(f.clear(),l(V(s)))},inputProps:{"aria-label":"search"}}),c.a.createElement(ne.a,{"aria-label":"filtreaza",color:"inherit",onClick:function(){o(!i)}},c.a.createElement(re.a,{badgeContent:0,color:"secondary"},c.a.createElement(ie.a,{className:"far fa-filter",style:{fontSize:16}}))),c.a.createElement(Ne.a,{className:Object(je.a)(a.filterCard,(e={},Object(b.a)(e,a.filterOpen,i),Object(b.a)(e,a.filterClose,!i),e))},c.a.createElement(ze.a,{classes:{root:a.filterCardContent},style:{paddingBottom:0}},c.a.createElement(de.a,{dense:!0},Object.values(n).map((function(e){return c.a.createElement(ka,{key:e,serviceType:e})})))))),p.length>3&&c.a.createElement(le.a,{style:{fontSize:12,fontStyle:"italic",opacity:.7}},g,' rezultate pentru "',p,'"'))},Ra=Object(X.a)((function(e){return{root:{top:90,left:100,position:"absolute",zIndex:2}}})),Pa=function(e){var a=Ra();return c.a.createElement("div",{className:Object(je.a)(a.root,e.className),style:e.style},e.children)},Ga=Object(X.a)((function(e){return{card:{width:"100%"}}})),Ta=function(e){var a=Ga();return c.a.createElement(Ne.a,{className:Object(je.a)(a.card,e.className),style:e.style},c.a.createElement(ze.a,null,c.a.createElement(le.a,{variant:"h6",component:"p",style:{paddingBottom:20}},"Aplica\u021bia"," ",c.a.createElement("a",{href:"https://www.csid.ro/health/noutati-sanatate/navigatorul-de-pacienti-specialistul-cu-rol-important-in-relatia-dintre-pacient-si-medic-16034421/",target:"_blank",rel:"noopener noreferrer"},"navigatorilor de pacien\u021bi oncologici")," ","din Rom\xe2nia."),c.a.createElement(le.a,{variant:"body2",component:"p",style:{marginTop:6}},"Po\u021bi explora harta prin hover \u0219i click pe punctele afi\u0219ate, \u0219i prin selec\u021bia categoriilor de furnizori medicali pe care dore\u0219ti s\u0103 \xeei afi\u0219ezi. Datele sunt preluate pentru Municipiul Bucure\u0219ti"," ",c.a.createElement("a",{href:"http://www.cnas.ro/",target:"_blank",rel:"noopener noreferrer"},"de pe site-ul CNAS"),"."),c.a.createElement(le.a,{variant:"body2",component:"p",style:{marginTop:6}},"Adi\u021bional, pentru fiecare furnizor afi\u0219at,"," ",c.a.createElement("a",{href:"https://github.com/civicnet/cancer-atlas-scripts",target:"_blank",rel:"noopener noreferrer"},"am generat coordonatele GPS")," ","pentru afi\u0219area pe hart\u0103."),c.a.createElement(le.a,{variant:"body2",component:"p",style:{marginTop:6}},"Codul surs\u0103 complet este disponibil pe"," ",c.a.createElement("a",{href:"https://github.com/civicnet/cancer-atlas",target:"_blank",rel:"noopener noreferrer"},"GitHub"),".")))},Fa=Object(X.a)((function(e){return{infoCard:{width:350,paddingTop:20}}})),Ma=function(){var e=Fa();return c.a.createElement(Pa,null,c.a.createElement(ne.a,{component:s.b,to:"/",style:{position:"absolute",top:4,right:4,zIndex:150}},c.a.createElement(ie.a,{className:"far fa-times",style:{fontSize:16}})),c.a.createElement(Ta,{className:e.infoCard,style:{paddingRight:28}}))},Da=t(424),Ja=t(445),Ba=t(256),_a=t.n(Ba),Aa=Object(X.a)((function(e){return{card:{width:350,height:"85vh",overflowY:"auto",paddingTop:20},root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"}}})),Ha=new _a.a({log:{debug:function(){},info:function(){},warn:console.warn,error:console.error}}),Wa=function(){var e=Aa(),a=c.a.useState(),t=Object(q.a)(a,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){!function(){var e;g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.awrap(Ha.repos.listCommits({owner:"CivicNet",repo:"cancer-atlas",per_page:100}));case 2:e=a.sent,r(e?e.data:null);case 4:case"end":return a.stop()}}))}()}),[]),n?c.a.createElement(Pa,null,c.a.createElement(ne.a,{component:s.b,to:"/",style:{position:"absolute",top:4,right:4,zIndex:150}},c.a.createElement(ie.a,{className:"far fa-times",style:{fontSize:16}})),c.a.createElement(Ne.a,{className:e.card},c.a.createElement(ze.a,null,c.a.createElement(le.a,{variant:"h6"},"Ultimele ",n.length," actualizari pe"," ",c.a.createElement("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer"},"GitHub")),c.a.createElement(de.a,{className:e.root,dense:!0},n.map((function(a){return c.a.createElement(c.a.Fragment,{key:a.sha},c.a.createElement(me.a,{alignItems:"flex-start",disableGutters:!0},c.a.createElement(Da.a,null,c.a.createElement(Ja.a,{alt:a.author.login,src:a.author.avatar_url})),c.a.createElement(fe.a,{primary:a.author.login,secondary:c.a.createElement("a",{href:a.commit.url,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"inherit"}},c.a.createElement(le.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary"},new Intl.DateTimeFormat("ro-RO").format(new Date(a.commit.author.date)))," \u2014 ".concat(a.commit.message))})),c.a.createElement(ue.a,{variant:"inset",component:"li"}))})))))):null},Va=[{path:"/",exact:!0,main:function(){return null},icon:c.a.createElement(ie.a,{className:"fas fa-map-marker-alt"}),text:"Atlas"},{path:"/despre",main:function(){return c.a.createElement(Ma,null)},icon:c.a.createElement(ie.a,{className:"fas fa-info-circle"}),text:"Despre"},{path:"/changelog",main:function(){return c.a.createElement(Wa,null)},icon:c.a.createElement(ie.a,{className:"fas fa-clipboard-list"}),text:"Actualizari"}],Ua=t(426),Ka=Object(X.a)({card:{width:"100%"},title:{fontSize:14},icon:{width:36,textAlign:"center"}}),Za=function(e){var a=Ka();if(!e.service)return null;var t=e.service.type===n.FamilyMedicine?c.a.createElement(me.a,{disableGutters:!0,dense:!0},c.a.createElement(pe.a,null,c.a.createElement(ie.a,{className:Object(je.a)(a.icon,"fal fa-clinic-medical")})),c.a.createElement(fe.a,{primary:e.service.supplierName})):c.a.createElement(me.a,{disableGutters:!0,dense:!0},c.a.createElement(pe.a,null,c.a.createElement(ie.a,{className:Object(je.a)(a.icon,"fal fa-bookmark")})),c.a.createElement(fe.a,{primary:e.service.specialty})),r="-50%";e.pos&&(e.pos.x<220&&(r="0%"),e.pos.x>window.innerWidth-150&&(r="-100%"));var i=e.pos&&e.pos.y<350?"20px":"calc(-100% - 40px)",o=e.pos?{position:"absolute",top:e.pos.y,left:e.pos.x,zIndex:10,width:300,transform:"translate(".concat(r,", ").concat(i,")")}:{};return c.a.createElement(Ne.a,{className:a.card,style:Object(h.a)({},e.style,{},o)},c.a.createElement(ze.a,null,c.a.createElement(le.a,{className:a.title,color:"textSecondary",gutterBottom:!0},ba[e.service.type]),c.a.createElement(de.a,{dense:!0,disablePadding:!0},c.a.createElement(me.a,{disableGutters:!0,divider:!0,dense:!0},c.a.createElement(pe.a,null,c.a.createElement(ie.a,{className:Object(je.a)(a.icon,ha[e.service.type])})),c.a.createElement(fe.a,{primary:e.service.type===n.FamilyMedicine?e.service.medicName:e.service.name})),t,c.a.createElement(me.a,{disableGutters:!0,dense:!0},c.a.createElement(pe.a,null,c.a.createElement(ie.a,{className:Object(je.a)(a.icon,"fal fa-map-marker-alt")})),c.a.createElement(fe.a,{primary:e.service.address})),e.service.email&&c.a.createElement(me.a,{disableGutters:!0,dense:!0},c.a.createElement(pe.a,null,c.a.createElement(ie.a,{className:Object(je.a)(a.icon,"fal fa-envelope")})),c.a.createElement(fe.a,{primary:e.service.email})),c.a.createElement(me.a,{disableGutters:!0,dense:!0},c.a.createElement(pe.a,null,c.a.createElement(ie.a,{className:Object(je.a)(a.icon,"fal fa-phone")})),c.a.createElement(fe.a,{primary:e.service.phone})))),c.a.createElement(Ua.a,null,e.onClose&&c.a.createElement(ne.a,{size:"small",color:"primary",onClick:e.onClose,style:{marginLeft:"auto"}},c.a.createElement(ie.a,{className:"fal fa-eye-slash",style:{fontSize:16,width:"unset"}}))))},qa=t(448),Qa=t(427),Ya=t(257),Xa=t.n(Ya),$a=function(e){var a,t=Object(u.b)(),n=Object(u.c)((function(e){return e.layerPickerReducer})).layerType,r=(a={},Object(b.a)(a,E.ScatterPlot,{icon:c.a.createElement(Xa.a,null),title:"Vezi furnizorii de servicii medicale ca puncte pe hart\u0103"}),Object(b.a)(a,E.Icon,{icon:"fad fa-map-marker-alt",title:"Vezi furnizorii de servicii medicale agregati dupa densitate"}),Object(b.a)(a,E.Heatmap,{icon:"fad fa-steak",title:"Vezi distribu\u021bia furnizorilor de servicii medicale sub form\u0103 de heatmap"}),Object(b.a)(a,E.Grid,{icon:"fad fa-th",title:"Vezi distribu\u021bia furnizorilor de servicii medicale sub form\u0103 de grid"}),Object(b.a)(a,E.Extruded,{icon:"fad fa-cube",title:"Vezi cl\u0103dirile \xeen care au puncte de lucru medicii de familie"}),Object(b.a)(a,E.Choropleth,{icon:"fad fa-globe-europe",title:"Vei proportia dintre serviciile medicale si populatiile UAT-urilor"}),a);return c.a.createElement("div",{style:Object(h.a)({},e.style,{flex:1,display:"flex"}),className:e.className},c.a.createElement(qa.a,{value:n,exclusive:!0,onChange:function(e,a){t(M(a))},size:"small","aria-label":"text alignment",style:{flexDirection:"column"}},Object.entries(r).map((function(e){var a=Object(q.a)(e,2),t=a[0],n=a[1];return c.a.createElement(Qa.a,{key:t,value:t,"aria-label":t,title:n.title},"string"===typeof n.icon?c.a.createElement(ie.a,{className:n.icon,style:{width:"unset"}}):n.icon)}))))},et=function(e){var a=Object(u.c)((function(e){return e.layerPickerReducer})).layerType;return[E.Heatmap,E.Grid].includes(a)?c.a.createElement("div",{className:e.className,style:e.style},c.a.createElement("div",{style:{flex:1,display:"flex",border:"2px solid #FFF"}},aa.map((function(e,a){return c.a.createElement("div",{key:"legend-".concat(e,"-").concat(a),style:{flex:1,backgroundColor:De()(e).hex(),display:"flex",textAlign:"center"}},0===a&&c.a.createElement(ie.a,{title:"Zone cu num\u0103r mai mic de furnizori de servicii medicale",className:"fal fa-long-arrow-alt-down",style:{color:"#fff",alignSelf:"center"}}),5===a&&c.a.createElement(ie.a,{title:"Zone cu num\u0103r mai mare de furnizori de servicii medicale",className:"fal fa-long-arrow-alt-up",style:{color:"#333",alignSelf:"center"}}))})))):null},at=Object(X.a)((function(e){return{root:{position:"relative",transform:"translate(50%, -50%)",width:"unset !important",left:"0px !important",bottom:"-70px !important",padding:"50px",borderRadius:"5px",background:"rgba(255,255,255,.5)"},legendContainer:{height:90,width:90,position:"relative",transform:"rotate(45deg)"},legendLayer:{position:"absolute",left:0,top:0,width:"100%",height:"100%",flex:1,display:"flex"},horizontalLayer:{flexDirection:"column"},verticalLayer:{flexDirection:"row",mixBlendMode:"multiply"},legendRow:{display:"flex",height:30,flex:1},legendColumn:{display:"flex",width:30,flex:1},legendLabel:{fontSize:16,position:"absolute",fontWeight:400,display:"flex",color:"#333"},labelBottom:{bottom:0,transform:"translate(0%, 120%)"},labelLeft:{transform:"rotate(-90deg) translate(-30%, -285%)"}}})),tt=function(e){var a=at();return Object(u.c)((function(e){return e.layerPickerReducer})).layerType!==E.Choropleth?null:c.a.createElement("div",{className:Object(je.a)(a.root,e.className),style:e.style},c.a.createElement("div",{className:a.legendContainer},c.a.createElement(le.a,{className:Object(je.a)(a.labelBottom,a.legendLabel)},"Medici",c.a.createElement(ie.a,{title:"Zone cu num\u0103r mai mic de furnizori de servicii medicale",className:"fal fa-long-arrow-alt-right",style:{color:"#333",alignSelf:"center",marginLeft:12}})),c.a.createElement(le.a,{className:Object(je.a)(a.labelLeft,a.legendLabel)},"Populatie",c.a.createElement(ie.a,{title:"Zone cu num\u0103r mai mic de furnizori de servicii medicale",className:"fal fa-long-arrow-alt-right",style:{color:"#333",alignSelf:"center",marginLeft:12}})),c.a.createElement("div",{className:Object(je.a)(a.horizontalLayer,a.legendLayer)},ta.populationAxis.reverse().map((function(e){return c.a.createElement("div",{key:JSON.stringify(e),className:a.legendRow,style:{backgroundColor:De()(e).hex()}})}))),c.a.createElement("div",{className:Object(je.a)(a.verticalLayer,a.legendLayer)},ta.medicalServicesAxis.map((function(e){return c.a.createElement("div",{key:JSON.stringify(e),className:a.legendColumn,style:{backgroundColor:De()(e).hex()}})})))))},nt=function(e){switch(Object(u.c)((function(e){return e.layerPickerReducer})).layerType){case E.Grid:case E.Heatmap:return c.a.createElement(et,e);case E.Choropleth:return c.a.createElement(tt,e)}return null},rt=Object(X.a)((function(e){return{tooltipContainer:{zIndex:10,position:"absolute",top:74,right:16,maxWidth:300},layerPicker:{display:"flex",flexDirection:"column",flex:1,marginTop:20,backgroundColor:"transparent",position:"absolute",bottom:20,right:20,zIndex:1}}})),it=function(){var e=rt(),a=c.a.useState(),t=Object(q.a)(a,2),n=t[0],r=t[1],i=c.a.useState(),o=Object(q.a)(i,2),l=o[0],s=o[1],d=Object(u.c)((function(e){return e.switchListItemReducer})).services,m=Object(u.c)((function(e){return e.layerPickerReducer})).layerType;return c.a.createElement(c.a.Fragment,null,c.a.createElement($a,{className:e.layerPicker}),c.a.createElement(nt,{style:{position:"absolute",left:96,bottom:20,zIndex:1,width:150}}),c.a.createElement("div",{className:e.tooltipContainer},c.a.createElement(Za,{service:l,onClose:function(){s(null)}})),n&&c.a.createElement(Za,{service:n.service,pos:n.pos,style:{marginTop:20}}),c.a.createElement(Ea,{services:d,onHover:function(e,a){r({service:e,pos:a})},onClick:function(e){s(e)},layerType:m}))},ct="#222f3e",ot=Object(X.a)((function(e){return{bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:ct},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerPaper:{},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(b.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),toolbarIcons:{display:"flex"},grow:{flexGrow:1},menuItem:{}}})),lt=Object(Y.f)((function(e){var a,t,n=ot(),r=Object($.a)(),i=c.a.useState(!1),o=Object(q.a)(i,2),l=o[0],u=o[1];return c.a.useEffect((function(){Object(Q.loadCSS)("https://pro.fontawesome.com/releases/v5.10.1/css/all.css",document.querySelector("#font-awesome-css"))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(ee.a,null),c.a.createElement(ae.a,{position:"fixed",className:Object(je.a)(n.appBar,Object(b.a)({},n.appBarShift,l))},c.a.createElement(te.a,null,c.a.createElement(ne.a,{color:"inherit","aria-label":"open drawer",onClick:function(){u(!0)},edge:"start",className:Object(je.a)(n.menuButton,Object(b.a)({},n.hide,l))},c.a.createElement(be.a,{style:{color:"#fff"}})),c.a.createElement(xe,null),c.a.createElement(Ia,null),c.a.createElement("div",{className:n.grow}),c.a.createElement("div",{className:n.toolbarIcons},c.a.createElement(ke.a,{variant:"popover",popupId:"demo-popup-popover"},(function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ne.a,Object.assign({"aria-label":"despre proiect",color:"inherit"},Object(we.bindTrigger)(e)),c.a.createElement(re.a,{badgeContent:0,color:"secondary"},c.a.createElement(ie.a,{className:"fas fa-question-circle"}))),c.a.createElement(ce.a,Object.assign({},Object(we.bindPopover)(e),{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"}}),c.a.createElement(oe.a,{p:2,style:{maxWidth:320}},c.a.createElement(le.a,{variant:"body1"},"Un proiect"," ",c.a.createElement("a",{href:"https://civicnet.ro",target:"_blank",rel:"noopener noreferrer"},"CivicNet")," ","\u0219i"," ",c.a.createElement("a",{href:"https://www.facebook.com/SanatatepentruComunitate",target:"_blank",rel:"noopener noreferrer"},"Asocia\u021bia S\u0103n\u0103tate pentru Comunitate"),"."),c.a.createElement(le.a,{variant:"body2",component:"p",style:{marginTop:6}},"Ne propunem s\u0103 dezvolt\u0103m"," ",c.a.createElement("strong",null,"prima aplica\u021bie dedicat\u0103 pacien\u021bilor de cancer pulmonar din Rom\xe2nia"),", navigatorilor acestora, dar \u0219i personalului medical."),c.a.createElement(le.a,{variant:"body2",component:"p",style:{marginTop:6}},"Aplica\u021bia va con\u021bine informa\u021bii importante despre traseul pacien\u021bilor, de la diagnosticare p\xe2n\u0103 la \xeengrijire paliativ\u0103, \u0219i informa\u021bii sub form\u0103 de"," ",c.a.createElement("a",{href:"https://sanatateabuzoiana.ro/primul-ghid-al-supravietuitorului-de-cancer-localizat-la-nivelul-capului-si-gatului/#.XgDw6sYzZhE",rel:"noopener noreferrer",target:"_blank"},"ghiduri pentru pacien\u021bi.")),c.a.createElement(le.a,{variant:"body2",component:"p",style:{marginTop:6}},"\xcen momentul de fa\u021b\u0103, aplica\u021bia se afl\u0103 \xeen stadiul de prototip interactiv. Ne pute\u021bi urm\u0103ri pe Facebook pentru a fi la curent cu ultimele nout\u0103\u021bi."))))})),c.a.createElement(ne.a,{"aria-label":"GitHub",color:"inherit",href:"https://github.com/civicnet/cancer-atlas/"},c.a.createElement(re.a,{badgeContent:0,color:"secondary"},c.a.createElement(ie.a,{className:"fab fa-github"})))))),c.a.createElement(se.a,{variant:"permanent",className:Object(je.a)(n.drawer,(a={},Object(b.a)(a,n.drawerOpen,l),Object(b.a)(a,n.drawerClose,!l),a)),classes:{paper:Object(je.a)(n.drawerPaper,(t={},Object(b.a)(t,n.drawerOpen,l),Object(b.a)(t,n.drawerClose,!l),t))}},c.a.createElement("div",{className:n.toolbar},c.a.createElement("a",{href:"https://civicnet.ro",style:{display:"flex",flex:1,justifyContent:"center"}},c.a.createElement("img",{src:"CivicNet_Logo.svg",style:{height:32},alt:"CivicNet Logo"})),c.a.createElement(ne.a,{onClick:function(){u(!1)}},"rtl"===r.direction?c.a.createElement(Ee.a,null):c.a.createElement(ye.a,null))),c.a.createElement(ue.a,null),c.a.createElement(de.a,null,Va.map((function(a){return c.a.createElement(me.a,{button:!0,key:a.text,component:s.b,to:a.path,className:n.menuItem,selected:e.location.pathname===a.path},c.a.createElement(pe.a,{style:{marginLeft:12},className:n.menuItem},a.icon),c.a.createElement(fe.a,{primary:a.text}))})))),c.a.createElement("main",null,c.a.createElement(it,null),c.a.createElement(Y.c,null,Va.map((function(e,a){return c.a.createElement(Y.a,{key:a,path:e.path,exact:e.exact,children:c.a.createElement(e.main,null)})})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(u.a,{store:Z},c.a.createElement(s.a,{basename:"/cancer-atlas"},c.a.createElement(lt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[289,1,2]]]);
//# sourceMappingURL=main.d13e855d.chunk.js.map