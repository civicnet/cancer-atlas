/*! For license information please see 2.b5cf020d.chunk.js.LICENSE */
(this["webpackJsonpcancer-atlas"]=this["webpackJsonpcancer-atlas"]||[]).push([[2],[function(e,t,r){"use strict";e.exports=r(288)},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",(function(){return n}))},function(e,t,r){e.exports=r(292)()},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){var t,r,i="";if(e)if("object"===typeof e)if(e.push)for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(i&&(i+=" "),i+=r);else for(t in e)e[t]&&(r=n(t))&&(i&&(i+=" "),i+=r);else"boolean"===typeof e||e.call||(i&&(i+=" "),i+=e);return i}t.a=function(){for(var e,t=0,r="";t<arguments.length;)(e=n(arguments[t++]))&&(r&&(r+=" "),r+=e);return r}},function(e,t,r){"use strict";r(214);var n=r(109),i=r(91),a=r(46),o=r(17),s=Object(a.isBrowser)(),u=s&&"undefined"!==typeof document,c={webgl2:!0,webgl1:!0,throwOnError:!1,manageState:!0,canvas:null,debug:!1,width:800,height:600};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(s,"createGLContext on available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils");var t,r=e=Object.assign({},c,e),n=r.width,i=r.height;return(t=function(e,t){var r=t.onError,n=void 0===r?function(e){return null}:r,i=function(e){return n("WebGL context: ".concat(e.statusMessage||"error"))};e.addEventListener("webglcontextcreationerror",i,!1);var a=t.webgl1,o=void 0===a||a,s=t.webgl2,u=void 0===s||s,c=null;u&&(c=(c=c||e.getContext("webgl2",t))||e.getContext("experimental-webgl2",t));o&&(c=(c=c||e.getContext("webgl",t))||e.getContext("experimental-webgl",t));if(e.removeEventListener("webglcontextcreationerror",i,!1),!c)return n("Failed to create ".concat(u&&!o?"WebGL2":"WebGL"," context"));return c}(function(e){var t,r=e.canvas,n=e.width,i=void 0===n?800:n,a=e.height,o=void 0===a?600:a,s=e.onError,c=void 0===s?function(){}:s;if("string"===typeof r){u&&"complete"===document.readyState||c("createGLContext called on canvas '".concat(r,"' before page was loaded")),t=document.getElementById(r)}else r?t=r:((t=document.createElement("canvas")).id="lumagl-canvas",t.style.width=Number.isFinite(i)?"".concat(i,"px"):"100%",t.style.height=Number.isFinite(o)?"".concat(o,"px"):"100%",document.body.insertBefore(t,document.body.firstChild));return t}({canvas:e.canvas,width:n,height:i,onError:function(t){if(e.throwOnError)throw new Error(t);return null}}),e))?(function(e){var t=Object(o.h)(e)?"WebGL2":"WebGL1",r=function(e){var t=e.getParameter(7936),r=e.getParameter(7937),n=e.getExtension("WEBGL_debug_renderer_info"),i=n&&e.getParameter(n.UNMASKED_VENDOR_WEBGL||7936),a=n&&e.getParameter(n.UNMASKED_RENDERER_WEBGL||7937);return{vendor:i||t,renderer:a||r,vendorMasked:t,rendererMasked:r,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}(e),n=r?"(".concat(r.vendor,",").concat(r.renderer,")"):"",i=e.debug?" debug":"";o.i.info(1,"".concat(t).concat(i," context ").concat(n))()}(t=p(t,e)),t):null}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||e._instrumented)return e;e._version=e._version||function(e){if("undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext)return 2;return 1}(e),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var r=t=Object.assign({},c,t),n=r.manageState,u=r.debug;return n&&Object(i.a)(e,{copyState:!1,log:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.i.log.apply(o.i,[1].concat(t))()}}),s&&u&&(a.global.makeDebugContext?(e=a.global.makeDebugContext(e,t),o.i.level=Math.max(o.i.level,1)):o.i.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),e._instrumented=!0,e}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.canvas){!function(e,t,r){var n="width"in r?r.width:e.canvas.clientWidth,i="height"in r?r.height:e.canvas.clientHeight;n&&i||(o.i.log(1,"Canvas clientWidth/clientHeight is 0")(),t=1,n=e.canvas.width||1,i=e.canvas.height||1);e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var a=e.luma.canvasSizeInfo;if(a.clientWidth!==n||a.clientHeight!==i||a.devicePixelRatio!==t){var s=t,u=Math.floor(n*s),c=Math.floor(i*s);e.canvas.width=u,e.canvas.height=c,e.drawingBufferWidth===u&&e.drawingBufferHeight===c||(o.i.warn("Device pixel ratio clamped")(),s=Math.min(e.drawingBufferWidth/n,e.drawingBufferHeight/i),e.canvas.width=Math.floor(n*s),e.canvas.height=Math.floor(i*s)),Object.assign(e.luma.canvasSizeInfo,{clientWidth:n,clientHeight:i,devicePixelRatio:t})}}(e,Object(o.e)(t.useDevicePixels),t)}else{var r=e.getExtension("STACKGL_resize_drawingbuffer");r&&"width"in t&&"height"in t&&r.resize(t.width,t.height)}}r.d(t,"d",(function(){return n.a})),r.d(t,"k",(function(){return n.c})),r.d(t,"i",(function(){return n.b})),r.d(t,"l",(function(){return n.d})),r.d(t,"a",(function(){return l})),r.d(t,"j",(function(){return h})),r.d(t,"e",(function(){return p})),r.d(t,"h",(function(){return o.i})),r.d(t,"c",(function(){return o.c})),r.d(t,"b",(function(){return o.b})),r.d(t,"f",(function(){return o.g})),r.d(t,"g",(function(){return o.h}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(51);function i(e,t){if(null==e)return{};var r,i,a=Object(n.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){e.exports=r(166)},function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"p",(function(){return i})),r.d(t,"e",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"g",(function(){return s})),r.d(t,"o",(function(){return u})),r.d(t,"n",(function(){return c})),r.d(t,"j",(function(){return l})),r.d(t,"k",(function(){return p})),r.d(t,"l",(function(){return h})),r.d(t,"m",(function(){return f})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return m})),r.d(t,"i",(function(){return g})),r.d(t,"h",(function(){return v})),r.d(t,"f",(function(){return y})),r.d(t,"b",(function(){return b}));var n=r(16);function i(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function a(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],p=t[9],h=t[10],f=t[11],d=t[12],m=t[13],g=t[14],v=t[15],y=r*s-n*o,b=r*u-i*o,_=r*c-a*o,x=n*u-i*s,w=n*c-a*s,O=i*c-a*u,k=l*m-p*d,E=l*g-h*d,T=l*v-f*d,S=p*g-h*m,j=p*v-f*m,P=h*v-f*g,C=y*P-b*j+_*S+x*T-w*E+O*k;return C?(C=1/C,e[0]=(s*P-u*j+c*S)*C,e[1]=(i*j-n*P-a*S)*C,e[2]=(m*O-g*w+v*x)*C,e[3]=(h*w-p*O-f*x)*C,e[4]=(u*T-o*P-c*E)*C,e[5]=(r*P-i*T+a*E)*C,e[6]=(g*_-d*O-v*b)*C,e[7]=(l*O-h*_+f*b)*C,e[8]=(o*j-s*T+c*k)*C,e[9]=(n*T-r*j-a*k)*C,e[10]=(d*w-m*_+v*y)*C,e[11]=(p*_-l*w-f*y)*C,e[12]=(s*E-o*S-u*k)*C,e[13]=(r*S-n*E+i*k)*C,e[14]=(m*b-d*x-g*y)*C,e[15]=(l*x-p*b+h*y)*C,e):null}function o(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],c=e[8],l=e[9],p=e[10],h=e[11],f=e[12],d=e[13],m=e[14],g=e[15];return(t*o-r*a)*(p*g-h*m)-(t*s-n*a)*(l*g-h*d)+(t*u-i*a)*(l*m-p*d)+(r*s-n*o)*(c*g-h*f)-(r*u-i*o)*(c*m-p*f)+(n*u-i*s)*(c*d-l*f)}function s(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],p=t[8],h=t[9],f=t[10],d=t[11],m=t[12],g=t[13],v=t[14],y=t[15],b=r[0],_=r[1],x=r[2],w=r[3];return e[0]=b*n+_*s+x*p+w*m,e[1]=b*i+_*u+x*h+w*g,e[2]=b*a+_*c+x*f+w*v,e[3]=b*o+_*l+x*d+w*y,b=r[4],_=r[5],x=r[6],w=r[7],e[4]=b*n+_*s+x*p+w*m,e[5]=b*i+_*u+x*h+w*g,e[6]=b*a+_*c+x*f+w*v,e[7]=b*o+_*l+x*d+w*y,b=r[8],_=r[9],x=r[10],w=r[11],e[8]=b*n+_*s+x*p+w*m,e[9]=b*i+_*u+x*h+w*g,e[10]=b*a+_*c+x*f+w*v,e[11]=b*o+_*l+x*d+w*y,b=r[12],_=r[13],x=r[14],w=r[15],e[12]=b*n+_*s+x*p+w*m,e[13]=b*i+_*u+x*h+w*g,e[14]=b*a+_*c+x*f+w*v,e[15]=b*o+_*l+x*d+w*y,e}function u(e,t,r){var n,i,a,o,s,u,c,l,p,h,f,d,m=r[0],g=r[1],v=r[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],p=t[8],h=t[9],f=t[10],d=t[11],e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=p,e[9]=h,e[10]=f,e[11]=d,e[12]=n*m+s*g+p*v+t[12],e[13]=i*m+u*g+h*v+t[13],e[14]=a*m+c*g+f*v+t[14],e[15]=o*m+l*g+d*v+t[15]),e}function c(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function l(e,t,r,i){var a,o,s,u,c,l,p,h,f,d,m,g,v,y,b,_,x,w,O,k,E,T,S,j,P=i[0],C=i[1],A=i[2],M=Math.hypot(P,C,A);return M<n.b?null:(P*=M=1/M,C*=M,A*=M,a=Math.sin(r),s=1-(o=Math.cos(r)),u=t[0],c=t[1],l=t[2],p=t[3],h=t[4],f=t[5],d=t[6],m=t[7],g=t[8],v=t[9],y=t[10],b=t[11],_=P*P*s+o,x=C*P*s+A*a,w=A*P*s-C*a,O=P*C*s-A*a,k=C*C*s+o,E=A*C*s+P*a,T=P*A*s+C*a,S=C*A*s-P*a,j=A*A*s+o,e[0]=u*_+h*x+g*w,e[1]=c*_+f*x+v*w,e[2]=l*_+d*x+y*w,e[3]=p*_+m*x+b*w,e[4]=u*O+h*k+g*E,e[5]=c*O+f*k+v*E,e[6]=l*O+d*k+y*E,e[7]=p*O+m*k+b*E,e[8]=u*T+h*S+g*j,e[9]=c*T+f*S+v*j,e[10]=l*T+d*S+y*j,e[11]=p*T+m*S+b*j,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function p(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],o=t[5],s=t[6],u=t[7],c=t[8],l=t[9],p=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+c*n,e[5]=o*i+l*n,e[6]=s*i+p*n,e[7]=u*i+h*n,e[8]=c*i-a*n,e[9]=l*i-o*n,e[10]=p*i-s*n,e[11]=h*i-u*n,e}function h(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],u=t[3],c=t[8],l=t[9],p=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-c*n,e[1]=o*i-l*n,e[2]=s*i-p*n,e[3]=u*i-h*n,e[8]=a*n+c*i,e[9]=o*n+l*i,e[10]=s*n+p*i,e[11]=u*n+h*i,e}function f(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],u=t[3],c=t[4],l=t[5],p=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+c*n,e[1]=o*i+l*n,e[2]=s*i+p*n,e[3]=u*i+h*n,e[4]=c*i-a*n,e[5]=l*i-o*n,e[6]=p*i-s*n,e[7]=h*i-u*n,e}function d(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,s=n+n,u=i+i,c=r*o,l=n*o,p=n*s,h=i*o,f=i*s,d=i*u,m=a*o,g=a*s,v=a*u;return e[0]=1-p-d,e[1]=l+v,e[2]=h-g,e[3]=0,e[4]=l-v,e[5]=1-c-d,e[6]=f+m,e[7]=0,e[8]=h+g,e[9]=f-m,e[10]=1-c-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function m(e,t,r,n,i,a,o){var s=1/(r-t),u=1/(i-n),c=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*u,e[10]=(o+a)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*c,e[15]=0,e}function g(e,t,r,n,i){var a,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(n-i),e[10]=(i+n)*a,e[14]=2*i*n*a):(e[10]=-1,e[14]=-2*n),e}function v(e,t,r,n,i,a,o){var s=1/(t-r),u=1/(n-i),c=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(o+a)*c,e[15]=1,e}function y(e,t,r,i){var a,o,s,u,c,l,p,h,f,d,m=t[0],g=t[1],v=t[2],y=i[0],b=i[1],_=i[2],x=r[0],w=r[1],O=r[2];return Math.abs(m-x)<n.b&&Math.abs(g-w)<n.b&&Math.abs(v-O)<n.b?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(p=m-x,h=g-w,f=v-O,a=b*(f*=d=1/Math.hypot(p,h,f))-_*(h*=d),o=_*(p*=d)-y*f,s=y*h-b*p,(d=Math.hypot(a,o,s))?(a*=d=1/d,o*=d,s*=d):(a=0,o=0,s=0),u=h*s-f*o,c=f*a-p*s,l=p*o-h*a,(d=Math.hypot(u,c,l))?(u*=d=1/d,c*=d,l*=d):(u=0,c=0,l=0),e[0]=a,e[1]=u,e[2]=p,e[3]=0,e[4]=o,e[5]=c,e[6]=h,e[7]=0,e[8]=s,e[9]=l,e[10]=f,e[11]=0,e[12]=-(a*m+o*g+s*v),e[13]=-(u*m+c*g+l*v),e[14]=-(p*m+h*g+f*v),e[15]=1,e)}function b(e,t){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],p=e[8],h=e[9],f=e[10],d=e[11],m=e[12],g=e[13],v=e[14],y=e[15],b=t[0],_=t[1],x=t[2],w=t[3],O=t[4],k=t[5],E=t[6],T=t[7],S=t[8],j=t[9],P=t[10],C=t[11],A=t[12],M=t[13],I=t[14],R=t[15];return Math.abs(r-b)<=n.b*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-_)<=n.b*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(a-x)<=n.b*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-w)<=n.b*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(s-O)<=n.b*Math.max(1,Math.abs(s),Math.abs(O))&&Math.abs(u-k)<=n.b*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(c-E)<=n.b*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(l-T)<=n.b*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(p-S)<=n.b*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(h-j)<=n.b*Math.max(1,Math.abs(h),Math.abs(j))&&Math.abs(f-P)<=n.b*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(d-C)<=n.b*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(m-A)<=n.b*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(g-M)<=n.b*Math.max(1,Math.abs(g),Math.abs(M))&&Math.abs(v-I)<=n.b*Math.max(1,Math.abs(v),Math.abs(I))&&Math.abs(y-R)<=n.b*Math.max(1,Math.abs(y),Math.abs(R))}},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(102)),u=r.n(s),c=r(373),l=r(408),p=r(377),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var a=t.defaultTheme,s=t.withTheme,h=void 0!==s&&s,f=t.name,d=Object(i.a)(t,["defaultTheme","withTheme","name"]);var m=f,g=Object(c.a)(e,Object(n.a)({defaultTheme:a,Component:r,name:f||r.displayName,classNamePrefix:m},d)),v=o.a.forwardRef((function(e,t){e.classes;var s,u=e.innerRef,c=Object(i.a)(e,["classes","innerRef"]),d=g(e),m=c;return("string"===typeof f||h)&&(s=Object(p.a)()||a,f&&(m=Object(l.a)({theme:s,name:f,props:c})),h&&!m.theme&&(m.theme=s)),o.a.createElement(r,Object(n.a)({ref:u||t,classes:d},m))}));return v.defaultProps=r.defaultProps,u()(v,r),v}},f=r(113);t.a=function(e,t){return h(e,Object(n.a)({defaultTheme:f.a},t))}},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return a}));var n=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array,a=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},function(e,t,r){"use strict";var n=r(374);function i(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}function a(e){for(var t in e)return!1;return!0}function o(e,t){if(e===t)return!0;var r=Array.isArray(e)||ArrayBuffer.isView(e),n=Array.isArray(t)||ArrayBuffer.isView(t);if(r&&n&&e.length===t.length){for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}return!1}function s(e){if(e.canvas&&e.luma){var t=e.luma.canvasSizeInfo.clientWidth;return t?e.drawingBufferWidth/t:1}return 1}function u(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(e,t,r,n,i){var a,o=l(e[0],t,r),s=p(e[1],t,n,i),u=l(e[0]+1,t,r),c=u===r-1?u:u-1;u=p(e[1]+1,t,n,i),i?(a=s,s=u=0===u?u:u+1):a=u===n-1?u:u-1;return{x:o,y:s,width:Math.max(c-o+1,1),height:Math.max(a-s+1,1)}}(t,s(e),e.drawingBufferWidth,e.drawingBufferHeight,r)}function c(e){var t="undefined"===typeof window?1:window.devicePixelRatio||1;return Number.isFinite(e)?e<=0?1:e:e?t:1}function l(e,t,r){return Math.min(Math.round(e*t),r-1)}function p(e,t,r,n){return n?Math.max(0,r-1-Math.round(e*t)):Math.min(Math.round(e*t),r-1)}function h(e){return Boolean(e&&Number.isFinite(e._version))}function f(e){return Boolean(e&&2===e._version)}r.d(t,"i",(function(){return d})),r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"f",(function(){return a})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return s})),r.d(t,"e",(function(){return c})),r.d(t,"g",(function(){return h})),r.d(t,"h",(function(){return f}));var d=new n.a({id:"luma.gl"})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(28),i=r(68);function a(e,t){return!t||"object"!==Object(n.a)(t)&&"function"!==typeof t?Object(i.a)(e):t}},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";var n=r(217);r.d(t,"a",(function(){return n.a})),r.d(t,"b",(function(){return n.b})),r.d(t,"c",(function(){return n.c})),r.d(t,"d",(function(){return n.d})),r.d(t,"e",(function(){return n.e})),r.d(t,"f",(function(){return n.f}))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";var n=r(374);t.a=new n.a({id:"deck"})},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r(22),i={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(i,"IDENTITY",{get:function(){return n.a.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")()||0}});var a={WEB_MERCATOR:1,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},o={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";var n=r(244);var i=r(245);function a(e,t){return Object(n.a)(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||Object(i.a)()}r.d(t,"a",(function(){return a}))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"deck.gl: assertion failed.")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r(154),r(180);r(120);r.d(t,"b",(function(){return n})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"f",(function(){return u})),r.d(t,"c",(function(){return c}));Math.PI,Math.PI;var n={};function i(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).precision,r=void 0===t?n.precision||4:t;return e=function(e){return Math.round(e/n.EPSILON)*n.EPSILON}(e),"".concat(parseFloat(e.toPrecision(r)))}function a(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&void 0!==e.length}function o(e,t,r){if(a(e)){r=r||((i=e).clone?i.clone():new Array(i.length));for(var n=0;n<r.length&&n<e.length;++n)r[n]=t(e[n],n,r);return r}var i;return t(e)}function s(e,t,r){return o(e,(function(e){return Math.max(t,Math.min(r,e))}))}function u(e,t,r){return a(e)?e.map((function(e,n){return u(e,t[n],r)})):r*t+(1-r)*e}function c(e,t,r){var i=n.EPSILON;r&&(n.EPSILON=r);try{if(e===t)return!0;if(a(e)&&a(t)){if(e.length!==t.length)return!1;for(var o=0;o<e.length;++o)if(!c(e[o],t[o]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):!(!Number.isFinite(e)||!Number.isFinite(t))&&Math.abs(e-t)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{n.EPSILON=i}}n.EPSILON=1e-12,n.debug=!1,n.precision=4,n.printTypes=!1,n.printDegrees=!1,n.printRowMajor=!0},function(e,t,r){"use strict";var n=r(13);function i(e,t,r){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(n.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"e",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"g",(function(){return c})),r.d(t,"f",(function(){return l}));var n=r(16);function i(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function a(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function o(e){var t=e[0],r=e[1];return Math.hypot(t,r)}function s(e,t){return e[0]=-t[0],e[1]=-t[1],e}function u(e,t,r,n){var i=t[0],a=t[1];return e[0]=i+n*(r[0]-i),e[1]=a+n*(r[1]-a),e}function c(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}var l=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e};!function(){var e=function(){var e=new n.a(2);return n.a!=Float32Array&&(e[0]=0,e[1]=0),e}()}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(0),i=r.n(n),a=r(115);function o(e,t){return i.a.useMemo((function(){return null==e&&null==t?null:function(r){Object(a.a)(e,r),Object(a.a)(t,r)}}),[e,t])}},function(e,t,r){"use strict";var n=r(240);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||Object(n.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.d(t,"a",(function(){return i}))},,function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(178);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(n.a)(e,t)}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}var a=r(50);function o(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(a.a)(e):t}r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=r(289)},function(e,t,r){"use strict";var n=r(0),i=r.n(n),a=r(3),o=r.n(a),s=i.a.createContext(null);var u=function(e){e()},c=function(){return u},l=null,p={notify:function(){}};var h=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=p,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=c(),t=[],r=[];return{clear:function(){r=l,t=l},notify:function(){var n=t=r;e((function(){for(var e=0;e<n.length;e++)n[e]()}))},get:function(){return r},subscribe:function(e){var n=!0;return r===t&&(r=t.slice()),r.push(e),function(){n&&t!==l&&(n=!1,r===t&&(r=t.slice()),r.splice(r.indexOf(e),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=p)},e}();function f(e){var t=e.store,r=e.context,a=e.children,o=Object(n.useMemo)((function(){var e=new h(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=Object(n.useMemo)((function(){return t.getState()}),[t]);Object(n.useEffect)((function(){var e=o.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,u]);var c=r||s;return i.a.createElement(c.Provider,{value:o},a)}f.propTypes={store:o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired}),context:o.a.object,children:o.a.any};var d=f,m=r(2),g=r(51),v=r(102),y=r.n(v),b=r(98),_=r.n(b),x=r(151),w="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?n.useLayoutEffect:n.useEffect,O=[],k=[null,null];function E(e,t){var r=e[1];return[t.payload,r+1]}var T=function(){return[null,0]};function S(e,t){void 0===t&&(t={});var r=t,a=r.getDisplayName,o=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,u=r.methodName,c=void 0===u?"connectAdvanced":u,l=r.renderCountProp,p=void 0===l?void 0:l,f=r.shouldHandleStateChanges,d=void 0===f||f,v=r.storeKey,b=void 0===v?"store":v,S=r.withRef,j=void 0!==S&&S,P=r.forwardRef,C=void 0!==P&&P,A=r.context,M=void 0===A?s:A,I=Object(g.a)(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);_()(void 0===p,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),_()(!j,"withRef is removed. To access the wrapped instance, use a ref on the connected component");_()("store"===b,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var R=M;return function(t){var r=t.displayName||t.name||"Component",a=o(r),s=Object(m.a)({},I,{getDisplayName:o,methodName:c,renderCountProp:p,shouldHandleStateChanges:d,storeKey:b,displayName:a,wrappedComponentName:r,WrappedComponent:t}),u=I.pure;var l=u?n.useMemo:function(e){return e()};function f(r){var o=Object(n.useMemo)((function(){var e=r.forwardedRef,t=Object(g.a)(r,["forwardedRef"]);return[r.context,e,t]}),[r]),u=o[0],c=o[1],p=o[2],f=Object(n.useMemo)((function(){return u&&u.Consumer&&Object(x.isContextConsumer)(i.a.createElement(u.Consumer,null))?u:R}),[u,R]),v=Object(n.useContext)(f),y=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch),b=Boolean(v)&&Boolean(v.store);_()(y||b,'Could not find "store" in the context of "'+a+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+a+" in connect options.");var S=y?r.store:v.store,j=Object(n.useMemo)((function(){return function(t){return e(t.dispatch,s)}(S)}),[S]),P=Object(n.useMemo)((function(){if(!d)return k;var e=new h(S,y?null:v.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[S,y,v]),C=P[0],A=P[1],M=Object(n.useMemo)((function(){return y?v:Object(m.a)({},v,{subscription:C})}),[y,v,C]),I=Object(n.useReducer)(E,O,T),L=I[0][0],z=I[1];if(L&&L.error)throw L.error;var D=Object(n.useRef)(),F=Object(n.useRef)(p),B=Object(n.useRef)(),N=Object(n.useRef)(!1),q=l((function(){return B.current&&p===F.current?B.current:j(S.getState(),p)}),[S,L,p]);w((function(){F.current=p,D.current=q,N.current=!1,B.current&&(B.current=null,A())})),w((function(){if(d){var e=!1,t=null,r=function(){if(!e){var r,n,i=S.getState();try{r=j(i,F.current)}catch(a){n=a,t=a}n||(t=null),r===D.current?N.current||A():(D.current=r,B.current=r,N.current=!0,z({type:"STORE_UPDATED",payload:{error:n}}))}};C.onStateChange=r,C.trySubscribe(),r();return function(){if(e=!0,C.tryUnsubscribe(),C.onStateChange=null,t)throw t}}}),[S,C,j]);var U=Object(n.useMemo)((function(){return i.a.createElement(t,Object(m.a)({},q,{ref:c}))}),[c,t,q]);return Object(n.useMemo)((function(){return d?i.a.createElement(f.Provider,{value:M},U):U}),[f,U,M])}var v=u?i.a.memo(f):f;if(v.WrappedComponent=t,v.displayName=a,C){var S=i.a.forwardRef((function(e,t){return i.a.createElement(v,Object(m.a)({},e,{forwardedRef:t}))}));return S.displayName=a,S.WrappedComponent=t,y()(S,t)}return y()(v,t)}}var j=Object.prototype.hasOwnProperty;function P(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function C(e,t){if(P(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!j.call(t,r[i])||!P(e[r[i]],t[r[i]]))return!1;return!0}var A=r(92);function M(e){return function(t,r){var n=e(t,r);function i(){return n}return i.dependsOnOwnProps=!1,i}}function I(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function R(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=I(e);var i=n(t,r);return"function"===typeof i&&(n.mapToProps=i,n.dependsOnOwnProps=I(i),i=n(t,r)),i},n}}var L=[function(e){return"function"===typeof e?R(e):void 0},function(e){return e?void 0:M((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?M((function(t){return Object(A.bindActionCreators)(e,t)})):void 0}];var z=[function(e){return"function"===typeof e?R(e):void 0},function(e){return e?void 0:M((function(){return{}}))}];function D(e,t,r){return Object(m.a)({},r,{},e,{},t)}var F=[function(e){return"function"===typeof e?function(e){return function(t,r){r.displayName;var n,i=r.pure,a=r.areMergedPropsEqual,o=!1;return function(t,r,s){var u=e(t,r,s);return o?i&&a(u,n)||(n=u):(o=!0,n=u),n}}}(e):void 0},function(e){return e?void 0:function(){return D}}];function B(e,t,r,n){return function(i,a){return r(e(i,a),t(n,a),a)}}function N(e,t,r,n,i){var a,o,s,u,c,l=i.areStatesEqual,p=i.areOwnPropsEqual,h=i.areStatePropsEqual,f=!1;function d(i,f){var d=!p(f,o),m=!l(i,a);return a=i,o=f,d&&m?(s=e(a,o),t.dependsOnOwnProps&&(u=t(n,o)),c=r(s,u,o)):d?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(u=t(n,o)),c=r(s,u,o)):m?function(){var t=e(a,o),n=!h(t,s);return s=t,n&&(c=r(s,u,o)),c}():c}return function(i,l){return f?d(i,l):(s=e(a=i,o=l),u=t(n,o),c=r(s,u,o),f=!0,c)}}function q(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,a=Object(g.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=r(e,a),s=n(e,a),u=i(e,a);return(a.pure?N:B)(o,s,u,e,a)}function U(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function V(e,t){return e===t}!function(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?S:r,i=t.mapStateToPropsFactories,a=void 0===i?z:i,o=t.mapDispatchToPropsFactories,s=void 0===o?L:o,u=t.mergePropsFactories,c=void 0===u?F:u,l=t.selectorFactory,p=void 0===l?q:l}();function G(){var e=Object(n.useContext)(s);return _()(e,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),e}function W(e){void 0===e&&(e=s);var t=e===s?G:function(){return Object(n.useContext)(e)};return function(){return t().store}}var H=W();var Z=function(e){void 0===e&&(e=s);var t=e===s?H:W(e);return function(){return t().dispatch}}(),X=function(e,t){return e===t};var K,Y=function(e){void 0===e&&(e=s);var t=e===s?G:function(){return Object(n.useContext)(e)};return function(e,r){void 0===r&&(r=X),_()(e,"You must pass a selector to useSelectors");var i=t();return function(e,t,r,i){var a,o=Object(n.useReducer)((function(e){return e+1}),0)[1],s=Object(n.useMemo)((function(){return new h(r,i)}),[r,i]),u=Object(n.useRef)(),c=Object(n.useRef)(),l=Object(n.useRef)();try{a=e!==c.current||u.current?e(r.getState()):l.current}catch(f){var p="An error occurred while selecting the store state: "+f.message+".";throw u.current&&(p+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\nOriginal stack trace:"),new Error(p)}return w((function(){c.current=e,l.current=a,u.current=void 0})),w((function(){function e(){try{var e=c.current(r.getState());if(t(e,l.current))return;l.current=e}catch(f){u.current=f}o({})}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[r,s]),a}(e,r,i.store,i.subscription)}}(),$=r(42);r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return Z})),r.d(t,"c",(function(){return Y})),K=$.unstable_batchedUpdates,u=K},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return s}));var n=r(32);function i(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function a(e,t,r){if(n.b.debug&&!function(e,t){if(e.length!==t)return!1;for(var r=0;r<e.length;++r)if(!Number.isFinite(e[r]))return!1;return!0}(e,t))throw new Error("math.gl: ".concat(""|r," some fields set to invalid numbers'"));return e}var o={};function s(e,t){o[e]||(o[e]=!0,console.warn("".concat(e," has been removed in version ").concat(t,", see upgrade guide for more information")))}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return(s="function"===typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var h=r(78);function f(e,t){var r=h.b([],t,e);return h.a(r,r,1/r[3]),r}function d(e,t){var r=e%t;return r<0?t+r:r}var m=r(14),g=r(36),v=r(59);function y(e,t){if(!e)throw new Error(t||"@math.gl/web-mercator: assertion failed.")}var b=Math.PI,_=b/4,x=b/180,w=180/b,O=512,k=4003e4,E=1.5;function T(e){return Math.pow(2,e)}function S(e){return Math.log2(e)}function j(e){var t=p(e,2),r=t[0],n=t[1];y(Number.isFinite(r)),y(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");var i=n*x;return[O*(r*x+b)/(2*b),O*(b+Math.log(Math.tan(_+.5*i)))/(2*b)]}function P(e){var t=p(e,2),r=t[0],n=t[1],i=r/O*(2*b)-b,a=2*(Math.atan(Math.exp(n/O*(2*b)-b))-_);return[i*w,a*w]}function C(e){var t=e.latitude;y(Number.isFinite(t));var r=Math.cos(t*x);return S(k*r)-9}function A(e){var t=e.latitude,r=e.longitude,n=e.highPrecision,i=void 0!==n&&n;y(Number.isFinite(t)&&Number.isFinite(r));var a={},o=O,s=Math.cos(t*x),u=o/360,c=u/s,l=o/k/s;if(a.unitsPerMeter=[l,l,l],a.metersPerUnit=[1/l,1/l,1/l],a.unitsPerDegree=[u,c,l],a.degreesPerUnit=[1/u,1/c,1/l],i){var p=x*Math.tan(t*x)/s,h=u*p/2,f=o/k*p,d=f/c*l;a.unitsPerDegree2=[0,h,f],a.unitsPerMeter2=[d,0,d]}return a}function M(e,t){var r=p(e,3),n=r[0],i=r[1],a=r[2],o=p(t,3),s=o[0],u=o[1],c=o[2],l=A({longitude:n,latitude:i,highPrecision:!0}),h=l.unitsPerMeter,f=l.unitsPerMeter2,d=j(e);d[0]+=s*(h[0]+f[0]*u),d[1]+=u*(h[1]+f[1]*u);var m=P(d),g=(a||0)+(c||0);return Number.isFinite(a)||Number.isFinite(c)?[m[0],m[1],g]:m}function I(e){var t=e.height,r=e.pitch,n=e.bearing,i=e.altitude,a=e.scale,o=e.center,s=void 0===o?null:o,u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return m.o(u,u,[0,0,-i]),m.k(u,u,-r*x),m.m(u,u,n*x),a/=t,m.n(u,u,[a,a,a]),s&&m.o(u,u,v.c([],s)),u}function R(e){var t=e.width,r=e.height,n=e.altitude,i=void 0===n?E:n,a=e.pitch,o=void 0===a?0:a,s=e.nearZMultiplier,u=void 0===s?1:s,c=e.farZMultiplier,l=void 0===c?1:c,p=o*x,h=Math.atan(.5/i),f=Math.sin(h)*i/Math.sin(Math.PI/2-p-h);return{fov:2*h,aspect:t/r,focalDistance:i,near:u,far:(Math.cos(Math.PI/2-p)*f+i)*l}}function L(e,t){var r=p(e,3),n=r[0],i=r[1],a=r[2],o=void 0===a?0:a;return y(Number.isFinite(n)&&Number.isFinite(i)&&Number.isFinite(o)),f(t,[n,i,o,1])}function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=p(e,3),i=n[0],a=n[1],o=n[2];if(y(Number.isFinite(i)&&Number.isFinite(a),"invalid pixel coordinate"),Number.isFinite(o))return f(t,[i,a,o,1]);var s=f(t,[i,a,0,1]),u=f(t,[i,a,1,1]),c=s[2],l=u[2],h=c===l?0:((r||0)-c)/(l-c);return g.c([],s,u,h)}var D=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function F(e){var t=e.width,r=e.height,n=e.bounds,i=e.minExtent,a=void 0===i?0:i,o=e.maxZoom,s=void 0===o?24:o,u=e.padding,c=void 0===u?0:u,l=e.offset,h=void 0===l?[0,0]:l,f=p(n,2),d=p(f[0],2),m=d[0],g=d[1],v=p(f[1],2),b=v[0],_=v[1];if(Number.isFinite(c)){c={top:c,bottom:c,left:c,right:c}}else y(Number.isFinite(c.top)&&Number.isFinite(c.bottom)&&Number.isFinite(c.left)&&Number.isFinite(c.right));var x=new B({width:t,height:r,longitude:0,latitude:0,zoom:0}),w=x.project([m,_]),O=x.project([b,g]),k=[Math.max(Math.abs(O[0]-w[0]),a),Math.max(Math.abs(O[1]-w[1]),a)],E=[t-c.left-c.right-2*Math.abs(h[0]),r-c.top-c.bottom-2*Math.abs(h[1])];y(E[0]>0&&E[1]>0);var T=E[0]/k[0],S=E[1]/k[1],j=(c.right-c.left)/2/T,P=(c.bottom-c.top)/2/S,C=[(O[0]+w[0])/2+j,(O[1]+w[1])/2+P],A=x.unproject(C),M=Math.min(s,x.zoom+Math.log2(Math.abs(Math.min(T,S))));return y(Number.isFinite(M)),{longitude:A[0],latitude:A[1],zoom:M}}var B=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.width,a=r.height,o=r.latitude,l=void 0===o?0:o,p=r.longitude,h=void 0===p?0:p,f=r.zoom,d=void 0===f?0:f,g=r.pitch,v=void 0===g?0:g,y=r.bearing,b=void 0===y?0:y,_=r.altitude,x=void 0===_?1.5:_,w=r.nearZMultiplier,O=void 0===w?.02:w,k=r.farZMultiplier,E=void 0===k?1.01:k;n(this,t),i=i||1,a=a||1;var S=T(d);x=Math.max(.75,x);var P=j([h,l]);P[2]=0;var C=function(e){var t=e.width,r=e.height,n=e.pitch,i=R({width:t,height:r,altitude:e.altitude,pitch:n,nearZMultiplier:e.nearZMultiplier,farZMultiplier:e.farZMultiplier}),a=i.fov,o=i.aspect,s=i.near,u=i.far;return m.i([],a,o,s,u)}({width:i,height:a,pitch:v,bearing:b,altitude:x,nearZMultiplier:O,farZMultiplier:E}),M=I({height:a,scale:S,center:P,pitch:v,bearing:b,altitude:x});return(e=function(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?u(e):t}(this,c(t).call(this,{width:i,height:a,scale:S,viewMatrix:M,projectionMatrix:C}))).latitude=l,e.longitude=h,e.zoom=d,e.pitch=v,e.bearing=b,e.altitude=x,e.center=P,e.unitsPerMeter=A(u(e)).unitsPerMeter[2],Object.freeze(u(e)),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),a(t,[{key:"projectFlat",value:function(e){return j(e)}},{key:"unprojectFlat",value:function(e){return P(e)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,r=z(e.pos,this.pixelUnprojectionMatrix),n=j(t),i=g.a([],n,g.d([],r));return P(g.a([],this.center,i),this.scale)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,r=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:r})}},{key:"fitBounds",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.width,i=this.height,a=F(Object.assign({width:n,height:i,bounds:e},r)),o=a.longitude,s=a.latitude,u=a.zoom;return new t({width:n,height:i,longitude:o,latitude:s,zoom:u})}}]),t}(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width,i=t.height,a=t.scale,o=t.viewMatrix,s=void 0===o?D:o,u=t.projectionMatrix,c=void 0===u?D:u;n(this,e),this.width=r||1,this.height=i||1,this.scale=a,this.unitsPerMeter=1,this.viewMatrix=s,this.projectionMatrix=c;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];m.g(l,l,this.projectionMatrix),m.g(l,l,this.viewMatrix),this.viewProjectionMatrix=l;var p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];m.n(p,p,[this.width/2,-this.height/2,1]),m.o(p,p,[1,-1,0]),m.g(p,p,this.viewProjectionMatrix);var h=m.e([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],p);if(!h)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=p,this.pixelUnprojectionMatrix=h,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return a(e,[{key:"equals",value:function(t){return t instanceof e&&(t.width===this.width&&t.height===this.height&&m.b(t.projectionMatrix,this.projectionMatrix)&&m.b(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.topLeft,n=void 0===r||r,i=this.projectPosition(e),a=L(i,this.pixelProjectionMatrix),o=p(a,2),s=o[0],u=o[1],c=n?u:this.height-u;return 2===e.length?[s,c]:[s,c,a[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.topLeft,n=void 0===r||r,i=t.targetZ,a=p(e,3),o=a[0],s=a[1],u=a[2],c=n?s:this.height-s,l=i&&i*this.unitsPerMeter,h=z([o,c,u],this.pixelUnprojectionMatrix,l),f=this.unprojectPosition(h),d=p(f,3),m=d[0],g=d[1],v=d[2];return Number.isFinite(u)?[m,g,v]:Number.isFinite(i)?[m,g,i]:[m,g]}},{key:"projectPosition",value:function(e){var t=p(this.projectFlat(e),2);return[t[0],t[1],(e[2]||0)*this.unitsPerMeter]}},{key:"unprojectPosition",value:function(e){var t=p(this.unprojectFlat(e),2);return[t[0],t[1],(e[2]||0)/this.unitsPerMeter]}},{key:"projectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return e}},{key:"unprojectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return e}}]),e}()),N=85.05113,q=-85.05113;function U(e){var t=e.width,r=e.height,n=e.longitude,i=e.latitude,a=e.zoom,o=e.pitch,s=void 0===o?0:o,u=e.bearing,c=void 0===u?0:u;(n<-180||n>180)&&(n=d(n+180,360)-180),(c<-180||c>180)&&(c=d(c+180,360)-180);var l=new B({width:t,height:r,longitude:n,latitude:i,zoom:a}),p=l.project([n,N])[1],h=l.project([n,q])[1],f=0;return h-p<r&&(a+=Math.log2(r/(h-p)),p=(l=new B({width:t,height:r,longitude:n,latitude:i,zoom:a})).project([n,N])[1],h=l.project([n,q])[1]),p>0?f=p:h<r&&(f=h-r),f&&(i=l.unproject([t/2,r/2+f])[1]),{width:t,height:r,longitude:n,latitude:i,zoom:a,pitch:s,bearing:c}}r.d(t,"b",(function(){return B})),r.d(t,"c",(function(){return F})),r.d(t,"i",(function(){return U})),r.d(t,"h",(function(){return j})),r.d(t,"k",(function(){return P})),r.d(t,"l",(function(){return L})),r.d(t,"j",(function(){return z})),r.d(t,"e",(function(){return C})),r.d(t,"d",(function(){return A})),r.d(t,"a",(function(){return M})),r.d(t,"g",(function(){return I})),r.d(t,"f",(function(){return R}))},function(e,t,r){e.exports=r(302)},,function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(22),i={};function a(e){i=e}function o(e){var t;n.a.level>0&&i[e]&&(t=i[e]).call.apply(t,arguments)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},i={COMPONENT:Symbol.for("component"),ASYNC_DEFAULTS:Symbol.for("asyncPropDefaults"),ASYNC_ORIGINAL:Symbol.for("asyncPropOriginal"),ASYNC_RESOLVED:Symbol.for("asyncPropResolved")}},function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}r.d(t,"a",(function(){return n}))},,function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(30),i=r(21),a=r(41),o=r(35),s=r(50),u=r(40),c=r(56),l=r(82),p=r(107),h=r(128),f=r(9),d=r(265),m=r(29),g={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},v={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:g},y={removedProps:g},b=function(e){function t(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(this,t),(r=Object(a.a)(this,Object(o.a)(t).call(this,e,i))).stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),r.target=i.target||(r.gl.webgl2?36662:34962),r.initialize(i),Object.seal(Object(s.a)(r)),r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getElementCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/l.a.getBytesPerElement(e))}},{key:"getVertexCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/l.a.getBytesPerVertex(e))}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=Object(d.a)("Buffer",e,v),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data):this._setByteLength(e.byteLength||0),this}},{key:"setProps",value:function(e){return"accessor"in(e=Object(d.a)("Buffer",e,y))&&this.setAccessor(e.accessor),this}},{key:"setAccessor",value:function(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new l.a(e),this}},{key:"reallocate",value:function(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}},{key:"setData",value:function(e){return this.initialize(e)}},{key:"subData",value:function(e){ArrayBuffer.isView(e)&&(e={data:e});var t=e,r=t.data,n=t.offset,i=void 0===n?0:n,a=t.srcOffset,o=void 0===a?0:a,s=e.byteLength||e.length;Object(m.a)(r);var u=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(u,this.handle),0!==o||void 0!==s?(Object(p.a)(this.gl),this.gl.bufferSubData(this.target,i,r,o,s)):this.gl.bufferSubData(u,i,r),this.gl.bindBuffer(u,null),this.debugData=null,this._inferType(r),this}},{key:"copyData",value:function(e){var t=e.sourceBuffer,r=e.readOffset,n=void 0===r?0:r,i=e.writeOffset,a=void 0===i?0:i,o=e.size,s=this.gl;return Object(p.a)(s),s.bindBuffer(36662,t.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,n,a,o),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dstData,r=void 0===t?null:t,n=e.srcByteOffset,i=void 0===n?0:n,a=e.dstOffset,o=void 0===a?0:a,s=e.length,u=void 0===s?0:s;Object(p.a)(this.gl);var c,l,f=Object(h.c)(this.accessor.type||5126,{clamped:!1}),d=this._getAvailableElementCount(i),g=o;r?c=(l=r.length)-g:l=g+(c=Math.min(d,u||d));var v=Math.min(d,c);return u=u||v,Object(m.a)(u<=v),r=r||new f(l),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,i,r,o,u),this.gl.bindBuffer(36662,null),r}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=void 0===t?this.target:t,n=e.index,i=void 0===n?this.accessor&&this.accessor.index:n,a=e.offset,o=void 0===a?0:a,s=e.size;return 35345===r||35982===r?void 0!==s?this.gl.bindBufferRange(r,i,this.handle,o,s):(Object(m.a)(0===o),this.gl.bindBufferBase(r,i,this.handle)):this.gl.bindBuffer(r,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=void 0===t?this.target:t,n=e.index,i=void 0===n?this.accessor&&this.accessor.index:n,a=35345===r||35982===r;return a?this.gl.bindBufferBase(r,i,null):this.gl.bindBuffer(r,null),this}},{key:"getDebugData",value:function(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}},{key:"invalidateDebugData",value:function(){this.debugData=null}},{key:"_setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;Object(m.a)(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();var r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,e,t),this.gl.bindBuffer(r,null),this.usage=t,this.debugData=e.slice(0,10),this.bytesUsed=e.byteLength,this._trackAllocatedMemory(e.byteLength);var n=Object(h.b)(e);return Object(m.a)(n),this.setAccessor(new l.a(this.accessor,{type:n})),this}},{key:"_setByteLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;Object(m.a)(e>=0),this._trackDeallocatedMemory();var r=e;0===e&&(r=new Float32Array(0));var n=this._getTarget();return this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,t),this.gl.bindBuffer(n,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}},{key:"_getTarget",value:function(){return this.gl.webgl2?36663:this.target}},{key:"_getAvailableElementCount",value:function(e){var t=e/Object(h.c)(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-t}},{key:"_inferType",value:function(e){this.accessor.type||this.setAccessor(new l.a(this.accessor,{type:Object(h.b)(e)}))}},{key:"_createHandle",value:function(){return this.gl.createBuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_getParameter",value:function(e){this.gl.bindBuffer(this.target,this.handle);var t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}},{key:"setByteLength",value:function(e){return f.h.deprecated("setByteLength","reallocate")(),this.reallocate(e)}},{key:"updateAccessor",value:function(e){return f.h.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new l.a(this.accessor,e),this}},{key:"type",get:function(){return f.h.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}},{key:"bytes",get:function(){return f.h.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}}]),t}(c.a)},function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),r)}function i(e){if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),r=e.match(t);return r&&1===r[0].length&&(r=r.map((function(e){return e+e}))),r?"rgb(".concat(r.map((function(e){return parseInt(e,16)})).join(", "),")"):""}(e));var t=e.indexOf("("),r=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(r))throw new Error(["Material-UI: unsupported `".concat(e,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var n=e.substring(t+1,e.length-1).split(",");return{type:r,values:n=n.map((function(e){return parseFloat(e)}))}}function a(e){var t=e.type,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),"".concat(t,"(").concat(r.join(", "),")")}function o(e,t){var r=s(e),n=s(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function s(e){var t="hsl"===(e=i(e)).type?i(function(e){var t=(e=i(e)).values,r=t[0],n=t[1]/100,o=t[2]/100,s=n*Math.min(o,1-o),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+r/30)%12;return o-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),a({type:c,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return s(e)>.5?l(e,t):p(e,t)}function c(e,t){return e=i(e),t=n(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function l(e,t){if(e=i(e),t=n(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]*=1-t;return a(e)}function p(e,t){if(e=i(e),t=n(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;return a(e)}r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"e",(function(){return p}))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(30),i=r(21),a=r(9),o=r(160),s=r(107),u=r(118),c=r(143),l=r(29),p=r(370),h="Resource subclass must define virtual methods",f=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.a)(this,e),Object(s.b)(t);var i=r.id,a=r.userData,o=void 0===a?{}:a;this.gl=t,this.id=i||Object(c.c)(this.constructor.name),this.userData=o,this._bound=!1,this._handle=r.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}return Object(i.a)(e,[{key:"toString",value:function(){return"".concat(this.constructor.name,"(").concat(this.id,")")}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deleteChildren,r=void 0!==t&&t,n=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,n&&r&&n.filter(Boolean).forEach((function(e){e.delete()})),this}},{key:"bind",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!==typeof t?(this._bindHandle(t),this):(this._bound?e=t():(this._bindHandle(this.handle),this._bound=!0,e=t(),this._bound=!1,this._bindHandle(null)),e)}},{key:"unbind",value:function(){this.bind(null)}},{key:"getParameter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object(u.b)(this.gl,e),Object(l.a)(e);var r=this.constructor.PARAMETERS||{},n=r[e];if(n){var i=Object(a.g)(this.gl),o=(!("webgl2"in n)||i)&&(!("extension"in n)||this.gl.getExtension(n.extension));if(!o){var s=n.webgl1,c="webgl2"in n?n.webgl2:n.webgl1,p=i?c:s;return p}}return this._getParameter(e,t)}},{key:"getParameters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},r=t.parameters,n=t.keys,i=this.constructor.PARAMETERS||{},o=Object(a.g)(this.gl),s={},c=r||Object.keys(i),l=!0,p=!1,h=void 0;try{for(var f,d=c[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var m=f.value,g=i[m],v=g&&(!("webgl2"in g)||o)&&(!("extension"in g)||this.gl.getExtension(g.extension));if(v){var y=n?Object(u.a)(this.gl,m):m;s[y]=this.getParameter(m,e),n&&"GLenum"===g.type&&(s[y]=Object(u.a)(this.gl,s[y]))}}}catch(b){p=!0,h=b}finally{try{l||null==d.return||d.return()}finally{if(p)throw h}}return s}},{key:"setParameter",value:function(e,t){e=Object(u.b)(this.gl,e),Object(l.a)(e);var r=(this.constructor.PARAMETERS||{})[e];if(r){var n=Object(a.g)(this.gl);if(!((!("webgl2"in r)||n)&&(!("extension"in r)||this.gl.getExtension(r.extension))))throw new Error("Parameter not available on this platform");"GLenum"===r.type&&(t=Object(u.b)(t))}return this._setParameter(e,t),this}},{key:"setParameters",value:function(e){for(var t in e)this.setParameter(t,e[t]);return this}},{key:"stubRemovedMethods",value:function(e,t,r){return Object(p.a)(this,e,t,r)}},{key:"initialize",value:function(e){}},{key:"_createHandle",value:function(){throw new Error(h)}},{key:"_deleteHandle",value:function(){throw new Error(h)}},{key:"_bindHandle",value:function(){throw new Error(h)}},{key:"_getOptsFromHandle",value:function(){throw new Error(h)}},{key:"_getParameter",value:function(e,t){throw new Error(h)}},{key:"_setParameter",value:function(e,t){throw new Error(h)}},{key:"_context",value:function(){return this.gl.luma=this.gl.luma||{},this.gl.luma}},{key:"_addStats",value:function(){var e=this.constructor.name,t=o.a.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get("".concat(e,"s Created")).incrementCount(),t.get("".concat(e,"s Active")).incrementCount()}},{key:"_removeStats",value:function(){var e=this.constructor.name;o.a.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}},{key:"_trackAllocatedMemory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.name,r=o.a.get("Memory Usage");r.get("GPU Memory").addCount(e),r.get("".concat(t," Memory")).addCount(e),this.byteLength=e}},{key:"_trackDeallocatedMemory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.constructor.name,t=o.a.get("Memory Usage");t.get("GPU Memory").subtractCount(this.byteLength),t.get("".concat(e," Memory")).subtractCount(this.byteLength),this.byteLength=0}},{key:"handle",get:function(){return this._handle}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(24);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},function(e,t,r){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"i",(function(){return u})),r.d(t,"h",(function(){return c})),r.d(t,"j",(function(){return l})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return f})),r.d(t,"a",(function(){return d})),r.d(t,"g",(function(){return m}));var n=r(16);function i(e,t,r){var i=new n.a(3);return i[0]=e,i[1]=t,i[2]=r,i}function a(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function o(e,t){var r=t[0],n=t[1],i=t[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function s(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[0],s=r[1],u=r[2];return e[0]=i*u-a*s,e[1]=a*o-n*u,e[2]=n*s-i*o,e}function u(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,e[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,e[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,e}function c(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=n*r[0]+i*r[3]+a*r[6],e[1]=n*r[1]+i*r[4]+a*r[7],e[2]=n*r[2]+i*r[5]+a*r[8],e}function l(e,t,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=t[0],u=t[1],c=t[2],l=i*c-a*u,p=a*s-n*c,h=n*u-i*s,f=i*h-a*p,d=a*l-n*h,m=n*p-i*l,g=2*o;return l*=g,p*=g,h*=g,f*=2,d*=2,m*=2,e[0]=s+l+f,e[1]=u+p+d,e[2]=c+h+m,e}function p(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function h(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function f(e,t,r,n){var i=[],a=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],e[0]=a[0]+r[0],e[1]=a[1]+r[1],e[2]=a[2]+r[2],e}function d(e,t){var r=i(e[0],e[1],e[2]),n=i(t[0],t[1],t[2]);o(r,r),o(n,n);var a=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}(r,n);return a>1?0:a<-1?Math.PI:Math.acos(a)}var m=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e};!function(){var e=function(){var e=new n.a(3);return n.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}()}()},,function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";t.a=function(e){return e&&e.ownerDocument||document}},function(e,t,r){"use strict";function n(e){var t=e.source,r=e.target,n=e.start,i=void 0===n?0:n,a=e.end,o=e.getData;a=a||r.length;var s=t.length,u=a-i;if(s>u)r.set(t.subarray(0,u),i);else if(r.set(t,i),o)for(var c=s;c<u;)for(var l=o(c,t),p=0;p<l.length;p++)r[i+c]=l[p],c++}r.d(t,"e",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c})),r.d(t,"f",(function(){return l}));var i={interpolation:{duration:0,easing:function(e){return e}},spring:{stiffness:.05,damping:.5}};function a(e,t){return e?(Number.isFinite(e)&&(e={duration:e}),e.type=e.type||"interpolation",Object.assign({},i[e.type],t,e)):null}function o(e,t){return t.getBuffer()?[t.getBuffer(),{divisor:0,size:t.size,normalized:t.settings.normalized}]:t.value}function s(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(e,'"'))}}function u(e){e.push(e.shift())}function c(e,t){var r=e.doublePrecision,n=e.settings,i=e.value,a=e.size,o=r?2:1;return(n.noAlloc?i.length:t*a)*o}function l(e){var t=e.buffer,r=e.numInstances,i=e.attribute,a=e.fromLength,o=e.fromStartIndices,s=e.getData,u=void 0===s?function(e){return e}:s,l=i.doublePrecision?2:1,p=i.size*l,h=i.byteOffset,f=i.startIndices,d=o&&f,m=c(i,r),g=i.state.constant;if(d||!(a>=m)){var v=g?i.value:i.getBuffer().getData({srcByteOffset:h});if(i.settings.normalized){var y=u;u=function(e,t){return i._normalizeConstant(y(e,t))}}var b=g?function(e,t){return u(v,t)}:function(e,t){return u(v.subarray(e,e+p),t)},_=t.getData({length:a}),x=new Float32Array(m);!function(e){var t=e.source,r=e.target,i=e.size,a=e.getData,o=e.sourceStartIndices,s=e.targetStartIndices;if(!Array.isArray(s))return n({source:t,target:r,getData:a}),r;for(var u=0,c=0,l=a&&function(e,t){return a(e+c,t)},p=Math.min(o.length,s.length),h=1;h<p;h++){var f=o[h]*i,d=s[h]*i;n({source:t.subarray(u,f),target:r,start:c,end:d,getData:l}),u=f,c=d}c<r.length&&n({source:[],target:r,start:c,getData:l})}({source:_,target:x,sourceStartIndices:o,targetStartIndices:f,size:p,getData:b}),t.byteLength<x.byteLength+h&&t.reallocate(x.byteLength+h),t.subData({data:x,offset:h})}}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(0),i=r.n(n),a="undefined"!==typeof window?i.a.useLayoutEffect:i.a.useEffect;function o(e){var t=i.a.useRef(e);return a((function(){t.current=e})),i.a.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return a}));var n=r(10),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195},o=function(e){return"".concat(Math.round(e),"ms")};t.a={easing:i,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.duration,s=void 0===r?a.standard:r,u=t.easing,c=void 0===u?i.easeInOut:u,l=t.delay,p=void 0===l?0:l;Object(n.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:o(s)," ").concat(c," ").concat("string"===typeof p?p:o(p))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r(30),i=r(41),a=r(35),o=r(21),s=r(40),u=r(56),c=r(53),l=r(105),p=r(9),h=r(46),f=r(107),d=r(143),m=r(29),g=[9729,9728],v=h.global.WebGLBuffer||function(){},y=function(e){function t(e,r){var o;Object(n.a)(this,t);var s=r.id,u=void 0===s?Object(d.c)("texture"):s,c=r.handle,l=r.target;return(o=Object(i.a)(this,Object(a.a)(t).call(this,e,{id:u,handle:c}))).target=l,o.textureUnit=void 0,o.loaded=!1,o.width=void 0,o.height=void 0,o.depth=void 0,o.format=void 0,o.type=void 0,o.dataFormat=void 0,o.border=void 0,o.textureUnit=void 0,o.mipmaps=void 0,o}return Object(s.a)(t,e),Object(o.a)(t,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.format,n=t.linearFiltering,i=!0;return r&&(i=(i=i&&Object(l.d)(e,r))&&(!n||Object(l.e)(e,r))),i}}]),Object(o.a)(t,[{key:"toString",value:function(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.data;if(r instanceof Promise)return r.then((function(r){return e.initialize(Object.assign({},t,{pixels:r,data:r}))})),this;var n=t.pixels,i=void 0===n?null:n,a=t.format,o=void 0===a?6408:a,s=t.border,u=void 0===s?0:s,c=t.recreate,l=void 0!==c&&c,h=t.parameters,f=void 0===h?{}:h,d=t.pixelStore,m=void 0===d?{}:d,g=t.textureUnit,v=void 0===g?void 0:g,y=t.mipmaps,b=void 0===y||y;r||(r=i);var _=t.width,x=t.height,w=t.dataFormat,O=t.type,k=t.depth,E=void 0===k?0:k,T=this._deduceParameters({format:o,type:O,dataFormat:w,compressed:!1,data:r,width:_,height:x});return _=T.width,x=T.height,w=T.dataFormat,O=T.type,this.width=_,this.height=x,this.depth=E,this.format=o,this.type=O,this.dataFormat=w,this.border=u,this.textureUnit=v,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),b&&this._isNPOT()&&(p.h.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),b=!1,this._updateForNPOT(f)),this.mipmaps=b,this.setImageData({data:r,width:_,height:x,depth:E,format:o,type:O,dataFormat:w,border:u,mipmaps:b,parameters:m}),b&&this.generateMipmap(),this.setParameters(f),l&&(this.data=r),this}},{key:"resize",value:function(e){var t=e.height,r=e.width,n=e.mipmaps,i=void 0!==n&&n;return r!==this.width||t!==this.height?this.initialize({width:r,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:i}):this}},{key:"generateMipmap",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(p.h.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Object(p.l)(this.gl,t,(function(){e.gl.generateMipmap(e.target)})),this.gl.bindTexture(this.target,null),this)}},{key:"setImageData",value:function(e){this._trackDeallocatedMemory("Texture");var t=e.target,r=void 0===t?this.target:t,n=e.pixels,i=void 0===n?null:n,a=e.level,o=void 0===a?0:a,s=e.format,u=void 0===s?this.format:s,c=e.border,h=void 0===c?this.border:c,d=e.offset,g=void 0===d?0:d,v=e.parameters,y=void 0===v?{}:v,b=e.data,_=void 0===b?null:b,x=e.type,w=void 0===x?this.type:x,O=e.width,k=void 0===O?this.width:O,E=e.height,T=void 0===E?this.height:E,S=e.dataFormat,j=void 0===S?this.dataFormat:S,P=e.compressed,C=void 0!==P&&P;_||(_=i);var A=this._deduceParameters({format:u,type:w,dataFormat:j,compressed:C,data:_,width:k,height:T});w=A.type,j=A.dataFormat,C=A.compressed,k=A.width,T=A.height;var M=this.gl;M.bindTexture(this.target,this.handle);var I,R=this._getDataType({data:_,compressed:C});if(_=R.data,I=R.dataType,Object(p.l)(this.gl,y,(function(){switch(I){case"null":M.texImage2D(r,o,u,k,T,h,j,w,_);break;case"typed-array":M.texImage2D(r,o,u,k,T,h,j,w,_,g);break;case"buffer":Object(f.a)(M),M.bindBuffer(35052,_.handle||_),M.texImage2D(r,o,u,k,T,h,j,w,g),M.bindBuffer(35052,null);break;case"browser-object":Object(p.g)(M)?M.texImage2D(r,o,u,k,T,h,j,w,_):M.texImage2D(r,o,u,j,w,_);break;case"compressed":M.compressedTexImage2D(r,o,u,k,T,h,_);break;default:Object(m.a)(!1,"Unknown image data type")}})),_&&_.byteLength)this._trackAllocatedMemory(_.byteLength,"Texture");else{var L=l.a[this.dataFormat]||4,z=l.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*L*z,"Texture")}return this.loaded=!0,this}},{key:"setSubImageData",value:function(e){var t=this,r=e.target,n=void 0===r?this.target:r,i=e.pixels,a=void 0===i?null:i,o=e.data,s=void 0===o?null:o,u=e.x,l=void 0===u?0:u,h=e.y,d=void 0===h?0:h,g=e.width,y=void 0===g?this.width:g,b=e.height,_=void 0===b?this.height:b,x=e.level,w=void 0===x?0:x,O=e.format,k=void 0===O?this.format:O,E=e.type,T=void 0===E?this.type:E,S=e.dataFormat,j=void 0===S?this.dataFormat:S,P=e.compressed,C=void 0!==P&&P,A=e.offset,M=void 0===A?0:A,I=e.border,R=(void 0===I&&this.border,e.parameters),L=void 0===R?{}:R,z=this._deduceParameters({format:k,type:T,dataFormat:j,compressed:C,data:s,width:y,height:_});if(T=z.type,j=z.dataFormat,C=z.compressed,y=z.width,_=z.height,Object(m.a)(0===this.depth,"texSubImage not supported for 3D textures"),s||(s=a),s&&s.data){var D=s;s=D.data,y=D.shape[0],_=D.shape[1]}s instanceof c.a&&(s=s.handle),this.gl.bindTexture(this.target,this.handle),Object(p.l)(this.gl,L,(function(){C?t.gl.compressedTexSubImage2D(n,w,l,d,y,_,k,s):null===s?t.gl.texSubImage2D(n,w,l,d,y,_,j,T,null):ArrayBuffer.isView(s)?t.gl.texSubImage2D(n,w,l,d,y,_,j,T,s,M):s instanceof v?(Object(f.a)(t.gl),t.gl.bindBuffer(35052,s),t.gl.texSubImage2D(n,w,l,d,y,_,j,T,M),t.gl.bindBuffer(35052,null)):Object(p.g)(t.gl)?t.gl.texSubImage2D(n,w,l,d,y,_,j,T,s):t.gl.texSubImage2D(n,w,l,d,j,T,s)})),this.gl.bindTexture(this.target,null)}},{key:"copyFramebuffer",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return p.h.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"getActiveUnit",value:function(){return this.gl.getParameter(34016)-33984}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}},{key:"_getDataType",value:function(e){var t=e.data,r=e.compressed;return void 0!==r&&r?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof c.a?{data:t.handle,dataType:"buffer"}:t instanceof v?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}},{key:"_deduceParameters",value:function(e){var t=e.format,r=e.data,n=e.width,i=e.height,a=e.dataFormat,o=e.type,s=e.compressed,u=l.b[t];a=a||u&&u.dataFormat,o=o||u&&u.types[0],s=s||u&&u.compressed;var c=this._deduceImageSize(r,n,i);return{dataFormat:a,type:o,compressed:s,width:n=c.width,height:i=c.height,format:t,data:r}}},{key:"_deduceImageSize",value:function(e,t,r){var n;return n="undefined"!==typeof ImageData&&e instanceof ImageData?{width:e.width,height:e.height}:"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement?{width:e.width,height:e.height}:"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?{width:e.width,height:e.height}:"undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:r}:{width:t>=0?t:1,height:r>=0?r:1},Object(m.a)(n,"Could not deduced texture size"),Object(m.a)(void 0===t||n.width===t,"Deduced texture width does not match supplied width"),Object(m.a)(void 0===r||n.height===r,"Deduced texture height does not match supplied height"),n}},{key:"_createHandle",value:function(){return this.gl.createTexture()}},{key:"_deleteHandle",value:function(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}},{key:"_getParameter",value:function(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);var t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}},{key:"_setParameter",value:function(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:Object(m.a)(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}},{key:"_isNPOT",value:function(){return!Object(p.g)(this.gl)&&(!(!this.width||!this.height)&&(!Object(d.b)(this.width)||!Object(d.b)(this.height)))}},{key:"_updateForNPOT",value:function(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}},{key:"_getNPOTParam",value:function(e,t){if(this._isNPOT())switch(e){case 10241:-1===g.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}]),t}(u.a)},function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var n="undefined"!==typeof window?window:e,i=("undefined"!==typeof e||window,"undefined"!==typeof document?document:{})}).call(this,r(61))},function(e,t,r){"use strict";var n=!0,i="Invariant failed";t.a=function(e,t){if(!e)throw n?new Error(i):new Error(i+": "+(t||""))}},function(e,t,r){"use strict";(function(e,n){r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s}));var i=r(80),a={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof e&&e,document:"undefined"!==typeof document&&document,process:"object"===("undefined"===typeof n?"undefined":Object(i.a)(n))&&n},o=a.window||a.self||a.global,s=a.process||{};console}).call(this,r(61),r(85))},function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));var n=r(16);function i(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function a(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,e}!function(){var e=function(){var e=new n.a(4);return n.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}()}()},function(e,t,r){"use strict";var n=r(0),i=r.n(n).a.createContext({});t.a=i},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var n=function(e){return e.scrollTop};function i(e,t){var r=e.timeout,n=e.style,i=void 0===n?{}:n;return{duration:i.transitionDuration||"number"===typeof r?r:r[t.mode]||0,delay:i.transitionDelay}}},function(e,t,r){"use strict";var n=r(178);function i(e,t,r){return(i=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return r&&Object(n.a)(a,r.prototype),a}).apply(null,arguments)}var a=r(30),o=r(21),s=r(128),u=r(29),c=r(265);r.d(t,"a",(function(){return h}));var l={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},p={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}},h=function(){function e(){var t=this;Object(a.a)(this,e);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];n.forEach((function(e){return t._assign(e)})),Object.freeze(this)}return Object(o.a)(e,null,[{key:"getBytesPerElement",value:function(e){return Object(s.c)(e.type||5126).BYTES_PER_ELEMENT}},{key:"getBytesPerVertex",value:function(e){return Object(u.a)(e.size),Object(s.c)(e.type||5126).BYTES_PER_ELEMENT*e.size}},{key:"resolve",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i(e,[l].concat(r))}}]),Object(o.a)(e,[{key:"toString",value:function(){return JSON.stringify(this)}},{key:"_assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0!==(e=Object(c.a)("Accessor",e,p)).type&&(this.type=e.type,5124!==e.type&&5125!==e.type||(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&("boolean"===typeof index?this.index=e.index?1:0:this.index=e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}},{key:"BYTES_PER_ELEMENT",get:function(){return e.getBytesPerElement(this)}},{key:"BYTES_PER_VERTEX",get:function(){return e.getBytesPerVertex(this)}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return m})),r.d(t,"d",(function(){return g}));var n=r(123),i=r(20);function a(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function o(e){var t=e.viewMatrix,r=e.viewMatrixInverse;return{eye:[r[12],r[13],r[14]],direction:[-t[2],-t[6],-t[10]],up:[t[1],t[5],t[9]],right:[t[0],t[4],t[8]]}}var s,u=new i.b,c=new i.b,l=new i.b,p=new i.b,h=new i.b,f=new i.b,d=new i.b;function m(e){var t=e.aspect,r=e.near,n=e.far,a=e.fovyRadians,o=e.position,s=e.direction,m=e.up,g=e.right;c.copy(s);var v=1/c.len();c.normalize(),u.copy(o),l.copy(m);var y=1/l.len();l.normalize(),p.copy(g).normalize();var b=2*Math.tan(a/2)*r*y,_=b*t;h.copy(c).scale(r*v).add(u),f.copy(c).scale(n*v).add(u);var x=c.clone().negate(),w=x.dot(h),O={near:{distance:w,normal:x},far:{distance:c.dot(f),normal:c.clone()}};return d.copy(p).scale(.5*_).add(h).subtract(u).normalize(),x=new i.b(d).cross(l),w=u.dot(x),O.right={normal:x,distance:w},d.copy(p).scale(.5*-_).add(h).subtract(u).normalize(),x=new i.b(l).cross(d),w=u.dot(x),O.left={normal:x,distance:w},d.copy(l).scale(.5*b).add(h).subtract(u).normalize(),x=new i.b(p).cross(d),w=u.dot(x),O.top={normal:x,distance:w},d.copy(l).scale(.5*-b).add(h).subtract(u).normalize(),x=new i.b(d).cross(p),w=u.dot(x),O.bottom={normal:x,distance:w},O}function g(e,t){var r=t.size,i=void 0===r?1:r,a=t.startIndex,o=void 0===a?0:a,u=t.endIndex;Number.isFinite(u)||(u=e.length);var c=(u-o)/i;s=n.a.allocate(s,c,{type:Float32Array,size:2*i});for(var l,p=o,h=0;p<u;){for(var f=0;f<i;f++){var d=e[p++];s[h+f]=d,s[h+f+i]=(l=d)-Math.fround(l)}h+=2*i}return s.subarray(0,c*i*2)}},function(e,t,r){"use strict";var n=r(2);function i(e){return"/"===e.charAt(0)}function a(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}var o=function(e,t){void 0===t&&(t="");var r,n=e&&e.split("/")||[],o=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";if(o.length){var l=o[o.length-1];r="."===l||".."===l||""===l}else r=!1;for(var p=0,h=o.length;h>=0;h--){var f=o[h];"."===f?a(o,h):".."===f?(a(o,h),p++):p&&(a(o,h),p--)}if(!c)for(;p--;p)o.unshift("..");!c||""===o[0]||o[0]&&i(o[0])||o.unshift("");var d=o.join("/");return r&&"/"!==d.substr(-1)&&(d+="/"),d};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if(Array.isArray(t))return Array.isArray(r)&&t.length===r.length&&t.every((function(t,n){return e(t,r[n])}));if("object"===typeof t||"object"===typeof r){var n=s(t),i=s(r);return n!==t||i!==r?e(n,i):Object.keys(Object.assign({},t,r)).every((function(n){return e(t[n],r[n])}))}return!1},c=r(75);function l(e){return"/"===e.charAt(0)?e:"/"+e}function p(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function f(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function d(e){var t=e.pathname,r=e.search,n=e.hash,i=t||"/";return r&&"?"!==r&&(i+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(i+="#"===n.charAt(0)?n:"#"+n),i}function m(e,t,r,i){var a;"string"===typeof e?(a=function(e){var t=e||"/",r="",n="",i=t.indexOf("#");-1!==i&&(n=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(r=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}(e)).state=t:(void 0===(a=Object(n.a)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return r&&(a.key=r),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,r,n,i){if(null!=e){var a="function"===typeof e?e(t,r):e;"string"===typeof a?"function"===typeof n?n(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var r=!0;function n(){r&&e.apply(void 0,arguments)}return t.push(n),function(){r=!1,t=t.filter((function(e){return e!==n}))}},notifyListeners:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.forEach((function(e){return e.apply(void 0,r)}))}}}r.d(t,"a",(function(){return O})),r.d(t,"b",(function(){return P})),r.d(t,"d",(function(){return A})),r.d(t,"c",(function(){return m})),r.d(t,"f",(function(){return g})),r.d(t,"e",(function(){return d}));var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var _="popstate",x="hashchange";function w(){try{return window.history.state||{}}catch(e){return{}}}function O(e){void 0===e&&(e={}),y||Object(c.a)(!1);var t=window.history,r=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,s=void 0!==o&&o,u=a.getUserConfirmation,p=void 0===u?b:u,g=a.keyLength,O=void 0===g?6:g,k=e.basename?f(l(e.basename)):"";function E(e){var t=e||{},r=t.key,n=t.state,i=window.location,a=i.pathname+i.search+i.hash;return k&&(a=h(a,k)),m(a,n,r)}function T(){return Math.random().toString(36).substr(2,O)}var S=v();function j(e){Object(n.a)(N,e),N.length=t.length,S.notifyListeners(N.location,N.action)}function P(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||M(E(e.state))}function C(){M(E(w()))}var A=!1;function M(e){if(A)A=!1,j();else{S.confirmTransitionTo(e,"POP",p,(function(t){t?j({action:"POP",location:e}):function(e){var t=N.location,r=R.indexOf(t.key);-1===r&&(r=0);var n=R.indexOf(e.key);-1===n&&(n=0);var i=r-n;i&&(A=!0,z(i))}(e)}))}}var I=E(w()),R=[I.key];function L(e){return k+d(e)}function z(e){t.go(e)}var D=0;function F(e){1===(D+=e)&&1===e?(window.addEventListener(_,P),i&&window.addEventListener(x,C)):0===D&&(window.removeEventListener(_,P),i&&window.removeEventListener(x,C))}var B=!1;var N={length:t.length,action:"POP",location:I,createHref:L,push:function(e,n){var i=m(e,n,T(),N.location);S.confirmTransitionTo(i,"PUSH",p,(function(e){if(e){var n=L(i),a=i.key,o=i.state;if(r)if(t.pushState({key:a,state:o},null,n),s)window.location.href=n;else{var u=R.indexOf(N.location.key),c=R.slice(0,u+1);c.push(i.key),R=c,j({action:"PUSH",location:i})}else window.location.href=n}}))},replace:function(e,n){var i=m(e,n,T(),N.location);S.confirmTransitionTo(i,"REPLACE",p,(function(e){if(e){var n=L(i),a=i.key,o=i.state;if(r)if(t.replaceState({key:a,state:o},null,n),s)window.location.replace(n);else{var u=R.indexOf(N.location.key);-1!==u&&(R[u]=i.key),j({action:"REPLACE",location:i})}else window.location.replace(n)}}))},go:z,goBack:function(){z(-1)},goForward:function(){z(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return B||(F(1),B=!0),function(){return B&&(B=!1,F(-1)),t()}},listen:function(e){var t=S.appendListener(e);return F(1),function(){F(-1),t()}}};return N}var k="hashchange",E={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+p(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:p,decodePath:l},slash:{encodePath:l,decodePath:l}};function T(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function S(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function j(e){window.location.replace(T(window.location.href)+"#"+e)}function P(e){void 0===e&&(e={}),y||Object(c.a)(!1);var t=window.history,r=(window.navigator.userAgent.indexOf("Firefox"),e),i=r.getUserConfirmation,a=void 0===i?b:i,o=r.hashType,s=void 0===o?"slash":o,u=e.basename?f(l(e.basename)):"",p=E[s],g=p.encodePath,_=p.decodePath;function x(){var e=_(S());return u&&(e=h(e,u)),m(e)}var w=v();function O(e){Object(n.a)(N,e),N.length=t.length,w.notifyListeners(N.location,N.action)}var P=!1,C=null;function A(){var e,t,r=S(),n=g(r);if(r!==n)j(n);else{var i=x(),o=N.location;if(!P&&(t=i,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(C===d(i))return;C=null,function(e){if(P)P=!1,O();else{w.confirmTransitionTo(e,"POP",a,(function(t){t?O({action:"POP",location:e}):function(e){var t=N.location,r=L.lastIndexOf(d(t));-1===r&&(r=0);var n=L.lastIndexOf(d(e));-1===n&&(n=0);var i=r-n;i&&(P=!0,z(i))}(e)}))}}(i)}}var M=S(),I=g(M);M!==I&&j(I);var R=x(),L=[d(R)];function z(e){t.go(e)}var D=0;function F(e){1===(D+=e)&&1===e?window.addEventListener(k,A):0===D&&window.removeEventListener(k,A)}var B=!1;var N={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),r="";return t&&t.getAttribute("href")&&(r=T(window.location.href)),r+"#"+g(u+d(e))},push:function(e,t){var r=m(e,void 0,void 0,N.location);w.confirmTransitionTo(r,"PUSH",a,(function(e){if(e){var t=d(r),n=g(u+t);if(S()!==n){C=t,function(e){window.location.hash=e}(n);var i=L.lastIndexOf(d(N.location)),a=L.slice(0,i+1);a.push(t),L=a,O({action:"PUSH",location:r})}else O()}}))},replace:function(e,t){var r=m(e,void 0,void 0,N.location);w.confirmTransitionTo(r,"REPLACE",a,(function(e){if(e){var t=d(r),n=g(u+t);S()!==n&&(C=t,j(n));var i=L.indexOf(d(N.location));-1!==i&&(L[i]=t),O({action:"REPLACE",location:r})}}))},go:z,goBack:function(){z(-1)},goForward:function(){z(1)},block:function(e){void 0===e&&(e=!1);var t=w.setPrompt(e);return B||(F(1),B=!0),function(){return B&&(B=!1,F(-1)),t()}},listen:function(e){var t=w.appendListener(e);return F(1),function(){F(-1),t()}}};return N}function C(e,t,r){return Math.min(Math.max(e,t),r)}function A(e){void 0===e&&(e={});var t=e,r=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,s=void 0===o?0:o,u=t.keyLength,c=void 0===u?6:u,l=v();function p(e){Object(n.a)(_,e),_.length=_.entries.length,l.notifyListeners(_.location,_.action)}function h(){return Math.random().toString(36).substr(2,c)}var f=C(s,0,a.length-1),g=a.map((function(e){return m(e,void 0,"string"===typeof e?h():e.key||h())})),y=d;function b(e){var t=C(_.index+e,0,_.entries.length-1),n=_.entries[t];l.confirmTransitionTo(n,"POP",r,(function(e){e?p({action:"POP",location:n,index:t}):p()}))}var _={length:g.length,action:"POP",location:g[f],index:f,entries:g,createHref:y,push:function(e,t){var n=m(e,t,h(),_.location);l.confirmTransitionTo(n,"PUSH",r,(function(e){if(e){var t=_.index+1,r=_.entries.slice(0);r.length>t?r.splice(t,r.length-t,n):r.push(n),p({action:"PUSH",location:n,index:t,entries:r})}}))},replace:function(e,t){var n=m(e,t,h(),_.location);l.confirmTransitionTo(n,"REPLACE",r,(function(e){e&&(_.entries[_.index]=n,p({action:"REPLACE",location:n}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=_.index+e;return t>=0&&t<_.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return _}},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var u,c=[],l=!1,p=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):p=-1,c.length&&f())}function f(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++p<t;)u&&u[p].run();p=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||l||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(92),i=r(171);function a(e,t){return e===t}function o(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}function s(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}!function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n]}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,r=null,n=null;return function(){return o(t,r,arguments)||(n=e.apply(null,arguments)),r=arguments,n}}));var u=r(236);function c(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){return"function"===typeof i?i(r,n,e):t(i)}}}}var l=c();l.withExtraArgument=c;var p=l;r(296);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return y}));var d=!0;function m(e){var t,r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?function(e){void 0===e&&(e={});var t=e,r=t.thunk,n=void 0===r||r,i=(t.immutableCheck,t.serializableCheck,[]);return n&&("boolean"===typeof n?i.push(p):i.push(p.withExtraArgument(n.extraArgument))),i}():o,c=r.devTools,l=void 0===c||c,m=r.preloadedState,g=void 0===m?void 0:m,v=r.enhancers,y=void 0===v?void 0:v;if("function"===typeof a)t=a;else{if(!f(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Object(n.combineReducers)(a)}var b=n.applyMiddleware.apply(void 0,s),_=n.compose;l&&(_=Object(u.composeWithDevTools)(h({trace:!d},"object"===typeof l&&l)));var x=[b];Array.isArray(y)?x=[b].concat(y):"function"===typeof y&&(x=y(x));var w=_.apply(void 0,x);return Object(n.createStore)(t,g,w)}function g(e,t){function r(){if(t){var r=t.apply(void 0,arguments);if(!r)throw new Error("prepareAction did not return an object");return h({type:e,payload:r.payload},"meta"in r&&{meta:r.meta},{},"error"in r&&{error:r.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(t){return t.type===e},r}function v(e){var t={},r={addCase:function(e,n){var i="string"===typeof e?e:e.type;if(i in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[i]=n,r}};return e(r),t}function y(e){var t=e.name,r=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var n=e.reducers||{},a="undefined"===typeof e.extraReducers?{}:"function"===typeof e.extraReducers?v(e.extraReducers):e.extraReducers,o=Object.keys(n),s={},u={},c={};o.forEach((function(e){var r,i,a=n[e],o=t+"/"+e;"reducer"in a?(r=a.reducer,i=a.prepare):r=a,s[e]=r,u[o]=r,c[e]=i?g(o,i):g(o)}));var l=function(e,t){var r="function"===typeof t?v(t):t;return function(t,n){return void 0===t&&(t=e),Object(i.a)(t,(function(e){var t=r[n.type];return t?t(e,n):void 0}))}}(r,h({},a,{},u));return{name:t,reducer:l,actions:c,caseReducers:s}}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a,o,s,u=r(1),c=r(17);r.d(t,"c",(function(){return l})),r.d(t,"e",(function(){return m})),r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return y})),r.d(t,"d",(function(){return _}));var l=(a={},Object(u.a)(a,3042,!1),Object(u.a)(a,32773,new Float32Array([0,0,0,0])),Object(u.a)(a,32777,32774),Object(u.a)(a,34877,32774),Object(u.a)(a,32969,1),Object(u.a)(a,32968,0),Object(u.a)(a,32971,1),Object(u.a)(a,32970,0),Object(u.a)(a,3106,new Float32Array([0,0,0,0])),Object(u.a)(a,3107,[!0,!0,!0,!0]),Object(u.a)(a,2884,!1),Object(u.a)(a,2885,1029),Object(u.a)(a,2929,!1),Object(u.a)(a,2931,1),Object(u.a)(a,2932,513),Object(u.a)(a,2928,new Float32Array([0,1])),Object(u.a)(a,2930,!0),Object(u.a)(a,3024,!0),Object(u.a)(a,36006,null),Object(u.a)(a,2886,2305),Object(u.a)(a,33170,4352),Object(u.a)(a,2849,1),Object(u.a)(a,32823,!1),Object(u.a)(a,32824,0),Object(u.a)(a,10752,0),Object(u.a)(a,32938,1),Object(u.a)(a,32939,!1),Object(u.a)(a,3089,!1),Object(u.a)(a,3088,new Int32Array([0,0,1024,1024])),Object(u.a)(a,2960,!1),Object(u.a)(a,2961,0),Object(u.a)(a,2968,4294967295),Object(u.a)(a,36005,4294967295),Object(u.a)(a,2962,519),Object(u.a)(a,2967,0),Object(u.a)(a,2963,4294967295),Object(u.a)(a,34816,519),Object(u.a)(a,36003,0),Object(u.a)(a,36004,4294967295),Object(u.a)(a,2964,7680),Object(u.a)(a,2965,7680),Object(u.a)(a,2966,7680),Object(u.a)(a,34817,7680),Object(u.a)(a,34818,7680),Object(u.a)(a,34819,7680),Object(u.a)(a,2978,[0,0,1024,1024]),Object(u.a)(a,3333,4),Object(u.a)(a,3317,4),Object(u.a)(a,37440,!1),Object(u.a)(a,37441,!1),Object(u.a)(a,37443,37444),Object(u.a)(a,35723,4352),Object(u.a)(a,36010,null),Object(u.a)(a,35977,!1),Object(u.a)(a,3330,0),Object(u.a)(a,3332,0),Object(u.a)(a,3331,0),Object(u.a)(a,3314,0),Object(u.a)(a,32878,0),Object(u.a)(a,3316,0),Object(u.a)(a,3315,0),Object(u.a)(a,32877,0),a),p=function(e,t,r){return t?e.enable(r):e.disable(r)},h=function(e,t,r){return e.hint(r,t)},f=function(e,t,r){return e.pixelStorei(r,t)};function d(e){return Array.isArray(e)||ArrayBuffer.isView(e)}var m=(o={},Object(u.a)(o,3042,p),Object(u.a)(o,32773,(function(e,t){return e.blendColor.apply(e,i(t))})),Object(u.a)(o,32777,"blendEquation"),Object(u.a)(o,34877,"blendEquation"),Object(u.a)(o,32969,"blendFunc"),Object(u.a)(o,32968,"blendFunc"),Object(u.a)(o,32971,"blendFunc"),Object(u.a)(o,32970,"blendFunc"),Object(u.a)(o,3106,(function(e,t){return e.clearColor.apply(e,i(t))})),Object(u.a)(o,3107,(function(e,t){return e.colorMask.apply(e,i(t))})),Object(u.a)(o,2884,p),Object(u.a)(o,2885,(function(e,t){return e.cullFace(t)})),Object(u.a)(o,2929,p),Object(u.a)(o,2931,(function(e,t){return e.clearDepth(t)})),Object(u.a)(o,2932,(function(e,t){return e.depthFunc(t)})),Object(u.a)(o,2928,(function(e,t){return e.depthRange.apply(e,i(t))})),Object(u.a)(o,2930,(function(e,t){return e.depthMask(t)})),Object(u.a)(o,3024,p),Object(u.a)(o,35723,h),Object(u.a)(o,36006,(function(e,t){var r=Object(c.h)(e)?36009:36160;return e.bindFramebuffer(r,t)})),Object(u.a)(o,2886,(function(e,t){return e.frontFace(t)})),Object(u.a)(o,33170,h),Object(u.a)(o,2849,(function(e,t){return e.lineWidth(t)})),Object(u.a)(o,32823,p),Object(u.a)(o,32824,"polygonOffset"),Object(u.a)(o,10752,"polygonOffset"),Object(u.a)(o,35977,p),Object(u.a)(o,32938,"sampleCoverage"),Object(u.a)(o,32939,"sampleCoverage"),Object(u.a)(o,3089,p),Object(u.a)(o,3088,(function(e,t){return e.scissor.apply(e,i(t))})),Object(u.a)(o,2960,p),Object(u.a)(o,2961,(function(e,t){return e.clearStencil(t)})),Object(u.a)(o,2968,(function(e,t){return e.stencilMaskSeparate(1028,t)})),Object(u.a)(o,36005,(function(e,t){return e.stencilMaskSeparate(1029,t)})),Object(u.a)(o,2962,"stencilFuncFront"),Object(u.a)(o,2967,"stencilFuncFront"),Object(u.a)(o,2963,"stencilFuncFront"),Object(u.a)(o,34816,"stencilFuncBack"),Object(u.a)(o,36003,"stencilFuncBack"),Object(u.a)(o,36004,"stencilFuncBack"),Object(u.a)(o,2964,"stencilOpFront"),Object(u.a)(o,2965,"stencilOpFront"),Object(u.a)(o,2966,"stencilOpFront"),Object(u.a)(o,34817,"stencilOpBack"),Object(u.a)(o,34818,"stencilOpBack"),Object(u.a)(o,34819,"stencilOpBack"),Object(u.a)(o,2978,(function(e,t){return e.viewport.apply(e,i(t))})),Object(u.a)(o,3333,f),Object(u.a)(o,3317,f),Object(u.a)(o,37440,f),Object(u.a)(o,37441,f),Object(u.a)(o,37443,f),Object(u.a)(o,3330,f),Object(u.a)(o,3332,f),Object(u.a)(o,3331,f),Object(u.a)(o,36010,(function(e,t){return e.bindFramebuffer(36008,t)})),Object(u.a)(o,3314,f),Object(u.a)(o,32878,f),Object(u.a)(o,3316,f),Object(u.a)(o,3315,f),Object(u.a)(o,32877,f),Object(u.a)(o,"framebuffer",(function(e,t){var r=t&&"handle"in t?t.handle:t;return e.bindFramebuffer(36160,r)})),Object(u.a)(o,"blend",(function(e,t){return t?e.enable(3042):e.disable(3042)})),Object(u.a)(o,"blendColor",(function(e,t){return e.blendColor.apply(e,i(t))})),Object(u.a)(o,"blendEquation",(function(e,t){t=d(t)?t:[t,t],e.blendEquationSeparate.apply(e,i(t))})),Object(u.a)(o,"blendFunc",(function(e,t){t=d(t)&&2===t.length?[].concat(i(t),i(t)):t,e.blendFuncSeparate.apply(e,i(t))})),Object(u.a)(o,"clearColor",(function(e,t){return e.clearColor.apply(e,i(t))})),Object(u.a)(o,"clearDepth",(function(e,t){return e.clearDepth(t)})),Object(u.a)(o,"clearStencil",(function(e,t){return e.clearStencil(t)})),Object(u.a)(o,"colorMask",(function(e,t){return e.colorMask.apply(e,i(t))})),Object(u.a)(o,"cull",(function(e,t){return t?e.enable(2884):e.disable(2884)})),Object(u.a)(o,"cullFace",(function(e,t){return e.cullFace(t)})),Object(u.a)(o,"depthTest",(function(e,t){return t?e.enable(2929):e.disable(2929)})),Object(u.a)(o,"depthFunc",(function(e,t){return e.depthFunc(t)})),Object(u.a)(o,"depthMask",(function(e,t){return e.depthMask(t)})),Object(u.a)(o,"depthRange",(function(e,t){return e.depthRange.apply(e,i(t))})),Object(u.a)(o,"dither",(function(e,t){return t?e.enable(3024):e.disable(3024)})),Object(u.a)(o,"derivativeHint",(function(e,t){e.hint(35723,t)})),Object(u.a)(o,"frontFace",(function(e,t){return e.frontFace(t)})),Object(u.a)(o,"mipmapHint",(function(e,t){return e.hint(33170,t)})),Object(u.a)(o,"lineWidth",(function(e,t){return e.lineWidth(t)})),Object(u.a)(o,"polygonOffsetFill",(function(e,t){return t?e.enable(32823):e.disable(32823)})),Object(u.a)(o,"polygonOffset",(function(e,t){return e.polygonOffset.apply(e,i(t))})),Object(u.a)(o,"sampleCoverage",(function(e,t){return e.sampleCoverage.apply(e,i(t))})),Object(u.a)(o,"scissorTest",(function(e,t){return t?e.enable(3089):e.disable(3089)})),Object(u.a)(o,"scissor",(function(e,t){return e.scissor.apply(e,i(t))})),Object(u.a)(o,"stencilTest",(function(e,t){return t?e.enable(2960):e.disable(2960)})),Object(u.a)(o,"stencilMask",(function(e,t){var r=n(t=d(t)?t:[t,t],2),i=r[0],a=r[1];e.stencilMaskSeparate(1028,i),e.stencilMaskSeparate(1029,a)})),Object(u.a)(o,"stencilFunc",(function(e,t){var r=n(t=d(t)&&3===t.length?[].concat(i(t),i(t)):t,6),a=r[0],o=r[1],s=r[2],u=r[3],c=r[4],l=r[5];e.stencilFuncSeparate(1028,a,o,s),e.stencilFuncSeparate(1029,u,c,l)})),Object(u.a)(o,"stencilOp",(function(e,t){var r=n(t=d(t)&&3===t.length?[].concat(i(t),i(t)):t,6),a=r[0],o=r[1],s=r[2],u=r[3],c=r[4],l=r[5];e.stencilOpSeparate(1028,a,o,s),e.stencilOpSeparate(1029,u,c,l)})),Object(u.a)(o,"viewport",(function(e,t){return e.viewport.apply(e,i(t))})),o);function g(e,t,r){return void 0!==t[e]?t[e]:r[e]}var v={blendEquation:function(e,t,r){return e.blendEquationSeparate(g(32777,t,r),g(34877,t,r))},blendFunc:function(e,t,r){return e.blendFuncSeparate(g(32969,t,r),g(32968,t,r),g(32971,t,r),g(32970,t,r))},polygonOffset:function(e,t,r){return e.polygonOffset(g(32824,t,r),g(10752,t,r))},sampleCoverage:function(e,t,r){return e.sampleCoverage(g(32938,t,r),g(32939,t,r))},stencilFuncFront:function(e,t,r){return e.stencilFuncSeparate(1028,g(2962,t,r),g(2967,t,r),g(2963,t,r))},stencilFuncBack:function(e,t,r){return e.stencilFuncSeparate(1029,g(34816,t,r),g(36003,t,r),g(36004,t,r))},stencilOpFront:function(e,t,r){return e.stencilOpSeparate(1028,g(2964,t,r),g(2965,t,r),g(2966,t,r))},stencilOpBack:function(e,t,r){return e.stencilOpSeparate(1029,g(34817,t,r),g(34818,t,r),g(34819,t,r))}},y={enable:function(e,t){return e(Object(u.a)({},t,!0))},disable:function(e,t){return e(Object(u.a)({},t,!1))},pixelStorei:function(e,t,r){return e(Object(u.a)({},t,r))},hint:function(e,t,r){return e(Object(u.a)({},t,r))},bindFramebuffer:function(e,t,r){var n;switch(t){case 36160:return e((n={},Object(u.a)(n,36006,r),Object(u.a)(n,36010,r),n));case 36009:return e(Object(u.a)({},36006,r));case 36008:return e(Object(u.a)({},36010,r));default:return null}},blendColor:function(e,t,r,n,i){return e(Object(u.a)({},32773,new Float32Array([t,r,n,i])))},blendEquation:function(e,t){var r;return e((r={},Object(u.a)(r,32777,t),Object(u.a)(r,34877,t),r))},blendEquationSeparate:function(e,t,r){var n;return e((n={},Object(u.a)(n,32777,t),Object(u.a)(n,34877,r),n))},blendFunc:function(e,t,r){var n;return e((n={},Object(u.a)(n,32969,t),Object(u.a)(n,32968,r),Object(u.a)(n,32971,t),Object(u.a)(n,32970,r),n))},blendFuncSeparate:function(e,t,r,n,i){var a;return e((a={},Object(u.a)(a,32969,t),Object(u.a)(a,32968,r),Object(u.a)(a,32971,n),Object(u.a)(a,32970,i),a))},clearColor:function(e,t,r,n,i){return e(Object(u.a)({},3106,new Float32Array([t,r,n,i])))},clearDepth:function(e,t){return e(Object(u.a)({},2931,t))},clearStencil:function(e,t){return e(Object(u.a)({},2961,t))},colorMask:function(e,t,r,n,i){return e(Object(u.a)({},3107,[t,r,n,i]))},cullFace:function(e,t){return e(Object(u.a)({},2885,t))},depthFunc:function(e,t){return e(Object(u.a)({},2932,t))},depthRange:function(e,t,r){return e(Object(u.a)({},2928,new Float32Array([t,r])))},depthMask:function(e,t){return e(Object(u.a)({},2930,t))},frontFace:function(e,t){return e(Object(u.a)({},2886,t))},lineWidth:function(e,t){return e(Object(u.a)({},2849,t))},polygonOffset:function(e,t,r){var n;return e((n={},Object(u.a)(n,32824,t),Object(u.a)(n,10752,r),n))},sampleCoverage:function(e,t,r){var n;return e((n={},Object(u.a)(n,32938,t),Object(u.a)(n,32939,r),n))},scissor:function(e,t,r,n,i){return e(Object(u.a)({},3088,new Int32Array([t,r,n,i])))},stencilMask:function(e,t){var r;return e((r={},Object(u.a)(r,2968,t),Object(u.a)(r,36005,t),r))},stencilMaskSeparate:function(e,t,r){return e(Object(u.a)({},1028===t?2968:36005,r))},stencilFunc:function(e,t,r,n){var i;return e((i={},Object(u.a)(i,2962,t),Object(u.a)(i,2967,r),Object(u.a)(i,2963,n),Object(u.a)(i,34816,t),Object(u.a)(i,36003,r),Object(u.a)(i,36004,n),i))},stencilFuncSeparate:function(e,t,r,n,i){var a;return e((a={},Object(u.a)(a,1028===t?2962:34816,r),Object(u.a)(a,1028===t?2967:36003,n),Object(u.a)(a,1028===t?2963:36004,i),a))},stencilOp:function(e,t,r,n){var i;return e((i={},Object(u.a)(i,2964,t),Object(u.a)(i,2965,r),Object(u.a)(i,2966,n),Object(u.a)(i,34817,t),Object(u.a)(i,34818,r),Object(u.a)(i,34819,n),i))},stencilOpSeparate:function(e,t,r,n,i){var a;return e((a={},Object(u.a)(a,1028===t?2964:34817,r),Object(u.a)(a,1028===t?2965:34818,n),Object(u.a)(a,1028===t?2966:34819,i),a))},viewport:function(e,t,r,n,i){return e(Object(u.a)({},2978,[t,r,n,i]))}},b=function(e,t){return e.isEnabled(t)},_=(s={},Object(u.a)(s,3042,b),Object(u.a)(s,2884,b),Object(u.a)(s,2929,b),Object(u.a)(s,3024,b),Object(u.a)(s,32823,b),Object(u.a)(s,32926,b),Object(u.a)(s,32928,b),Object(u.a)(s,3089,b),Object(u.a)(s,2960,b),Object(u.a)(s,35977,b),s)},,function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return p})),r.d(t,"c",(function(){return h})),r.d(t,"b",(function(){return f}));var n=r(242),i=r(243),a=r(88),o=r(109),s=r(17);function u(e,t){var r=e[t].bind(e);e[t]=function(){var t=arguments.length<=0?void 0:arguments[0];return t in e.state.cache||(e.state.cache[t]=r.apply(void 0,arguments)),e.state.enable?e.state.cache[t]:r.apply(void 0,arguments)},Object.defineProperty(e[t],"name",{value:"".concat(t,"-from-cache"),configurable:!1})}function c(e,t,r){var n=e[t].bind(e);e[t]=function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var o=r.apply(void 0,[e.state._updateCache].concat(i)),s=o.valueChanged,u=o.oldValue;return s&&n.apply(void 0,i),u},Object.defineProperty(e[t],"name",{value:"".concat(t,"-to-cache"),configurable:!1})}var l=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.copyState,s=void 0!==i&&i,u=r.log,c=void 0===u?function(){}:u;Object(n.a)(this,e),this.gl=t,this.program=null,this.stateStack=[],this.enable=!0,this.cache=s?Object(o.a)(t):Object.assign({},a.c),this.log=c,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return Object(i.a)(e,[{key:"push",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.stateStack.push({})}},{key:"pop",value:function(){Object(s.a)(this.stateStack.length>0);var e=this.stateStack[this.stateStack.length-1];Object(o.c)(this.gl,e,this.cache),this.stateStack.pop()}},{key:"_updateCache",value:function(e){var t,r=!1,n=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var i in e){Object(s.a)(void 0!==i);var a=e[i],o=this.cache[i];Object(s.d)(a,o)||(r=!0,t=o,!n||i in n||(n[i]=o),this.cache[i]=a)}return{valueChanged:r,oldValue:t}}}]),e}();function p(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.enable,i=void 0===n||n,o=r.copyState;if(Object(s.a)(void 0!==o),!t.state){var p="undefined"!==typeof e?e:window;for(var h in p.polyfillContext&&p.polyfillContext(t),t.state=new l(t,{copyState:o,enable:i}),function(e){var t=e.useProgram.bind(e);e.useProgram=function(r){e.state.program!==r&&(t(r),e.state.program=r)}}(t),a.b){c(t,h,a.b[h])}u(t,"getParameter"),u(t,"isEnabled")}return t.state.enable=i,t}function h(e){e.state||p(e,{copyState:!1}),e.state.push()}function f(e){Object(s.a)(e.state),e.state.pop()}}).call(this,r(61))},function(e,t,r){"use strict";r.r(t),r.d(t,"__DO_NOT_USE__ActionTypes",(function(){return a})),r.d(t,"applyMiddleware",(function(){return g})),r.d(t,"bindActionCreators",(function(){return p})),r.d(t,"combineReducers",(function(){return c})),r.d(t,"compose",(function(){return m})),r.d(t,"createStore",(function(){return s}));var n=r(197),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function o(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,r){var i;if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.");return r(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,l=[],p=l,h=!1;function f(){p===l&&(p=l.slice())}function d(){if(h)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function m(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(h)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return f(),p.push(e),function(){if(t){if(h)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,f();var r=p.indexOf(e);p.splice(r,1),l=null}}}function g(e){if(!o(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,c=u(c,e)}finally{h=!1}for(var t=l=p,r=0;r<t.length;r++){(0,t[r])()}return e}return g({type:a.INIT}),(i={dispatch:g,subscribe:m,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,g({type:a.REPLACE})}})[n.a]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(d())}return r(),{unsubscribe:t(r)}}})[n.a]=function(){return this},e},i}function u(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];0,"function"===typeof e[i]&&(r[i]=e[i])}var o,s=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if("undefined"===typeof r(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof r(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(r)}catch(c){o=c}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var n=!1,i={},a=0;a<s.length;a++){var c=s[a],l=r[c],p=e[c],h=l(p,t);if("undefined"===typeof h){var f=u(c,t);throw new Error(f)}i[c]=h,n=n||h!==p}return(n=n||s.length!==Object.keys(e).length)?i:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"===typeof e)return l(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in e){var i=e[n];"function"===typeof i&&(r[n]=l(i,t))}return r}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(r,!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function g(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return d({},r,{dispatch:n=m.apply(void 0,a)(r.dispatch)})}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));var n=r(4),i=r(124),a=r(30),o=r(41),s=r(50),u=r(35),c=r(137),l=r(21),p=r(40),h=r(9),f=r(56),d=r(136),m=r(126),g=r(199),v=r(207),y=r(371),b=r(107),_=r(118),x=r(29),w=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(this,t),(r=Object(o.a)(this,Object(u.a)(t).call(this,e,n))).width=null,r.height=null,r.attachments={},r.readBuffer=36064,r.drawBuffers=[36064],r.ownResources=[],r.initialize(n),Object.seal(Object(s.a)(r)),r}return Object(p.a)(t,e),Object(l.a)(t,[{key:"MAX_COLOR_ATTACHMENTS",get:function(){return this.gl.getParameter(this.gl.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){return this.gl.getParameter(this.gl.MAX_DRAW_BUFFERS)}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.colorBufferFloat,n=t.colorBufferHalfFloat,i=!0;return r&&(i=Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),n&&(i=i&&Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("EXT_color_buffer_half_float"))),i}},{key:"getDefaultFramebuffer",value:function(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new t(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}}]),Object(l.a)(t,[{key:"initialize",value:function(e){var t=e.width,r=void 0===t?1:t,n=e.height,i=void 0===n?1:n,a=e.attachments,o=void 0===a?null:a,s=e.color,u=void 0===s||s,c=e.depth,l=void 0===c||c,p=e.stencil,h=void 0!==p&&p,f=e.check,d=void 0===f||f,m=e.readBuffer,g=e.drawBuffers;if(Object(x.a)(r>=0&&i>=0,"Width and height need to be integers"),this.width=r,this.height=i,o)for(var v in o){var y=o[v];(Array.isArray(y)?y[0]:y).resize({width:r,height:i})}else o=this._createDefaultAttachments(u,l,h,r,i);this.update({clearAttachments:!0,attachments:o,readBuffer:m,drawBuffers:g}),o&&d&&this.checkStatus()}},{key:"delete",value:function(){var e=!0,r=!1,n=void 0;try{for(var i,a=this.ownResources[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){i.value.delete()}}catch(o){r=!0,n=o}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}Object(c.a)(Object(u.a)(t.prototype),"delete",this).call(this)}},{key:"update",value:function(e){var t=e.attachments,r=void 0===t?{}:t,n=e.readBuffer,i=e.drawBuffers,a=e.clearAttachments,o=void 0!==a&&a,s=e.resizeAttachments,u=void 0===s||s;this.attach(r,{clearAttachments:o,resizeAttachments:u});var c=this.gl,l=c.bindFramebuffer(36160,this.handle);return n&&this._setReadBuffer(n),i&&this._setDrawBuffers(i),c.bindFramebuffer(36160,l||null),this}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,r=e.height;if(null===this.handle)return Object(x.a)(void 0===t&&void 0===r),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var n in void 0===t&&(t=this.gl.drawingBufferWidth),void 0===r&&(r=this.gl.drawingBufferHeight),t!==this.width&&r!==this.height&&h.h.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(r))(),this.attachments)this.attachments[n].resize({width:t,height:r});return this.width=t,this.height=r,this}},{key:"attach",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.clearAttachments,a=void 0!==n&&n,o=r.resizeAttachments,s=void 0===o||o,u={};a&&Object.keys(this.attachments).forEach((function(e){u[e]=null})),Object.assign(u,e);var c=this.gl.bindFramebuffer(36160,this.handle);for(var l in u){Object(x.a)(void 0!==l,"Misspelled framebuffer binding point?");var p=Number(l),h=u[p],f=h;if(f)if(f instanceof m.a)this._attachRenderbuffer({attachment:p,renderbuffer:f});else if(Array.isArray(h)){var d=Object(i.a)(h,3),g=d[0],v=d[1],y=void 0===v?0:v,b=d[2],_=void 0===b?0:b;f=g,this._attachTexture({attachment:p,texture:g,layer:y,level:_})}else this._attachTexture({attachment:p,texture:f,layer:0,level:0});else this._unattach(p);s&&f&&f.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,c||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter((function(e){return!t.attachments[e]})).forEach((function(e){delete t.attachments[e]}))}},{key:"checkStatus",value:function(){this.gl;var e=this.getStatus();if(36053!==e)throw new Error(O(e));return this}},{key:"getStatus",value:function(){var e=this.gl,t=e.bindFramebuffer(36160,this.handle),r=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),r}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,r=e.depth,n=e.stencil,i=e.drawBuffers,a=void 0===i?[]:i,o=this.gl.bindFramebuffer(36160,this.handle);return(t||r||n)&&Object(g.a)(this.gl,{color:t,depth:r,stencil:n}),a.forEach((function(e,t){Object(g.b)({drawBuffer:t,value:e})})),this.gl.bindFramebuffer(36160,o||null),this}},{key:"readPixels",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h.h.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}},{key:"readPixelsToBuffer",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h.h.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}},{key:"copyToDataUrl",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h.h.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}},{key:"copyToImage",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h.h.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}},{key:"copyToTexture",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h.h.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}},{key:"blit",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h.h.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}},{key:"invalidate",value:function(e){var t=e.attachments,r=void 0===t?[]:t,n=e.x,i=void 0===n?0:n,a=e.y,o=void 0===a?0:a,s=e.width,u=e.height,c=this.gl;Object(b.a)(c);var l=c.bindFramebuffer(36008,this.handle);return 0===i&&0===o&&void 0===s&&void 0===u?c.invalidateFramebuffer(36008,r):c.invalidateFramebuffer(36008,r,i,o,s,u),c.bindFramebuffer(36008,l),this}},{key:"getAttachmentParameter",value:function(e,t,r){var n=this._getAttachmentParameterFallback(t);return null===n&&(this.gl.bindFramebuffer(36160,this.handle),n=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),r&&n>1e3&&(n=Object(_.a)(this.gl,n)),n}},{key:"getAttachmentParameters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[],n={},i=!0,a=!1,o=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=t?Object(_.a)(this.gl,c):c;n[l]=this.getAttachmentParameter(e,c,t)}}catch(p){a=!0,o=p}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return n}},{key:"getParameters",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object.keys(this.attachments),r={},n=0,i=t;n<i.length;n++){var a=i[n],o=Number(a),s=e?Object(_.a)(this.gl,o):o;r[s]=this.getAttachmentParameters(o,e)}return r}},{key:"show",value:function(){return"undefined"!==typeof window&&window.open(Object(v.a)(this),"luma-debug-texture"),this}},{key:"log",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>h.h.level||"undefined"===typeof window)return this;t=t||"Framebuffer ".concat(this.id);var r=Object(v.a)(this,{maxHeight:100});return h.h.image({logLevel:e,message:t,image:r},t)(),this}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=void 0===t?36160:t;return this.gl.bindFramebuffer(r,this.handle),this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=void 0===t?36160:t;return this.gl.bindFramebuffer(r,null),this}},{key:"_createDefaultAttachments",value:function(e,t,r,i,a){var o,s=null;e&&((s=s||{})[36064]=new d.a(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:i,height:a,mipmaps:!1,parameters:(o={},Object(n.a)(o,10241,9729),Object(n.a)(o,10240,9729),Object(n.a)(o,10242,33071),Object(n.a)(o,10243,33071),o)}),this.ownResources.push(s[36064]));return t&&r?((s=s||{})[33306]=new m.a(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:i,height:111}),this.ownResources.push(s[33306])):t?((s=s||{})[36096]=new m.a(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:i,height:a}),this.ownResources.push(s[36096])):r&&Object(x.a)(!1),s}},{key:"_unattach",value:function(e){var t=this.attachments[e];t&&(t instanceof m.a?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}},{key:"_attachRenderbuffer",value:function(e){var t=e.attachment,r=void 0===t?36064:t,n=e.renderbuffer;this.gl.framebufferRenderbuffer(36160,r,36161,n.handle),this.attachments[r]=n}},{key:"_attachTexture",value:function(e){var t=e.attachment,r=void 0===t?36064:t,n=e.texture,i=e.layer,a=e.level,o=this.gl;switch(o.bindTexture(n.target,n.handle),n.target){case 35866:case 32879:o.framebufferTextureLayer(36160,r,n.target,a,i);break;case 34067:var s=function(e){return e<34069?e+34069:e}(i);o.framebufferTexture2D(36160,r,s,n.handle,a);break;case 3553:o.framebufferTexture2D(36160,r,3553,n.handle,a);break;default:Object(x.a)(!1,"Illegal texture type")}o.bindTexture(n.target,null),this.attachments[r]=n}},{key:"_setReadBuffer",value:function(e){var t=this.gl;Object(h.g)(t)?t.readBuffer(e):Object(x.a)(36064===e||1029===e,"Multiple render targets not supported"),this.readBuffer=e}},{key:"_setDrawBuffers",value:function(e){var t=this.gl;if(Object(h.g)(t))t.drawBuffers(e);else{var r=t.getExtension("WEBGL.draw_buffers");r?r.drawBuffersWEBGL(e):Object(x.a)(1===e.length&&(36064===e[0]||1029===e[0]),"Multiple render targets not supported")}this.drawBuffers=e}},{key:"_getAttachmentParameterFallback",value:function(e){var t=Object(y.a)(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}},{key:"_createHandle",value:function(){return this.gl.createFramebuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteFramebuffer(this.handle)}},{key:"_bindHandle",value:function(e){return this.gl.bindFramebuffer(36160,e)}},{key:"color",get:function(){return this.attachments[36064]||null}},{key:"texture",get:function(){return this.attachments[36064]||null}},{key:"depth",get:function(){return this.attachments[36096]||this.attachments[33306]||null}},{key:"stencil",get:function(){return this.attachments[36128]||this.attachments[33306]||null}}]),t}(f.a);function O(e){return(w.STATUS||{})[e]||"Framebuffer error ".concat(e)}w.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303]},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(7),i=r(6);function a(){}var o={onStart:a,onUpdate:a,onInterrupt:a,onEnd:a},s=function(){function e(t){Object(n.a)(this,e),this._inProgress=!1,this._handle=null,this.timeline=t,this.settings={}}return Object(i.a)(e,[{key:"start",value:function(e){this.cancel(),this.settings=Object.assign({},o,e),this._inProgress=!0;var t=this.timeline,r=this.settings;this._handle=t.addChannel({delay:t.getTime(),duration:r.duration}),r.onStart(this)}},{key:"end",value:function(){this._inProgress&&(this.timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,this.settings.onEnd(this))}},{key:"cancel",value:function(){this._inProgress&&(this.settings.onInterrupt(this),this.timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}},{key:"update",value:function(){return!!this._inProgress&&(this.time=this.timeline.getTime(this._handle),this._onUpdate(),this.settings.onUpdate(this),this.timeline.isFinished(this._handle)&&this.end(),!0)}},{key:"_onUpdate",value:function(){}},{key:"inProgress",get:function(){return this._inProgress}}]),e}()},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(134);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(n.a)(e,t)}},function(e,t,r){"use strict";var n=r(154);function i(e,t){return!t||"object"!==Object(n.a)(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,r){e.exports=function(){"use strict";for(var e=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e<t?t:e>r?r:e},t={},r=0,n=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<n.length;r+=1){var i=n[r];t["[object "+i+"]"]=i.toLowerCase()}var a=function(e){return t[Object.prototype.toString.call(e)]||"object"},o=Math.PI,s={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var r=0;r<=3;r++)r<3?((t[r]<0||t[r]>255)&&(t._clipped=!0),t[r]=e(t[r],0,255)):3===r&&(t[r]=e(t[r],0,1));return t},limit:e,type:a,unpack:function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==a(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},last:function(e){if(e.length<2)return null;var t=e.length-1;return"string"==a(e[t])?e[t].toLowerCase():null},PI:o,TWOPI:2*o,PITHIRD:o/3,DEG2RAD:o/180,RAD2DEG:180/o},u={format:{},autodetect:[]},c=s.last,l=s.clip_rgb,p=s.type,h=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=this;if("object"===p(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var n=c(e),i=!1;if(!n){i=!0,u.sorted||(u.autodetect=u.autodetect.sort((function(e,t){return t.p-e.p})),u.sorted=!0);for(var a=0,o=u.autodetect;a<o.length;a+=1){var s=o[a];if(n=s.test.apply(s,e))break}}if(!u.format[n])throw new Error("unknown format: "+e);var h=u.format[n].apply(null,i?e:e.slice(0,-1));r._rgb=l(h),3===r._rgb.length&&r._rgb.push(1)};h.prototype.toString=function(){return"function"==p(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var f=h,d=function e(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(e.Color,[null].concat(t)))};d.Color=f,d.version="2.1.0";var m=d,g=s.unpack,v=Math.max,y=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=g(e,"rgb"),n=r[0],i=r[1],a=r[2],o=1-v(n/=255,v(i/=255,a/=255)),s=o<1?1/(1-o):0,u=(1-n-o)*s,c=(1-i-o)*s,l=(1-a-o)*s;return[u,c,l,o]},b=s.unpack,_=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=b(e,"cmyk"))[0],n=e[1],i=e[2],a=e[3],o=e.length>4?e[4]:1;return 1===a?[0,0,0,o]:[r>=1?0:255*(1-r)*(1-a),n>=1?0:255*(1-n)*(1-a),i>=1?0:255*(1-i)*(1-a),o]},x=s.unpack,w=s.type;f.prototype.cmyk=function(){return y(this._rgb)},m.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["cmyk"])))},u.format.cmyk=_,u.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=x(e,"cmyk"),"array"===w(e)&&4===e.length)return"cmyk"}});var O=s.unpack,k=s.last,E=function(e){return Math.round(100*e)/100},T=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=O(e,"hsla"),n=k(e)||"lsa";return r[0]=E(r[0]||0),r[1]=E(100*r[1])+"%",r[2]=E(100*r[2])+"%","hsla"===n||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,n="hsla"):r.length=3,n+"("+r.join(",")+")"},S=s.unpack,j=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=S(e,"rgba"))[0],n=e[1],i=e[2];r/=255,n/=255,i/=255;var a,o,s=Math.min(r,n,i),u=Math.max(r,n,i),c=(u+s)/2;return u===s?(a=0,o=Number.NaN):a=c<.5?(u-s)/(u+s):(u-s)/(2-u-s),r==u?o=(n-i)/(u-s):n==u?o=2+(i-r)/(u-s):i==u&&(o=4+(r-n)/(u-s)),(o*=60)<0&&(o+=360),e.length>3&&void 0!==e[3]?[o,a,c,e[3]]:[o,a,c]},P=s.unpack,C=s.last,A=Math.round,M=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=P(e,"rgba"),n=C(e)||"rgb";return"hsl"==n.substr(0,3)?T(j(r),n):(r[0]=A(r[0]),r[1]=A(r[1]),r[2]=A(r[2]),("rgba"===n||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,n="rgba"),n+"("+r.slice(0,"rgb"===n?3:4).join(",")+")")},I=s.unpack,R=Math.round,L=function(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];var n,i,a,o=(t=I(t,"hsl"))[0],s=t[1],u=t[2];if(0===s)n=i=a=255*u;else{var c=[0,0,0],l=[0,0,0],p=u<.5?u*(1+s):u+s-u*s,h=2*u-p,f=o/360;c[0]=f+1/3,c[1]=f,c[2]=f-1/3;for(var d=0;d<3;d++)c[d]<0&&(c[d]+=1),c[d]>1&&(c[d]-=1),6*c[d]<1?l[d]=h+6*(p-h)*c[d]:2*c[d]<1?l[d]=p:3*c[d]<2?l[d]=h+(p-h)*(2/3-c[d])*6:l[d]=h;n=(e=[R(255*l[0]),R(255*l[1]),R(255*l[2])])[0],i=e[1],a=e[2]}return t.length>3?[n,i,a,t[3]]:[n,i,a,1]},z=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,D=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,F=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,B=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,N=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,q=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,U=Math.round,V=function(e){var t;if(e=e.toLowerCase().trim(),u.format.named)try{return u.format.named(e)}catch(m){}if(t=e.match(z)){for(var r=t.slice(1,4),n=0;n<3;n++)r[n]=+r[n];return r[3]=1,r}if(t=e.match(D)){for(var i=t.slice(1,5),a=0;a<4;a++)i[a]=+i[a];return i}if(t=e.match(F)){for(var o=t.slice(1,4),s=0;s<3;s++)o[s]=U(2.55*o[s]);return o[3]=1,o}if(t=e.match(B)){for(var c=t.slice(1,5),l=0;l<3;l++)c[l]=U(2.55*c[l]);return c[3]=+c[3],c}if(t=e.match(N)){var p=t.slice(1,4);p[1]*=.01,p[2]*=.01;var h=L(p);return h[3]=1,h}if(t=e.match(q)){var f=t.slice(1,4);f[1]*=.01,f[2]*=.01;var d=L(f);return d[3]=+t[4],d}};V.test=function(e){return z.test(e)||D.test(e)||F.test(e)||B.test(e)||N.test(e)||q.test(e)};var G=V,W=s.type;f.prototype.css=function(e){return M(this._rgb,e)},m.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["css"])))},u.format.css=G,u.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===W(e)&&G.test(e))return"css"}});var H=s.unpack;u.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=H(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},m.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["gl"])))},f.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var Z=s.unpack,X=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n=Z(e,"rgb"),i=n[0],a=n[1],o=n[2],s=Math.min(i,a,o),u=Math.max(i,a,o),c=u-s,l=100*c/255,p=s/(255-c)*100;return 0===c?r=Number.NaN:(i===u&&(r=(a-o)/c),a===u&&(r=2+(o-i)/c),o===u&&(r=4+(i-a)/c),(r*=60)<0&&(r+=360)),[r,l,p]},K=s.unpack,Y=Math.floor,$=function(){for(var e,t,r,n,i,a,o=[],s=arguments.length;s--;)o[s]=arguments[s];var u,c,l,p=(o=K(o,"hcg"))[0],h=o[1],f=o[2];f*=255;var d=255*h;if(0===h)u=c=l=f;else{360===p&&(p=0),p>360&&(p-=360),p<0&&(p+=360);var m=Y(p/=60),g=p-m,v=f*(1-h),y=v+d*(1-g),b=v+d*g,_=v+d;switch(m){case 0:u=(e=[_,b,v])[0],c=e[1],l=e[2];break;case 1:u=(t=[y,_,v])[0],c=t[1],l=t[2];break;case 2:u=(r=[v,_,b])[0],c=r[1],l=r[2];break;case 3:u=(n=[v,y,_])[0],c=n[1],l=n[2];break;case 4:u=(i=[b,v,_])[0],c=i[1],l=i[2];break;case 5:u=(a=[_,v,y])[0],c=a[1],l=a[2]}}return[u,c,l,o.length>3?o[3]:1]},J=s.unpack,Q=s.type;f.prototype.hcg=function(){return X(this._rgb)},m.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hcg"])))},u.format.hcg=$,u.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=J(e,"hcg"),"array"===Q(e)&&3===e.length)return"hcg"}});var ee=s.unpack,te=s.last,re=Math.round,ne=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ee(e,"rgba"),n=r[0],i=r[1],a=r[2],o=r[3],s=te(e)||"auto";void 0===o&&(o=1),"auto"===s&&(s=o<1?"rgba":"rgb");var u=(n=re(n))<<16|(i=re(i))<<8|(a=re(a)),c="000000"+u.toString(16);c=c.substr(c.length-6);var l="0"+re(255*o).toString(16);switch(l=l.substr(l.length-2),s.toLowerCase()){case"rgba":return"#"+c+l;case"argb":return"#"+l+c;default:return"#"+c}},ie=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ae=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,oe=function(e){if(e.match(ie)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(ae)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var r=parseInt(e,16);return[r>>24&255,r>>16&255,r>>8&255,Math.round((255&r)/255*100)/100]}throw new Error("unknown hex color: "+e)},se=s.type;f.prototype.hex=function(e){return ne(this._rgb,e)},m.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hex"])))},u.format.hex=oe,u.autodetect.push({p:4,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===se(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var ue=s.unpack,ce=s.TWOPI,le=Math.min,pe=Math.sqrt,he=Math.acos,fe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n=ue(e,"rgb"),i=n[0],a=n[1],o=n[2],s=le(i/=255,a/=255,o/=255),u=(i+a+o)/3,c=u>0?1-s/u:0;return 0===c?r=NaN:(r=(i-a+(i-o))/2,r/=pe((i-a)*(i-a)+(i-o)*(a-o)),r=he(r),o>a&&(r=ce-r),r/=ce),[360*r,c,u]},de=s.unpack,me=s.limit,ge=s.TWOPI,ve=s.PITHIRD,ye=Math.cos,be=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,i,a=(e=de(e,"hsi"))[0],o=e[1],s=e[2];return isNaN(a)&&(a=0),isNaN(o)&&(o=0),a>360&&(a-=360),a<0&&(a+=360),(a/=360)<1/3?n=1-((i=(1-o)/3)+(r=(1+o*ye(ge*a)/ye(ve-ge*a))/3)):a<2/3?i=1-((r=(1-o)/3)+(n=(1+o*ye(ge*(a-=1/3))/ye(ve-ge*a))/3)):r=1-((n=(1-o)/3)+(i=(1+o*ye(ge*(a-=2/3))/ye(ve-ge*a))/3)),[255*(r=me(s*r*3)),255*(n=me(s*n*3)),255*(i=me(s*i*3)),e.length>3?e[3]:1]},_e=s.unpack,xe=s.type;f.prototype.hsi=function(){return fe(this._rgb)},m.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hsi"])))},u.format.hsi=be,u.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=_e(e,"hsi"),"array"===xe(e)&&3===e.length)return"hsi"}});var we=s.unpack,Oe=s.type;f.prototype.hsl=function(){return j(this._rgb)},m.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hsl"])))},u.format.hsl=L,u.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=we(e,"hsl"),"array"===Oe(e)&&3===e.length)return"hsl"}});var ke=s.unpack,Ee=Math.min,Te=Math.max,Se=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,i,a=(e=ke(e,"rgb"))[0],o=e[1],s=e[2],u=Ee(a,o,s),c=Te(a,o,s),l=c-u;return i=c/255,0===c?(r=Number.NaN,n=0):(n=l/c,a===c&&(r=(o-s)/l),o===c&&(r=2+(s-a)/l),s===c&&(r=4+(a-o)/l),(r*=60)<0&&(r+=360)),[r,n,i]},je=s.unpack,Pe=Math.floor,Ce=function(){for(var e,t,r,n,i,a,o=[],s=arguments.length;s--;)o[s]=arguments[s];var u,c,l,p=(o=je(o,"hsv"))[0],h=o[1],f=o[2];if(f*=255,0===h)u=c=l=f;else{360===p&&(p=0),p>360&&(p-=360),p<0&&(p+=360);var d=Pe(p/=60),m=p-d,g=f*(1-h),v=f*(1-h*m),y=f*(1-h*(1-m));switch(d){case 0:u=(e=[f,y,g])[0],c=e[1],l=e[2];break;case 1:u=(t=[v,f,g])[0],c=t[1],l=t[2];break;case 2:u=(r=[g,f,y])[0],c=r[1],l=r[2];break;case 3:u=(n=[g,v,f])[0],c=n[1],l=n[2];break;case 4:u=(i=[y,g,f])[0],c=i[1],l=i[2];break;case 5:u=(a=[f,g,v])[0],c=a[1],l=a[2]}}return[u,c,l,o.length>3?o[3]:1]},Ae=s.unpack,Me=s.type;f.prototype.hsv=function(){return Se(this._rgb)},m.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hsv"])))},u.format.hsv=Ce,u.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ae(e,"hsv"),"array"===Me(e)&&3===e.length)return"hsv"}});var Ie=18,Re=.95047,Le=1,ze=1.08883,De=.137931034,Fe=.206896552,Be=.12841855,Ne=.008856452,qe=s.unpack,Ue=Math.pow,Ve=function(e){return(e/=255)<=.04045?e/12.92:Ue((e+.055)/1.055,2.4)},Ge=function(e){return e>Ne?Ue(e,1/3):e/Be+De},We=function(e,t,r){return e=Ve(e),t=Ve(t),r=Ve(r),[Ge((.4124564*e+.3575761*t+.1804375*r)/Re),Ge((.2126729*e+.7151522*t+.072175*r)/Le),Ge((.0193339*e+.119192*t+.9503041*r)/ze)]},He=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=qe(e,"rgb"),n=r[0],i=r[1],a=r[2],o=We(n,i,a),s=o[0],u=o[1],c=o[2],l=116*u-16;return[l<0?0:l,500*(s-u),200*(u-c)]},Ze=s.unpack,Xe=Math.pow,Ke=function(e){return 255*(e<=.00304?12.92*e:1.055*Xe(e,1/2.4)-.055)},Ye=function(e){return e>Fe?e*e*e:Be*(e-De)},$e=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r,n,i,a=(e=Ze(e,"lab"))[0],o=e[1],s=e[2];return n=(a+16)/116,r=isNaN(o)?n:n+o/500,i=isNaN(s)?n:n-s/200,n=Le*Ye(n),r=Re*Ye(r),i=ze*Ye(i),[Ke(3.2404542*r-1.5371385*n-.4985314*i),Ke(-.969266*r+1.8760108*n+.041556*i),Ke(.0556434*r-.2040259*n+1.0572252*i),e.length>3?e[3]:1]},Je=s.unpack,Qe=s.type;f.prototype.lab=function(){return He(this._rgb)},m.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["lab"])))},u.format.lab=$e,u.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Je(e,"lab"),"array"===Qe(e)&&3===e.length)return"lab"}});var et=s.unpack,tt=s.RAD2DEG,rt=Math.sqrt,nt=Math.atan2,it=Math.round,at=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=et(e,"lab"),n=r[0],i=r[1],a=r[2],o=rt(i*i+a*a),s=(nt(a,i)*tt+360)%360;return 0===it(1e4*o)&&(s=Number.NaN),[n,o,s]},ot=s.unpack,st=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ot(e,"rgb"),n=r[0],i=r[1],a=r[2],o=He(n,i,a),s=o[0],u=o[1],c=o[2];return at(s,u,c)},ut=s.unpack,ct=s.DEG2RAD,lt=Math.sin,pt=Math.cos,ht=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ut(e,"lch"),n=r[0],i=r[1],a=r[2];return isNaN(a)&&(a=0),[n,pt(a*=ct)*i,lt(a)*i]},ft=s.unpack,dt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=ft(e,"lch"))[0],n=e[1],i=e[2],a=ht(r,n,i),o=a[0],s=a[1],u=a[2],c=$e(o,s,u),l=c[0],p=c[1],h=c[2];return[l,p,h,e.length>3?e[3]:1]},mt=s.unpack,gt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=mt(e,"hcl").reverse();return dt.apply(void 0,r)},vt=s.unpack,yt=s.type;f.prototype.lch=function(){return st(this._rgb)},f.prototype.hcl=function(){return st(this._rgb).reverse()},m.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["lch"])))},m.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hcl"])))},u.format.lch=dt,u.format.hcl=gt,["lch","hcl"].forEach((function(e){return u.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=vt(t,e),"array"===yt(t)&&3===t.length)return e}})}));var bt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_t=s.type;f.prototype.name=function(){for(var e=ne(this._rgb,"rgb"),t=0,r=Object.keys(bt);t<r.length;t+=1){var n=r[t];if(bt[n]===e)return n.toLowerCase()}return e},u.format.named=function(e){if(e=e.toLowerCase(),bt[e])return oe(bt[e]);throw new Error("unknown color name: "+e)},u.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===_t(e)&&bt[e.toLowerCase()])return"named"}});var xt=s.unpack,wt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=xt(e,"rgb"),n=r[0],i=r[1],a=r[2];return(n<<16)+(i<<8)+a},Ot=s.type,kt=function(e){if("number"==Ot(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},Et=s.type;f.prototype.num=function(){return wt(this._rgb)},m.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["num"])))},u.format.num=kt,u.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===Et(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var Tt=s.unpack,St=s.type,jt=Math.round;f.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(jt)},f.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,r){return r<3?!1===e?t:jt(t):t}))},m.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["rgb"])))},u.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=Tt(e,"rgba");return void 0===r[3]&&(r[3]=1),r},u.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Tt(e,"rgba"),"array"===St(e)&&(3===e.length||4===e.length&&"number"==St(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var Pt=Math.log,Ct=function(e){var t,r,n,i=e/100;return i<66?(t=255,r=-155.25485562709179-.44596950469579133*(r=i-2)+104.49216199393888*Pt(r),n=i<20?0:.8274096064007395*(n=i-10)-254.76935184120902+115.67994401066147*Pt(n)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*Pt(t),r=325.4494125711974+.07943456536662342*(r=i-50)-28.0852963507957*Pt(r),n=255),[t,r,n,1]},At=s.unpack,Mt=Math.round,It=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var r,n=At(e,"rgb"),i=n[0],a=n[2],o=1e3,s=4e4,u=.4;s-o>u;){var c=Ct(r=.5*(s+o));c[2]/c[0]>=a/i?s=r:o=r}return Mt(r)};f.prototype.temp=f.prototype.kelvin=f.prototype.temperature=function(){return It(this._rgb)},m.temp=m.kelvin=m.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["temp"])))},u.format.temp=u.format.kelvin=u.format.temperature=Ct;var Rt=s.type;f.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Rt(e)?t?(this._rgb[3]=e,this):new f([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},f.prototype.clipped=function(){return this._rgb._clipped||!1},f.prototype.darken=function(e){void 0===e&&(e=1);var t=this.lab();return t[0]-=Ie*e,new f(t,"lab").alpha(this.alpha(),!0)},f.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},f.prototype.darker=f.prototype.darken,f.prototype.brighter=f.prototype.brighten,f.prototype.get=function(e){var t=e.split("."),r=t[0],n=t[1],i=this[r]();if(n){var a=r.indexOf(n);if(a>-1)return i[a];throw new Error("unknown channel "+n+" in mode "+r)}return i};var Lt=s.type,zt=Math.pow;f.prototype.luminance=function(e){if(void 0!==e&&"number"===Lt(e)){if(0===e)return new f([0,0,0,this._rgb[3]],"rgb");if(1===e)return new f([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),r=20,n=function t(n,i){var a=n.interpolate(i,.5,"rgb"),o=a.luminance();return Math.abs(e-o)<1e-7||!r--?a:o>e?t(n,a):t(a,i)},i=(t>e?n(new f([0,0,0]),this):n(this,new f([255,255,255]))).rgb();return new f(i.concat([this._rgb[3]]))}return Dt.apply(void 0,this._rgb.slice(0,3))};var Dt=function(e,t,r){return.2126*(e=Ft(e))+.7152*(t=Ft(t))+.0722*(r=Ft(r))},Ft=function(e){return(e/=255)<=.03928?e/12.92:zt((e+.055)/1.055,2.4)},Bt={},Nt=s.type,qt=function(e,t,r){void 0===r&&(r=.5);for(var n=[],i=arguments.length-3;i-- >0;)n[i]=arguments[i+3];var a=n[0]||"lrgb";if(Bt[a]||n.length||(a=Object.keys(Bt)[0]),!Bt[a])throw new Error("interpolation mode "+a+" is not defined");return"object"!==Nt(e)&&(e=new f(e)),"object"!==Nt(t)&&(t=new f(t)),Bt[a](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))};f.prototype.mix=f.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return qt.apply(void 0,[this,e,t].concat(r))},f.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new f([t[0]*r,t[1]*r,t[2]*r,r],"rgb")},f.prototype.saturate=function(e){void 0===e&&(e=1);var t=this.lch();return t[1]+=Ie*e,t[1]<0&&(t[1]=0),new f(t,"lch").alpha(this.alpha(),!0)},f.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var Ut=s.type;f.prototype.set=function(e,t,r){void 0===r&&(r=!1);var n=e.split("."),i=n[0],a=n[1],o=this[i]();if(a){var s=i.indexOf(a);if(s>-1){if("string"==Ut(t))switch(t.charAt(0)){case"+":case"-":o[s]+=+t;break;case"*":o[s]*=+t.substr(1);break;case"/":o[s]/=+t.substr(1);break;default:o[s]=+t}else{if("number"!==Ut(t))throw new Error("unsupported value for Color.set");o[s]=t}var u=new f(o,i);return r?(this._rgb=u._rgb,this):u}throw new Error("unknown channel "+a+" in mode "+i)}return o},Bt.rgb=function(e,t,r){var n=e._rgb,i=t._rgb;return new f(n[0]+r*(i[0]-n[0]),n[1]+r*(i[1]-n[1]),n[2]+r*(i[2]-n[2]),"rgb")};var Vt=Math.sqrt,Gt=Math.pow;Bt.lrgb=function(e,t,r){var n=e._rgb,i=n[0],a=n[1],o=n[2],s=t._rgb,u=s[0],c=s[1],l=s[2];return new f(Vt(Gt(i,2)*(1-r)+Gt(u,2)*r),Vt(Gt(a,2)*(1-r)+Gt(c,2)*r),Vt(Gt(o,2)*(1-r)+Gt(l,2)*r),"rgb")},Bt.lab=function(e,t,r){var n=e.lab(),i=t.lab();return new f(n[0]+r*(i[0]-n[0]),n[1]+r*(i[1]-n[1]),n[2]+r*(i[2]-n[2]),"lab")};var Wt=function(e,t,r,n){var i,a,o,s,u,c,l,p,h,d,m,g;return"hsl"===n?(o=e.hsl(),s=t.hsl()):"hsv"===n?(o=e.hsv(),s=t.hsv()):"hcg"===n?(o=e.hcg(),s=t.hcg()):"hsi"===n?(o=e.hsi(),s=t.hsi()):"lch"!==n&&"hcl"!==n||(n="hcl",o=e.hcl(),s=t.hcl()),"h"===n.substr(0,1)&&(u=(i=o)[0],l=i[1],h=i[2],c=(a=s)[0],p=a[1],d=a[2]),isNaN(u)||isNaN(c)?isNaN(u)?isNaN(c)?g=Number.NaN:(g=c,1!=h&&0!=h||"hsv"==n||(m=p)):(g=u,1!=d&&0!=d||"hsv"==n||(m=l)):g=u+r*(c>u&&c-u>180?c-(u+360):c<u&&u-c>180?c+360-u:c-u),void 0===m&&(m=l+r*(p-l)),new f([g,m,h+r*(d-h)],n)},Ht=function(e,t,r){return Wt(e,t,r,"lch")};Bt.lch=Ht,Bt.hcl=Ht,Bt.num=function(e,t,r){var n=e.num(),i=t.num();return new f(n+r*(i-n),"num")},Bt.hcg=function(e,t,r){return Wt(e,t,r,"hcg")},Bt.hsi=function(e,t,r){return Wt(e,t,r,"hsi")},Bt.hsl=function(e,t,r){return Wt(e,t,r,"hsl")},Bt.hsv=function(e,t,r){return Wt(e,t,r,"hsv")};var Zt=s.clip_rgb,Xt=Math.pow,Kt=Math.sqrt,Yt=Math.PI,$t=Math.cos,Jt=Math.sin,Qt=Math.atan2,er=function(e,t){for(var r=e.length,n=[0,0,0,0],i=0;i<e.length;i++){var a=e[i],o=t[i]/r,s=a._rgb;n[0]+=Xt(s[0],2)*o,n[1]+=Xt(s[1],2)*o,n[2]+=Xt(s[2],2)*o,n[3]+=s[3]*o}return n[0]=Kt(n[0]),n[1]=Kt(n[1]),n[2]=Kt(n[2]),n[3]>.9999999&&(n[3]=1),new f(Zt(n))},tr=s.type,rr=Math.pow,nr=function(e){var t="rgb",r=m("#ccc"),n=0,i=[0,1],a=[],o=[0,0],s=!1,u=[],c=!1,l=0,p=1,h=!1,f={},d=!0,g=1,v=function(e){if((e=e||["#fff","#000"])&&"string"===tr(e)&&m.brewer&&m.brewer[e.toLowerCase()]&&(e=m.brewer[e.toLowerCase()]),"array"===tr(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=m(e[t]);a.length=0;for(var r=0;r<e.length;r++)a.push(r/(e.length-1))}return x(),u=e},y=function(e){return e},b=function(e){return e},_=function(e,n){var i,c;if(null==n&&(n=!1),isNaN(e)||null===e)return r;c=n?e:s&&s.length>2?function(e){if(null!=s){for(var t=s.length-1,r=0;r<t&&e>=s[r];)r++;return r-1}return 0}(e)/(s.length-2):p!==l?(e-l)/(p-l):1,c=b(c),n||(c=y(c)),1!==g&&(c=rr(c,g)),c=o[0]+c*(1-o[0]-o[1]),c=Math.min(1,Math.max(0,c));var h=Math.floor(1e4*c);if(d&&f[h])i=f[h];else{if("array"===tr(u))for(var v=0;v<a.length;v++){var _=a[v];if(c<=_){i=u[v];break}if(c>=_&&v===a.length-1){i=u[v];break}if(c>_&&c<a[v+1]){c=(c-_)/(a[v+1]-_),i=m.interpolate(u[v],u[v+1],c,t);break}}else"function"===tr(u)&&(i=u(c));d&&(f[h]=i)}return i},x=function(){return f={}};v(e);var w=function(e){var t=m(_(e));return c&&t[c]?t[c]():t};return w.classes=function(e){if(null!=e){if("array"===tr(e))s=e,i=[e[0],e[e.length-1]];else{var t=m.analyze(i);s=0===e?[t.min,t.max]:m.limits(t,"e",e)}return w}return s},w.domain=function(e){if(!arguments.length)return i;l=e[0],p=e[e.length-1],a=[];var t=u.length;if(e.length===t&&l!==p)for(var r=0,n=Array.from(e);r<n.length;r+=1){var o=n[r];a.push((o-l)/(p-l))}else{for(var s=0;s<t;s++)a.push(s/(t-1));if(e.length>2){var c=e.map((function(t,r){return r/(e.length-1)})),h=e.map((function(e){return(e-l)/(p-l)}));h.every((function(e,t){return c[t]===e}))||(b=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=h[t+1];)t++;var r=(e-h[t])/(h[t+1]-h[t]);return c[t]+r*(c[t+1]-c[t])})}}return i=[l,p],w},w.mode=function(e){return arguments.length?(t=e,x(),w):t},w.range=function(e,t){return v(e),w},w.out=function(e){return c=e,w},w.spread=function(e){return arguments.length?(n=e,w):n},w.correctLightness=function(e){return null==e&&(e=!0),h=e,x(),y=h?function(e){for(var t=_(0,!0).lab()[0],r=_(1,!0).lab()[0],n=t>r,i=_(e,!0).lab()[0],a=t+(r-t)*e,o=i-a,s=0,u=1,c=20;Math.abs(o)>.01&&c-- >0;)n&&(o*=-1),o<0?(s=e,e+=.5*(u-e)):(u=e,e+=.5*(s-e)),i=_(e,!0).lab()[0],o=i-a;return e}:function(e){return e},w},w.padding=function(e){return null!=e?("number"===tr(e)&&(e=[e,e]),o=e,w):o},w.colors=function(t,r){arguments.length<2&&(r="hex");var n=[];if(0===arguments.length)n=u.slice(0);else if(1===t)n=[w(.5)];else if(t>1){var a=i[0],o=i[1]-a;n=ir(0,t,!1).map((function(e){return w(a+e/(t-1)*o)}))}else{e=[];var c=[];if(s&&s.length>2)for(var l=1,p=s.length,h=1<=p;h?l<p:l>p;h?l++:l--)c.push(.5*(s[l-1]+s[l]));else c=i;n=c.map((function(e){return w(e)}))}return m[r]&&(n=n.map((function(e){return e[r]()}))),n},w.cache=function(e){return null!=e?(d=e,w):d},w.gamma=function(e){return null!=e?(g=e,w):g},w.nodata=function(e){return null!=e?(r=m(e),w):r},w};function ir(e,t,r){for(var n=[],i=e<t,a=r?i?t+1:t-1:t,o=e;i?o<a:o>a;i?o++:o--)n.push(o);return n}var ar=function e(t){var r,n,i,a,o,s,u;if(2===(t=t.map((function(e){return new f(e)}))).length)r=t.map((function(e){return e.lab()})),o=r[0],s=r[1],a=function(e){var t=[0,1,2].map((function(t){return o[t]+e*(s[t]-o[t])}));return new f(t,"lab")};else if(3===t.length)n=t.map((function(e){return e.lab()})),o=n[0],s=n[1],u=n[2],a=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*o[t]+2*(1-e)*e*s[t]+e*e*u[t]}));return new f(t,"lab")};else if(4===t.length){var c;i=t.map((function(e){return e.lab()})),o=i[0],s=i[1],u=i[2],c=i[3],a=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*s[t]+3*(1-e)*e*e*u[t]+e*e*e*c[t]}));return new f(t,"lab")}}else if(5===t.length){var l=e(t.slice(0,3)),p=e(t.slice(2,5));a=function(e){return e<.5?l(2*e):p(2*(e-.5))}}return a},or=function e(t,r,n){if(!e[n])throw new Error("unknown blend mode "+n);return e[n](t,r)},sr=function(e){return function(t,r){var n=m(r).rgb(),i=m(t).rgb();return m.rgb(e(n,i))}},ur=function(e){return function(t,r){var n=[];return n[0]=e(t[0],r[0]),n[1]=e(t[1],r[1]),n[2]=e(t[2],r[2]),n}};or.normal=sr(ur((function(e){return e}))),or.multiply=sr(ur((function(e,t){return e*t/255}))),or.screen=sr(ur((function(e,t){return 255*(1-(1-e/255)*(1-t/255))}))),or.overlay=sr(ur((function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))}))),or.darken=sr(ur((function(e,t){return e>t?t:e}))),or.lighten=sr(ur((function(e,t){return e>t?e:t}))),or.dodge=sr(ur((function(e,t){return 255===e?255:(e=t/255*255/(1-e/255))>255?255:e}))),or.burn=sr(ur((function(e,t){return 255*(1-(1-t/255)/(e/255))})));for(var cr=or,lr=s.type,pr=s.clip_rgb,hr=s.TWOPI,fr=Math.pow,dr=Math.sin,mr=Math.cos,gr=Math.floor,vr=Math.random,yr=Math.log,br=Math.pow,_r=Math.floor,xr=Math.abs,wr=function(e,t){void 0===t&&(t=null);var r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===a(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===a(e)&&(e=e[t]),void 0===e||null===e||isNaN(e)||(r.values.push(e),r.sum+=e,e<r.min&&(r.min=e),e>r.max&&(r.max=e),r.count+=1)})),r.domain=[r.min,r.max],r.limits=function(e,t){return Or(r,e,t)},r},Or=function(e,t,r){void 0===t&&(t="equal"),void 0===r&&(r=7),"array"==a(e)&&(e=wr(e));var n=e.min,i=e.max,o=e.values.sort((function(e,t){return e-t}));if(1===r)return[n,i];var s=[];if("c"===t.substr(0,1)&&(s.push(n),s.push(i)),"e"===t.substr(0,1)){s.push(n);for(var u=1;u<r;u++)s.push(n+u/r*(i-n));s.push(i)}else if("l"===t.substr(0,1)){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*yr(n),l=Math.LOG10E*yr(i);s.push(n);for(var p=1;p<r;p++)s.push(br(10,c+p/r*(l-c)));s.push(i)}else if("q"===t.substr(0,1)){s.push(n);for(var h=1;h<r;h++){var f=(o.length-1)*h/r,d=_r(f);if(d===f)s.push(o[d]);else{var m=f-d;s.push(o[d]*(1-m)+o[d+1]*m)}}s.push(i)}else if("k"===t.substr(0,1)){var g,v=o.length,y=new Array(v),b=new Array(r),_=!0,x=0,w=null;(w=[]).push(n);for(var O=1;O<r;O++)w.push(n+O/r*(i-n));for(w.push(i);_;){for(var k=0;k<r;k++)b[k]=0;for(var E=0;E<v;E++)for(var T=o[E],S=Number.MAX_VALUE,j=void 0,P=0;P<r;P++){var C=xr(w[P]-T);C<S&&(S=C,j=P),b[j]++,y[E]=j}for(var A=new Array(r),M=0;M<r;M++)A[M]=null;for(var I=0;I<v;I++)null===A[g=y[I]]?A[g]=o[I]:A[g]+=o[I];for(var R=0;R<r;R++)A[R]*=1/b[R];_=!1;for(var L=0;L<r;L++)if(A[L]!==w[L]){_=!0;break}w=A,++x>200&&(_=!1)}for(var z={},D=0;D<r;D++)z[D]=[];for(var F=0;F<v;F++)z[g=y[F]].push(o[F]);for(var B=[],N=0;N<r;N++)B.push(z[N][0]),B.push(z[N][z[N].length-1]);B=B.sort((function(e,t){return e-t})),s.push(B[0]);for(var q=1;q<B.length;q+=2){var U=B[q];isNaN(U)||-1!==s.indexOf(U)||s.push(U)}}return s},kr={analyze:wr,limits:Or},Er=Math.sqrt,Tr=Math.atan2,Sr=Math.abs,jr=Math.cos,Pr=Math.PI,Cr={cool:function(){return nr([m.hsl(180,1,.9),m.hsl(250,.7,.4)])},hot:function(){return nr(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Ar={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Mr=0,Ir=Object.keys(Ar);Mr<Ir.length;Mr+=1){var Rr=Ir[Mr];Ar[Rr.toLowerCase()]=Ar[Rr]}var Lr=Ar;return m.average=function(e,t,r){void 0===t&&(t="lrgb"),void 0===r&&(r=null);var n=e.length;r||(r=Array.from(new Array(n)).map((function(){return 1})));var i=n/r.reduce((function(e,t){return e+t}));if(r.forEach((function(e,t){r[t]*=i})),e=e.map((function(e){return new f(e)})),"lrgb"===t)return er(e,r);for(var a=e.shift(),o=a.get(t),s=[],u=0,c=0,l=0;l<o.length;l++)if(o[l]=(o[l]||0)*r[0],s.push(isNaN(o[l])?0:r[0]),"h"===t.charAt(l)&&!isNaN(o[l])){var p=o[l]/180*Yt;u+=$t(p)*r[0],c+=Jt(p)*r[0]}var h=a.alpha()*r[0];e.forEach((function(e,n){var i=e.get(t);h+=e.alpha()*r[n+1];for(var a=0;a<o.length;a++)if(!isNaN(i[a]))if(s[a]+=r[n+1],"h"===t.charAt(a)){var l=i[a]/180*Yt;u+=$t(l)*r[n+1],c+=Jt(l)*r[n+1]}else o[a]+=i[a]*r[n+1]}));for(var d=0;d<o.length;d++)if("h"===t.charAt(d)){for(var m=Qt(c/s[d],u/s[d])/Yt*180;m<0;)m+=360;for(;m>=360;)m-=360;o[d]=m}else o[d]=o[d]/s[d];return h/=n,new f(o,t).alpha(h>.99999?1:h,!0)},m.bezier=function(e){var t=ar(e);return t.scale=function(){return nr(t)},t},m.blend=cr,m.cubehelix=function(e,t,r,n,i){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=[0,1]);var a,o=0;"array"===lr(i)?a=i[1]-i[0]:(a=0,i=[i,i]);var s=function(s){var u=hr*((e+120)/360+t*s),c=fr(i[0]+a*s,n),l=(0!==o?r[0]+s*o:r)*c*(1-c)/2,p=mr(u),h=dr(u);return m(pr([255*(c+l*(-.14861*p+1.78277*h)),255*(c+l*(-.29227*p-.90649*h)),255*(c+l*(1.97294*p)),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?n:(n=e,s)},s.hue=function(e){return null==e?r:("array"===lr(r=e)?0===(o=r[1]-r[0])&&(r=r[1]):o=0,s)},s.lightness=function(e){return null==e?i:("array"===lr(e)?(i=e,a=e[1]-e[0]):(i=[e,e],a=0),s)},s.scale=function(){return m.scale(s)},s.hue(r),s},m.mix=m.interpolate=qt,m.random=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef".charAt(gr(16*vr()));return new f(e,"hex")},m.scale=nr,m.analyze=kr.analyze,m.contrast=function(e,t){e=new f(e),t=new f(t);var r=e.luminance(),n=t.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)},m.deltaE=function(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=1),e=new f(e),t=new f(t);for(var i=Array.from(e.lab()),a=i[0],o=i[1],s=i[2],u=Array.from(t.lab()),c=u[0],l=u[1],p=u[2],h=Er(o*o+s*s),d=Er(l*l+p*p),m=a<16?.511:.040975*a/(1+.01765*a),g=.0638*h/(1+.0131*h)+.638,v=h<1e-6?0:180*Tr(s,o)/Pr;v<0;)v+=360;for(;v>=360;)v-=360;var y=v>=164&&v<=345?.56+Sr(.2*jr(Pr*(v+168)/180)):.36+Sr(.4*jr(Pr*(v+35)/180)),b=h*h*h*h,_=Er(b/(b+1900)),x=g*(_*y+1-_),w=h-d,O=o-l,k=s-p,E=(a-c)/(r*m),T=w/(n*g);return Er(E*E+T*T+(O*O+k*k-w*w)/(x*x))},m.distance=function(e,t,r){void 0===r&&(r="lab"),e=new f(e),t=new f(t);var n=e.get(r),i=t.get(r),a=0;for(var o in n){var s=(n[o]||0)-(i[o]||0);a+=s*s}return Math.sqrt(a)},m.limits=kr.limits,m.valid=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(f,[null].concat(e))),!0}catch(r){return!1}},m.scales=Cr,m.colors=bt,m.brewer=Lr,m}()},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var n="vs",i="fs"},function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return v}));var n=r(117),i=r(58),a=r(0),o=r.n(a),s=r(84),u=(r(3),r(2)),c=r(51),l=r(75);o.a.Component;var p=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).history=Object(s.b)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return o.a.createElement(n.b,{history:this.history,children:this.props.children})},t}(o.a.Component);var h=function(e,t){return"function"===typeof e?e(t):e},f=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},d=function(e){return e},m=o.a.forwardRef;"undefined"===typeof m&&(m=d);var g=m((function(e,t){var r=e.innerRef,n=e.navigate,i=e.onClick,a=Object(c.a)(e,["innerRef","navigate","onClick"]),s=a.target,l=Object(u.a)({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),n())}});return l.ref=d!==m&&t||r,o.a.createElement("a",l)}));var v=m((function(e,t){var r=e.component,i=void 0===r?g:r,a=e.replace,s=e.to,p=e.innerRef,v=Object(c.a)(e,["component","replace","to","innerRef"]);return o.a.createElement(n.d.Consumer,null,(function(e){e||Object(l.a)(!1);var r=e.history,n=f(h(s,e.location),e.location),c=n?r.createHref(n):"",g=Object(u.a)({},v,{href:c,navigate:function(){var t=h(s,e.location);(a?r.replace:r.push)(t)}});return d!==m?g.ref=t||p:g.innerRef=p,o.a.createElement(i,g)}))})),y=function(e){return e},b=o.a.forwardRef;"undefined"===typeof b&&(b=y);b((function(e,t){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,s=void 0===a?"active":a,p=e.activeStyle,d=e.className,m=e.exact,g=e.isActive,_=e.location,x=e.strict,w=e.style,O=e.to,k=e.innerRef,E=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return o.a.createElement(n.d.Consumer,null,(function(e){e||Object(l.a)(!1);var r=_||e.location,a=f(h(O,r),r),c=a.pathname,T=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),S=T?Object(n.e)(r.pathname,{path:T,exact:m,strict:x}):null,j=!!(g?g(S,r):S),P=j?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}(d,s):d,C=j?Object(u.a)({},w,{},p):w,A=Object(u.a)({"aria-current":j&&i||null,className:P,style:C,to:a},E);return y!==b?A.ref=t||k:A.innerRef=k,o.a.createElement(v,A)}))}))},function(e,t,r){"use strict";var n=r(151),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return n.isMemo(e)?o:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(d){var i=f(r);i&&i!==d&&e(t,i,n)}var o=l(r);p&&(o=o.concat(p(r)));for(var s=u(t),m=u(r),g=0;g<o.length;++g){var v=o[g];if(!a[v]&&(!n||!n[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(r,v);try{c(t,v,y)}catch(b){}}}}return t}},function(e,t,r){"use strict";r.d(t,"c",(function(){return _})),r.d(t,"a",(function(){return x})),r.d(t,"b",(function(){return w}));var n,i=r(124),a=r(4),o=r(29),s=5120,u=5121,c=5122,l=5123,p=0,h=1,f=2,d=3,m=4,g=5,v=6,y=5126,b=(n={},Object(a.a)(n,y,[y,1,"float"]),Object(a.a)(n,35664,[y,2,"vec2"]),Object(a.a)(n,35665,[y,3,"vec3"]),Object(a.a)(n,35666,[y,4,"vec4"]),Object(a.a)(n,5124,[5124,1,"int"]),Object(a.a)(n,35667,[5124,2,"ivec2"]),Object(a.a)(n,35668,[5124,3,"ivec3"]),Object(a.a)(n,35669,[5124,4,"ivec4"]),Object(a.a)(n,5125,[5125,1,"uint"]),Object(a.a)(n,36294,[5125,2,"uvec2"]),Object(a.a)(n,36295,[5125,3,"uvec3"]),Object(a.a)(n,36296,[5125,4,"uvec4"]),Object(a.a)(n,35670,[y,1,"bool"]),Object(a.a)(n,35671,[y,2,"bvec2"]),Object(a.a)(n,35672,[y,3,"bvec3"]),Object(a.a)(n,35673,[y,4,"bvec4"]),Object(a.a)(n,35674,[y,8,"mat2"]),Object(a.a)(n,35685,[y,8,"mat2x3"]),Object(a.a)(n,35686,[y,8,"mat2x4"]),Object(a.a)(n,35675,[y,12,"mat3"]),Object(a.a)(n,35687,[y,12,"mat3x2"]),Object(a.a)(n,35688,[y,12,"mat3x4"]),Object(a.a)(n,35676,[y,16,"mat4"]),Object(a.a)(n,35689,[y,16,"mat4x2"]),Object(a.a)(n,35690,[y,16,"mat4x3"]),n);function _(e){switch(e){case p:return p;case h:case d:case f:return h;case m:case g:case v:return m;default:return Object(o.a)(!1),0}}function x(e){var t=b[e];if(!t)return null;var r=Object(i.a)(t,2);return{type:r[0],components:r[1]}}function w(e,t){switch(e){case s:case u:case c:case l:e=y}for(var r in b){var n=Object(i.a)(b[r],3),a=n[0],o=n[1],p=n[2];if(a===e&&o===t)return{glType:r,name:p}}return null}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u}));var n=r(11),i=r(161);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e){if(!e)return!1;Array.isArray(e)&&(e=e[0]);var t=e.parseTextSync||e.parseSync||e.parse||e.parseStream||e.parseInBatches,r=e.options&&e.options[e.id];return t=t||r&&r.workerUrl}function u(e){var t;return Object(i.a)(e,"null loader"),Object(i.a)(s(e),"invalid loader"),Array.isArray(e)&&(t=e[1],e=o({},e=e[0],{options:o({},e.options,{},t)})),e.extension&&(e.extensions=e.extensions||e.extension,delete e.extension),Array.isArray(e.extensions)||(e.extensions=[e.extensions]),Object(i.a)(e.extensions&&e.extensions.length>0&&e.extensions[0]),e.parseTextSync&&(e.text=!0),e.text||(e.binary=!0),e}},function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return h}));var n,i,a,o=r(4),s=r(9),u=(n={},Object(o.a)(n,6407,{dataFormat:6407,types:[5121,33635]}),Object(o.a)(n,6408,{dataFormat:6408,types:[5121,32819,32820]}),Object(o.a)(n,6406,{dataFormat:6406,types:[5121]}),Object(o.a)(n,6409,{dataFormat:6409,types:[5121]}),Object(o.a)(n,6410,{dataFormat:6410,types:[5121]}),Object(o.a)(n,33326,{dataFormat:6403,types:[5126],gl2:!0}),Object(o.a)(n,33328,{dataFormat:33319,types:[5126],gl2:!0}),Object(o.a)(n,34837,{dataFormat:6407,types:[5126],gl2:!0}),Object(o.a)(n,34836,{dataFormat:6408,types:[5126],gl2:!0}),n),c=(i={},Object(o.a)(i,6403,1),Object(o.a)(i,36244,1),Object(o.a)(i,33319,2),Object(o.a)(i,33320,2),Object(o.a)(i,6407,3),Object(o.a)(i,36248,3),Object(o.a)(i,6408,4),Object(o.a)(i,36249,4),Object(o.a)(i,6402,1),Object(o.a)(i,34041,1),Object(o.a)(i,6406,1),Object(o.a)(i,6409,1),Object(o.a)(i,6410,2),i),l=(a={},Object(o.a)(a,5126,4),Object(o.a)(a,5125,4),Object(o.a)(a,5124,4),Object(o.a)(a,5123,2),Object(o.a)(a,5122,2),Object(o.a)(a,5131,2),Object(o.a)(a,5120,1),Object(o.a)(a,5121,1),a);function p(e,t){var r=u[t];if(!r)return!1;if(void 0===r.gl1&&void 0===r.gl2)return!0;var n=Object(s.g)(e)&&r.gl2||r.gl1;return"string"===typeof n?e.getExtension(n):n}function h(e,t){var r=u[t];switch(r&&r.types[0]){case 5126:return e.getExtension("OES_texture_float_linear");case 5131:return e.getExtension("OES_texture_half_float_linear");default:return!0}}},function(e,t,r){"use strict";r.d(t,"e",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return c}));var n=!1,i=!0,a=new Map([["image/png",{test:o,getSize:function(e){return{width:e.getUint32(16,n),height:e.getUint32(20,n)}}}],["image/jpeg",{test:c,getSize:function(e){if(e.byteLength<2||65496!==e.getUint16(0,n))return null;var t=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var r=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:r}}(),r=t.tableMarkers,i=t.sofMarkers,a=2;for(;a<e.byteLength;){var o=e.getUint16(a,n);if(i.has(o))return{height:e.getUint16(a+5,n),width:e.getUint16(a+7,n)};if(!r.has(o))return null;a+=2,a+=e.getUint16(a,n)}return null}}],["image/gif",{test:s,getSize:function(e){return{width:e.getUint16(6,i),height:e.getUint16(8,i)}}}],["image/bmp",{test:u,getSize:function(e){return{width:e.getUint32(18,i),height:e.getUint32(22,i)}}}]]);function o(e){return e.byteLength>=24&&2303741511===e.getUint32(0,n)}function s(e){return e.byteLength>=10&&1195984440===e.getUint32(0,n)}function u(e){return e.byteLength>=2&&16973===e.getUint16(0,n)}function c(e){return e.byteLength>=3&&65496===e.getUint16(0,n)&&255===e.getUint8(2,n)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return u}));var n=r(29),i=r(9),a="Invalid WebGLRenderingContext",o="Requires WebGL2";function s(e){Object(n.a)(Object(i.f)(e),a)}function u(e){Object(n.a)(Object(i.g)(e),o)}},function(e,t,r){"use strict";var n=!0;t.a=function(e,t){if(!n){if(e)return;var r="Warning: "+t;"undefined"!==typeof console&&console.warn(r);try{throw Error(r)}catch(i){}}}},function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"d",(function(){return c}));var n=r(88),i=r(91),a=r(17);function o(e,t){if(Object(a.a)(Object(a.g)(e),"setParameters requires a WebGL context"),!Object(a.f)(t)){var r={};for(var i in t){var o=Number(i),s=n.e[i];s&&("string"===typeof s?r[s]=!0:s(e,t[i],o))}var u=e.state&&e.state.cache;if(u)for(var c in r){(0,n.a[c])(e,t,u)}}}function s(e,t){if("number"===typeof(t=t||n.c)){var r=t,i=n.d[r];return i?i(e,r):e.getParameter(r)}var a=Array.isArray(t)?t:Object.keys(t),o={},s=!0,u=!1,c=void 0;try{for(var l,p=a[Symbol.iterator]();!(s=(l=p.next()).done);s=!0){var h=l.value,f=n.d[h];o[h]=f?f(e,Number(h)):e.getParameter(Number(h))}}catch(d){u=!0,c=d}finally{try{s||null==p.return||p.return()}finally{if(u)throw c}}return o}function u(e){o(e,n.c)}function c(e,t,r){if(Object(a.f)(t))return r(e);var n,s=t.nocatch,u=void 0===s||s;if(Object(i.c)(e),o(e,t),u)n=r(e),Object(i.b)(e);else try{n=r(e)}finally{Object(i.b)(e)}return n}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.filter,n=void 0===r?function(){return!0}:r,i=t.map,a=void 0===i?function(e){return e}:i,o=t.result,s=void 0===o?[]:o;return Array.isArray(e)?function e(t,r,n,i){var a=-1;for(;++a<t.length;){var o=t[a];Array.isArray(o)?e(o,r,n,i):r(o)&&i.push(n(o))}return i}(e,n,a,s):n(e)?[a(e)]:[]}function i(e){for(var t=e.target,r=e.source,n=e.start,i=void 0===n?0:n,a=e.count,o=void 0===a?1:a,s=r.length,u=o*s,c=0,l=i;c<s;c++)t[l++]=r[c];for(;c<u;)c<u-c?(t.copyWithin(i+c,i,i+c),c*=2):(t.copyWithin(i+c,i,i+u-c),c=u);return t}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(377),i=r(113);function a(){return Object(n.a)()||i.a}},function(e,t,r){"use strict";var n=r(11),i=r(10),a=r(406),o=r(2),s=["xs","sm","md","lg","xl"];function u(e,t,r){var i;return Object(o.a)({gutters:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o.a)({paddingLeft:t(2),paddingRight:t(2)},r,Object(n.a)({},e.up("sm"),Object(o.a)({paddingLeft:t(3),paddingRight:t(3)},r[e.up("sm")])))},toolbar:(i={minHeight:56},Object(n.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(n.a)(i,e.up("sm"),{minHeight:64}),i)},r)}var c={black:"#000",white:"#fff"},l={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},p={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},h={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},d=r(54),m={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:c.white,default:l[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}},g={text:{primary:c.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:l[800],default:"#303030"},action:{active:c.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function v(e,t,r,n){e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=Object(d.e)(e.main,n):"dark"===t&&(e.dark=Object(d.a)(e.main,1.5*n)))}function y(e){return Math.round(1e5*e)/1e5}var b={textTransform:"uppercase"},_='"Roboto", "Helvetica", "Arial", sans-serif';function x(e,t){var r="function"===typeof t?t(e):t,n=r.fontFamily,s=void 0===n?_:n,u=r.fontSize,c=void 0===u?14:u,l=r.fontWeightLight,p=void 0===l?300:l,h=r.fontWeightRegular,f=void 0===h?400:h,d=r.fontWeightMedium,m=void 0===d?500:d,g=r.fontWeightBold,v=void 0===g?700:g,x=r.htmlFontSize,w=void 0===x?16:x,O=r.allVariants,k=r.pxToRem,E=Object(i.a)(r,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var T=c/14,S=k||function(e){return"".concat(e/w*T,"rem")},j=function(e,t,r,n,i){return Object(o.a)({fontFamily:s,fontWeight:e,fontSize:S(t),lineHeight:r},s===_?{letterSpacing:"".concat(y(n/t),"em")}:{},{},i,{},O)},P={h1:j(p,96,1.167,-1.5),h2:j(p,60,1.2,-.5),h3:j(f,48,1.167,0),h4:j(f,34,1.235,.25),h5:j(f,24,1.334,0),h6:j(m,20,1.6,.15),subtitle1:j(f,16,1.75,.15),subtitle2:j(m,14,1.57,.1),body1:j(f,16,1.5,.15),body2:j(f,14,1.43,.15),button:j(m,14,1.75,.4,b),caption:j(f,12,1.66,.4),overline:j(f,12,2.66,1,b)};return Object(a.a)(Object(o.a)({htmlFontSize:w,pxToRem:S,round:y,fontFamily:s,fontSize:c,fontWeightLight:p,fontWeightRegular:f,fontWeightMedium:m,fontWeightBold:v},P),E,{clone:!1})}var w=.2,O=.14,k=.12;function E(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(w,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(O,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(k,")")].join(",")}var T=["none",E(0,2,1,-1,0,1,1,0,0,1,3,0),E(0,3,1,-2,0,2,2,0,0,1,5,0),E(0,3,3,-2,0,3,4,0,0,1,8,0),E(0,2,4,-1,0,4,5,0,0,1,10,0),E(0,3,5,-1,0,5,8,0,0,1,14,0),E(0,3,5,-1,0,6,10,0,0,1,18,0),E(0,4,5,-2,0,7,10,1,0,2,16,1),E(0,5,5,-3,0,8,10,1,0,3,14,2),E(0,5,6,-3,0,9,12,1,0,3,16,2),E(0,6,6,-3,0,10,14,1,0,4,18,3),E(0,6,7,-4,0,11,15,1,0,4,20,3),E(0,7,8,-4,0,12,17,2,0,5,22,4),E(0,7,8,-4,0,13,19,2,0,5,24,4),E(0,7,9,-4,0,14,21,2,0,5,26,4),E(0,8,9,-5,0,15,22,2,0,6,28,5),E(0,8,10,-5,0,16,24,2,0,6,30,5),E(0,8,11,-5,0,17,26,2,0,6,32,5),E(0,9,11,-5,0,18,28,2,0,7,34,6),E(0,9,12,-6,0,19,29,2,0,7,36,6),E(0,10,13,-6,0,20,31,3,0,8,38,7),E(0,10,13,-6,0,21,33,3,0,8,40,7),E(0,10,14,-6,0,22,35,3,0,8,42,7),E(0,11,14,-7,0,23,36,3,0,9,44,8),E(0,11,15,-7,0,24,38,3,0,9,46,8)],S={borderRadius:4};var j=r(69),P=r(172);var C=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,r=void 0===t?{}:t,n=e.mixins,y=void 0===n?{}:n,b=e.palette,_=void 0===b?{}:b,w=e.spacing,O=e.typography,k=void 0===O?{}:O,E=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),C=function(e){var t=e.primary,r=void 0===t?{light:p[300],main:p[500],dark:p[700]}:t,n=e.secondary,s=void 0===n?{light:h.A200,main:h.A400,dark:h.A700}:n,u=e.error,y=void 0===u?{light:f[300],main:f[500],dark:f[700]}:u,b=e.type,_=void 0===b?"light":b,x=e.contrastThreshold,w=void 0===x?3:x,O=e.tonalOffset,k=void 0===O?.2:O,E=Object(i.a)(e,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function T(e){if(!e)throw new TypeError("Material-UI: missing background argument in getContrastText(".concat(e,")."));return Object(d.d)(e,g.text.primary)>=w?g.text.primary:m.text.primary}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!(e=Object(o.a)({},e)).main&&e[t]&&(e.main=e[t]),v(e,"light",r,k),v(e,"dark",n,k),e.contrastText||(e.contrastText=T(e.main)),e}var j={dark:g,light:m};return Object(a.a)(Object(o.a)({common:c,type:_,primary:S(r),secondary:S(s,"A400","A200","A700"),error:S(y),grey:l,contrastThreshold:w,getContrastText:T,augmentColor:S,tonalOffset:k},j[_]),E)}(_),A=function(e){var t=e.values,r=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,n=e.unit,a=void 0===n?"px":n,u=e.step,c=void 0===u?5:u,l=Object(i.a)(e,["values","unit","step"]);function p(e){var t="number"===typeof r[e]?r[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function h(e,t){var n=s.indexOf(t)+1;return n===s.length?p(e):"@media (min-width:".concat(r[e]).concat(a,") and ")+"(max-width:".concat(r[s[n]]-c/100).concat(a,")")}return Object(o.a)({keys:s,values:r,up:p,down:function(e){var t=s.indexOf(e)+1,n=r[s[t]];return t===s.length?p("xs"):"@media (max-width:".concat(("number"===typeof n&&t>0?n:e)-c/100).concat(a,")")},between:h,only:function(e){return h(e,e)},width:function(e){return r[e]}},l)}(r),M=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;e="function"===typeof t?t:function(e){return t*e};var r=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return 0===r.length?e(1):1===r.length?e(r[0]):r.map((function(t){var r=e(t);return"number"===typeof r?"".concat(r,"px"):r})).join(" ")};return Object.defineProperty(r,"unit",{get:function(){return t}}),r.mui=!0,r}(w),I=Object(a.a)({breakpoints:A,direction:"ltr",mixins:u(A,M,y),overrides:{},palette:C,props:{},shadows:T,typography:x(C,k),spacing:M,shape:S,transitions:j.a,zIndex:P.a},E),R=arguments.length,L=new Array(R>1?R-1:0),z=1;z<R;z++)L[z-1]=arguments[z];return I=L.reduce((function(e,t){return Object(a.a)(e,t)}),I)}();t.a=C},function(e,t,r){e.exports=r(166)},function(e,t,r){"use strict";function n(e,t){"function"===typeof e?e(t):e&&(e.current=t)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return null==t?e:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n),t.apply(this,n)}}),(function(){}))}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(58),i=r(0),a=r.n(i),o=r(3),s=r.n(o),u=r(84),c=r(204),l=r.n(c),p=r(253),h=r.n(p),f=1073741823;var d=a.a.createContext||function(e,t){var r,n,a="__create-react-context-"+h()()+"__",o=function(e){function r(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(r,n){e=r,t.forEach((function(t){return t(e,n)}))}}}(t.props.value),t}l()(r,e);var n=r.prototype;return n.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},n.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var r,n=this.props.value,i=e.value;((a=n)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?r=0:(r="function"===typeof t?t(n,i):f,0!==(r|=0)&&this.emitter.set(e.value,r))}var a,o},n.render=function(){return this.props.children},r}(i.Component);o.childContextTypes=((r={})[a]=s.a.object.isRequired,r);var u=function(t){function r(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,r){0!==((0|e.observedBits)&r)&&e.setState({value:e.getValue()})},e}l()(r,t);var n=r.prototype;return n.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?f:t},n.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?f:e},n.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},n.getValue=function(){return this.context[a]?this.context[a].get():e},n.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},r}(i.Component);return u.contextTypes=((n={})[a]=s.a.object,n),{Provider:o,Consumer:u}},m=r(75),g=r(2),v=r(205),y=r.n(v),b=(r(151),r(51)),_=r(102),x=r.n(_);r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return O})),r.d(t,"c",(function(){return R})),r.d(t,"d",(function(){return w})),r.d(t,"e",(function(){return S})),r.d(t,"f",(function(){return L}));var w=function(e){var t=d();return t.displayName=e,t}("Router"),O=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={location:t.history.location},r._isMounted=!1,r._pendingLocation=null,t.staticContext||(r.unlisten=t.history.listen((function(e){r._isMounted?r.setState({location:e}):r._pendingLocation=e}))),r}Object(n.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return a.a.createElement(w.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(a.a.Component);a.a.Component;a.a.Component;var k={},E=1e4,T=0;function S(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var r=t,n=r.path,i=r.exact,a=void 0!==i&&i,o=r.strict,s=void 0!==o&&o,u=r.sensitive,c=void 0!==u&&u;return[].concat(n).reduce((function(t,r){if(!r&&""!==r)return null;if(t)return t;var n=function(e,t){var r=""+t.end+t.strict+t.sensitive,n=k[r]||(k[r]={});if(n[e])return n[e];var i=[],a={regexp:y()(e,i,t),keys:i};return T<E&&(n[e]=a,T++),a}(r,{end:a,strict:s,sensitive:c}),i=n.regexp,o=n.keys,u=i.exec(e);if(!u)return null;var l=u[0],p=u.slice(1),h=e===l;return a&&!h?null:{path:r,url:"/"===r&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,r){return e[t.name]=p[r],e}),{})}}),null)}var j=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(w.Consumer,null,(function(t){t||Object(m.a)(!1);var r=e.props.location||t.location,n=e.props.computedMatch?e.props.computedMatch:e.props.path?S(r.pathname,e.props):t.match,i=Object(g.a)({},t,{location:r,match:n}),o=e.props,s=o.children,u=o.component,c=o.render;return Array.isArray(s)&&0===s.length&&(s=null),a.a.createElement(w.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?a.a.createElement(u,i):c?c(i):null:"function"===typeof s?s(i):null)}))},t}(a.a.Component);function P(e){return"/"===e.charAt(0)?e:"/"+e}function C(e,t){if(!e)return t;var r=P(e);return 0!==t.pathname.indexOf(r)?t:Object(g.a)({},t,{pathname:t.pathname.substr(r.length)})}function A(e){return"string"===typeof e?e:Object(u.e)(e)}function M(e){return function(){Object(m.a)(!1)}}function I(){}a.a.Component;var R=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(w.Consumer,null,(function(t){t||Object(m.a)(!1);var r,n,i=e.props.location||t.location;return a.a.Children.forEach(e.props.children,(function(e){if(null==n&&a.a.isValidElement(e)){r=e;var o=e.props.path||e.props.from;n=o?S(i.pathname,Object(g.a)({},e.props,{path:o})):t.match}})),n?a.a.cloneElement(r,{location:i,computedMatch:n}):null}))},t}(a.a.Component);function L(e){var t="withRouter("+(e.displayName||e.name)+")",r=function(t){var r=t.wrappedComponentRef,n=Object(b.a)(t,["wrappedComponentRef"]);return a.a.createElement(w.Consumer,null,(function(t){return t||Object(m.a)(!1),a.a.createElement(e,Object(g.a)({},n,t,{ref:r}))}))};return r.displayName=t,r.WrappedComponent=e,x()(r,e)}a.a.useContext},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a}));var n=r(29);function i(e,t){if("string"!==typeof t)return t;var r=Number(t);if(!isNaN(r))return r;var i=e[t=t.replace(/^.*\./,"")];return Object(n.a)(void 0!==i,"Accessing undefined constant GL.".concat(t)),i}function a(e,t){for(var r in t=Number(t),e)if(e[r]===t)return"GL.".concat(r);return String(t)}},function(e,t,r){"use strict";var n=r(90);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=a.default.memo(a.default.forwardRef((function(t,r){return a.default.createElement(o.default,(0,i.default)({ref:r},t),e)})));0;return r.muiName=o.default.muiName,r};var i=n(r(305)),a=n(r(0)),o=n(r(218))},function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n={name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 0.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 0.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null},i=r(23),a=Object.keys(i.a).map((function(e){return"const float COORDINATE_SYSTEM_".concat(e," = ").concat(i.a[e],".;")})).join(""),o=Object.keys(i.c).map((function(e){return"const float PROJECTION_MODE_".concat(e," = ").concat(i.c[e],".;")})).join(""),s="".concat(a,"\n").concat(o,"\n\nuniform float project_uCoordinateSystem;\nuniform float project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform float project_uAntimeridian;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z;\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy;\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter;\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\nvec3 project_normal(vec3 vector) {\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  return normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    dy = clamp(dy, -1., 1.);\n  }\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x - project_uAntimeridian, 360.0) + project_uAntimeridian;\n  }\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(lnglat.y) * 0.5))\n  );\n}\nvec4 project_position(vec4 position, vec3 position64Low) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT && project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    return project_uModelMatrix * vec4(\n      project_mercator_(position.xy) * WORLD_SCALE,\n      project_size(position.z),\n      position.w\n    );\n  }\n\n  vec4 position_world = project_uModelMatrix * position;\n\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT && project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    position_world.xyz -= project_uCoordinateOrigin;\n    position_world.xyz += position64Low;\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY) {\n    position_world.xyz -= project_uCoordinateOrigin;\n    position_world += project_uModelMatrix * vec4(position64Low, 0.0);\n  }\n\n  return project_offset_(position_world);\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_METER_OFFSETS ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    position.w *= project_uCommonUnitsPerMeter.z;\n  }\n  return viewProjectionMatrix * position + center;\n}\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n"),u=r(175),c={};t.a={name:"project",dependencies:[n],vs:s,getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return e.viewport?Object(u.b)(e):{}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return s}));var n=[],i=[];function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,a=n,o={index:-1,data:e,target:[]};return e?"function"===typeof e[Symbol.iterator]?a=e:e.length>0&&(i.length=e.length,a=i):a=n,(t>0||Number.isFinite(r))&&(a=(Array.isArray(a)?a:Array.from(a)).slice(t,r),o.index=t-1),{iterable:a,objectInfo:o}}function o(e){return e&&e[Symbol.asyncIterator]}function s(e,t){var r=t.size,n=t.stride,i=t.offset,a=t.startIndices,o=t.nested,s=e.BYTES_PER_ELEMENT,u=n?n/s:r,c=i?i/s:0,l=Math.floor((e.length-c)/u);return function(t,n){var i=n.index,s=n.target;if(!a){for(var p=i*u+c,h=0;h<r;h++)s[h]=e[p+h];return s}var f,d=a[i],m=a[i+1]||l;if(o){f=new Array(m-d);for(var g=d;g<m;g++){var v=g*u+c;s=new Array(r);for(var y=0;y<r;y++)s[y]=e[v+y];f[g-d]=s}}else if(u===r)f=e.subarray(d*r+c,m*r+c);else{f=new e.constructor((m-d)*r);for(var b=0,_=d;_<m;_++)for(var x=_*u+c,w=0;w<r;w++)f[b++]=e[x+w]}return f}}},function(e,t,r){"use strict";var n=r(7),i=r(6),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.overAlloc,i=void 0===r?2:r,a=t.poolSize,o=void 0===a?100:a;Object(n.a)(this,e),this.overAlloc=i,this.poolSize=o,this._pool=[]}return Object(i.a)(e,[{key:"allocate",value:function(e,t,r){var n=r.size,i=void 0===n?1:n,a=r.type,o=r.padding,s=void 0===o?0:o,u=r.copy,c=void 0!==u&&u,l=a||e&&e.constructor||Float32Array,p=t*i+s;if(ArrayBuffer.isView(e)){if(p<=e.length)return e;if(p*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new l(e.buffer,0,p)}var h=this._allocate(l,p);return e&&c?h.set(e):h.fill(0,0,4),this._release(e),h}},{key:"release",value:function(e){this._release(e)}},{key:"_allocate",value:function(e,t){t=Math.max(Math.ceil(t*this.overAlloc),1);var r=this._pool,n=e.BYTES_PER_ELEMENT*t,i=r.findIndex((function(e){return e.byteLength>=n}));return i>=0?new e(r.splice(i,1)[0],0,t):new e(t)}},{key:"_release",value:function(e){if(ArrayBuffer.isView(e)){var t=this._pool,r=e.buffer,n=r.byteLength,i=t.findIndex((function(e){return e.byteLength>=n}));i<0?t.push(r):(i>0||t.length<this.poolSize)&&t.splice(i,0,r),t.length>this.poolSize&&t.shift()}}}]),e}();t.a=new a},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(0),i=r.n(n);t.a=i.a.createContext(null)},function(e,t,r){"use strict";var n,i=r(30),a=r(41),o=r(35),s=r(50),u=r(21),c=r(40),l=r(56),p=r(4),h="EXT_color_buffer_float",f=(n={},Object(p.a)(n,33189,{bpp:2}),Object(p.a)(n,33190,{gl2:!0,bpp:3}),Object(p.a)(n,36012,{gl2:!0,bpp:4}),Object(p.a)(n,36168,{bpp:1}),Object(p.a)(n,34041,{bpp:4}),Object(p.a)(n,35056,{gl2:!0,bpp:4}),Object(p.a)(n,36013,{gl2:!0,bpp:5}),Object(p.a)(n,32854,{bpp:2}),Object(p.a)(n,36194,{bpp:2}),Object(p.a)(n,32855,{bpp:2}),Object(p.a)(n,33321,{gl2:!0,bpp:1}),Object(p.a)(n,33330,{gl2:!0,bpp:1}),Object(p.a)(n,33329,{gl2:!0,bpp:1}),Object(p.a)(n,33332,{gl2:!0,bpp:2}),Object(p.a)(n,33331,{gl2:!0,bpp:2}),Object(p.a)(n,33334,{gl2:!0,bpp:4}),Object(p.a)(n,33333,{gl2:!0,bpp:4}),Object(p.a)(n,33323,{gl2:!0,bpp:2}),Object(p.a)(n,33336,{gl2:!0,bpp:2}),Object(p.a)(n,33335,{gl2:!0,bpp:2}),Object(p.a)(n,33338,{gl2:!0,bpp:4}),Object(p.a)(n,33337,{gl2:!0,bpp:4}),Object(p.a)(n,33340,{gl2:!0,bpp:8}),Object(p.a)(n,33339,{gl2:!0,bpp:8}),Object(p.a)(n,32849,{gl2:!0,bpp:3}),Object(p.a)(n,32856,{gl2:!0,bpp:4}),Object(p.a)(n,32857,{gl2:!0,bpp:4}),Object(p.a)(n,36220,{gl2:!0,bpp:4}),Object(p.a)(n,36238,{gl2:!0,bpp:4}),Object(p.a)(n,36975,{gl2:!0,bpp:4}),Object(p.a)(n,36214,{gl2:!0,bpp:8}),Object(p.a)(n,36232,{gl2:!0,bpp:8}),Object(p.a)(n,36226,{gl2:!0,bpp:16}),Object(p.a)(n,36208,{gl2:!0,bpp:16}),Object(p.a)(n,33325,{gl2:h,bpp:2}),Object(p.a)(n,33327,{gl2:h,bpp:4}),Object(p.a)(n,34842,{gl2:h,bpp:8}),Object(p.a)(n,33326,{gl2:h,bpp:4}),Object(p.a)(n,33328,{gl2:h,bpp:8}),Object(p.a)(n,34836,{gl2:h,bpp:16}),Object(p.a)(n,35898,{gl2:h,bpp:4}),n),d=r(9),m=r(29);function g(e,t,r){var n=r[t];if(!n)return!1;var i=Object(d.g)(e)&&n.gl2||n.gl1;return"string"===typeof i?e.getExtension(i):i}r.d(t,"a",(function(){return v}));var v=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(this,t),(r=Object(a.a)(this,Object(o.a)(t).call(this,e,n))).initialize(n),Object.seal(Object(s.a)(r)),r}return Object(c.a)(t,e),Object(u.a)(t,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.format;return!r||g(e,r,f)}},{key:"getSamplesForFormat",value:function(e,t){var r=t.format;return e.getInternalformatParameter(36161,r,32937)}}]),Object(u.a)(t,[{key:"initialize",value:function(e){var t=e.format,r=e.width,n=void 0===r?1:r,i=e.height,a=void 0===i?1:i,o=e.samples,s=void 0===o?0:o;return Object(m.a)(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==s&&Object(d.g)(this.gl)?this.gl.renderbufferStorageMultisample(36161,s,t,n,a):this.gl.renderbufferStorage(36161,t,n,a),this.format=t,this.width=n,this.height=a,this.samples=s,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*f[this.format].bpp),this}},{key:"resize",value:function(e){var t=e.width,r=e.height;return t!==this.width||r!==this.height?this.initialize({width:t,height:r,format:this.format,samples:this.samples}):this}},{key:"_createHandle",value:function(){return this.gl.createRenderbuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}},{key:"_bindHandle",value:function(e){this.gl.bindRenderbuffer(36161,e)}},{key:"_syncHandle",value:function(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}},{key:"_getParameter",value:function(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}]),t}(l.a)},function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return a}));var n="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",i="undefined"!==typeof window?window:e,a=("undefined"!==typeof e||window,"undefined"!==typeof document&&document,!1);try{var o={get passive(){return a=!0,!0}};i.addEventListener("test",o,o),i.removeEventListener("test",o,o)}catch(s){}}).call(this,r(61))},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"d",(function(){return s}));var n="Failed to deduce GL constant from typed array";function i(e){switch(ArrayBuffer.isView(e)?e.constructor:e){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(n)}}function a(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clamped,r=void 0===t||t;switch(e){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return r?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function o(e){var t=e.data,r=e.width,n=e.height,i=e.bytesPerPixel,a=void 0===i?4:i,o=e.temp,s=r*a;o=o||new Uint8Array(s);for(var u=0;u<n/2;++u){var c=u*s,l=(n-u-1)*s;o.set(t.subarray(c,c+s)),t.copyWithin(c,l,l+s),t.set(o,l)}}function s(e){for(var t=e.data,r=e.width,n=e.height,i=Math.round(r/2),a=Math.round(n/2),o=new Uint8Array(i*a*4),s=0;s<a;s++)for(var u=0;u<i;u++)for(var c=0;c<4;c++)o[4*(s*i+u)+c]=t[4*(2*s*r+2*u)+c];return{data:o,width:i,height:a}}},,function(e,t,r){"use strict";r.r(t);var n=r(110),i=r(185),a=r(132),o=r(173),s=r(174),u=r(133);function c(e,t,r){return(c=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&Object(u.a)(i,r.prototype),i}).apply(null,arguments)}function l(e){var t="function"===typeof Map?new Map:void 0;return(l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,Object(a.a)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object(u.a)(n,e)})(e)}r.d(t,"Deprecation",(function(){return p}));var p=function(e){function t(e){var r;return Object(n.a)(this,t),r=Object(i.a)(this,Object(a.a)(t).call(this,e)),Error.captureStackTrace&&Error.captureStackTrace(Object(o.a)(r),r.constructor),r.name="Deprecation",r}return Object(s.a)(t,e),t}(l(Error))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=this;clearTimeout(t),t=setTimeout((function(){e.apply(o,i)}),r)}return n.clear=function(){clearTimeout(t)},n}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(30),i=r(41),a=r(35),o=r(50),s=r(21),u=r(40),c=r(72),l=r(107),p=r(29),h="";r.d(t,"a",(function(){return f}));var f=function(e){function t(e){var r,s,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(this,t),Object(l.b)(e),(c instanceof Promise||"string"===typeof c)&&(c={data:c}),"string"===typeof c.data&&(c=Object.assign({},c,{data:(s=c.data,Object(p.a)("string"===typeof s),s=h+s,new Promise((function(e,t){try{var r=new Image;r.onload=function(){return e(r)},r.onerror=function(){return t(new Error("Could not load image ".concat(s,".")))},r.crossOrigin=u&&u.crossOrigin||"anonymous",r.src=s}catch(n){t(n)}})))})),(r=Object(i.a)(this,Object(a.a)(t).call(this,e,Object.assign({},c,{target:3553})))).initialize(c),Object.seal(Object(o.a)(r)),r}return Object(u.a)(t,e),Object(s.a)(t,null,[{key:"isSupported",value:function(e,t){return c.a.isSupported(e,t)}}]),t}(c.a)},function(e,t,r){"use strict";var n=r(35);function i(e,t,r){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(n.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));var i=r(28),a={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof e&&e,document:"undefined"!==typeof document&&document},o=a.global||a.self||a.window,s="object"!==("undefined"===typeof n?"undefined":Object(i.a)(n))||"[object process]"!==String(n)||n.browser,u="undefined"!==typeof n&&n.version&&n.version.match(/v([0-9]*)/);u&&parseFloat(u[1])}).call(this,r(61),r(85))},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t,r){var n=t[0],i=t[1],a=r[3]*n+r[7]*i||1;return e[0]=(r[0]*n+r[4]*i)/a,e[1]=(r[1]*n+r[5]*i)/a,e}function i(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[3]*n+r[7]*i+r[11]*a||1;return e[0]=(r[0]*n+r[4]*i+r[8]*a)/o,e[1]=(r[1]*n+r[5]*i+r[9]*a)/o,e[2]=(r[2]*n+r[6]*i+r[10]*a)/o,e}function a(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e[2]=t[2],e}r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return a}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var n=[[255,255,178],[254,217,118],[254,178,76],[253,141,60],[240,59,32],[189,0,38]];function i(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float32Array;if(Number.isFinite(e[0]))t=new n(e);else{t=new n(4*e.length);for(var i=0,a=0;a<e.length;a++){var o=e[a];t[i++]=o[0],t[i++]=o[1],t[i++]=o[2],t[i++]=Number.isFinite(o[3])?o[3]:255}}if(r)for(var s=0;s<t.length;s++)t[s]/=255;return t}},function(e,t,r){"use strict";var n,i,a=r(1),o=r(17),s=function(e){return Object(o.h)(e)?void 0:0},u=(n={},Object(a.a)(n,3074,(function(e){return Object(o.h)(e)?void 0:36064})),Object(a.a)(n,35723,(function(e){return Object(o.h)(e)?void 0:4352})),Object(a.a)(n,35977,s),Object(a.a)(n,32937,s),Object(a.a)(n,36795,(function(e,t){var r=Object(o.h)(e)?e.getExtension("EXT_disjoint_timer_query_webgl2"):e.getExtension("EXT_disjoint_timer_query");return r&&r.GPU_DISJOINT_EXT?t(r.GPU_DISJOINT_EXT):0})),Object(a.a)(n,37445,(function(e,t){var r=e.getExtension("WEBGL_debug_renderer_info");return t(r&&r.UNMASKED_VENDOR_WEBGL||7936)})),Object(a.a)(n,37446,(function(e,t){var r=e.getExtension("WEBGL_debug_renderer_info");return t(r&&r.UNMASKED_RENDERER_WEBGL||7937)})),Object(a.a)(n,34047,(function(e,t){var r=e.luma.extensions.EXT_texture_filter_anisotropic;return r?t(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1})),Object(a.a)(n,32883,s),Object(a.a)(n,35071,s),Object(a.a)(n,37447,s),Object(a.a)(n,36063,(function(e,t){if(!Object(o.h)(e)){var r=e.getExtension("WEBGL_draw_buffers");return r?t(r.MAX_COLOR_ATTACHMENTS_WEBGL):0}})),Object(a.a)(n,35379,s),Object(a.a)(n,35374,s),Object(a.a)(n,35377,s),Object(a.a)(n,34852,(function(e){if(!Object(o.h)(e)){var t=e.getExtension("WEBGL_draw_buffers");return t?t.MAX_DRAW_BUFFERS_WEBGL:0}})),Object(a.a)(n,36203,(function(e){return e.getExtension("OES_element_index")?2147483647:65535})),Object(a.a)(n,33001,(function(e){return e.getExtension("OES_element_index")?16777216:65535})),Object(a.a)(n,33e3,(function(e){return 16777216})),Object(a.a)(n,37157,s),Object(a.a)(n,35373,s),Object(a.a)(n,35657,s),Object(a.a)(n,36183,s),Object(a.a)(n,37137,s),Object(a.a)(n,34045,s),Object(a.a)(n,35978,s),Object(a.a)(n,35979,s),Object(a.a)(n,35968,s),Object(a.a)(n,35376,s),Object(a.a)(n,35375,s),Object(a.a)(n,35659,s),Object(a.a)(n,37154,s),Object(a.a)(n,35371,s),Object(a.a)(n,35658,s),Object(a.a)(n,35076,s),Object(a.a)(n,35077,s),Object(a.a)(n,35380,s),n);r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return l}));var c=(i={},Object(a.a)(i,"OES_vertex_array_object",{meta:{suffix:"OES"},createVertexArray:function(){Object(o.a)(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}}),Object(a.a)(i,"ANGLE_instanced_arrays",{meta:{suffix:"ANGLE"},vertexAttribDivisor:function(e,t){Object(o.a)(0===t,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}}),Object(a.a)(i,"WEBGL_draw_buffers",{meta:{suffix:"WEBGL"},drawBuffers:function(){Object(o.a)(!1)}}),Object(a.a)(i,"EXT_disjoint_timer_query",{meta:{suffix:"EXT"},createQuery:function(){Object(o.a)(!1)},deleteQuery:function(){Object(o.a)(!1)},beginQuery:function(){Object(o.a)(!1)},endQuery:function(){},getQuery:function(e,t){return this.getQueryObject(e,t)},getQueryParameter:function(e,t){return this.getQueryObject(e,t)},getQueryObject:function(){}}),i),l={readBuffer:function(e,t,r){Object(o.h)(e)&&t(r)},getVertexAttrib:function(e,t,r,n){var i,a=function(e,t){return{webgl2:Object(o.h)(e),ext:e.getExtension(t)}}(e,"ANGLE_instanced_arrays"),s=a.webgl2,u=a.ext;switch(n){case 35069:i=!!s&&void 0;break;case 35070:i=s||u?void 0:0}return void 0!==i?i:t(r,n)},getProgramParameter:function(e,t,r,n){if(!Object(o.h)(e))switch(n){case 35967:return 35981;case 35971:case 35382:return 0}return t(r,n)},getInternalformatParameter:function(e,t,r,n,i){if(!Object(o.h)(e))switch(i){case 32937:return new Int32Array([0])}return e.getInternalformatParameter(r,n,i)},getTexParameter:function(e,t,r,n){switch(n){case 34046:var i=e.luma.extensions.EXT_texture_filter_anisotropic;n=i&&i.TEXTURE_MAX_ANISOTROPY_EXT||34046}return t(r,n)},getParameter:function(e,t,r){var n=u[r],i="function"===typeof n?n(e,t,r):n;return void 0!==i?i:t(r)},hint:function(e,t,r,n){return t(r,n)}}},function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s}));var n=r(29),i={};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";i[e]=i[e]||1;var t=i[e]++;return"".concat(e,"-").concat(t)}function o(e){return Object(n.a)("number"===typeof e,"Input must be a number"),e&&0===(e&e-1)}function s(e){var t=!0;for(var r in e){t=!1;break}return t}},,,,function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){var n=r(319);function i(e){var t=function t(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function a(e){var t=function t(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(i),e.exports.strict=n(a),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return a(this)},configurable:!0})}))},function(e,t){e.exports=function(e){if(r[e])return;console.warn("DEPRECATED (@octokit/rest): ".concat(e)),r[e]=1};var r={}},function(e,t){e.exports=function(e){e=e.link||e.headers.link||"";var t={};return e.replace(/<([^>]*)>;\s*rel="([\w]*)"/g,(function(e,r,n){t[n]=r})),t}},function(e,t,r){"use strict";e.exports=r(294)},function(e,t,r){"use strict";(function(e){function n(){var t;if("undefined"!==typeof window&&window.performance)t=window.performance.now();else if("undefined"!==typeof e&&e.hrtime){var r=e.hrtime();t=1e3*r[0]+r[1]/1e6}else t=Date.now();return t}r.d(t,"a",(function(){return n}))}).call(this,r(85))},function(e,t,r){"use strict";function n(e,t){if(e===t)return!0;if(Array.isArray(e)){var r=e.length;if(!t||t.length!==r)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}return!1}function i(e){var t,r={};return function(i){for(var a in i)if(!n(i[a],r[a])){t=e(i),r=i;break}return t}}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return o}));var n=r(0),i=r.n(n),a=i.a.createContext();function o(){return i.a.useContext(a)}t.a=a},function(e,t,r){"use strict";var n=r(63);t.a=function(e){return Object(n.a)(e).defaultView||window}},function(e,t,r){"use strict";var n=r(12),i=r.n(n),a=r(11),o=r(73),s=r(28),u=r(138),c="undefined"!==typeof ImageBitmap,l=void 0!==("undefined"===typeof Image?"undefined":Object(s.a)(Image)),p=Boolean(u.a._parseImageNode);function h(e){switch(e){case"imagebitmap":return c;case"html":return l;case"ndarray":return p;default:throw new Error("Unknown image format ".concat(e))}}function f(){var e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).image||{}).type||"auto";switch(e){case"imagebitmap":case"html":case"ndarray":if(!h(e))throw new Error("Requested image type ".concat(e," not available in current environment"));return e;case"auto":return function(){if(h("ndarray"))return"ndarray";if(h("html"))return"html";if(h("imagebitmap"))return"imagebitmap";if(!u.b)throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js");return Object(o.a)(!1)}();default:throw new Error("Unknown image format ".concat(e))}}var d=r(26),m=r(106);"Invalid MIME type. Supported MIME types are: ".concat(Array.from(m.e.keys()).join(", "));function g(e){var t=v(e),r=!0,n=!1,i=void 0;try{for(var a,o=m.e.entries()[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=Object(d.a)(a.value,2),u=s[0];if((0,s[1].test)(t))return u}}catch(c){n=!0,i=c}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return null}function v(e){if((e=e.buffer||e)instanceof ArrayBuffer||ArrayBuffer.isView(e))return new DataView(e.buffer||e);throw new Error("toDataView")}function y(e,t){Object(o.a)(u.a._parseImageNode);var r=g(e);return u.a._parseImageNode(e,r,t)}function b(e,t){var r,n,a;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return"image/jpeg",r=new Blob([e],{type:"image/jpeg"}),n=self.URL||self.webkitURL,a=n.createObjectURL(r),o.prev=4,o.next=7,i.a.awrap(_(a,t));case 7:return o.abrupt("return",o.sent);case 8:return o.prev=8,n.revokeObjectURL(a),o.finish(8);case 11:case"end":return o.stop()}}),null,null,[[4,,8,11]])}function _(e,t){var r;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=new Image).src=e,!(t.image&&t.image.decode&&r.decode)){n.next=6;break}return n.next=5,i.a.awrap(r.decode());case 5:return n.abrupt("return",r);case 6:return n.next=8,i.a.awrap(new Promise((function(t,n){try{r.onload=function(){return t(r)},r.onerror=function(t){return n(new Error("Could not load image ".concat(e,": ").concat(t)))}}catch(i){n(i)}})));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}}))}function x(e,t){var r=new Blob([new Uint8Array(e)]),n=t&&t.imagebitmap;return n?createImageBitmap(r):createImageBitmap(r,n)}function w(e,t){var r,n,a;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return r=new TextDecoder,n=r.decode(e),a="data:image/svg+xml;base64,".concat(btoa(n)),o.next=5,i.a.awrap(_(a,t));case 5:return o.abrupt("return",o.sent);case 6:case"end":return o.stop()}}))}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){var n,a;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if("image"in t&&(t=k({},t,{image:{}})),!(n=(r||{}).url)||!/\.svg((\?|#).*)?$/.test(n)){s.next=7;break}return console.warn("@loaders.gl/images: SVG parsing needs to be fixed for 2.0"),s.next=6,i.a.awrap(w(e,t));case 6:return s.abrupt("return",s.sent);case 7:a=f(t),s.t0=a,s.next="imagebitmap"===s.t0?11:"html"===s.t0?14:"ndarray"===s.t0?17:20;break;case 11:return s.next=13,i.a.awrap(x(e,t));case 13:return s.abrupt("return",s.sent);case 14:return s.next=16,i.a.awrap(b(e,t));case 16:return s.abrupt("return",s.sent);case 17:return s.next=19,i.a.awrap(y(e,t));case 19:return s.abrupt("return",s.sent);case 20:return s.abrupt("return",Object(o.a)(!1));case 21:case"end":return s.stop()}}))}r.d(t,"a",(function(){return E}))},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.d(t,"a",(function(){return n}))},function(e,t,r){var n;!function(i,a,o,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=a.createElement("div"),p="function",h=Math.round,f=Math.abs,d=Date.now;function m(e,t,r){return setTimeout(w(e,r),t)}function g(e,t,r){return!!Array.isArray(e)&&(v(e,r[t],r),!0)}function v(e,t,r){var n;if(e)if(e.forEach)e.forEach(t,r);else if(e.length!==s)for(n=0;n<e.length;)t.call(r,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n,e)}function y(e,t,r){var n="DEPRECATED METHOD: "+t+"\n"+r+" AT \n";return function(){var t=new Error("get-stack-trace"),r=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=i.console&&(i.console.warn||i.console.log);return a&&a.call(i.console,n,r),e.apply(this,arguments)}}u="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!==s&&null!==n)for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t}:Object.assign;var b=y((function(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;)(!r||r&&e[n[i]]===s)&&(e[n[i]]=t[n[i]]),i++;return e}),"extend","Use `assign`."),_=y((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function x(e,t,r){var n,i=t.prototype;(n=e.prototype=Object.create(i)).constructor=e,n._super=i,r&&u(n,r)}function w(e,t){return function(){return e.apply(t,arguments)}}function O(e,t){return typeof e==p?e.apply(t&&t[0]||s,t):e}function k(e,t){return e===s?t:e}function E(e,t,r){v(P(t),(function(t){e.addEventListener(t,r,!1)}))}function T(e,t,r){v(P(t),(function(t){e.removeEventListener(t,r,!1)}))}function S(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function j(e,t){return e.indexOf(t)>-1}function P(e){return e.trim().split(/\s+/g)}function C(e,t,r){if(e.indexOf&&!r)return e.indexOf(t);for(var n=0;n<e.length;){if(r&&e[n][r]==t||!r&&e[n]===t)return n;n++}return-1}function A(e){return Array.prototype.slice.call(e,0)}function M(e,t,r){for(var n=[],i=[],a=0;a<e.length;){var o=t?e[a][t]:e[a];C(i,o)<0&&n.push(e[a]),i[a]=o,a++}return r&&(n=t?n.sort((function(e,r){return e[t]>r[t]})):n.sort()),n}function I(e,t){for(var r,n,i=t[0].toUpperCase()+t.slice(1),a=0;a<c.length;){if((n=(r=c[a])?r+i:t)in e)return n;a++}return s}var R=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var z="ontouchstart"in i,D=I(i,"PointerEvent")!==s,F=z&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=25,N=1,q=2,U=4,V=8,G=1,W=2,H=4,Z=8,X=16,K=W|H,Y=Z|X,$=K|Y,J=["x","y"],Q=["clientX","clientY"];function ee(e,t){var r=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){O(e.options.enable,[e])&&r.handler(t)},this.init()}function te(e,t,r){var n=r.pointers.length,i=r.changedPointers.length,a=t&N&&n-i===0,o=t&(U|V)&&n-i===0;r.isFirst=!!a,r.isFinal=!!o,a&&(e.session={}),r.eventType=t,function(e,t){var r=e.session,n=t.pointers,i=n.length;r.firstInput||(r.firstInput=re(t));i>1&&!r.firstMultiple?r.firstMultiple=re(t):1===i&&(r.firstMultiple=!1);var a=r.firstInput,o=r.firstMultiple,u=o?o.center:a.center,c=t.center=ne(n);t.timeStamp=d(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=se(u,c),t.distance=oe(u,c),function(e,t){var r=t.center,n=e.offsetDelta||{},i=e.prevDelta||{},a=e.prevInput||{};t.eventType!==N&&a.eventType!==U||(i=e.prevDelta={x:a.deltaX||0,y:a.deltaY||0},n=e.offsetDelta={x:r.x,y:r.y});t.deltaX=i.x+(r.x-n.x),t.deltaY=i.y+(r.y-n.y)}(r,t),t.offsetDirection=ae(t.deltaX,t.deltaY);var l=ie(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=f(l.x)>f(l.y)?l.x:l.y,t.scale=o?(p=o.pointers,h=n,oe(h[0],h[1],Q)/oe(p[0],p[1],Q)):1,t.rotation=o?function(e,t){return se(t[1],t[0],Q)+se(e[1],e[0],Q)}(o.pointers,n):0,t.maxPointers=r.prevInput?t.pointers.length>r.prevInput.maxPointers?t.pointers.length:r.prevInput.maxPointers:t.pointers.length,function(e,t){var r,n,i,a,o=e.lastInterval||t,u=t.timeStamp-o.timeStamp;if(t.eventType!=V&&(u>B||o.velocity===s)){var c=t.deltaX-o.deltaX,l=t.deltaY-o.deltaY,p=ie(u,c,l);n=p.x,i=p.y,r=f(p.x)>f(p.y)?p.x:p.y,a=ae(c,l),e.lastInterval=t}else r=o.velocity,n=o.velocityX,i=o.velocityY,a=o.direction;t.velocity=r,t.velocityX=n,t.velocityY=i,t.direction=a}(r,t);var p,h;var m=e.element;S(t.srcEvent.target,m)&&(m=t.srcEvent.target);t.target=m}(e,r),e.emit("hammer.input",r),e.recognize(r),e.session.prevInput=r}function re(e){for(var t=[],r=0;r<e.pointers.length;)t[r]={clientX:h(e.pointers[r].clientX),clientY:h(e.pointers[r].clientY)},r++;return{timeStamp:d(),pointers:t,center:ne(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ne(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var r=0,n=0,i=0;i<t;)r+=e[i].clientX,n+=e[i].clientY,i++;return{x:h(r/t),y:h(n/t)}}function ie(e,t,r){return{x:t/e||0,y:r/e||0}}function ae(e,t){return e===t?G:f(e)>=f(t)?e<0?W:H:t<0?Z:X}function oe(e,t,r){r||(r=J);var n=t[r[0]]-e[r[0]],i=t[r[1]]-e[r[1]];return Math.sqrt(n*n+i*i)}function se(e,t,r){r||(r=J);var n=t[r[0]]-e[r[0]],i=t[r[1]]-e[r[1]];return 180*Math.atan2(i,n)/Math.PI}ee.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(L(this.element),this.evWin,this.domHandler)}};var ue={mousedown:N,mousemove:q,mouseup:U},ce="mousedown",le="mousemove mouseup";function pe(){this.evEl=ce,this.evWin=le,this.pressed=!1,ee.apply(this,arguments)}x(pe,ee,{handler:function(e){var t=ue[e.type];t&N&&0===e.button&&(this.pressed=!0),t&q&&1!==e.which&&(t=U),this.pressed&&(t&U&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var he={pointerdown:N,pointermove:q,pointerup:U,pointercancel:V,pointerout:V},fe={2:"touch",3:"pen",4:"mouse",5:"kinect"},de="pointerdown",me="pointermove pointerup pointercancel";function ge(){this.evEl=de,this.evWin=me,ee.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(de="MSPointerDown",me="MSPointerMove MSPointerUp MSPointerCancel"),x(ge,ee,{handler:function(e){var t=this.store,r=!1,n=e.type.toLowerCase().replace("ms",""),i=he[n],a=fe[e.pointerType]||e.pointerType,o="touch"==a,s=C(t,e.pointerId,"pointerId");i&N&&(0===e.button||o)?s<0&&(t.push(e),s=t.length-1):i&(U|V)&&(r=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),r&&t.splice(s,1))}});var ve={touchstart:N,touchmove:q,touchend:U,touchcancel:V},ye="touchstart",be="touchstart touchmove touchend touchcancel";function _e(){this.evTarget=ye,this.evWin=be,this.started=!1,ee.apply(this,arguments)}function xe(e,t){var r=A(e.touches),n=A(e.changedTouches);return t&(U|V)&&(r=M(r.concat(n),"identifier",!0)),[r,n]}x(_e,ee,{handler:function(e){var t=ve[e.type];if(t===N&&(this.started=!0),this.started){var r=xe.call(this,e,t);t&(U|V)&&r[0].length-r[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:r[0],changedPointers:r[1],pointerType:"touch",srcEvent:e})}}});var we={touchstart:N,touchmove:q,touchend:U,touchcancel:V},Oe="touchstart touchmove touchend touchcancel";function ke(){this.evTarget=Oe,this.targetIds={},ee.apply(this,arguments)}function Ee(e,t){var r=A(e.touches),n=this.targetIds;if(t&(N|q)&&1===r.length)return n[r[0].identifier]=!0,[r,r];var i,a,o=A(e.changedTouches),s=[],u=this.target;if(a=r.filter((function(e){return S(e.target,u)})),t===N)for(i=0;i<a.length;)n[a[i].identifier]=!0,i++;for(i=0;i<o.length;)n[o[i].identifier]&&s.push(o[i]),t&(U|V)&&delete n[o[i].identifier],i++;return s.length?[M(a.concat(s),"identifier",!0),s]:void 0}x(ke,ee,{handler:function(e){var t=we[e.type],r=Ee.call(this,e,t);r&&this.callback(this.manager,t,{pointers:r[0],changedPointers:r[1],pointerType:"touch",srcEvent:e})}});var Te=2500,Se=25;function je(){ee.apply(this,arguments);var e=w(this.handler,this);this.touch=new ke(this.manager,e),this.mouse=new pe(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Pe(e,t){e&N?(this.primaryTouch=t.changedPointers[0].identifier,Ce.call(this,t)):e&(U|V)&&Ce.call(this,t)}function Ce(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY};this.lastTouches.push(r);var n=this.lastTouches;setTimeout((function(){var e=n.indexOf(r);e>-1&&n.splice(e,1)}),Te)}}function Ae(e){for(var t=e.srcEvent.clientX,r=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],a=Math.abs(t-i.x),o=Math.abs(r-i.y);if(a<=Se&&o<=Se)return!0}return!1}x(je,ee,{handler:function(e,t,r){var n="touch"==r.pointerType,i="mouse"==r.pointerType;if(!(i&&r.sourceCapabilities&&r.sourceCapabilities.firesTouchEvents)){if(n)Pe.call(this,t,r);else if(i&&Ae.call(this,r))return;this.callback(e,t,r)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Me=I(l.style,"touchAction"),Ie=Me!==s,Re="auto",Le="manipulation",ze="none",De="pan-x",Fe="pan-y",Be=function(){if(!Ie)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(r){e[r]=!t||i.CSS.supports("touch-action",r)})),e}();function Ne(e,t){this.manager=e,this.set(t)}Ne.prototype={set:function(e){"compute"==e&&(e=this.compute()),Ie&&this.manager.element.style&&Be[e]&&(this.manager.element.style[Me]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,(function(t){O(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(j(e,ze))return ze;var t=j(e,De),r=j(e,Fe);if(t&&r)return ze;if(t||r)return t?De:Fe;if(j(e,Le))return Le;return Re}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,r=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var n=this.actions,i=j(n,ze)&&!Be[ze],a=j(n,Fe)&&!Be[Fe],o=j(n,De)&&!Be[De];if(i){var s=1===e.pointers.length,u=e.distance<2,c=e.deltaTime<250;if(s&&u&&c)return}if(!o||!a)return i||a&&r&K||o&&r&Y?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var qe=1,Ue=2,Ve=4,Ge=8,We=Ge,He=16;function Ze(e){this.options=u({},this.defaults,e||{}),this.id=R++,this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=qe,this.simultaneous={},this.requireFail=[]}function Xe(e){return e&He?"cancel":e&Ge?"end":e&Ve?"move":e&Ue?"start":""}function Ke(e){return e==X?"down":e==Z?"up":e==W?"left":e==H?"right":""}function Ye(e,t){var r=t.manager;return r?r.get(e):e}function $e(){Ze.apply(this,arguments)}function Je(){$e.apply(this,arguments),this.pX=null,this.pY=null}function Qe(){$e.apply(this,arguments)}function et(){Ze.apply(this,arguments),this._timer=null,this._input=null}function tt(){$e.apply(this,arguments)}function rt(){$e.apply(this,arguments)}function nt(){Ze.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function it(e,t){return(t=t||{}).recognizers=k(t.recognizers,it.defaults.preset),new at(e,t)}Ze.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ye(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)?this:(e=Ye(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===C(t,e=Ye(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=Ye(e,this);var t=C(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,r=this.state;function n(r){t.manager.emit(r,e)}r<Ge&&n(t.options.event+Xe(r)),n(t.options.event),e.additionalEvent&&n(e.additionalEvent),r>=Ge&&n(t.options.event+Xe(r))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|qe)))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!O(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(We|He|32)&&(this.state=qe),this.state=this.process(t),this.state&(Ue|Ve|Ge|He)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},x($e,Ze,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,r=e.eventType,n=t&(Ue|Ve),i=this.attrTest(e);return n&&(r&V||!i)?t|He:n||i?r&U?t|Ge:t&Ue?t|Ve:Ue:32}}),x(Je,$e,{defaults:{event:"pan",threshold:10,pointers:1,direction:$},getTouchAction:function(){var e=this.options.direction,t=[];return e&K&&t.push(Fe),e&Y&&t.push(De),t},directionTest:function(e){var t=this.options,r=!0,n=e.distance,i=e.direction,a=e.deltaX,o=e.deltaY;return i&t.direction||(t.direction&K?(i=0===a?G:a<0?W:H,r=a!=this.pX,n=Math.abs(e.deltaX)):(i=0===o?G:o<0?Z:X,r=o!=this.pY,n=Math.abs(e.deltaY))),e.direction=i,r&&n>t.threshold&&i&t.direction},attrTest:function(e){return $e.prototype.attrTest.call(this,e)&&(this.state&Ue||!(this.state&Ue)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ke(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),x(Qe,$e,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ze]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Ue)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),x(et,Ze,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Re]},process:function(e){var t=this.options,r=e.pointers.length===t.pointers,n=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!n||!r||e.eventType&(U|V)&&!i)this.reset();else if(e.eventType&N)this.reset(),this._timer=m((function(){this.state=We,this.tryEmit()}),t.time,this);else if(e.eventType&U)return We;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===We&&(e&&e.eventType&U?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),x(tt,$e,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ze]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Ue)}}),x(rt,$e,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|Y,pointers:1},getTouchAction:function(){return Je.prototype.getTouchAction.call(this)},attrTest:function(e){var t,r=this.options.direction;return r&(K|Y)?t=e.overallVelocity:r&K?t=e.overallVelocityX:r&Y&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&r&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&e.eventType&U},emit:function(e){var t=Ke(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),x(nt,Ze,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Le]},process:function(e){var t=this.options,r=e.pointers.length===t.pointers,n=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&N&&0===this.count)return this.failTimeout();if(n&&i&&r){if(e.eventType!=U)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||oe(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&a?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=We,this.tryEmit()}),t.interval,this),Ue):We}return 32},failTimeout:function(){return this._timer=m((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==We&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),it.VERSION="2.0.7",it.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[tt,{enable:!1}],[Qe,{enable:!1},["rotate"]],[rt,{direction:K}],[Je,{direction:K},["swipe"]],[nt],[nt,{event:"doubletap",taps:2},["tap"]],[et]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function at(e,t){this.options=u({},it.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(D?ge:F?ke:z?je:pe))(e,te)}(this),this.touchAction=new Ne(this,this.options.touchAction),ot(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function ot(e,t){var r,n=e.element;n.style&&(v(e.options.cssProps,(function(i,a){r=I(n.style,a),t?(e.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=e.oldCssProps[r]||""})),t||(e.oldCssProps={}))}at.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var r;this.touchAction.preventDefaults(e);var n=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&We)&&(i=t.curRecognizer=null);for(var a=0;a<n.length;)r=n[a],2===t.stopped||i&&r!=i&&!r.canRecognizeWith(i)?r.reset():r.recognize(e),!i&&r.state&(Ue|Ve|Ge)&&(i=t.curRecognizer=r),a++}},get:function(e){if(e instanceof Ze)return e;for(var t=this.recognizers,r=0;r<t.length;r++)if(t[r].options.event==e)return t[r];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,r=C(t,e);-1!==r&&(t.splice(r,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var r=this.handlers;return v(P(e),(function(e){r[e]=r[e]||[],r[e].push(t)})),this}},off:function(e,t){if(e!==s){var r=this.handlers;return v(P(e),(function(e){t?r[e]&&r[e].splice(C(r[e],t),1):delete r[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var r=a.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=t,t.target.dispatchEvent(r)}(e,t);var r=this.handlers[e]&&this.handlers[e].slice();if(r&&r.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<r.length;)r[n](t),n++}},destroy:function(){this.element&&ot(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(it,{INPUT_START:N,INPUT_MOVE:q,INPUT_END:U,INPUT_CANCEL:V,STATE_POSSIBLE:qe,STATE_BEGAN:Ue,STATE_CHANGED:Ve,STATE_ENDED:Ge,STATE_RECOGNIZED:We,STATE_CANCELLED:He,STATE_FAILED:32,DIRECTION_NONE:G,DIRECTION_LEFT:W,DIRECTION_RIGHT:H,DIRECTION_UP:Z,DIRECTION_DOWN:X,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:Y,DIRECTION_ALL:$,Manager:at,Input:ee,TouchAction:Ne,TouchInput:ke,MouseInput:pe,PointerEventInput:ge,TouchMouseInput:je,SingleTouchInput:_e,Recognizer:Ze,AttrRecognizer:$e,Tap:nt,Pan:Je,Swipe:rt,Pinch:Qe,Rotate:tt,Press:et,on:E,off:T,each:v,merge:_,extend:b,assign:u,inherit:x,bindFn:w,prefixed:I}),("undefined"!==typeof i?i:"undefined"!==typeof self?self:{}).Hammer=it,(n=function(){return it}.call(t,r,t,e))===s||(e.exports=n)}(window,document)},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(30),i=r(21),a=r(9),o=r(376),s=r(46),u=new(function(){function e(){Object(n.a)(this,e),this.stats=new Map}return Object(i.a)(e,[{key:"get",value:function(e){return this.stats.has(e)||this.stats.set(e,new o.a({id:e})),this.stats.get(e)}}]),e}());if(s.global.luma&&"8.0.0"!==s.global.luma.VERSION)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(s.global.luma.VERSION," vs ").concat("8.0.0"));s.global.luma||(Object(s.isBrowser)()&&a.h.log(1,"luma.gl ".concat("8.0.0"," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),s.global.luma=s.global.luma||{VERSION:"8.0.0",version:"8.0.0",log:a.h,stats:u,globals:{modules:{},nodeIO:{}}});s.global.luma},function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"loader assertion failed.")}r.d(t,"a",(function(){return n}))},,,,,function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new S(n||[]);return a._invoke=function(e,t,r){var n=l;return function(i,a){if(n===h)throw new Error("Generator is already running");if(n===f){if("throw"===i)throw a;return P()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=k(o,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=c(e,t,r);if("normal"===u.type){if(n=r.done?f:p,u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=f,r.method="throw",r.arg=u.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}e.wrap=u;var l="suspendedStart",p="suspendedYield",h="executing",f="completed",d={};function m(){}function g(){}function v(){}var y={};y[a]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(j([])));_&&_!==r&&n.call(_,a)&&(y=_);var x=v.prototype=m.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function O(e){var t;this._invoke=function(r,i){function a(){return new Promise((function(t,a){!function t(r,i,a,o){var s=c(e[r],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,a,o)}),(function(e){t("throw",e,a,o)})):Promise.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return t("throw",e,a,o)}))}o(s.arg)}(r,i,t,a)}))}return t=t?t.then(a,a):a()}}function k(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function j(e){if(e){var r=e[a];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:P}}function P(){return{value:t,done:!0}}return g.prototype=x.constructor=v,v.constructor=g,v[s]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},w(O.prototype),O.prototype[o]=function(){return this},e.AsyncIterator=O,e.async=function(t,r,n,i){var a=new O(u(t,r,n,i));return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(x),x[s]="Generator",x[a]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:j(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}},function(e,t){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=n=function(e){return r(e)}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},n(t)}e.exports=n},function(e,t,r){"use strict";var n=r(222),i=r(223),a=r(195),o=r(194),s=r(224),u=r(225);Object.defineProperty(t,"__esModule",{value:!0});var c,l=r(130),p=((c=r(148))&&"object"===typeof c&&"default"in c?c.default:c)((function(e){return console.warn(e)})),h=function(e){function t(e,r,s){var u;n(this,t),u=i(this,a(t).call(this,e)),Error.captureStackTrace&&Error.captureStackTrace(o(u),u.constructor),u.name="HttpError",u.status=r,Object.defineProperty(o(u),"code",{get:function(){return p(new l.Deprecation("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),u.headers=s.headers||{};var c=Object.assign({},s.request);return s.request.headers.authorization&&(c.headers=Object.assign({},s.request.headers,{authorization:s.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),c.url=c.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),u.request=c,u}return s(t,e),t}(u(Error));t.RequestError=h},function(e,t,r){e.exports=function(e,t,r,s){n("octokit.get".concat(r.charAt(0).toUpperCase()+r.slice(1),"Page() \u2013 You can use octokit.paginate or async iterators instead: https://github.com/octokit/rest.js#pagination."));var u=i(t)[r];if(!u){var c=new a("No ".concat(r," page found"),404);return Promise.reject(c)}var l={url:u,headers:o(t,s)};return e.request(l)};var n=r(149),i=r(150),a=r(352);function o(e,t){var r=e.headers&&e.headers["x-github-media-type"];return!r||t&&t.accept?t:((t=t||{}).accept="application/vnd."+r.replace("; param=",".").replace("; format=","+"),t)}},function(e,t){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t,r){"use strict";(function(e){var r,n="undefined"!==typeof Symbol?Symbol("immer-nothing"):((r={})["immer-nothing"]=!0,r),i="undefined"!==typeof Symbol&&Symbol.for?Symbol.for("immer-draftable"):"__$immer_draftable",a="undefined"!==typeof Symbol&&Symbol.for?Symbol.for("immer-state"):"__$immer_state";function o(e){return!!e&&!!e[a]}function s(e){return!!e&&(function(e){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e))return!0;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||!!e[i]||!!e.constructor[i])}var u=Object.assign||function(e,t){for(var r in t)f(t,r)&&(e[r]=t[r]);return e},c="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:"undefined"!==typeof Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function l(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var r=Object.create(Object.getPrototypeOf(e));return c(e).forEach((function(n){if(n!==a){var i=Object.getOwnPropertyDescriptor(e,n),o=i.value;if(i.get){if(!t)throw new Error("Immer drafts cannot have computed properties");o=i.get.call(e)}i.enumerable?r[n]=o:Object.defineProperty(r,n,{value:o,writable:!0,configurable:!0})}})),r}function p(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)t(r,e[r],e);else c(e).forEach((function(r){return t(r,e[r],e)}))}function h(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!!r&&r.enumerable}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function m(e){if(!s(e))return e;if(Array.isArray(e))return e.map(m);var t=Object.create(Object.getPrototypeOf(e));for(var r in e)t[r]=m(e[r]);return t}function g(e){if(s(e)&&!o(e)&&!Object.isFrozen(e))if(Object.freeze(e),Array.isArray(e))e.forEach(g);else for(var t in e)g(e[t])}var v=function(e){this.drafts=[],this.parent=e,this.canAutoFreeze=!0,this.patches=null};function y(e){e[a].revoke()}v.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},v.prototype.revoke=function(){this.leave(),this.drafts.forEach(y),this.drafts=null},v.prototype.leave=function(){this===v.current&&(v.current=this.parent)},v.current=null,v.enter=function(){return this.current=new v(this.current)};var b={};function _(e,t){var r=Array.isArray(e),n=T(e);p(n,(function(t){!function(e,t,r){var n=b[t];n?n.enumerable=r:b[t]=n={configurable:!0,enumerable:r,get:function(){return function(e,t){S(e);var r=O(w(e),t);if(e.finalizing)return r;if(r===O(e.base,t)&&s(r))return E(e),e.copy[t]=_(r,e);return r}(this[a],t)},set:function(e){!function(e,t,r){if(S(e),e.assigned[t]=!0,!e.modified){if(d(r,O(w(e),t)))return;k(e),E(e)}e.copy[t]=r}(this[a],t,e)}};Object.defineProperty(e,t,n)}(n,t,r||h(e,t))}));var i,o,u,c=t?t.scope:v.current;return i=n,o=a,u={scope:c,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:n,copy:null,revoke:x,revoked:!1},Object.defineProperty(i,o,{value:u,enumerable:!1,writable:!0}),c.drafts.push(n),n}function x(){this.revoked=!0}function w(e){return e.copy||e.base}function O(e,t){var r=e[a];if(r&&!r.finalizing){r.finalizing=!0;var n=e[t];return r.finalizing=!1,n}return e[t]}function k(e){e.modified||(e.modified=!0,e.parent&&k(e.parent))}function E(e){e.copy||(e.copy=T(e.base))}function T(e){var t=e&&e[a];if(t){t.finalizing=!0;var r=l(t.draft,!0);return t.finalizing=!1,r}return l(e)}function S(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(w(e)))}function j(e){for(var t=e.length-1;t>=0;t--){var r=e[t][a];r.modified||(Array.isArray(r.base)?C(r)&&k(r):P(r)&&k(r))}}function P(e){for(var t=e.base,r=e.draft,n=Object.keys(r),i=n.length-1;i>=0;i--){var o=n[i],s=t[o];if(void 0===s&&!f(t,o))return!0;var u=r[o],c=u&&u[a];if(c?c.base!==s:!d(u,s))return!0}return n.length!==Object.keys(t).length}function C(e){var t=e.draft;if(t.length!==e.base.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var A=Object.freeze({willFinalize:function(e,t,r){e.drafts.forEach((function(e){e[a].finalizing=!0})),r?o(t)&&t[a].scope===e&&j(e.drafts):(e.patches&&function e(t){if(!t||"object"!==typeof t)return;var r=t[a];if(!r)return;var n=r.base,i=r.draft,o=r.assigned;if(Array.isArray(t)){if(C(r)){if(k(r),o.length=!0,i.length<n.length)for(var s=i.length;s<n.length;s++)o[s]=!1;else for(var u=n.length;u<i.length;u++)o[u]=!0;for(var c=0;c<i.length;c++)void 0===o[c]&&e(i[c])}}else Object.keys(i).forEach((function(t){void 0!==n[t]||f(n,t)?o[t]||e(i[t]):(o[t]=!0,k(r))})),Object.keys(n).forEach((function(e){void 0!==i[e]||f(i,e)||(o[e]=!1,k(r))}))}(e.drafts[0]),j(e.drafts))},createProxy:_});function M(e,t){var r=t?t.scope:v.current,n={scope:r,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null},i=Array.isArray(e)?Proxy.revocable([n],R):Proxy.revocable(n,I),a=i.revoke,o=i.proxy;return n.draft=o,n.revoke=a,r.drafts.push(o),o}var I={get:function(e,t){if(t===a)return e;var r=e.drafts;if(!e.modified&&f(r,t))return r[t];var n=L(e)[t];if(e.finalized||!s(n))return n;if(e.modified){if(n!==z(e.base,t))return n;r=e.copy}return r[t]=M(n,e)},has:function(e,t){return t in L(e)},ownKeys:function(e){return Reflect.ownKeys(L(e))},set:function(e,t,r){if(!e.modified){var n=z(e.base,t);if(r?d(n,r)||r===e.drafts[t]:d(n,r)&&t in e.base)return!0;D(e)}return e.assigned[t]=!0,e.copy[t]=r,!0},deleteProperty:function(e,t){void 0!==z(e.base,t)||t in e.base?(e.assigned[t]=!1,D(e)):e.assigned[t]&&delete e.assigned[t];e.copy&&delete e.copy[t];return!0},getOwnPropertyDescriptor:function(e,t){var r=L(e),n=Reflect.getOwnPropertyDescriptor(r,t);n&&(n.writable=!0,n.configurable=!Array.isArray(r)||"length"!==t);return n},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},R={};function L(e){return e.copy||e.base}function z(e,t){var r=e[a],n=Reflect.getOwnPropertyDescriptor(r?L(r):e,t);return n&&n.value}function D(e){e.modified||(e.modified=!0,e.copy=u(l(e.base),e.drafts),e.drafts=null,e.parent&&D(e.parent))}p(I,(function(e,t){R[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),R.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return I.deleteProperty.call(this,e[0],t)},R.set=function(e,t,r){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return I.set.call(this,e[0],t,r)};var F=Object.freeze({willFinalize:function(){},createProxy:M});function B(e,t,r,n){Array.isArray(e.base)?function(e,t,r,n){var i,a,o=e.base,s=e.copy,u=e.assigned;s.length<o.length&&(o=(i=[s,o])[0],s=i[1],r=(a=[n,r])[0],n=a[1]);var c=s.length-o.length,l=0;for(;o[l]===s[l]&&l<o.length;)++l;var p=o.length;for(;p>l&&o[p-1]===s[p+c-1];)--p;for(var h=l;h<p;++h)if(u[h]&&s[h]!==o[h]){var f=t.concat([h]);r.push({op:"replace",path:f,value:s[h]}),n.push({op:"replace",path:f,value:o[h]})}for(var d=r.length,m=p+c-1;m>=p;--m){var g=t.concat([m]);r[d+m-p]={op:"add",path:g,value:s[m]},n.push({op:"remove",path:g})}}(e,t,r,n):function(e,t,r,n){var i=e.base,a=e.copy;p(e.assigned,(function(e,o){var s=i[e],u=a[e],c=o?e in i?"replace":"add":"remove";if(s!==u||"replace"!==c){var l=t.concat(e);r.push("remove"===c?{op:c,path:l}:{op:c,path:l,value:u}),n.push("add"===c?{op:"remove",path:l}:"remove"===c?{op:"add",path:l,value:s}:{op:"replace",path:l,value:s})}}))}(e,t,r,n)}var N=function(e,t){for(var r=0,n=t;r<n.length;r+=1){var i=n[r],a=i.path,o=i.op,s=m(i.value);if(!a.length)throw new Error("Illegal state");for(var u=e,c=0;c<a.length-1;c++)if(!(u=u[a[c]])||"object"!==typeof u)throw new Error("Cannot apply patch, path doesn't resolve: "+a.join("/"));var l=a[a.length-1];switch(o){case"replace":u[l]=s;break;case"add":Array.isArray(u)?u.splice(l,0,s):u[l]=s;break;case"remove":Array.isArray(u)?u.splice(l,1):delete u[l];break;default:throw new Error("Unsupported patch operation: "+o)}}return e};var q={useProxies:"undefined"!==typeof Proxy&&"undefined"!==typeof Proxy.revocable&&"undefined"!==typeof Reflect,autoFreeze:"undefined"===typeof e&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},U=function(e){u(this,q,e),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this)};U.prototype.produce=function(e,t,r){var i,a=this;if("function"===typeof e&&"function"!==typeof t){var o=t;t=e;var u=this;return function(e){var r=this;void 0===e&&(e=o);for(var n=[],i=arguments.length-1;i-- >0;)n[i]=arguments[i+1];return u.produce(e,(function(e){return t.call.apply(t,[r,e].concat(n))}))}}if("function"!==typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==r&&"function"!==typeof r)throw new Error("The third argument to `produce` must be a function or undefined");if(s(e)){var c=v.enter(),l=this.createProxy(e),p=!0;try{i=t(l),p=!1}finally{p?c.revoke():c.leave()}return i instanceof Promise?i.then((function(e){return c.usePatches(r),a.processResult(e,c)}),(function(e){throw c.revoke(),e})):(c.usePatches(r),this.processResult(i,c))}if((i=t(e))!==n)return void 0===i&&(i=e),this.maybeFreeze(i,!0),i},U.prototype.produceWithPatches=function(e,t,r){var n,i,a=this;if("function"===typeof e)return function(t){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];return a.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))};if(r)throw new Error("A patch listener cannot be passed to produceWithPatches");return[this.produce(e,t,(function(e,t){n=e,i=t})),n,i]},U.prototype.createDraft=function(e){if(!s(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=v.enter(),r=this.createProxy(e);return r[a].isManual=!0,t.leave(),r},U.prototype.finishDraft=function(e,t){var r=e&&e[a];if(!r||!r.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(r.finalized)throw new Error("The given draft is already finalized");var n=r.scope;return n.usePatches(t),this.processResult(void 0,n)},U.prototype.setAutoFreeze=function(e){this.autoFreeze=e},U.prototype.setUseProxies=function(e){this.useProxies=e,u(this,e?F:A)},U.prototype.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}return o(e)?N(e,t):this.produce(e,(function(e){return N(e,t.slice(r+1))}))},U.prototype.processResult=function(e,t){var r=t.drafts[0],i=void 0!==e&&e!==r;if(this.willFinalize(t,e,i),i){if(r[a].modified)throw t.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");s(e)&&(e=this.finalize(e,null,t),this.maybeFreeze(e)),t.patches&&(t.patches.push({op:"replace",path:[],value:e}),t.inversePatches.push({op:"replace",path:[],value:r[a].base}))}else e=this.finalize(r,[],t);return t.revoke(),t.patches&&t.patchListener(t.patches,t.inversePatches),e!==n?e:void 0},U.prototype.finalize=function(e,t,r){var n=this,i=e[a];if(!i)return Object.isFrozen(e)?e:this.finalizeTree(e,null,r);if(i.scope!==r)return e;if(!i.modified)return this.maybeFreeze(i.base,!0),i.base;if(!i.finalized){if(i.finalized=!0,this.finalizeTree(i.draft,t,r),this.onDelete)if(this.useProxies){var o=i.assigned;for(var s in o)o[s]||this.onDelete(i,s)}else{var u=i.base,c=i.copy;p(u,(function(e){f(c,e)||n.onDelete(i,e)}))}this.onCopy&&this.onCopy(i),this.autoFreeze&&r.canAutoFreeze&&Object.freeze(i.copy),t&&r.patches&&B(i,t,r.patches,r.inversePatches)}return i.copy},U.prototype.finalizeTree=function(e,t,r){var n=this,i=e[a];i&&(this.useProxies||(i.copy=l(i.draft,!0)),e=i.copy);var u=!!t&&!!r.patches;return p(e,(function a(c,l,f){if(l===f)throw Error("Immer forbids circular references");var m=!!i&&f===e;if(o(l)){var g=m&&u&&!i.assigned[c]?t.concat(c):null;if(o(l=n.finalize(l,g,r))&&(r.canAutoFreeze=!1),Array.isArray(f)||h(f,c)?f[c]=l:Object.defineProperty(f,c,{value:l}),m&&l===i.base[c])return}else{if(m&&d(l,i.base[c]))return;s(l)&&!Object.isFrozen(l)&&(p(l,a),n.maybeFreeze(l))}m&&n.onAssign&&n.onAssign(i,c,l)})),e},U.prototype.maybeFreeze=function(e,t){void 0===t&&(t=!1),this.autoFreeze&&!o(e)&&(t?g(e):Object.freeze(e))};var V=new U,G=V.produce;V.produceWithPatches.bind(V),V.setAutoFreeze.bind(V),V.setUseProxies.bind(V),V.applyPatches.bind(V),V.createDraft.bind(V),V.finishDraft.bind(V);t.a=G}).call(this,r(85))},function(e,t,r){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(133);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(n.a)(e,t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return m}));var n=r(14),i=r(78),a=r(23),o=r(153),s=r(31),u=[0,0,0,0],c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],p=[0,0,0],h=[0,0,0],f=12,d=Object(o.a)((function(e){var t=e.viewport,r=e.devicePixelRatio,o=e.coordinateSystem,s=e.coordinateOrigin,l=function(e){var t=e.viewport,r=e.coordinateSystem,o=e.coordinateOrigin,s=t.viewMatrixUncentered,l=t.projectionMatrix,p=t.projectionMode,h=t.viewMatrix,f=t.viewProjectionMatrix,d=u,m=t.cameraPosition,g=o,v=!0;r===a.a.LNGLAT?p===a.c.WEB_MERCATOR?v=!1:g=[Math.fround(t.longitude),Math.fround(t.latitude),0]:p===a.c.IDENTITY&&(g=t.position.map(Math.fround));if(g[2]=g[2]||0,v){var y=t.projectPosition(g);m=[m[0]-y[0],m[1]-y[1],m[2]-y[2]],y[3]=1,d=i.b([],y,f),h=s||h,f=n.g([],l,h),f=n.g([],f,c)}return{viewMatrix:h,viewProjectionMatrix:f,projectionCenter:d,cameraPosCommon:m,shaderCoordinateOrigin:g}}({coordinateSystem:o,coordinateOrigin:s,viewport:t}),h=l.projectionCenter,f=l.viewProjectionMatrix,d=l.cameraPosCommon,m=l.shaderCoordinateOrigin,g=t.getDistanceScales(),v=[t.width*r,t.height*r],y={project_uCoordinateSystem:o,project_uProjectionMode:t.projectionMode,project_uCoordinateOrigin:m,project_uCenter:h,project_uAntimeridian:(t.longitude||0)-180,project_uViewportSize:v,project_uDevicePixelRatio:r,project_uFocalDistance:t.focalDistance||1,project_uCommonUnitsPerMeter:g.unitsPerMeter,project_uCommonUnitsPerWorldUnit:g.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:p,project_uScale:t.scale,project_uViewProjectionMatrix:f,project_uCameraPosition:d},b=t.getDistanceScales(m);switch(o){case a.a.METER_OFFSETS:y.project_uCommonUnitsPerWorldUnit=b.unitsPerMeter,y.project_uCommonUnitsPerWorldUnit2=b.unitsPerMeter2;break;case a.a.LNGLAT:case a.a.LNGLAT_OFFSETS:y.project_uCommonUnitsPerWorldUnit=b.unitsPerDegree,y.project_uCommonUnitsPerWorldUnit2=b.unitsPerDegree2}return y}));function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewport,r=e.devicePixelRatio,n=void 0===r?1:r,i=e.modelMatrix,o=void 0===i?null:i,u=e.coordinateSystem,c=void 0===u?a.a.DEFAULT:u,p=e.coordinateOrigin,f=void 0===p?h:p,m=e.wrapLongitude,g=void 0!==m&&m;e.projectionMode,e.positionOrigin;Object(s.a)(t),c===a.a.DEFAULT&&(c=t.isGeospatial?a.a.LNGLAT:a.a.CARTESIAN);var v=d({viewport:t,devicePixelRatio:n,coordinateSystem:c,coordinateOrigin:f});return v.project_uWrapLongitude=g,v.project_uModelMatrix=o||l,v}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return a}));var n=r(80),i=r(177);function a(){return!("object"===("undefined"===typeof e?"undefined":Object(n.a)(e))&&"[object process]"===String(e)&&!e.browser)||Object(i.a)()}}).call(this,r(85))},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return i}));var n=r(80);function i(t){if("undefined"!==typeof window&&"object"===Object(n.a)(window.process)&&"renderer"===window.process.type)return!0;if("undefined"!==typeof e&&"object"===Object(n.a)(e.versions)&&Boolean(e.versions.electron))return!0;var r="object"===("undefined"===typeof navigator?"undefined":Object(n.a)(navigator))&&"string"===typeof navigator.userAgent&&navigator.userAgent,i=t||r;return!!(i&&i.indexOf("Electron")>=0)}}).call(this,r(85))},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(65);function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(Object(r));"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){Object(n.a)(e,t,r[t])}))}return e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(134);function i(e,t,r){return(i=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return r&&Object(n.a)(a,r.prototype),a}).apply(null,arguments)}},function(e,t,r){"use strict";var n=r(26),i=r(7),a=r(6),o=r(18),s=r(13),u=r(19),c=r(23),l=r(262),p=r(11),h=r(64),f=r(20),d=r(94),m=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(a.a)(t,[{key:"_onUpdate",value:function(){var e=this.time,t=this.settings,r=t.fromValue,n=t.toValue,i=t.duration,a=(0,t.easing)(e/i);this._value=Object(f.f)(r,n,a)}},{key:"value",get:function(){return this._value}}]),t}(d.a);function g(e,t,r,n,i){var a=t-e;return(r-t)*i+-a*n+a+t}function v(e,t){if(Array.isArray(e)){for(var r=0,n=0;n<e.length;n++){var i=e[n]-t[n];r+=i*i}return Math.sqrt(r)}return Math.abs(e-t)}var y=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(a.a)(t,[{key:"_onUpdate",value:function(){var e=this.settings,t=e.fromValue,r=e.toValue,n=e.damping,i=e.stiffness,a=this._prevValue,o=void 0===a?t:a,s=this._currValue,u=void 0===s?t:s,c=function(e,t,r,n,i){if(Array.isArray(r)){for(var a=[],o=0;o<r.length;o++)a[o]=g(e[o],t[o],r[o],n,i);return a}return g(e,t,r,n,i)}(o,u,r,n,i),l=v(c,r),p=v(c,u);l<1e-5&&p<1e-5&&(c=r,this.end()),this._prevValue=u,this._currValue=c}},{key:"value",get:function(){return this._currValue}}]),t}(d.a),b=r(22);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var x={interpolation:m,spring:y},w=function(){function e(t){Object(i.a)(this,e),this.transitions=new Map,this.timeline=t}return Object(a.a)(e,[{key:"add",value:function(e,t,r,n){var i=this.transitions;i.has(e)&&(t=i.get(e).value,this.remove(e));if(n=Object(h.e)(n)){var a=x[n.type];if(a){var o=new a(this.timeline);o.start(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n,{fromValue:t,toValue:r})),i.set(e,o)}else b.a.error("unsupported transition type '".concat(n.type,"'"))()}}},{key:"remove",value:function(e){var t=this.transitions;t.has(e)&&(t.get(e).cancel(),t.delete(e))}},{key:"update",value:function(){var e={},t=!0,r=!1,i=void 0;try{for(var a,o=this.transitions[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=Object(n.a)(a.value,2),u=s[0],c=s[1];c.update(),e[u]=c.value,c.inProgress||this.remove(u)}}catch(l){r=!0,i=l}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return e}},{key:"clear",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.transitions.keys()[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;this.remove(a)}}catch(o){t=!0,r=o}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}},{key:"active",get:function(){return this.transitions.size>0}}]),e}(),O=r(202),k=r(28),E="count(): argument not an object",T="count(): argument not a container";function S(e){if(null===(t=e)||"object"!==Object(k.a)(t))throw new Error(E);var t;if("function"===typeof e.count)return e.count();if(Number.isFinite(e.size))return e.size;if(Number.isFinite(e.length))return e.length;if(function(e){return null!==e&&"object"===Object(k.a)(e)&&e.constructor===Object}(e))return Object.keys(e).length;throw new Error(T)}var j=r(48),P=r(9),C=r(31),A=r(247),M=r(175),I=r(78),R=r(59),L=r(45);function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object(n.a)(e,3),a=i[0],o=i[1],s=i[2],u=void 0===s?0:s,c=t.projectFlat(e),l=Object(n.a)(c,2);return[l[0],l[1],u*t.getDistanceScales(r&&[a,o]).unitsPerMeter[2]]}function D(e,t){var r=t.viewport,i=t.modelMatrix,a=t.coordinateSystem,o=t.coordinateOrigin,s=t.offsetMode,u=Object(n.a)(e,3),l=u[0],p=u[1],h=u[2];if(i){var f=I.b([],[l,p,h,1],i),d=Object(n.a)(f,3);l=d[0],p=d[1],h=d[2]}switch(a){case c.a.LNGLAT:return z([l,p,h],r,s);case c.a.LNGLAT_OFFSETS:return z([l+o[0],p+o[1],h+(o[2]||0)],r,s);case c.a.METER_OFFSETS:return z(Object(L.a)(o,[l,p,h]),r,s);case c.a.CARTESIAN:default:return r.projectPosition([l,p,h])}}function F(e,t){var r=function(e){var t=Object.assign({},e),r=e.coordinateSystem,n=e.viewport,i=e.coordinateOrigin,a=e.fromCoordinateSystem,o=e.fromCoordinateOrigin;return r===c.a.DEFAULT&&(r=n.isGeospatial?c.a.LNGLAT:c.a.CARTESIAN),void 0===a&&(t.fromCoordinateSystem=r),void 0===o&&(t.fromCoordinateOrigin=i),r===c.a.LNGLAT&&n.zoom>=M.a&&(r=c.a.LNGLAT_OFFSETS,t.coordinateOrigin=[Math.fround(n.longitude),Math.fround(n.latitude)]),t.coordinateSystem=r,t}(t),n=r.viewport,i=r.coordinateSystem,a=r.coordinateOrigin,o=r.modelMatrix,s=r.fromCoordinateSystem,u=r.fromCoordinateOrigin;switch(i){case c.a.LNGLAT_OFFSETS:case c.a.METER_OFFSETS:var l=D(e,{viewport:n,modelMatrix:o,coordinateSystem:s,coordinateOrigin:u,offsetMode:!0}),p=z(a,n,!0);return R.g(l,l,p),l;case c.a.LNGLAT:case c.a.CARTESIAN:default:return D(e,{viewport:n,modelMatrix:o,coordinateSystem:s,coordinateOrigin:u,offsetMode:!1})}}var B=r(123),N=r(49),q=r(122),U={boolean:{validate:function(e,t){return!0},equal:function(e,t,r){return Boolean(e)===Boolean(t)}},number:{validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},color:{validate:function(e,t){return t.optional&&!e||H(e)&&(3===e.length||4===e.length)},equal:function(e,t,r){return V(e,t)}},accessor:{validate:function(e,t){var r=Z(e);return"function"===r||r===Z(t.value)},equal:function(e,t,r){return"function"===typeof t||V(e,t)}},array:{validate:function(e,t){return t.optional&&!e||H(e)},equal:function(e,t,r){return r.compare?V(e,t):e===t}},function:{validate:function(e,t){return t.optional&&!e||"function"===typeof e},equal:function(e,t,r){return!r.compare||e===t}}};function V(e,t){if(e===t)return!0;if(!H(e)||!H(t))return!1;var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function G(e,t){switch(Z(t)){case"object":return W(e,t);case"array":return W(e,{type:"array",value:t,compare:!1});case"boolean":return W(e,{type:"boolean",value:t});case"number":return W(e,{type:"number",value:t});case"function":return W(e,{type:"function",value:t,compare:!0});default:return{name:e,type:"unknown",value:t}}}function W(e,t){return"type"in t?Object.assign({name:e},U[t.type],t):"value"in t?Object.assign({name:e,type:Z(t.value)},t):{name:e,type:"object",value:t}}function H(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Z(e){return H(e)?"array":null===e?"null":Object(k.a)(e)}var X=N.b.COMPONENT,K=N.b.ASYNC_ORIGINAL,Y=N.b.ASYNC_RESOLVED,$=N.b.ASYNC_DEFAULTS;function J(){var e=Q(this.constructor),t=Object.create(e);t[X]=this,t[K]={},t[Y]={};for(var r=0;r<arguments.length;++r){var n=arguments[r];for(var i in n)t[i]=n[i]}return Object.freeze(t),t}function Q(e){var t=re(e,"_mergedDefaultProps");return t||(function(e){if(!e.prototype)return;var t=Object.getPrototypeOf(e),r=Q(t),i=function(e){for(var t={},r={},i={},a=0,o=Object.entries(e);a<o.length;a++){var s=Object(n.a)(o[a],2),u=s[0],c=s[1];if(c&&c.deprecatedFor)i[u]=Array.isArray(c.deprecatedFor)?c.deprecatedFor:[c.deprecatedFor];else{var l=G(u,c);t[u]=l,r[u]=l.value}}return{propTypes:t,defaultProps:r,deprecatedProps:i}}(re(e,"defaultProps")||{}),a=function(e,t,r){var n=Object.create(null);Object.assign(n,t,e);var i=function(e){var t=re(e,"layerName")||re(e,"componentName");t||b.a.once(0,"".concat(e.name,".componentName not specified"))();return t||e.name}(r);return delete e.id,Object.defineProperties(n,{id:{writable:!0,value:i}}),n}(i.defaultProps,r,e),o=Object.assign({},t._propTypes,i.propTypes);!function(e,t){var r={},n={};for(var i in t){var a=t[i],o=a.name,s=a.value;a.async&&(r[o]=s,n[o]=ee(o))}e[$]=r,e[K]={},Object.defineProperties(e,n)}(a,o);var s=Object.assign({},t._deprecatedProps,i.deprecatedProps);(function(e,t){var r=function(r){Object.defineProperty(e,r,{enumerable:!1,set:function(e){var n="".concat(this.id,": ").concat(r),i=!0,a=!1,o=void 0;try{for(var s,u=t[r][Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;te(this,c)||(this[c]=e)}}catch(l){a=!0,o=l}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}b.a.deprecated(n,t[r].join("/"))()}})};for(var n in t)r(n)})(a,s),e._mergedDefaultProps=a,e._propTypes=o,e._deprecatedProps=s}(e),e._mergedDefaultProps)}function ee(e){return{enumerable:!0,set:function(t){"string"===typeof t||t instanceof Promise||Object(q.c)(t)?this[K][e]=t:this[Y][e]=t},get:function(){if(this[Y]){if(e in this[Y]){var t=this[Y][e];return"data"===e?t||this[$][e]:t}if(e in this[K]){var r=this[X]&&this[X].internalState;if(r&&r.hasAsyncProp(e))return r.getAsyncProp(e)}}return this[$][e]}}}function te(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function re(e,t){return te(e,t)&&e[t]}var ne=r(12),ie=r.n(ne);function ae(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function oe(e){var t;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}var se=N.b.ASYNC_ORIGINAL,ue=N.b.ASYNC_RESOLVED,ce=N.b.ASYNC_DEFAULTS,le=Object.freeze({}),pe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(i.a)(this,e),this.component=t,this.asyncProps={},this.onAsyncPropUpdated=function(){},this.oldProps=le,this.oldAsyncProps=null}return Object(a.a)(e,[{key:"getOldProps",value:function(){return this.oldAsyncProps||this.oldProps}},{key:"resetOldProps",value:function(){this.oldAsyncProps=null,this.oldProps=this.component.props}},{key:"freezeAsyncOldProps",value:function(){if(!this.oldAsyncProps)for(var e in this.oldProps=this.oldProps||this.component.props,this.oldAsyncProps=Object.create(this.oldProps),this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}},{key:"hasAsyncProp",value:function(e){return e in this.asyncProps}},{key:"getAsyncProp",value:function(e){var t=this.asyncProps[e];return t&&t.resolvedValue}},{key:"isAsyncPropLoading",value:function(e){var t=this.asyncProps[e];return Boolean(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}},{key:"setAsyncProps",value:function(e){var t=e[ue]||{},r=e[se]||e,n=e[ce]||{};for(var i in t){var a=t[i];this._createAsyncPropData(i,a,n[i]),this._updateAsyncProp(i,a)}for(var o in r){var s=r[o];this._createAsyncPropData(o,s,n[o]),this._updateAsyncProp(o,s)}}},{key:"_updateAsyncProp",value:function(e,t){if(this._didAsyncInputValueChange(e,t)){if("string"===typeof t){var r=this.layer&&this.layer.props.fetch;r&&(t=r(t,{propName:e,layer:this.layer}))}t instanceof Promise?this._watchPromise(e,t):Object(q.c)(t)?this._resolveAsyncIterable(e,t):this._setPropValue(e,t)}}},{key:"_didAsyncInputValueChange",value:function(e,t){var r=this.asyncProps[e];return t!==r.lastValue&&(r.lastValue=t,!0)}},{key:"_setPropValue",value:function(e,t){var r=this.asyncProps[e];r.value=t,r.resolvedValue=t,r.pendingLoadCount++,r.resolvedLoadCount=r.pendingLoadCount}},{key:"_setAsyncPropValue",value:function(e,t,r){var n=this.asyncProps[e];n&&r>=n.resolvedLoadCount&&(Object(C.a)(void 0!==t),this.freezeAsyncOldProps(),n.resolvedValue=t,n.resolvedLoadCount=r,this.onAsyncPropUpdated(e,t))}},{key:"_watchPromise",value:function(e,t){var r=this,n=this.asyncProps[e];n.pendingLoadCount++;var i=n.pendingLoadCount;t.then((function(t){t=r._postProcessValue(e,t),r._setAsyncPropValue(e,t,i);var n=r.layer&&r.layer.props.onDataLoad;"data"===e&&n&&n(t,{propName:e,layer:r.layer})})).catch((function(e){return b.a.error(e)()}))}},{key:"_resolveAsyncIterable",value:function(){var e,t=(e=ie.a.mark((function e(t,r){var n,i,a,o,s,u,c,l,p,h,f,d;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"data"!==t&&this._setPropValue(t,r),(n=this.asyncProps[t]).pendingLoadCount++,i=n.pendingLoadCount,a=[],o=0,s=!0,u=!1,e.prev=8,l=oe(r);case 10:return e.next=12,l.next();case 12:return p=e.sent,s=p.done,e.next=16,p.value;case 16:if(h=e.sent,s){e.next=26;break}f=h,a=this._postProcessValue(t,f,a),Object.defineProperty(a,"__diff",{enumerable:!1,value:[{startRow:o,endRow:a.length}]}),o=a.length,this._setAsyncPropValue(t,a,i);case 23:s=!0,e.next=10;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(8),u=!0,c=e.t0;case 32:if(e.prev=32,e.prev=33,s||null==l.return){e.next=37;break}return e.next=37,l.return();case 37:if(e.prev=37,!u){e.next=40;break}throw c;case 40:return e.finish(37);case 41:return e.finish(32);case 42:(d=this.layer&&this.layer.props.onDataLoad)&&d(a,{propName:t,layer:this.layer});case 44:case"end":return e.stop()}}),e,this,[[8,28,32,42],[33,,37,41]])})),function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){ae(a,n,i,o,s,"next",e)}function s(e){ae(a,n,i,o,s,"throw",e)}o(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()},{key:"_postProcessValue",value:function(e,t,r){var n=(this.component?this.component.props:{}).dataTransform;return"data"!==e?t:n?n(t,r):r?r.concat(t):t}},{key:"_createAsyncPropData",value:function(e,t,r){this.asyncProps[e]||(this.asyncProps[e]={lastValue:null,resolvedValue:r,pendingLoadCount:0,resolvedLoadCount:0})}}]),e}(),he=N.b.ASYNC_ORIGINAL,fe=N.b.ASYNC_RESOLVED,de=N.b.ASYNC_DEFAULTS,me=0,ge=function(){function e(){Object(i.a)(this,e),this.props=J.apply(this,arguments),this.id=this.props.id,this.count=me++,this.lifecycle=N.a.NO_STATE,this.parent=null,this.context=null,this.state=null,this.internalState=null,Object.seal(this)}return Object(a.a)(e,[{key:"clone",value:function(e){var t=this.props,r={};for(var n in t[de])n in t[fe]?r[n]=t[fe][n]:n in t[he]&&(r[n]=t[he][n]);return new this.constructor(Object.assign({},t,r,e))}},{key:"_initState",value:function(){this.internalState=new pe({})}},{key:"stats",get:function(){return this.internalState.stats}}]),e}();ge.componentName="Component",ge.defaultProps={};var ve=function(e){function t(e){var r,n=e.attributeManager,a=e.layer;return Object(i.a)(this,t),(r=Object(o.a)(this,Object(s.a)(t).call(this,a))).attributeManager=n,r.model=null,r.needsRedraw=!0,r.subLayers=null,r}return Object(u.a)(t,e),Object(a.a)(t,[{key:"layer",get:function(){return this.component},set:function(e){this.component=e}}]),t}(pe),ye=function(e){return"undefined"!==typeof Response&&e instanceof Response||e.arrayBuffer&&e.text&&e.json},be=function(e){return function(e){return"undefined"!==typeof File&&e instanceof File}(e)||function(e){return"undefined"!==typeof Blob&&e instanceof Blob}(e)},_e="",xe={};function we(e){for(var t in xe)if(e.startsWith(t)){var r=xe[t];return e.replace(t,r)}return e+=_e}var Oe=r(161),ke=function(){function e(t){Object(i.a)(this,e),this._fileOrBlob=t,this.bodyUsed=!1}return Object(a.a)(e,[{key:"arrayBuffer",value:function(){var e,t,r;return ie.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this._getFileReader(),t=e.reader,r=e.promise,t.readAsArrayBuffer(this._fileOrBlob),n.abrupt("return",r);case 3:case"end":return n.stop()}}),null,this)}},{key:"text",value:function(){var e,t,r;return ie.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this._getFileReader(),t=e.reader,r=e.promise,t.readAsText(this._fileOrBlob),n.abrupt("return",r);case 3:case"end":return n.stop()}}),null,this)}},{key:"json",value:function(){var e;return ie.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie.a.awrap(this.text());case 2:return e=t.sent,t.abrupt("return",JSON.parse(e));case 4:case"end":return t.stop()}}),null,this)}},{key:"_getFileReader",value:function(){var e;Object(Oe.a)(!this.bodyUsed),this.bodyUsed=!0;var t=new Promise((function(t,r){try{(e=new FileReader).onerror=function(e){return r(new Error(e))},e.onabort=function(){return r(new Error("Read aborted."))},e.onload=function(){return t(e.result)}}catch(n){r(n)}}));return{reader:e,promise:t}}},{key:"headers",get:function(){return new Headers({"Content-Length":this._fileOrBlob.size,"Content-Type":this._fileOrBlob.type})}},{key:"ok",get:function(){return!0}},{key:"status",get:function(){return 200}},{key:"url",get:function(){return this._fileOrBlob.name||""}}]),e}();function Ee(e,t){return Promise.resolve(new ke(e,t))}function Te(e,t){return ie.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!be(e)){r.next=2;break}return r.abrupt("return",Ee(e,t));case 2:return e=we(e),r.abrupt("return",fetch(e,t));case 4:case"end":return r.stop()}}))}var Se=r(104),je="2.0.0";function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je;Object(Oe.a)(e,"no loader provided");var r=e.version;t&&r&&(t=Ce(t),r=Ce(r))}function Ce(e){var t=e.split(".").map(Number);return{major:t[0],minor:t[1]}}var Ae=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"log",value:function(){return function(e){}}},{key:"info",value:function(){return function(e){}}},{key:"warn",value:function(){return function(e){}}},{key:"error",value:function(){return function(e){}}}]),e}(),Me={CDN:"https://unpkg.com/@loaders.gl",worker:!0,log:new(function(){function e(){Object(i.a)(this,e),this.console=console}return Object(a.a)(e,[{key:"log",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.log).bind.apply(e,[this.console].concat(r))}},{key:"info",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.info).bind.apply(e,[this.console].concat(r))}},{key:"warn",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.warn).bind.apply(e,[this.console].concat(r))}},{key:"error",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.error).bind.apply(e,[this.console].concat(r))}}]),e}()),dataType:"arraybuffer"};function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Le=function(e){return e&&"object"===Object(k.a)(e)&&e.constructor==={}.constructor},ze=Re({},Me);function De(e,t,r){var n=Re({},e&&(e.DEFAULT_LOADER_OPTIONS||e.defaultOptions||e.options||{}));return function(e,t){!t||"baseUri"in e||(e.baseUri=t)}(n,r),null===n.log&&(n.log=new Ae),Fe(n,ze),Fe(n,t),n}function Fe(e,t){for(var r in t)if(r in t){var n=t[r];Le(n)&&Le(e[r])?e[r]=Re({},e[r],{},t[r]):e[r]=t[r]}}function Be(e){this.wrapped=e}function Ne(e){var t,r;function n(t,r){try{var a=e[t](r),o=a.value,s=o instanceof Be;Promise.resolve(s?o.wrapped:o).then((function(e){s?n("return"===t?"return":"next",e):i(a.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(u){i("throw",u)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(a,o){var s={key:e,arg:i,resolve:a,reject:o,next:null};r?r=r.next=s:(t=r=s,n(e,i))}))},"function"!==typeof e.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(Ne.prototype[Symbol.asyncIterator]=function(){return this}),Ne.prototype.next=function(e){return this._invoke("next",e)},Ne.prototype.throw=function(e){return this._invoke("throw",e)},Ne.prototype.return=function(e){return this._invoke("return",e)};r(411);function qe(e){var t,r;return ie.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.ok){n.next=12;break}return t="fetch failed ".concat(e.status," "),n.prev=2,n.next=5,ie.a.awrap(e.text());case 5:r=n.sent,t+=r,n.next=11;break;case 9:n.prev=9,n.t0=n.catch(2);case 11:throw new Error(t);case 12:case"end":return n.stop()}}),null,null,[[2,9]])}var Ue="Cannot convert supplied data type";function Ve(e,t){return ye(e)?t=t||e.url:be(t)&&(t=t.name),"string"===typeof t?t.replace(/\?.*/,""):t}function Ge(e,t){if(t.text&&"string"===typeof e)return e;if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){var r=e.buffer||e;return t.text&&!t.binary?new TextDecoder("utf8").decode(r):r}throw new Error(Ue)}function We(e,t){var r;return ie.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ie.a.awrap(e);case 2:if(e=n.sent,r=e instanceof ArrayBuffer||ArrayBuffer.isView(e),"string"!==typeof e&&!r){n.next=6;break}return n.abrupt("return",Ge(e,t));case 6:if(!be(e)){n.next=10;break}return n.next=9,ie.a.awrap(Ee(e));case 9:e=n.sent;case 10:if(!ye(e)){n.next=23;break}return n.next=13,ie.a.awrap(qe(e));case 13:if(!t.binary){n.next=19;break}return n.next=16,ie.a.awrap(e.arrayBuffer());case 16:n.t0=n.sent,n.next=22;break;case 19:return n.next=21,ie.a.awrap(e.text());case 21:n.t0=n.sent;case 22:return n.abrupt("return",n.t0);case 23:throw new Error(Ue);case 24:case"end":return n.stop()}}))}var He=r(38);function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e,t,r){return r||(e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({fetch:e.fetch||Te},e),Array.isArray(e.loaders)||(e.loaders=null),e)}function Ke(e,t){if(!t&&!Array.isArray(e))return e;var r;if(e&&(r=Array.isArray(e)?e:[e]),t&&t.loaders){var n=Array.isArray(t.loaders)?t.loaders:[t.loaders];r=r?[].concat(Object(He.a)(r),Object(He.a)(n)):n}return r&&r.length?r:null}var Ye=r(201);function $e(e){if(Ye.toArrayBuffer&&(e=Object(Ye.toArrayBuffer)(e)),e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.buffer;if("string"===typeof e){var t=e;return(new TextEncoder).encode(t).buffer}return Object(Oe.a)(!1)}var Je=new Map;function Qe(e){return!!e&&(e instanceof ArrayBuffer||e.buffer instanceof ArrayBuffer||("undefined"!==typeof MessagePort&&e instanceof MessagePort||("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}function et(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e){if(Qe(e))r.push(e);else if(Qe(e.buffer))r.push(e.buffer);else if(t&&"object"===Object(k.a)(e))for(var n in e)et(e[n],t,r)}else;return r}var tt=0;function rt(e){var t=e.data;(0,e.resolve)(t)}var nt=function(){function e(t){var r=t.source,n=t.name,a=void 0===n?"web-worker-".concat(tt++):n,o=t.onMessage;Object(i.a)(this,e);var s=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],Object(Oe.a)("string"===typeof e,"worker source"),e.startsWith("url(")&&e.endsWith(")")){var t=e.match(/^url\((.*)\)$/)[1];if(t&&!t.startsWith("http"))return t;e=function(e){return"try {\n  importScripts('".concat(e,"');\n} catch (error) {\n  console.error(error);\n}")}(t)}var r=Je.get(e);if(!r){var n=new Blob([e],{type:"application/javascript"});r=URL.createObjectURL(n),Je.set(e,r)}return r}(r,a);this.worker=new Worker(s,{name:a}),this.name=a,this.onMessage=o||rt}return Object(a.a)(e,[{key:"process",value:function(e){var t=this;return ie.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,n){t.worker.onmessage=function(e){return t.onMessage({worker:t.worker,data:e.data,resolve:r,reject:n})},t.worker.onerror=function(e){var r="".concat(t.name,": WorkerThread.process() failed");e.message&&(r+=" ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno));var i=new Error(r);console.error(e),n(i)};var i=et(e);t.worker.postMessage(e,i)})));case 1:case"end":return r.stop()}}))}},{key:"destroy",value:function(){this.worker.terminate(),this.worker=null}}]),e}(),it=function(){function e(t){var r=t.source,n=t.name,a=void 0===n?"unnamed":n,o=t.maxConcurrency,s=void 0===o?1:o,u=t.onMessage,c=t.onDebug,l=void 0===c?function(){}:c;Object(i.a)(this,e),this.source=r,this.name=a,this.maxConcurrency=s,this.onMessage=u,this.onDebug=l,this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1}return Object(a.a)(e,[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"process",value:function(e,t){var r=this;return ie.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,i){r.jobQueue.push({data:e,jobName:t,resolve:n,reject:i}),r._startQueuedJob()})));case 1:case"end":return n.stop()}}))}},{key:"_startQueuedJob",value:function(){var e=this;if(this.jobQueue.length){var t=this._getAvailableWorker();if(t){var r=this.jobQueue.shift();this.onDebug({message:"processing",worker:t.name,job:r.jobName,backlog:this.jobQueue.length}),t.process(r.data).then((function(e){return r.resolve(e)})).catch((function(e){return r.reject(e)})).then((function(){return e._onWorkerDone(t)}))}}}},{key:"_onWorkerDone",value:function(e){this.isDestroyed?e.destroy():(this.idleQueue.push(e),this._startQueuedJob())}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift();if(this.count<this.maxConcurrency){this.count++;var e="".concat(this.name.toLowerCase(),"-worker-").concat(this.count,"-of-").concat(this.maxConcurrency);return new nt({source:this.source,onMessage:this.onMessage,name:e})}return null}}]),e}(),at=5,ot=function(){function e(t){var r=t.maxConcurrency,n=void 0===r?at:r,a=t.onMessage,o=t.onDebug,s=void 0===o?function(){}:o;Object(i.a)(this,e),this.maxConcurrency=n,this.onMessage=a,this.onDebug=s,this.workerPools=new Map}return Object(a.a)(e,null,[{key:"isSupported",value:function(){return"undefined"!==typeof Worker}}]),Object(a.a)(e,[{key:"setProps",value:function(e){"maxConcurrency"in e&&(this.maxConcurrency=e.maxConcurrency),"onDebug"in e&&(this.onDebug=e.onDebug)}},{key:"destroy",value:function(){this.workerPools.forEach((function(e){return e.destroy()}))}},{key:"process",value:function(e,t,r){var n;return ie.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=this._getWorkerPool(e,t),i.abrupt("return",n.process(r));case 2:case"end":return i.stop()}}),null,this)}},{key:"_getWorkerPool",value:function(e,t){var r=this.workerPools.get(t);return r||(r=new it({source:e,name:t,onMessage:this.onMessage,maxConcurrency:this.maxConcurrency,onDebug:this.onDebug}),this.workerPools.set(t,r)),r}}]),e}();function st(e,t,r,n){if(!ot.isSupported())return!1;var i=r&&r[e.id];return!!("local"===r.worker&&i&&i.localWorkerUrl||r.worker&&i&&i.workerUrl)&&(!e.useWorker||e.useWorker(r))}function ut(e,t,r,n){var i=(r||{}).worker,a=r&&r[e.id]||{},o="local"===i?a.localWorkerUrl:a.workerUrl,s="url(".concat(o,")"),u=e.name,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.maxConcurrency&&(t.maxConcurrency=e.maxConcurrency);e.onDebug&&(t.onDebug=e.onDebug);ct||(ct=new ot({onMessage:lt}));return ct.setProps(t),ct}(r);return r=JSON.parse(JSON.stringify(r)),c.process(s,"loaders.gl-".concat(u),{arraybuffer:$e(t),options:r,source:"loaders.gl@".concat("2.0.0"),type:"parse"})}var ct=null;function lt(e){var t,r,n,i,a;return ie.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:t=e.worker,r=e.data,n=e.resolve,i=e.reject,o.t0=r.type,o.next="done"===o.t0?4:"parse"===o.t0?6:"error"===o.t0?17:19;break;case 4:return n(r.result),o.abrupt("break",19);case 6:return o.prev=6,o.next=9,ie.a.awrap(bt(r.arraybuffer,r.options,r.url));case 9:a=o.sent,t.postMessage({type:"parse-done",id:r.id,result:a},et(a)),o.next=16;break;case 13:o.prev=13,o.t1=o.catch(6),t.postMessage({type:"parse-error",id:r.id,message:o.t1.message});case 16:return o.abrupt("break",19);case 17:return i(r.message),o.abrupt("break",19);case 19:case"end":return o.stop()}}),null,null,[[6,13]])}var pt=r(246),ht=/\.([^.]+)$/,ft=/^data:(.*?)(;|,)/;function dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).nothrow,i=void 0!==n&&n;if(t=t||"",e&&!Array.isArray(e)){var a=e;return Object(Se.b)(a),a}!function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;Object(Se.b)(o)}}catch(s){r=!0,n=s}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}(e=[].concat(Object(He.a)(e||[]),Object(He.a)(Object(pt.a)())));var o=function(e,t){var r=t.match(ft),n=r&&r[1];if(n)return mt(e,n);var i=(r=t.match(ht))&&r[1];return i&&function(e,t){t=t.toLowerCase();var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value,u=!0,c=!1,l=void 0;try{for(var p,h=s.extensions[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){if(p.value.toLowerCase()===t)return s}}catch(f){c=!0,l=f}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}}}catch(f){n=!0,i=f}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return null}(e,i)}(e,t=t.replace(/\?.*/,""));if(!(o=(o=o||function(e,t){if(!t||!ye(t)||!t.headers)return null;var r=t.headers.get("content-type");return mt(e,r)}(e,r))||function(e,t){if(!t)return null;var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if("string"===typeof t){if(gt(t,s))return s}else if(ArrayBuffer.isView(t)){if(vt(t.buffer,t.byteOffset,s))return s}else if(t instanceof ArrayBuffer){if(vt(t,0,s))return s}}}catch(u){n=!0,i=u}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return null}(e,r))){if(i)return null;var s="No valid loader found";throw r&&(s+=' for data starting with "'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return yt(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){return yt(e,0,t)}return""}(r),'"')),t&&(s+=" for ".concat(t)),new Error(s)}return o}function mt(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(s.mimeTypes&&s.mimeTypes.includes(t))return s}}catch(u){n=!0,i=u}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return null}function gt(e,t){return t.testText&&t.testText(e)}function vt(e,t,r){switch(Array.isArray(r.test)?"array":Object(k.a)(r.test)){case"function":return r.test(e,r);case"string":case"array":return(Array.isArray(r.test)?r.test:[r.test]).some((function(r){return r===yt(e,t,r.length)}));default:return!1}}function yt(e,t,r){if(e.byteLength<=t+r)return"";for(var n=new DataView(e),i="",a=0;a<r;a++)i+=String.fromCharCode(n.getUint8(t+a));return i}function bt(e,t,r,n){var i,a,o,s;return ie.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(!t||Array.isArray(t)||Object(Se.a)(t)||(n=r,r=t,t=null),i="","string"===typeof n&&(i=n,n=null),r=r||{},a=Ve(e,i),o=Ke(t,n),s=dt(o,a,e)){u.next=9;break}return u.abrupt("return",null);case 9:return r=De(s,r,a),n=Xe({url:a,parse:bt,loaders:o},0,n),u.next=13,ie.a.awrap(_t(s,e,r,n));case 13:return u.abrupt("return",u.sent);case 14:case"end":return u.stop()}}))}function _t(e,t,r,n){return ie.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return Pe(e),i.next=3,ie.a.awrap(We(t,e));case 3:if(t=i.sent,!e.parseTextSync||"string"!==typeof t){i.next=7;break}return r.dataType="text",i.abrupt("return",e.parseTextSync(t,r,n,e));case 7:if(!st(e,0,r)){i.next=11;break}return i.next=10,ie.a.awrap(ut(e,t,r));case 10:return i.abrupt("return",i.sent);case 11:if(!e.parse){i.next=15;break}return i.next=14,ie.a.awrap(e.parse(t,r,n,e));case 14:return i.abrupt("return",i.sent);case 15:return Object(Oe.a)(!e.parseSync),i.abrupt("return",Object(Oe.a)(!1));case 17:case"end":return i.stop()}}))}r.d(t,"a",(function(){return kt}));var xt=Object.freeze([]),wt=new Uint8ClampedArray(0),Ot={data:{type:"data",value:xt,async:!0},dataComparator:null,_dataDiff:{type:"function",value:function(e){return e&&e.__diff},compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:function(e,t){return function(e,t,r){var n;return ie.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(Array.isArray(t)||Object(Se.a)(t)||(r=t,t=null),n=e,"string"!==typeof e){i.next=6;break}return i.next=5,ie.a.awrap(Te(e,r));case 5:n=i.sent;case 6:if(!be(e)){i.next=11;break}return i.next=9,ie.a.awrap(Te(e,r));case 9:n=i.sent,e=null;case 11:return i.next=13,ie.a.awrap(bt(n,t,r,e));case 13:return i.abrupt("return",i.sent);case 14:case"end":return i.stop()}}))}(e,t.layer.getLoadOptions())},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:c.a.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{},uniforms:{},extensions:[],getPolygonOffset:{type:"function",value:function(e){return[0,100*-e.layerIndex]},compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"color",value:[0,0,128,128]}},kt=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(a.a)(t,[{key:"toString",value:function(){var e=this.constructor.layerName||this.constructor.name;return"".concat(e,"({id: '").concat(this.props.id,"'})")}},{key:"setState",value:function(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}},{key:"setNeedsRedraw",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.internalState&&(this.internalState.needsRedraw=e)}},{key:"setNeedsUpdate",value:function(){this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};return this._getNeedsRedraw(e)}},{key:"needsUpdate",value:function(){return this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams())}},{key:"hasUniformTransition",value:function(){return this.internalState.uniformTransitions.active}},{key:"isPickable",value:function(){return this.props.pickable&&this.props.visible}},{key:"getModels",value:function(){return this.state&&(this.state.models||(this.state.model?[this.state.model]:[]))}},{key:"getAttributeManager",value:function(){return this.internalState&&this.internalState.attributeManager}},{key:"getCurrentLayer",value:function(){return this.internalState&&this.internalState.layer}},{key:"getLoadOptions",value:function(){return this.props.loadOptions}},{key:"project",value:function(e){var t=this.context.viewport,r=D(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),i=Object(L.l)(r,t.pixelProjectionMatrix),a=Object(n.a)(i,3),o=a[0],s=a[1],u=a[2];return 2===e.length?[o,s]:[o,s,u]}},{key:"unproject",value:function(e){return this.context.viewport.unproject(e)}},{key:"projectPosition",value:function(e){return F(e,{viewport:this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem})}},{key:"use64bitPositions",value:function(){var e=this.props.coordinateSystem;return e===c.a.DEFAULT||e===c.a.LNGLAT||e===c.a.CARTESIAN}},{key:"onHover",value:function(e,t){return!!this.props.onHover&&this.props.onHover(e,t)}},{key:"onClick",value:function(e,t){return!!this.props.onClick&&this.props.onClick(e,t)}},{key:"nullPickingColor",value:function(){return[0,0,0]}},{key:"encodePickingColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}},{key:"decodePickingColor",value:function(e){Object(C.a)(e instanceof Uint8Array);var t=Object(n.a)(e,3);return t[0]+256*t[1]+65536*t[2]-1}},{key:"initializeState",value:function(){throw new Error("Layer ".concat(this," has not defined initializeState"))}},{key:"getShaders",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=this.props.extensions[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;e=Object(A.a)(e,o.getShaders.call(this,o))}}catch(s){r=!0,n=s}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return e}},{key:"shouldUpdateState",value:function(e){e.oldProps,e.props,e.context;return e.changeFlags.propsOrDataChanged}},{key:"updateState",value:function(e){e.oldProps,e.props,e.context;var t=e.changeFlags,r=this.getAttributeManager();if(t.dataChanged&&r){var n=t.dataChanged;if(Array.isArray(n)){var i=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;r.invalidateAll(c)}}catch(l){a=!0,o=l}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}}else r.invalidateAll()}}},{key:"finalizeState",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.getModels()[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.delete()}}catch(o){t=!0,r=o}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}var a=this.getAttributeManager();a&&a.finalize(),this.internalState.uniformTransitions.clear()}},{key:"draw",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=this.getModels()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.draw(e)}}catch(o){r=!0,n=o}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"getPickingInfo",value:function(e){var t=e.info,r=(e.mode,t.index);return r>=0&&Array.isArray(this.props.data)&&(t.object=this.props.data[r]),t}},{key:"invalidateAttribute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.getAttributeManager());t&&("all"===e?t.invalidateAll():t.invalidate(e))}},{key:"updateAttributes",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=this.getModels()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this._setModelAttributes(o,e)}}catch(s){r=!0,n=s}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"_updateAttributes",value:function(e){var t=this.getAttributeManager();if(t){var r=this.getNumInstances(e),n=this.getStartIndices(e);t.update({data:e.data,numInstances:r,startIndices:n,props:e,transitions:e.transitions,buffers:e.data.attributes,context:this,ignoreUnknownAttributes:!0});var i=t.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(i)}}},{key:"_updateAttributeTransition",value:function(){var e=this.getAttributeManager();e&&e.updateTransition()}},{key:"_updateUniformTransition",value:function(){var e=this.internalState.uniformTransitions;if(e.active){var t=e.update(),r=Object.create(this.props);for(var n in t)Object.defineProperty(r,n,{value:t[n]});return r}return this.props}},{key:"calculateInstancePickingColors",value:function(e,t){var r=t.numInstances,n=wt.length/3;if(n<r){var i=(wt=B.a.allocate(wt,r,{size:3,copy:!0})).length/3,a=[];Object(C.a)(i<16777215,"index out of picking color range");for(var o=n;o<i;o++)this.encodePickingColor(o,a),wt[3*o+0]=a[0],wt[3*o+1]=a[1],wt[3*o+2]=a[2]}e.value=wt.subarray(0,3*r)}},{key:"_setModelAttributes",value:function(e,t){var r=this.getAttributeManager(),n=e.userData.excludeAttributes||{},i=r.getShaderAttributes(t,n);e.setAttributes(i)}},{key:"clearPickingColor",value:function(e){var t=this.getAttributeManager().attributes,r=t.pickingColors,n=t.instancePickingColors,i=r||n,a=this.decodePickingColor(e),o=i.getVertexOffset(a),s=i.getVertexOffset(a+1);i.buffer.subData({data:new Uint8Array(s-o),offset:o})}},{key:"restorePickingColors",value:function(){var e=this.getAttributeManager().attributes,t=e.pickingColors,r=e.instancePickingColors;(t||r).updateSubBuffer({startOffset:0})}},{key:"getNumInstances",value:function(e){return void 0!==(e=e||this.props).numInstances?e.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:S(e.data)}},{key:"getStartIndices",value:function(e){return void 0!==(e=e||this.props).startIndices?e.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}},{key:"_initialize",value:function(){Object(j.a)("layer.initialize",this),this._initState(),this.initializeState(this.context);var e=!0,t=!1,r=void 0;try{for(var n,i=this.props.extensions[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;a.initializeState.call(this,this.context,a)}}catch(o){t=!0,r=o}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}this.setChangeFlags({dataChanged:!0,propsChanged:!0,viewportChanged:!0,extensionsChanged:!0}),this._updateState()}},{key:"_update",value:function(){var e=this.needsUpdate();Object(j.a)("layer.update",this,e),e&&this._updateState()}},{key:"_updateState",value:function(){var e=this.props,t=this._updateUniformTransition();this.internalState.propsInTransition=t,this.props=t;var r=this._getUpdateParams();if(this.context.gl)this.updateState(r);else try{this.updateState(r)}catch(c){}var n=!0,i=!1,a=void 0;try{for(var o,s=this.props.extensions[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;u.updateState.call(this,r,u)}}catch(l){i=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}this._updateModules(r),this.isComposite?this._renderLayers(r):(this.setNeedsRedraw(),this._updateAttributes(this.props),this.state.model&&this.state.model.setInstanceCount(this.getNumInstances())),this.props=e,this.clearChangeFlags(),this.internalState.needsUpdate=!1,this.internalState.resetOldProps()}},{key:"_finalize",value:function(){Object(j.a)("layer.finalize",this),Object(C.a)(this.internalState&&this.state),this.finalizeState(this.context);var e=!0,t=!1,r=void 0;try{for(var n,i=this.props.extensions[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;a.finalizeState.call(this,a)}}catch(o){t=!0,r=o}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}},{key:"drawLayer",value:function(e){var t=this,r=e.moduleParameters,n=void 0===r?null:r,i=e.uniforms,a=void 0===i?{}:i,o=e.parameters,s=void 0===o?{}:o;this._updateAttributeTransition();var u=this.props;this.props=this.internalState.propsInTransition;var c=this.props.opacity;a.opacity=Math.pow(c,1/2.2),n&&this.setModuleParameters(n);var l=this.props.getPolygonOffset,p=l&&l(a)||[0,0];Object(P.k)(this.context.gl,{polygonOffset:p}),Object(P.l)(this.context.gl,s,(function(){t.draw({moduleParameters:n,uniforms:a,parameters:s,context:t.context})})),this.props=u}},{key:"getChangeFlags",value:function(){return this.internalState.changeFlags}},{key:"setChangeFlags",value:function(e){var t=this.internalState.changeFlags;for(var r in t)e[r]&&!t[r]&&(t[r]=e[r],Object(j.a)("layer.changeFlag",this,r,e));var n=t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged;t.propsOrDataChanged=n,t.somethingChanged=n||e.viewportChanged||e.stateChanged}},{key:"clearChangeFlags",value:function(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}},{key:"diffProps",value:function(e,t){var r=Object(O.b)(e,t);if(r.updateTriggersChanged)for(var n in r.updateTriggersChanged)r.updateTriggersChanged[n]&&this.invalidateAttribute(n);if(r.transitionsChanged)for(var i in r.transitionsChanged)this.internalState.uniformTransitions.add(i,t[i],e[i],e.transitions[i]);return this.setChangeFlags(r)}},{key:"validateProps",value:function(){Object(O.c)(this.props)}},{key:"setModuleParameters",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=this.getModels()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.updateModuleSettings(e)}}catch(o){r=!0,n=o}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"_updateModules",value:function(e){var t=e.props,r=e.oldProps,n=t.autoHighlight,i=t.highlightedObjectIndex,a=t.highlightColor;if(r.autoHighlight!==n||r.highlightedObjectIndex!==i||r.highlightColor!==a){var o={};n||(o.pickingSelectedColor=null),a[3]=a[3]||255,o.pickingHighlightColor=a,Number.isInteger(i)&&(o.pickingSelectedColor=i>=0?this.encodePickingColor(i):null),this.setModuleParameters(o)}}},{key:"_getUpdateParams",value:function(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}},{key:"_getNeedsRedraw",value:function(e){if(!this.internalState)return!1;var t=!1;t=t||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags;var r=this.getAttributeManager(),n=r&&r.getNeedsRedraw(e);return t=t||n}},{key:"_getAttributeManager",value:function(){return new l.a(this.context.gl,{id:this.props.id,stats:this.context.stats,timeline:this.context.timeline})}},{key:"_initState",value:function(){Object(C.a)(!this.internalState&&!this.state),Object(C.a)(isFinite(this.props.coordinateSystem),"".concat(this.id,": invalid coordinateSystem"));var e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new ve({attributeManager:e,layer:this}),this.clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:function(){return b.a.deprecated("layer.state.attributeManager","layer.getAttributeManager()"),e}}),this.internalState.layer=this,this.internalState.uniformTransitions=new w(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props)}},{key:"_transferState",value:function(e){Object(j.a)("layer.matched",this,this===e);var t=e.state,r=e.internalState;Object(C.a)(t&&r),this!==e&&(this.internalState=r,this.internalState.layer=this,this.state=t,this.internalState.setAsyncProps(this.props),this.diffProps(this.props,this.internalState.getOldProps()))}},{key:"_onAsyncPropUpdated",value:function(){this.diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}]),t}(ge);kt.layerName="Layer",kt.defaultProps=Ot},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}var s=r(159),u=r.n(s),c=1,l=2,p=4,h={mousedown:c,mousemove:l,mouseup:p};!function(e){var t=e.prototype.handler;e.prototype.handler=function(e){var r=this.store;e.button>0&&(function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return!0;return!1}(r,(function(t){return t.pointerId===e.pointerId}))||r.push(e)),t.call(this,e)}}(u.a.PointerEventInput),u.a.MouseInput.prototype.handler=function(e){var t=h[e.type];t&c&&e.button>=0&&(this.pressed=!0),t&l&&0===e.which&&(t=p),this.pressed&&(t&p&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))};var f=u.a.Manager,d=u.a,m=d?[[d.Rotate,{enable:!1}],[d.Pinch,{enable:!1}],[d.Swipe,{enable:!1}],[d.Pan,{threshold:0,enable:!1}],[d.Press,{enable:!1}],[d.Tap,{event:"doubletap",taps:2,enable:!1}],[d.Tap,{event:"anytap",enable:!1}],[d.Tap,{enable:!1}]]:null,g={rotate:["pinch"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},v={doubletap:["tap"]},y={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},b=["keydown","keyup"],_=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],x=["wheel","mousewheel","DOMMouseScroll"],w={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},O={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},k=r(127),E=-1!==k.b.indexOf("firefox"),T=x,S=function(){function e(t,r){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e),this.element=t,this.callback=r,this.options=Object.assign({enable:!0},a),this.events=T.concat(a.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(e){return t.addEventListener(e,n.handleEvent,!!k.a&&{passive:!1})}))}return o(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){"wheel"===e&&(this.options.enable=t)}},{key:"handleEvent",value:function(e){if(this.options.enable){var t=e.deltaY;k.c.WheelEvent&&(E&&e.deltaMode===k.c.WheelEvent.DOM_DELTA_PIXEL&&(t/=k.c.devicePixelRatio),e.deltaMode===k.c.WheelEvent.DOM_DELTA_LINE&&(t*=40));var r={x:e.clientX,y:e.clientY};0!==t&&t%4.000244140625===0&&(t=Math.floor(t/4.000244140625)),e.shiftKey&&t&&(t*=.25),this._onWheel(e,-t,r)}}},{key:"_onWheel",value:function(e,t,r){this.callback({type:"wheel",center:r,delta:t,srcEvent:e,pointerType:"mouse",target:e.target})}}]),e}(),j=_,P=function(){function e(t,r){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e),this.element=t,this.callback=r,this.pressed=!1,this.options=Object.assign({enable:!0},a),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=j.concat(a.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(e){return t.addEventListener(e,n.handleEvent)}))}return o(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){"pointermove"===e&&(this.enableMoveEvent=t),"pointerover"===e&&(this.enableOverEvent=t),"pointerout"===e&&(this.enableOutEvent=t),"pointerleave"===e&&(this.enableLeaveEvent=t)}},{key:"handleEvent",value:function(e){this.handleOverEvent(e),this.handleOutEvent(e),this.handleLeaveEvent(e),this.handleMoveEvent(e)}},{key:"handleOverEvent",value:function(e){this.enableOverEvent&&"mouseover"===e.type&&this.callback({type:"pointerover",srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleOutEvent",value:function(e){this.enableOutEvent&&"mouseout"===e.type&&this.callback({type:"pointerout",srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleLeaveEvent",value:function(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this.callback({type:"pointerleave",srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleMoveEvent",value:function(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this.callback({type:"pointermove",srcEvent:e,pointerType:"mouse",target:e.target});break;case"mouseup":this.pressed=!1}}}]),e}(),C=b,A=function(){function e(t,r){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e),this.element=t,this.callback=r,this.options=Object.assign({enable:!0},a),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=C.concat(a.events||[]),this.handleEvent=this.handleEvent.bind(this),t.tabIndex=1,t.style.outline="none",this.events.forEach((function(e){return t.addEventListener(e,n.handleEvent)}))}return o(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){"keydown"===e&&(this.enableDownEvent=t),"keyup"===e&&(this.enableUpEvent=t)}},{key:"handleEvent",value:function(e){var t=e.target||e.srcElement;"INPUT"===t.tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(this.enableDownEvent&&"keydown"===e.type&&this.callback({type:"keydown",srcEvent:e,key:e.key,target:e.target}),this.enableUpEvent&&"keyup"===e.type&&this.callback({type:"keyup",srcEvent:e,key:e.key,target:e.target}))}}]),e}(),M=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e),this.element=t,this.callback=r,this.options=Object.assign({enable:!0},n),this.handleEvent=this.handleEvent.bind(this),t.addEventListener("contextmenu",this.handleEvent)}return o(e,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(e,t){"contextmenu"===e&&(this.options.enable=t)}},{key:"handleEvent",value:function(e){this.options.enable&&this.callback({type:"contextmenu",center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})}}]),e}(),I=1,R=2,L=4,z={pointerdown:I,pointermove:R,pointerup:L,mousedown:I,mousemove:R,mouseup:L},D=1,F=2,B=3,N=0,q=1,U=2,V=1,G=2,W=4;var H=function(){function e(t){i(this,e),this.eventManager=t,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this)}return o(e,[{key:"isEmpty",value:function(){return 0===this.handlers.length}},{key:"add",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"root",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.handlers,a=this.handlersByElement;a.has(r)||a.set(r,[]);var o={type:e,handler:t,srcElement:r,once:n};i.push(o),a.get(r).push(o)}},{key:"remove",value:function(e,t){for(var r=this.handlers,n=this.handlersByElement,i=r.length-1;i>=0;i--){var a=r[i];if(a.type===e&&a.handler===t){r.splice(i,1);var o=n.get(a.srcElement);o.splice(o.indexOf(a),1),0===o.length&&n.delete(a.srcElement)}}}},{key:"handleEvent",value:function(e){if(!this.isEmpty()){for(var t=this._normalizeEvent(e),r=e.srcEvent.target;r&&r!==t.rootElement;){if(this._emit(t,r),t.handled)return;r=r.parentNode}this._emit(t,"root")}}},{key:"_emit",value:function(e,t){var r=this.handlersByElement.get(t);if(r){for(var n=!1,i=function(){e.handled=!0},a=function(){e.handled=!0,n=!0},o=[],s=0;s<r.length;s++){var u=r[s],c=u.type,l=u.handler,p=u.once;if(l(Object.assign({},e,{type:c,stopPropagation:i,stopImmediatePropagation:a})),p&&o.push(r[s]),n)break}for(var h=0;h<o.length;h++){var f=o[h];c=f.type,l=f.handler;this.remove(c,l)}}}},{key:"_normalizeEvent",value:function(e){var t=this.eventManager.element;return Object.assign({},e,function(e){var t=z[e.srcEvent.type];if(!t)return null;var r=e.srcEvent,n=r.buttons,i=r.button,a=r.which,o=!1,s=!1,u=!1;return t===L||t===R&&!Number.isFinite(n)?(o=a===D,s=a===F,u=a===B):t===R?(o=Boolean(n&V),s=Boolean(n&W),u=Boolean(n&G)):t===I&&(o=i===N,s=i===q,u=i===U),{leftButton:o,middleButton:s,rightButton:u}}(e),function(e,t){var r=e.srcEvent;if(!e.center&&!Number.isFinite(r.clientX))return null;var n=e.center||{x:r.clientX,y:r.clientY},i=t.getBoundingClientRect(),a=i.width/t.offsetWidth,o=i.height/t.offsetHeight;return{center:n,offsetCenter:{x:(n.x-i.left-t.clientLeft)/a,y:(n.y-i.top-t.clientTop)/o}}}(e,t),{handled:!1,rootElement:t})}}]),e}(),Z={events:null,recognizers:null,recognizerOptions:{},Manager:f,touchAction:"none"},X=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.options=Object.assign({},Z,r),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(t);var n=r.events;n&&this.on(n)}return o(e,[{key:"setElement",value:function(e){var t=this;if(this.element&&this.destroy(),this.element=e,e){var r=this.options,i=r.Manager;for(var a in this.manager=new i(e,{touchAction:r.touchAction,recognizers:r.recognizers||m}).on("hammer.input",this._onBasicInput),r.recognizers||Object.keys(g).forEach((function(e){var r=t.manager.get(e);r&&g[e].forEach((function(e){r.recognizeWith(e)}))})),r.recognizerOptions){var o=this.manager.get(a);if(o){var s=r.recognizerOptions[a];delete s.enable,o.set(s)}}this.wheelInput=new S(e,this._onOtherEvent,{enable:!1}),this.moveInput=new P(e,this._onOtherEvent,{enable:!1}),this.keyInput=new A(e,this._onOtherEvent,{enable:!1}),this.contextmenuInput=new M(e,this._onOtherEvent,{enable:!1});var u=!0,c=!1,l=void 0;try{for(var p,h=this.events[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var f=n(p.value,2),d=f[0],v=f[1];v.isEmpty()||(this._toggleRecognizer(v.recognizerName,!0),this.manager.on(d,v.handleEvent))}}catch(y){c=!0,l=y}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(e,t,r){this._addEventHandler(e,t,r,!1)}},{key:"once",value:function(e,t,r){this._addEventHandler(e,t,r,!0)}},{key:"off",value:function(e,t){this._removeEventHandler(e,t)}},{key:"_toggleRecognizer",value:function(e,t){var r=this.manager;if(r){var n=r.get(e);if(n&&n.options.enable!==t){n.set({enable:t});var i=v[e];i&&!this.options.recognizers&&i.forEach((function(i){var a=r.get(i);t?(a.requireFailure(e),n.dropRequireFailure(i)):a.dropRequireFailure(e)}))}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}}},{key:"_addEventHandler",value:function(e,t,r,n){if("string"===typeof e){var i=this.manager,a=this.events,o=O[e]||e,s=a.get(o);s||(s=new H(this),a.set(o,s),s.recognizerName=w[o]||o,i&&i.on(o,s.handleEvent)),this._toggleRecognizer(s.recognizerName,!0),s.add(e,t,r,n)}else for(var u in r=t,e)this._addEventHandler(u,e[u],r,n)}},{key:"_removeEventHandler",value:function(e,t){if("string"===typeof e){var r=this.events,n=O[e]||e,i=r.get(n);if(i&&(i.remove(e,t),i.isEmpty())){var a=i.recognizerName,o=!1,s=!0,u=!1,c=void 0;try{for(var l,p=r.values()[Symbol.iterator]();!(s=(l=p.next()).done);s=!0){var h=l.value;if(h.recognizerName===a&&!h.isEmpty()){o=!0;break}}}catch(d){u=!0,c=d}finally{try{s||null==p.return||p.return()}finally{if(u)throw c}}o||this._toggleRecognizer(a,!1)}}else for(var f in e)this._removeEventHandler(f,e[f])}},{key:"_onBasicInput",value:function(e){var t=e.srcEvent,r=y[t.type];r&&this.manager.emit(r,e)}},{key:"_onOtherEvent",value:function(e){this.manager.emit(e.type,e)}}]),e}();r.d(t,"a",(function(){return X}))},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(95),i=r(87),a=r(97),o=r(77),s=r(96),u=r(134);var c=r(180);function l(e){var t="function"===typeof Map?new Map:void 0;return(l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Object(c.a)(e,arguments,Object(o.a)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object(u.a)(n,e)})(e)}var p=r(32);r.d(t,"a",(function(){return h}));var h=function(e){function t(){return Object(n.a)(this,t),Object(a.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"from",value:function(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)this[r]=e[r+t];return this.check()}},{key:"to",value:function(e){return e===this?this:Object(p.e)(e)?this.toArray(e):this.toObject(e)}},{key:"toTarget",value:function(e){return e?this.to(e):this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)e[t+r]=this[r];return e}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(p.b)}},{key:"formatString",value:function(e){for(var t="",r=0;r<this.ELEMENTS;++r)t+=(r>0?", ":"")+Object(p.d)(this[r],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!Object(p.c)(this[t],e[t]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"lerp",value:function(e,t,r){void 0===r&&(r=t,t=e,e=this);for(var n=0;n<this.ELEMENTS;++n){var i=e[n];this[n]=i+r*(t[n]-i)}return this.check()}},{key:"min",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}},{key:"max",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}},{key:"clamp",value:function(e,t){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),t[r]);return this.check()}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var a=i[n],o=0;o<this.ELEMENTS;++o)this[o]+=a[o];return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var a=i[n],o=0;o<this.ELEMENTS;++o)this[o]-=a[o];return this.check()}},{key:"scale",value:function(e){if(Array.isArray(e))return this.multiply(e);for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"sub",value:function(e){return this.subtract(e)}},{key:"setScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}},{key:"addScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}},{key:"subScalar",value:function(e){return this.addScalar(-e)}},{key:"multiplyScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"divideScalar",value:function(e){return this.scale(1/e)}},{key:"clampScalar",value:function(e,t){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),t);return this.check()}},{key:"multiplyByScalar",value:function(e){return this.scale(e)}},{key:"check",value:function(){if(p.b.debug&&!this.validate(this))throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var e=this.length===this.ELEMENTS,t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}},{key:"elements",get:function(){return this}}]),t}(l(Array))},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}var a=r(173);function o(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(a.a)(e):t}r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";var n=r(7),i=r(6),a=r(18),o=r(13),s=r(33),u=r(19),c=r(202),l=r(262),p=r(412),h=r(9);function f(e,t){var r={};for(var n in e)t.includes(n)||(r[n]=e[n]);return r}r.d(t,"a",(function(){return d}));var d=function(e){function t(){return Object(n.a)(this,t),Object(a.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"initializeState",value:function(e){Object(s.a)(Object(o.a)(t.prototype),"initializeState",this).call(this),this.setState({ignoreProps:f(this.constructor._propTypes,e.data.props),dimensions:e})}},{key:"updateState",value:function(e){if(Object(s.a)(Object(o.a)(t.prototype),"updateState",this).call(this,e),e.changeFlags.extensionsChanged){var r=this.getShaders({});r&&r.defines&&(r.defines.NON_INSTANCED_MODEL=1),this.updateShaders(r)}this._updateAttributes(e.props)}},{key:"updateAttributes",value:function(e){this.setState({changedAttributes:e})}},{key:"getAttributes",value:function(){return this.getAttributeManager().getShaderAttributes()}},{key:"getModuleSettings",value:function(){var e=this.context,t=e.viewport,r=e.mousePosition,n=e.gl;return Object.assign(Object.create(this.props),{viewport:t,mousePosition:r,pickingActive:0,devicePixelRatio:Object(h.c)(n)})}},{key:"updateShaders",value:function(e){}},{key:"isAggregationDirty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.props,n=e.oldProps,i=e.changeFlags,a=t.compareAll,o=void 0!==a&&a,s=t.dimension,u=this.state.ignoreProps,l=s.props,p=s.accessors,h=void 0===p?[]:p,f=i.updateTriggersChanged;if(f){if(f.all)return!0;var d=!0,m=!1,g=void 0;try{for(var v,y=h[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var b=v.value;if(f[b])return!0}}catch(T){m=!0,g=T}finally{try{d||null==y.return||y.return()}finally{if(m)throw g}}}if(o)return!!i.extensionsChanged||Object(c.a)({oldProps:n,newProps:r,ignoreProps:u,propTypes:this.constructor._propTypes});var _=!0,x=!1,w=void 0;try{for(var O,k=l[Symbol.iterator]();!(_=(O=k.next()).done);_=!0){var E=O.value;if(r[E]!==n[E])return!0}}catch(T){x=!0,w=T}finally{try{_||null==k.return||k.return()}finally{if(x)throw w}}return!1}},{key:"isAttributeChanged",value:function(e){var t=this.state.changedAttributes;return e?t&&void 0!==t[e]:!function(e){var t=!0;for(var r in e){t=!1;break}return t}(t)}},{key:"_getAttributeManager",value:function(){return new l.a(this.context.gl,{id:this.props.id,stats:this.context.stats})}}]),t}(p.a);d.layerName="AggregationLayer"},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return h}));var n=r(27),i=r(25),a=r(5),o=r(3),s=r.n(o),u=r(74);var c={container:s.a.object,gl:s.a.object,mapboxApiAccessToken:s.a.string,mapboxApiUrl:s.a.string,attributionControl:s.a.bool,preserveDrawingBuffer:s.a.bool,reuseMaps:s.a.bool,transformRequest:s.a.func,mapOptions:s.a.object,mapStyle:s.a.oneOfType([s.a.string,s.a.object]),visible:s.a.bool,asyncRender:s.a.bool,onLoad:s.a.func,onError:s.a.func,width:s.a.number,height:s.a.number,viewState:s.a.object,longitude:s.a.number,latitude:s.a.number,zoom:s.a.number,bearing:s.a.number,pitch:s.a.number,altitude:s.a.number},l={container:u.a.body,mapboxApiAccessToken:function(){var t=null;if("undefined"!==typeof window&&window.location){var r=window.location.search.match(/access_token=([^&\/]*)/);t=r&&r[1]}t||"undefined"===typeof e||(t=t||Object({NODE_ENV:"production",PUBLIC_URL:"/cancer-atlas",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiY2xhdWRpdWMiLCJhIjoiY2s0aGxpZmlwMGRnNzNsbXc4dmNwajVtdCJ9.6wRAkLu9yKEz8auJGOX5tQ",REACT_APP_GITHUB_TOKEN:"7ab326f394f38f6a74fb83ffe217f405655ae73e"}).MapboxAccessToken||Object({NODE_ENV:"production",PUBLIC_URL:"/cancer-atlas",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiY2xhdWRpdWMiLCJhIjoiY2s0aGxpZmlwMGRnNzNsbXc4dmNwajVtdCJ9.6wRAkLu9yKEz8auJGOX5tQ",REACT_APP_GITHUB_TOKEN:"7ab326f394f38f6a74fb83ffe217f405655ae73e"}).REACT_APP_MAPBOX_ACCESS_TOKEN);return t||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,asyncRender:!1,onLoad:function(){},onError:function(e){e&&console.error(e.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";e.debug&&s.a.checkPropTypes(c,e,"prop",t)}var h=function(){function e(t){var r=this;if(Object(n.a)(this,e),Object(a.a)(this,"mapboxgl",void 0),Object(a.a)(this,"props",l),Object(a.a)(this,"_map",null),Object(a.a)(this,"width",0),Object(a.a)(this,"height",0),Object(a.a)(this,"_fireLoadEvent",(function(){r.props.onLoad({type:"load",target:r._map})})),!t.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=t.mapboxgl,e.initialized||(e.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(t)}return Object(i.a)(e,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(e){return this._update(this.props,e),this}},{key:"resize",value:function(){return this._map.resize(),this}},{key:"redraw",value:function(){var e=this._map;e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(t){this._map=e.savedMap;var r=this._map.getContainer(),n=t.container;for(n.classList.add("mapboxgl-map");r.childNodes.length>0;)n.appendChild(r.childNodes[0]);this._map._container=n,e.savedMap=null,t.mapStyle&&this._map.setStyle(t.mapStyle,{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(t){if(t.reuseMaps&&e.savedMap)this._reuse(t);else{if(t.gl){var r=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=r,t.gl}}var n={container:t.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:t.mapStyle,interactive:!1,trackResize:!1,attributionControl:t.attributionControl,preserveDrawingBuffer:t.preserveDrawingBuffer};t.transformRequest&&(n.transformRequest=t.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},n,t.mapOptions)),this._map.once("load",t.onLoad),this._map.on("error",t.onError)}return this}},{key:"_destroy",value:function(){this._map&&(e.savedMap?this._map.remove():(e.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)),this._map=null)}},{key:"_initialize",value:function(e){var t=this;p(e=Object.assign({},l,e),"Mapbox"),this.mapboxgl.accessToken=e.mapboxApiAccessToken||l.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=e.mapboxApiUrl,this._create(e);var r=e.container;Object.defineProperty(r,"offsetWidth",{get:function(){return t.width}}),Object.defineProperty(r,"clientWidth",{get:function(){return t.width}}),Object.defineProperty(r,"offsetHeight",{get:function(){return t.height}}),Object.defineProperty(r,"clientHeight",{get:function(){return t.height}});var n=this._map.getCanvas();n&&(n.style.outline="none"),this._updateMapViewport({},e),this._updateMapSize({},e),this.props=e}},{key:"_update",value:function(e,t){if(this._map){p(t=Object.assign({},this.props,t),"Mapbox");var r=this._updateMapViewport(e,t),n=this._updateMapSize(e,t);t.asyncRender||!r&&!n||this.redraw(),this.props=t}}},{key:"_updateMapSize",value:function(e,t){var r=e.width!==t.width||e.height!==t.height;return r&&(this.width=t.width,this.height=t.height,this.resize()),r}},{key:"_updateMapViewport",value:function(e,t){var r=this._getViewState(e),n=this._getViewState(t),i=n.latitude!==r.latitude||n.longitude!==r.longitude||n.zoom!==r.zoom||n.pitch!==r.pitch||n.bearing!==r.bearing||n.altitude!==r.altitude;return i&&(this._map.jumpTo(this._viewStateToMapboxProps(n)),n.altitude!==r.altitude&&(this._map.transform.altitude=n.altitude)),i}},{key:"_getViewState",value:function(e){var t=e.viewState||e,r=t.longitude,n=t.latitude,i=t.zoom,a=t.pitch,o=void 0===a?0:a,s=t.bearing,u=void 0===s?0:s,c=t.altitude;return{longitude:r,latitude:n,zoom:i,pitch:o,bearing:u,altitude:void 0===c?1.5:c}}},{key:"_checkStyleSheet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if("undefined"!==typeof u.a)try{var t=u.a.createElement("div");t.className="mapboxgl-map",t.style.display="none",u.a.body.append(t);var r="static"!==window.getComputedStyle(t).position;if(!r){var n=u.a.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(e,"/mapbox-gl.css")),u.a.head.append(n)}}catch(i){}}},{key:"_viewStateToMapboxProps",value:function(e){return{center:[e.longitude,e.latitude],zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}}}]),e}();Object(a.a)(h,"initialized",!1),Object(a.a)(h,"propTypes",c),Object(a.a)(h,"defaultProps",l),Object(a.a)(h,"savedMap",null)}).call(this,r(85))},function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"shadertools: assertion failed.")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(228),i=r(90);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"anchorRef",{enumerable:!0,get:function(){return m.anchorRef}}),Object.defineProperty(t,"bindTrigger",{enumerable:!0,get:function(){return m.bindTrigger}}),Object.defineProperty(t,"bindToggle",{enumerable:!0,get:function(){return m.bindToggle}}),Object.defineProperty(t,"bindHover",{enumerable:!0,get:function(){return m.bindHover}}),Object.defineProperty(t,"bindMenu",{enumerable:!0,get:function(){return m.bindMenu}}),Object.defineProperty(t,"bindPopover",{enumerable:!0,get:function(){return m.bindPopover}}),Object.defineProperty(t,"bindPopper",{enumerable:!0,get:function(){return m.bindPopper}}),t.default=void 0;var a=i(r(170)),o=i(r(360)),s=i(r(361)),u=i(r(362)),c=i(r(363)),l=i(r(229)),p=i(r(364)),h=i(r(230)),f=n(r(0)),d=i(r(3)),m=r(366),g=function(e){function t(){var e,r;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=(0,u.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i))),(0,h.default)((0,l.default)(r),"state",m.initCoreState),(0,h.default)((0,l.default)(r),"_mounted",!0),(0,h.default)((0,l.default)(r),"_setStateIfMounted",(function(e){r._mounted&&r.setState(e)})),r}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"componentDidUpdate",value:function(e,t){var r=this.props.popupId;if((r!==e.popupId||this.state.anchorEl!==t.anchorEl)&&r&&"object"===("undefined"===typeof document?"undefined":(0,a.default)(document))){var n=document.getElementById(r);n&&n.focus()}}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.popupId,n=e.variant,i=e.parentPopupState,a=t((0,m.createPopupState)({state:this.state,setState:this._setStateIfMounted,popupId:r,variant:n,parentPopupState:i}));return null==a?null:a}}]),t}(f.Component);t.default=g,(0,h.default)(g,"propTypes",{children:d.default.func.isRequired,popupId:d.default.string,variant:d.default.oneOf(["popover","popper"]).isRequired,parentPopupState:d.default.object})},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=r(34),l={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},p=o.a.forwardRef((function(e,t){var r=e.align,a=void 0===r?"inherit":r,u=e.classes,p=e.className,h=e.color,f=void 0===h?"initial":h,d=e.component,m=e.display,g=void 0===m?"initial":m,v=e.gutterBottom,y=void 0!==v&&v,b=e.noWrap,_=void 0!==b&&b,x=e.paragraph,w=void 0!==x&&x,O=e.variant,k=void 0===O?"body1":O,E=e.variantMapping,T=void 0===E?l:E,S=Object(i.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),j=d||(w?"p":T[k]||l[k])||"span";return o.a.createElement(j,Object(n.a)({className:Object(s.a)(u.root,p,"inherit"!==k&&u[k],"initial"!==f&&u["color".concat(Object(c.a)(f))],_&&u.noWrap,y&&u.gutterBottom,w&&u.paragraph,"inherit"!==a&&u["align".concat(Object(c.a)(a))],"initial"!==g&&u["display".concat(Object(c.a)(g))]),ref:t},S))}));t.a=Object(u.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(p)},,function(e,t,r){"use strict";(function(e){var n=r(147);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){if("undefined"!==typeof window&&"object"===(0,i.default)(window.process)&&"renderer"===window.process.type)return!0;if("undefined"!==typeof e&&"object"===(0,i.default)(e.versions)&&Boolean(e.versions.electron))return!0;var r="object"===("undefined"===typeof navigator?"undefined":(0,i.default)(navigator))&&"string"===typeof navigator.userAgent&&navigator.userAgent,n=t||r;if(n&&n.indexOf("Electron")>=0)return!0;return!1};var i=n(r(167))}).call(this,r(85))},function(e,t,r){"use strict";function n(){return navigator.userAgent}r.r(t),r.d(t,"getUserAgent",(function(){return n}))},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){"use strict";(function(e,n){var i,a=r(234);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:n;var o=Object(a.a)(i);t.a=o}).call(this,r(61),r(295)(e))},function(e,t,r){e.exports=r(166)},function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return g}));var n=r(124),i=r(9),a=r(107),o=r(29),s=256,u=1024,c=16384,l=6144,p=6145,h=6146,f=34041,d="clear: bad arguments";function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.framebuffer,n=void 0===r?null:r,a=t.color,l=void 0===a?null:a,p=t.depth,h=void 0===p?null:p,f=t.stencil,m=void 0===f?null:f,g={};n&&(g.framebuffer=n);var v=0;l&&(v|=c,!0!==l&&(g.clearColor=l)),h&&(v|=s,!0!==h&&(g.clearDepth=h)),m&&(v|=u,!0!==h&&(g.clearStencil=h)),Object(o.a)(0!==v,d),Object(i.l)(e,g,(function(){e.clear(v)}))}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.framebuffer,s=void 0===r?null:r,u=t.buffer,c=void 0===u?l:u,m=t.drawBuffer,g=void 0===m?0:m,v=t.value,y=void 0===v?[0,0,0,0]:v;Object(a.a)(e),Object(i.l)(e,{framebuffer:s},(function(){switch(c){case l:switch(y.constructor){case Int32Array:e.clearBufferiv(c,g,y);break;case Uint32Array:e.clearBufferuiv(c,g,y);break;case Float32Array:default:e.clearBufferfv(c,g,y)}break;case p:e.clearBufferfv(p,0,[y]);break;case h:e.clearBufferiv(h,0,[y]);break;case f:var t=Object(n.a)(y,2),r=t[0],i=t[1];e.clearBufferfi(f,0,r,i);break;default:Object(o.a)(!1,d)}}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n,i=r(4),a=r(93),o=r(136),s={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};t.b=(n={},Object(i.a)(n,s.WEBGL2,[!1,!0]),Object(i.a)(n,s.VERTEX_ARRAY_OBJECT,["OES_vertex_array_object",!0]),Object(i.a)(n,s.TIMER_QUERY,["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"]),Object(i.a)(n,s.INSTANCED_RENDERING,["ANGLE_instanced_arrays",!0]),Object(i.a)(n,s.MULTIPLE_RENDER_TARGETS,["WEBGL_draw_buffers",!0]),Object(i.a)(n,s.ELEMENT_INDEX_UINT32,["OES_element_index_uint",!0]),Object(i.a)(n,s.BLEND_EQUATION_MINMAX,["EXT_blend_minmax",!0]),Object(i.a)(n,s.FLOAT_BLEND,["EXT_float_blend"]),Object(i.a)(n,s.COLOR_ENCODING_SRGB,["EXT_sRGB",!0]),Object(i.a)(n,s.TEXTURE_DEPTH,["WEBGL_depth_texture",!0]),Object(i.a)(n,s.TEXTURE_FLOAT,["OES_texture_float",!0]),Object(i.a)(n,s.TEXTURE_HALF_FLOAT,["OES_texture_half_float",!0]),Object(i.a)(n,s.TEXTURE_FILTER_LINEAR_FLOAT,["OES_texture_float_linear"]),Object(i.a)(n,s.TEXTURE_FILTER_LINEAR_HALF_FLOAT,["OES_texture_half_float_linear"]),Object(i.a)(n,s.TEXTURE_FILTER_ANISOTROPIC,["EXT_texture_filter_anisotropic"]),Object(i.a)(n,s.COLOR_ATTACHMENT_RGBA32F,[function(e){var t=new o.a(e,{format:6408,type:5126,dataFormat:6408}),r=new a.a(e,{id:"test-framebuffer",check:!1,attachments:Object(i.a)({},36064,t)}),n=r.getStatus();return t.delete(),r.delete(),36053===n},"EXT_color_buffer_float"]),Object(i.a)(n,s.COLOR_ATTACHMENT_FLOAT,[!1,"EXT_color_buffer_float"]),Object(i.a)(n,s.COLOR_ATTACHMENT_HALF_FLOAT,["EXT_color_buffer_half_float"]),Object(i.a)(n,s.GLSL_FRAG_DATA,["WEBGL_draw_buffers",!0]),Object(i.a)(n,s.GLSL_FRAG_DEPTH,["EXT_frag_depth",!0]),Object(i.a)(n,s.GLSL_DERIVATIVES,["OES_standard_derivatives",!0]),Object(i.a)(n,s.GLSL_TEXTURE_LOD,["EXT_shader_texture_lod",!0]),n)},,function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return u}));var n=r(28),i=r(49).b.COMPONENT;function a(e){var t=h(e);for(var r in t){var n=t[r],i=n.validate;if(i&&!i(e[r],n))throw new Error("Invalid prop ".concat(r,": ").concat(e[r]))}}function o(e,t){var r=u({newProps:e,oldProps:t,propTypes:h(e),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),n=function(e,t){if(null===t)return"oldProps is null, initial diff";var r=null,n=e.dataComparator,i=e._dataDiff;n?n(e.data,t.data)||(r="Data comparator detected a change"):e.data!==t.data&&(r="A new data container was supplied");r&&i&&(r=i(e.data,t.data)||r);return r}(e,t),i=!1;return n||(i=function(e,t){if(null===t)return"oldProps is null, initial diff";if("all"in e.updateTriggers){if(p(e,t,"all"))return{all:!0}}var r={},n=!1;for(var i in e.updateTriggers){if("all"!==i)p(e,t,i)&&(r[i]=!0,n=r)}return n}(e,t)),{dataChanged:n,propsChanged:r,updateTriggersChanged:i,extensionsChanged:l(e,t),transitionsChanged:s(e,t)}}function s(e,t){if(!e.transitions)return null;var r={},n=h(e);for(var i in e.transitions){var a=n[i],o=a&&a.type;("number"===o||"color"===o||"array"===o)&&c(e[i],t[i],a)&&(r[i]=!0)}return r}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.newProps,r=e.oldProps,i=e.ignoreProps,a=void 0===i?{}:i,o=e.propTypes,s=void 0===o?{}:o,u=e.triggerName,l=void 0===u?"props":u;if(r===t)return null;if("object"!==Object(n.a)(t)||null===t)return"".concat(l," changed shallowly");if("object"!==Object(n.a)(r)||null===r)return"".concat(l," changed shallowly");for(var p=0,h=Object.keys(t);p<h.length;p++){var f=h[p];if(!(f in a)){if(!(f in r))return"".concat(l,".").concat(f," added");var d=c(t[f],r[f],s[f]);if(d)return"".concat(l,".").concat(f," ").concat(d)}}for(var m=0,g=Object.keys(r);m<g.length;m++){var v=g[m];if(!(v in a)){if(!(v in t))return"".concat(l,".").concat(v," dropped");if(!Object.hasOwnProperty.call(t,v)){var y=c(t[v],r[v],s[v]);if(y)return"".concat(l,".").concat(v," ").concat(y)}}}return null}function c(e,t,r){var n=r&&r.equal;return n&&!n(e,t,r)?"changed deeply":n||!(n=e&&t&&e.equals)||n.call(e,t)?n||t===e?null:"changed shallowly":"changed deeply"}function l(e,t){if(null===t)return"oldProps is null, initial diff";var r=t.extensions,n=e.extensions;if(n===r)return!1;if(n.length!==r.length)return!0;for(var i=0;i<n.length;i++)if(!n[i].equals(r[i]))return!0;return!1}function p(e,t,r){var n=e.updateTriggers[r];n=void 0===n||null===n?{}:n;var i=t.updateTriggers[r];return u({oldProps:i=void 0===i||null===i?{}:i,newProps:n,triggerName:r})}function h(e){var t=e[i],r=t&&t.constructor;return r?r._propTypes:{}}},function(e,t,r){e.exports=r(166)},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,r){var n=r(306);e.exports=f,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var r,n=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(r=i.exec(e));){var p=r[0],h=r[1],f=r.index;if(s+=e.slice(o,f),o=f+p.length,h)s+=h[1];else{var d=e[o],m=r[2],g=r[3],v=r[4],y=r[5],b=r[6],_=r[7];s&&(n.push(s),s="");var x=null!=m&&null!=d&&d!==m,w="+"===b||"*"===b,O="?"===b||"*"===b,k=r[2]||l,E=v||y;n.push({name:g||a++,prefix:m||"",delimiter:k,optional:O,repeat:w,partial:x,asterisk:!!_,pattern:E?c(E):_?".*":"[^"+u(k)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&n.push(s),n}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var r=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(r[i]=new RegExp("^(?:"+e[i].pattern+")$",p(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var p,h=s[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(n(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(p=u(h[f]),!r[c].test(p))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(p)+"`");a+=(0===f?l.prefix:l.delimiter)+p}}else{if(p=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!r[c].test(p))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+p+'"');a+=l.prefix+p}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function h(e,t,r){n(t)||(r=t||r,t=[]);for(var i=(r=r||{}).strict,a=!1!==r.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var h=u(c.prefix),f="(?:"+c.pattern+")";t.push(c),c.repeat&&(f+="(?:"+h+f+")*"),o+=f=c.optional?c.partial?h+"("+f+")?":"(?:"+h+"("+f+"))?":h+"("+f+")"}}var d=u(r.delimiter||"/"),m=o.slice(-d.length)===d;return i||(o=(m?o.slice(0,-d.length):o)+"(?:"+d+"(?=$))?"),o+=a?"$":i&&m?"":"(?="+d+"|$)",l(new RegExp("^"+o,p(r)),t)}function f(e,t,r){return n(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?function(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):n(e)?function(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(f(e[i],t,r).source);return l(new RegExp("(?:"+n.join("|")+")",p(r)),t)}(e,t,r):function(e,t,r){return h(a(e,r),t,r)}(e,t,r)}},function(e,t,r){"use strict";var n,i=r(139),a=r(100),o=r(188);r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return h})),r.d(t,"b",(function(){return f}));var s=(n={},Object(i.a)(n,a.b,"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n"),Object(i.a)(n,a.a,"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"),n),u="__LUMA_INJECT_DECLARATIONS__",c=/void main\s*\([^)]*\)\s*\{\n?/,l=/}\n?[^{}]*$/,p=[];function h(e,t,r,n){var i=t===a.b,o=function(t){var n=r[t];n.sort((function(e,t){return e.order-t.order})),p.length=n.length;for(var a=0,o=n.length;a<o;++a)p[a]=n[a].injection;var s="".concat(p.join("\n"),"\n");switch(t){case"vs:#decl":i&&(e=e.replace(u,s));break;case"vs:#main-start":i&&(e=e.replace(c,(function(e){return e+s})));break;case"vs:#main-end":i&&(e=e.replace(l,(function(e){return s+e})));break;case"fs:#decl":i||(e=e.replace(u,s));break;case"fs:#main-start":i||(e=e.replace(c,(function(e){return e+s})));break;case"fs:#main-end":i||(e=e.replace(l,(function(e){return s+e})));break;default:e=e.replace(t,(function(e){return e+s}))}};for(var h in r)o(h);return e=e.replace(u,""),n&&(e=e.replace(/\}\s*$/,(function(e){return e+s[t]}))),e}function f(e){var t={};return Object(o.a)(Array.isArray(e)&&e.length>1),e.forEach((function(e){for(var r in e)t[r]=t[r]?"".concat(t[r],"\n").concat(e[r]):e[r]})),t}},function(e,t,r){"use strict";var n=r(53),i=r(93),a=r(72),o=r(9),s=r(107),u=r(128),c=r(29);function l(e){switch(e){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return Object(c.a)(!1),0}}var p=r(264);function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sourceX,n=void 0===r?0:r,i=t.sourceY,a=void 0===i?0:i,o=t.sourceFormat,s=void 0===o?6408:o,p=t.sourceAttachment,h=void 0===p?36064:p,f=t.target,d=void 0===f?null:f,m=t.sourceWidth,v=t.sourceHeight,y=t.sourceType,b=g(e),_=b.framebuffer,x=b.deleteFramebuffer;Object(c.a)(_);var w=_.gl,O=_.handle,k=_.attachments;m=m||_.width,v=v||_.height,36064===h&&null===O&&(h=1028),Object(c.a)(k[h]),d=function(e,t,r,n,i){if(e)return e;t=t||5121;var a=Object(u.c)(t,{clamped:!1}),o=l(r);return new a(n*i*o)}(d,y=y||k[h].type,s,m,v),y=y||Object(u.b)(d);var E=w.bindFramebuffer(36160,O);return w.readPixels(n,a,m,v,s,y,d),w.bindFramebuffer(36160,E||null),x&&_.delete(),d}function f(e,t){var r=t.sourceX,i=void 0===r?0:r,a=t.sourceY,u=void 0===a?0:a,p=t.sourceFormat,h=void 0===p?6408:p,f=t.target,d=void 0===f?null:f,m=t.targetByteOffset,v=void 0===m?0:m,y=t.sourceWidth,b=t.sourceHeight,_=t.sourceType,x=g(e),w=x.framebuffer,O=x.deleteFramebuffer;Object(c.a)(w);var k=w.gl;if(y=y||w.width,b=b||w.height,Object(s.a)(k),_=_||(d?d.type:5121),!d){var E=l(h),T=function(e){switch(e){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return Object(c.a)(!1),0}}(_),S=v+y*b*E*T;d=new n.a(k,{byteLength:S,accessor:{type:_,size:E}})}return d.bind({target:35051}),Object(o.l)(k,{framebuffer:w},(function(){k.readPixels(i,u,y,b,h,_,v)})),d.unbind({target:35051}),O&&w.delete(),d}function d(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sourceAttachment,n=void 0===r?36064:r,i=t.targetMaxHeight,a=void 0===i?Number.MAX_SAFE_INTEGER:i,o=h(e,{sourceAttachment:n}),s=e.width,c=e.height;c>a;){var l=Object(u.d)({data:o,width:s,height:c});o=l.data,s=l.width,c=l.height}Object(u.a)({data:o,width:s,height:c});var p=document.createElement("canvas");p.width=s,p.height=c;var f=p.getContext("2d"),d=f.createImageData(s,c);return d.data.set(o),f.putImageData(d,0,0),p.toDataURL()}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.sourceX,i=void 0===n?0:n,o=r.sourceY,s=void 0===o?0:o,u=r.targetX,l=r.targetY,p=r.targetZ,h=r.targetMipmaplevel,f=void 0===h?0:h,d=r.targetInternalFormat,m=void 0===d?6408:d,v=r.width,y=r.height,b=g(e),_=b.framebuffer,x=b.deleteFramebuffer;Object(c.a)(_);var w=_.gl,O=_.handle,k="undefined"!==typeof u||"undefined"!==typeof l||"undefined"!==typeof p;u=u||0,l=l||0,p=p||0;var E=w.bindFramebuffer(36160,O);Object(c.a)(t);var T=null;if(t instanceof a.a&&(T=t,v=Number.isFinite(v)?v:T.width,y=Number.isFinite(y)?y:T.height,T.bind(0),t=T.target),k)switch(t){case 3553:case 34067:w.copyTexSubImage2D(t,f,u,l,i,s,v,y);break;case 35866:case 32879:w.copyTexSubImage3D(t,f,u,l,p,i,s,v,y)}else w.copyTexImage2D(t,f,m,i,s,v,y,0);return T&&T.unbind(),w.bindFramebuffer(36160,E||null),x&&_.delete(),T}function g(e){return e instanceof i.a?{framebuffer:e,deleteFramebuffer:!1}:{framebuffer:Object(p.b)(e),deleteFramebuffer:!0}}r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return f})),r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return m}))},function(e,t,r){"use strict";var n=r(10),i=r(2),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=o.a.forwardRef((function(e,t){var r=e.classes,a=e.className,u=e.component,c=void 0===u?"div":u,l=e.square,p=void 0!==l&&l,h=e.elevation,f=void 0===h?1:h,d=Object(n.a)(e,["classes","className","component","square","elevation"]);return o.a.createElement(c,Object(i.a)({className:Object(s.a)(r.root,r["elevation".concat(f)],a,!p&&r.rounded),ref:t},d))}));t.a=Object(u.a)((function(e){var t={};return e.shadows.forEach((function(e,r){t["elevation".concat(r)]={boxShadow:e}})),Object(i.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius}},t)}),{name:"MuiPaper"})(c)},,,function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var r,s,u=o(e),c=1;c<arguments.length;c++){for(var l in r=Object(arguments[c]))i.call(r,l)&&(u[l]=r[l]);if(n){s=n(r);for(var p=0;p<s.length;p++)a.call(r,s[p])&&(u[s[p]]=r[s[p]])}}return u}},function(e,t,r){e.exports=function(){"use strict";var e,t,r;function n(n,i){if(e)if(t){var a="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",o={};e(o),(r=i(o)).workerUrl=window.URL.createObjectURL(new Blob([a],{type:"text/javascript"}))}else t=i;else e=i}return n(0,(function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n;function n(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=r,this.p2y=n}n.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},n.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},n.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},n.prototype.solveCurveX=function(e,t){var r,n,i,a,o;for(void 0===t&&(t=1e-6),i=e,o=0;o<8;o++){if(a=this.sampleCurveX(i)-e,Math.abs(a)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=a/s}if((i=e)<(r=0))return r;if(i>(n=1))return n;for(;r<n;){if(a=this.sampleCurveX(i),Math.abs(a-e)<t)return i;e>a?r=i:n=i,i=.5*(n-r)+r}return i},n.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var i=a;function a(e,t){this.x=e,this.y=t}function o(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!o(e[r],t[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!o(e[n],t[n]))return!1;return!0}return e===t}function s(e,t,n,i){var a=new r(e,t,n,i);return function(e){return a.solve(e)}}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=t*this.x-r*this.y,i=r*this.x+t*this.y;return this.x=n,this.y=i,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),i=t.x+r*(this.x-t.x)-n*(this.y-t.y),a=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=i,this.y=a,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(e){return e instanceof a?e:Array.isArray(e)?new a(e[0],e[1]):e};var u=s(.25,.1,.25,1);function c(e,t,r){return Math.min(r,Math.max(t,e))}function l(e,t,r){var n=r-t,i=((e-t)%n+n)%n+t;return i===t?r:i}function p(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,i=t;n<i.length;n+=1){var a=i[n];for(var o in a)e[o]=a[o]}return e}var h=1;function f(){return h++}function d(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function m(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function g(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function v(e,t){return-1!==e.indexOf(t,e.length-t.length)}function y(e,t,r){var n={};for(var i in e)n[i]=t.call(r||this,e[i],i,e);return n}function b(e,t,r){var n={};for(var i in e)t.call(r||this,e[i],i,e)&&(n[i]=e[i]);return n}function _(e){return Array.isArray(e)?e.map(_):"object"==typeof e&&e?y(e,_):e}var x={};function w(e){x[e]||("undefined"!=typeof console&&console.warn(e),x[e]=!0)}function O(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function k(e){for(var t=0,r=0,n=e.length,i=n-1,a=void 0,o=void 0;r<n;i=r++)a=e[r],t+=((o=e[i]).x-a.x)*(a.y+o.y);return t}function E(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function T(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,r,n,i){var a=n||i;return t[r]=!a||a.toLowerCase(),""})),t["max-age"]){var r=parseInt(t["max-age"],10);isNaN(r)?delete t["max-age"]:t["max-age"]=r}return t}var S=null;function j(e){if(null==S){var t=e.navigator?e.navigator.userAgent:null;S=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return S}function P(e){try{var t=self[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var C,A,M,I,R=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),L=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,z=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,D={now:R,frame:function(e){var t=L(e);return{cancel:function(){return z(t)}}},getImageData:function(e,t){void 0===t&&(t=0);var r=self.document.createElement("canvas"),n=r.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return r.width=e.width,r.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return C||(C=self.document.createElement("a")),C.href=e,C.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==A&&(A=self.matchMedia("(prefers-reduced-motion: reduce)")),A.matches)}},F={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},B={supported:!1,testSupport:function(e){!N&&I&&(q?U(e):M=e)}},N=!1,q=!1;function U(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,I),e.isContextLost())return;B.supported=!0}catch(e){}e.deleteTexture(t),N=!0}self.document&&((I=self.document.createElement("img")).onload=function(){M&&U(M),M=null,q=!0},I.onerror=function(){N=!0,M=null},I.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var V="01",G=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};function W(e){return 0===e.indexOf("mapbox:")}G.prototype._createSkuToken=function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",V,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},G.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},G.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},G.prototype.normalizeStyleURL=function(e,t){if(!W(e))return e;var r=K(e);return r.path="/styles/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)},G.prototype.normalizeGlyphsURL=function(e,t){if(!W(e))return e;var r=K(e);return r.path="/fonts/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)},G.prototype.normalizeSourceURL=function(e,t){if(!W(e))return e;var r=K(e);return r.path="/v4/"+r.authority+".json",r.params.push("secure"),this._makeAPIURL(r,this._customAccessToken||t)},G.prototype.normalizeSpriteURL=function(e,t,r,n){var i=K(e);return W(e)?(i.path="/styles/v1"+i.path+"/sprite"+t+r,this._makeAPIURL(i,this._customAccessToken||n)):(i.path+=""+t+r,Y(i))},G.prototype.normalizeTileURL=function(e,t,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),!t||!W(t))return e;var n=K(e),i=D.devicePixelRatio>=2||512===r?"@2x":"",a=B.supported?".webp":"$1";return n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+i+a),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path,F.REQUIRE_ACCESS_TOKEN&&(F.ACCESS_TOKEN||this._customAccessToken)&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,this._customAccessToken)},G.prototype.canonicalizeTileURL=function(e){var t=K(e);if(!t.path.match(/(^\/v4\/)/)||!t.path.match(/\.[\w]+$/))return e;var r="mapbox://tiles/";r+=t.path.replace("/v4/","");var n=t.params.filter((function(e){return!e.match(/^access_token=/)}));return n.length&&(r+="?"+n.join("&")),r},G.prototype.canonicalizeTileset=function(e,t){if(!W(t))return e.tiles||[];for(var r=[],n=0,i=e.tiles;n<i.length;n+=1){var a=i[n],o=this.canonicalizeTileURL(a);r.push(o)}return r},G.prototype._makeAPIURL=function(e,t){var r="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",n=K(F.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,"/"!==n.path&&(e.path=""+n.path+e.path),!F.REQUIRE_ACCESS_TOKEN)return Y(e);if(!(t=t||F.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+r);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+r);return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token="+t),Y(e)};var H=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Z(e){return H.test(e)}var X=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function K(e){var t=e.match(X);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Y(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function $(e){if(!e)return null;var t,r=e.split(".");if(!r||3!==r.length)return null;try{return JSON.parse((t=r[1],decodeURIComponent(self.atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(e){return null}}var J=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};J.prototype.getStorageKey=function(e){var t,r=$(F.ACCESS_TOKEN),n="";return r&&r.u?(t=r.u,n=self.btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))})))):n=F.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+n:"mapbox.eventData:"+n},J.prototype.fetchEventData=function(){var e=P("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{var n=self.localStorage.getItem(t);n&&(this.eventData=JSON.parse(n));var i=self.localStorage.getItem(r);i&&(this.anonId=i)}catch(e){w("Unable to read from LocalStorage")}},J.prototype.saveEventData=function(){var e=P("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{self.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){w("Unable to write to LocalStorage")}},J.prototype.processRequests=function(e){},J.prototype.postEvent=function(e,t,r,n){var i=this;if(F.EVENTS_URL){var a=K(F.EVENTS_URL);a.params.push("access_token="+(n||F.ACCESS_TOKEN||""));var o={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.6.1",skuId:V,userId:this.anonId},s=t?p(o,t):o,u={url:Y(a),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=xe(u,(function(e){i.pendingRequest=null,r(e),i.saveEventData(),i.processRequests(n)}))}},J.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var Q,ee,te=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postMapLoadEvent=function(e,t,r,n){this.skuToken=r,(F.EVENTS_URL&&n||F.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return W(e)||Z(e)})))&&this.queueRequest({id:t,timestamp:Date.now()},n)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var r=this.queue.shift(),n=r.id,i=r.timestamp;n&&this.success[n]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=d()),this.postEvent(i,{skuToken:this.skuToken},(function(e){e||n&&(t.success[n]=!0)}),e))}},t}(J),re=new(function(e){function t(t){e.call(this,"appUserTurnstile"),this._customAccessToken=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postTurnstileEvent=function(e,t){F.EVENTS_URL&&F.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return W(e)||Z(e)}))&&this.queueRequest(Date.now(),t)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var r=$(F.ACCESS_TOKEN),n=r?r.u:F.ACCESS_TOKEN,i=n!==this.eventData.tokenU;m(this.anonId)||(this.anonId=d(),i=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),s=new Date(a),u=(a-this.eventData.lastSuccess)/864e5;i=i||u>=1||u<-1||o.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(a,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=a,t.eventData.tokenU=n)}),e)}},t}(J)),ne=re.postTurnstileEvent.bind(re),ie=new te,ae=ie.postMapLoadEvent.bind(ie),oe="mapbox-tiles",se=500,ue=50,ce=42e4;function le(){self.caches&&!Q&&(Q=self.caches.open(oe))}function pe(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var he=1/0,fe={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(fe);var de=function(e){function t(t,r,n){401===r&&Z(n)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=r,this.url=n,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),me=E()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function ge(e,t){var r,n=new self.AbortController,i=new self.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:me(),signal:n.signal}),a=!1,o=!1,s=(r=i.url).indexOf("sku=")>0&&Z(r);"json"===e.type&&i.headers.set("Accept","application/json");var u=function(r,n,a){if(!o){if(r&&"SecurityError"!==r.message&&w(r),n&&a)return c(n);var u=Date.now();self.fetch(i).then((function(r){if(r.ok){var n=s?r.clone():null;return c(r,n,u)}return t(new de(r.statusText,r.status,e.url))})).catch((function(e){20!==e.code&&t(new Error(e.message))}))}},c=function(r,n,s){("arrayBuffer"===e.type?r.arrayBuffer():"json"===e.type?r.json():r.text()).then((function(e){o||(n&&s&&function(e,t,r){if(le(),Q){var n={status:t.status,statusText:t.statusText,headers:new self.Headers};t.headers.forEach((function(e,t){return n.headers.set(t,e)}));var i=T(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&n.headers.set("Expires",new Date(r+1e3*i["max-age"]).toUTCString()),new Date(n.headers.get("Expires")).getTime()-r<ce||function(e,t){if(void 0===ee)try{new Response(new ReadableStream),ee=!0}catch(e){ee=!1}ee?t(e.body):e.blob().then(t)}(t,(function(t){var r=new self.Response(t,n);le(),Q&&Q.then((function(t){return t.put(pe(e.url),r)})).catch((function(e){return w(e.message)}))})))}}(i,n,s),a=!0,t(null,e,r.headers.get("Cache-Control"),r.headers.get("Expires")))})).catch((function(e){o||t(new Error(e.message))}))};return s?function(e,t){if(le(),!Q)return t(null);var r=pe(e.url);Q.then((function(e){e.match(r).then((function(n){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),r=T(e.headers.get("Cache-Control")||"");return t>Date.now()&&!r["no-cache"]}(n);e.delete(r),i&&e.put(r,n.clone()),t(null,n,i)})).catch(t)})).catch(t)}(i,u):u(null,null),{cancel:function(){o=!0,a||n.abort()}}}var ve,ye,be=function(e,t){if(r=e.url,!(/^file:/.test(r)||/^file:/.test(me())&&!/^\w+:/.test(r))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return ge(e,t);if(E()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var r;return function(e,t){var r=new self.XMLHttpRequest;for(var n in r.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(r.responseType="arraybuffer"),e.headers)r.setRequestHeader(n,e.headers[n]);return"json"===e.type&&(r.responseType="text",r.setRequestHeader("Accept","application/json")),r.withCredentials="include"===e.credentials,r.onerror=function(){t(new Error(r.statusText))},r.onload=function(){if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){var n=r.response;if("json"===e.type)try{n=JSON.parse(r.response)}catch(e){return t(e)}t(null,n,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"))}else t(new de(r.statusText,r.status,e.url))},r.send(e.body),{cancel:function(){return r.abort()}}}(e,t)},_e=function(e,t){return be(p(e,{type:"arrayBuffer"}),t)},xe=function(e,t){return be(p(e,{method:"POST"}),t)};function we(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function Oe(e,t,r){if(r&&r[e]){var n=r[e].indexOf(t);-1!==n&&r[e].splice(n,1)}}ve=[],ye=0;var ke=function(e,t){void 0===t&&(t={}),p(this,t),this.type=e},Ee=function(e){function t(t,r){void 0===r&&(r={}),e.call(this,"error",p({error:t},r))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(ke),Te=function(){};Te.prototype.on=function(e,t){return this._listeners=this._listeners||{},we(e,t,this._listeners),this},Te.prototype.off=function(e,t){return Oe(e,t,this._listeners),Oe(e,t,this._oneTimeListeners),this},Te.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},we(e,t,this._oneTimeListeners),this},Te.prototype.fire=function(e,t){"string"==typeof e&&(e=new ke(e,t||{}));var r=e.type;if(this.listens(r)){e.target=this;for(var n=0,i=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];n<i.length;n+=1)i[n].call(this,e);for(var a=0,o=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];a<o.length;a+=1){var s=o[a];Oe(r,s,this._oneTimeListeners),s.call(this,e)}var u=this._eventedParent;u&&(p(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(e))}else e instanceof Ee&&console.error(e.error);return this},Te.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},Te.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var Se={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},je=function(e,t,r,n){this.message=(e?e+": ":"")+r,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)};function Pe(e){var t=e.key,r=e.value;return r?[new je(t,r,"constants have been deprecated as of v8")]:[]}function Ce(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,i=t;n<i.length;n+=1){var a=i[n];for(var o in a)e[o]=a[o]}return e}function Ae(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Me(e){if(Array.isArray(e))return e.map(Me);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var r in e)t[r]=Me(e[r]);return t}return Ae(e)}var Ie=function(e){function t(t,r){e.call(this,r),this.message=r,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),Re=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var r=0,n=t;r<n.length;r+=1){var i=n[r],a=i[0],o=i[1];this.bindings[a]=o}};Re.prototype.concat=function(e){return new Re(this,e)},Re.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},Re.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Le={kind:"null"},ze={kind:"number"},De={kind:"string"},Fe={kind:"boolean"},Be={kind:"color"},Ne={kind:"object"},qe={kind:"value"},Ue={kind:"collator"},Ve={kind:"formatted"},Ge={kind:"resolvedImage"};function We(e,t){return{kind:"array",itemType:e,N:t}}function He(e){if("array"===e.kind){var t=He(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var Ze=[Le,ze,De,Fe,Be,Ve,Ne,We(qe),Ge];function Xe(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Xe(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var r=0,n=Ze;r<n.length;r+=1)if(!Xe(n[r],t))return null}return"Expected "+He(e)+" but found "+He(t)+" instead."}var Ke=t((function(e,t){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return e<0?0:e>1?1:e}function a(e){return"%"===e[e.length-1]?n(parseFloat(e)/100*255):n(parseInt(e))}function o(e){return"%"===e[e.length-1]?i(parseFloat(e)/100):i(parseFloat(e))}function s(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{t.parseCSSColor=function(e){var t,i=e.replace(/ /g,"").toLowerCase();if(i in r)return r[i].slice();if("#"===i[0])return 4===i.length?(t=parseInt(i.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===i.length&&(t=parseInt(i.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var u=i.indexOf("("),c=i.indexOf(")");if(-1!==u&&c+1===i.length){var l=i.substr(0,u),p=i.substr(u+1,c-(u+1)).split(","),h=1;switch(l){case"rgba":if(4!==p.length)return null;h=o(p.pop());case"rgb":return 3!==p.length?null:[a(p[0]),a(p[1]),a(p[2]),h];case"hsla":if(4!==p.length)return null;h=o(p.pop());case"hsl":if(3!==p.length)return null;var f=(parseFloat(p[0])%360+360)%360/360,d=o(p[1]),m=o(p[2]),g=m<=.5?m*(d+1):m+d-m*d,v=2*m-g;return[n(255*s(v,g,f+1/3)),n(255*s(v,g,f)),n(255*s(v,g,f-1/3)),h];default:return null}}return null}}catch(e){}})).parseCSSColor,Ye=function(e,t,r,n){void 0===n&&(n=1),this.r=e,this.g=t,this.b=r,this.a=n};Ye.parse=function(e){if(e){if(e instanceof Ye)return e;if("string"==typeof e){var t=Ke(e);if(t)return new Ye(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},Ye.prototype.toString=function(){var e=this.toArray(),t=e[0],r=e[1],n=e[2],i=e[3];return"rgba("+Math.round(t)+","+Math.round(r)+","+Math.round(n)+","+i+")"},Ye.prototype.toArray=function(){var e=this.r,t=this.g,r=this.b,n=this.a;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*r/n,n]},Ye.black=new Ye(0,0,0,1),Ye.white=new Ye(1,1,1,1),Ye.transparent=new Ye(0,0,0,0),Ye.red=new Ye(1,0,0,1);var $e=function(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};$e.prototype.compare=function(e,t){return this.collator.compare(e,t)},$e.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Je=function(e,t,r,n,i){this.text=e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=i},Qe=function(e){this.sections=e};Qe.fromString=function(e){return new Qe([new Je(e,null,null,null,null)])},Qe.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},Qe.factory=function(e){return e instanceof Qe?e:Qe.fromString(e)},Qe.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},Qe.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];if(n.image)e.push(["image",n.image.name]);else{e.push(n.text);var i={};n.fontStack&&(i["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(i["font-scale"]=n.scale),n.textColor&&(i["text-color"]=["rgba"].concat(n.textColor.toArray())),e.push(i)}}return e};var et=function(e){this.name=e.name,this.available=e.available};function tt(e,t,r,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[e,t,r,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function rt(e){if(null===e)return Le;if("string"==typeof e)return De;if("boolean"==typeof e)return Fe;if("number"==typeof e)return ze;if(e instanceof Ye)return Be;if(e instanceof $e)return Ue;if(e instanceof Qe)return Ve;if(e instanceof et)return Ge;if(Array.isArray(e)){for(var t,r=e.length,n=0,i=e;n<i.length;n+=1){var a=rt(i[n]);if(t){if(t===a)continue;t=qe;break}t=a}return We(t||qe,r)}return Ne}function nt(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Ye||e instanceof Qe||e instanceof et?e.toString():JSON.stringify(e)}et.prototype.toString=function(){return this.name},et.fromString=function(e){return new et({name:e,available:!1})},et.prototype.serialize=function(){return["image",this.name]};var it=function(e,t){this.type=e,this.value=t};it.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!function e(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof Ye)return!0;if(t instanceof $e)return!0;if(t instanceof Qe)return!0;if(t instanceof et)return!0;if(Array.isArray(t)){for(var r=0,n=t;r<n.length;r+=1)if(!e(n[r]))return!1;return!0}if("object"==typeof t){for(var i in t)if(!e(t[i]))return!1;return!0}return!1}(e[1]))return t.error("invalid value");var r=e[1],n=rt(r),i=t.expectedType;return"array"!==n.kind||0!==n.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(n=i),new it(n,r)},it.prototype.evaluate=function(){return this.value},it.prototype.eachChild=function(){},it.prototype.possibleOutputs=function(){return[this.value]},it.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Ye?["rgba"].concat(this.value.toArray()):this.value instanceof Qe?this.value.serialize():this.value};var at=function(e){this.name="ExpressionEvaluationError",this.message=e};at.prototype.toJSON=function(){return this.message};var ot={string:De,number:ze,boolean:Fe,object:Ne},st=function(e,t){this.type=e,this.args=t};st.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r,n=1,i=e[0];if("array"===i){var a,o;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in ot)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=ot[s],n++}else a=qe;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],n++}r=We(a,o)}else r=ot[i];for(var u=[];n<e.length;n++){var c=t.parse(e[n],n,qe);if(!c)return null;u.push(c)}return new st(r,u)},st.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var r=this.args[t].evaluate(e);if(!Xe(this.type,rt(r)))return r;if(t===this.args.length-1)throw new at("Expected value to be of type "+He(this.type)+", but found "+He(rt(r))+" instead.")}return null},st.prototype.eachChild=function(e){this.args.forEach(e)},st.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map((function(e){return e.possibleOutputs()})))},st.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);var n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var ut=function(e){this.type=Ve,this.sections=e};ut.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");for(var n=[],i=!1,a=1;a<=e.length-1;++a){var o=e[a];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;var s=null;if(o["font-scale"]&&!(s=t.parse(o["font-scale"],1,ze)))return null;var u=null;if(o["text-font"]&&!(u=t.parse(o["text-font"],1,We(De))))return null;var c=null;if(o["text-color"]&&!(c=t.parse(o["text-color"],1,Be)))return null;var l=n[n.length-1];l.scale=s,l.font=u,l.textColor=c}else{var p=t.parse(e[a],1,qe);if(!p)return null;var h=p.type.kind;if("string"!==h&&"value"!==h&&"null"!==h&&"resolvedImage"!==h)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:p,scale:null,font:null,textColor:null})}}return new ut(n)},ut.prototype.evaluate=function(e){return new Qe(this.sections.map((function(t){var r=t.content.evaluate(e);return rt(r)===Ge?new Je("",r,null,null,null):new Je(nt(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},ut.prototype.eachChild=function(e){for(var t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e(n.content),n.scale&&e(n.scale),n.font&&e(n.font),n.textColor&&e(n.textColor)}},ut.prototype.possibleOutputs=function(){return[void 0]},ut.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e.push(n.content.serialize());var i={};n.scale&&(i["font-scale"]=n.scale.serialize()),n.font&&(i["text-font"]=n.font.serialize()),n.textColor&&(i["text-color"]=n.textColor.serialize()),e.push(i)}return e};var ct=function(e){this.type=Ge,this.input=e};ct.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,De);return r?new ct(r):t.error("No image name provided.")},ct.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=!1;return e.availableImages&&e.availableImages.indexOf(t)>-1&&(r=!0),new et({name:t,available:r})},ct.prototype.eachChild=function(e){e(this.input)},ct.prototype.possibleOutputs=function(){return[void 0]},ct.prototype.serialize=function(){return["image",this.input.serialize()]};var lt={"to-boolean":Fe,"to-color":Be,"to-number":ze,"to-string":De},pt=function(e,t){this.type=e,this.args=t};pt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");for(var n=lt[r],i=[],a=1;a<e.length;a++){var o=t.parse(e[a],a,qe);if(!o)return null;i.push(o)}return new pt(n,i)},pt.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,r,n=0,i=this.args;n<i.length;n+=1){if(r=null,(t=i[n].evaluate(e))instanceof Ye)return t;if("string"==typeof t){var a=e.parseColor(t);if(a)return a}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":tt(t[0],t[1],t[2],t[3])))return new Ye(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new at(r||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var o=null,s=0,u=this.args;s<u.length;s+=1){if(null===(o=u[s].evaluate(e)))return 0;var c=Number(o);if(!isNaN(c))return c}throw new at("Could not convert "+JSON.stringify(o)+" to number.")}return"formatted"===this.type.kind?Qe.fromString(nt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?et.fromString(nt(this.args[0].evaluate(e))):nt(this.args[0].evaluate(e))},pt.prototype.eachChild=function(e){this.args.forEach(e)},pt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map((function(e){return e.possibleOutputs()})))},pt.prototype.serialize=function(){if("formatted"===this.type.kind)return new ut([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new ct(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var ht=["Unknown","Point","LineString","Polygon"],ft=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null};ft.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ft.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?ht[this.feature.type]:this.feature.type:null},ft.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ft.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Ye.parse(e)),t};var dt=function(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n};dt.prototype.evaluate=function(e){return this._evaluate(e,this.args)},dt.prototype.eachChild=function(e){this.args.forEach(e)},dt.prototype.possibleOutputs=function(){return[void 0]},dt.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},dt.parse=function(e,t){var r,n=e[0],i=dt.definitions[n];if(!i)return t.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var a=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=o.filter((function(t){var r=t[0];return!Array.isArray(r)||r.length===e.length-1})),u=null,c=0,l=s;c<l.length;c+=1){var p=l[c],h=p[0],f=p[1];u=new _t(t.registry,t.path,null,t.scope);for(var d=[],m=!1,g=1;g<e.length;g++){var v=e[g],y=Array.isArray(h)?h[g-1]:h.type,b=u.parse(v,1+d.length,y);if(!b){m=!0;break}d.push(b)}if(!m)if(Array.isArray(h)&&h.length!==d.length)u.error("Expected "+h.length+" arguments, but found "+d.length+" instead.");else{for(var _=0;_<d.length;_++){var x=Array.isArray(h)?h[_]:h.type,w=d[_];u.concat(_+1).checkSubtype(x,w.type)}if(0===u.errors.length)return new dt(n,a,f,d)}}if(1===s.length)(r=t.errors).push.apply(r,u.errors);else{for(var O=(s.length?s:o).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(He).join(", ")+")":"("+He(t.type)+"...)"})).join(" | "),k=[],E=1;E<e.length;E++){var T=t.parse(e[E],1+k.length);if(!T)return null;k.push(He(T.type))}t.error("Expected arguments of type "+O+", but found ("+k.join(", ")+") instead.")}return null},dt.register=function(e,t){for(var r in dt.definitions=t,t)e[r]=dt};var mt=function(e,t,r){this.type=Ue,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t};function gt(e){if(e instanceof dt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}var t=!0;return e.eachChild((function(e){t&&!gt(e)&&(t=!1)})),t}function vt(e){if(e instanceof dt&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!vt(e)&&(t=!1)})),t}function yt(e,t){if(e instanceof dt&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild((function(e){r&&!yt(e,t)&&(r=!1)})),r}mt.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");var n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,Fe);if(!n)return null;var i=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,Fe);if(!i)return null;var a=null;return r.locale&&!(a=t.parse(r.locale,1,De))?null:new mt(n,i,a)},mt.prototype.evaluate=function(e){return new $e(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},mt.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},mt.prototype.possibleOutputs=function(){return[void 0]},mt.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var bt=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};bt.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var r=e[1];return t.scope.has(r)?new bt(r,t.scope.get(r)):t.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},bt.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},bt.prototype.eachChild=function(){},bt.prototype.possibleOutputs=function(){return[void 0]},bt.prototype.serialize=function(){return["var",this.name]};var _t=function(e,t,r,n,i){void 0===t&&(t=[]),void 0===n&&(n=new Re),void 0===i&&(i=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=n,this.errors=i,this.expectedType=r};function xt(e,t){for(var r,n,i=e.length-1,a=0,o=i,s=0;a<=o;)if(r=e[s=Math.floor((a+o)/2)],n=e[s+1],r<=t){if(s===i||t<n)return s;a=s+1}else{if(!(r>t))throw new at("Input is not a number.");o=s-1}return 0}_t.prototype.parse=function(e,t,r,n,i){return void 0===i&&(i={}),t?this.concat(t,r,n)._parse(e,i):this._parse(e,i)},_t.prototype._parse=function(e,t){function r(e,t,r){return"assert"===r?new st(t,[e]):"coerce"===r?new pt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=e[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[n];if(i){var a=i.parse(e,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else a=r(a,o,t.typeAnnotation||"coerce");else a=r(a,o,t.typeAnnotation||"assert")}if(!(a instanceof it)&&"resolvedImage"!==a.type.kind&&function e(t){if(t instanceof bt)return e(t.boundExpression);if(t instanceof dt&&"error"===t.name)return!1;if(t instanceof mt)return!1;var r=t instanceof pt||t instanceof st,n=!0;return t.eachChild((function(t){n=r?n&&e(t):n&&t instanceof it})),!!n&&gt(t)&&yt(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(a)){var u=new ft;try{a=new it(a.type,a.evaluate(u))}catch(e){return this.error(e.message),null}}return a}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof e+" instead.")},_t.prototype.concat=function(e,t,r){var n="number"==typeof e?this.path.concat(e):this.path,i=r?this.scope.concat(r):this.scope;return new _t(this.registry,n,t||null,i,this.errors)},_t.prototype.error=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var n=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new Ie(n,e))},_t.prototype.checkSubtype=function(e,t){var r=Xe(e,t);return r&&this.error(r),r};var wt=function(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var n=0,i=r;n<i.length;n+=1){var a=i[n],o=a[0],s=a[1];this.labels.push(o),this.outputs.push(s)}};function Ot(e,t,r){return e*(1-r)+t*r}wt.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var r=t.parse(e[1],1,ze);if(!r)return null;var n=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var a=1;a<e.length;a+=2){var o=1===a?-1/0:e[a],s=e[a+1],u=a,c=a+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(n.length&&n[n.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var l=t.parse(s,c,i);if(!l)return null;i=i||l.type,n.push([o,l])}return new wt(i,r,n)},wt.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var i=t.length;return n>=t[i-1]?r[i-1].evaluate(e):r[xt(t,n)].evaluate(e)},wt.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},wt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map((function(e){return e.possibleOutputs()})))},wt.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var kt=Object.freeze({__proto__:null,number:Ot,color:function(e,t,r){return new Ye(Ot(e.r,t.r,r),Ot(e.g,t.g,r),Ot(e.b,t.b,r),Ot(e.a,t.a,r))},array:function(e,t,r){return e.map((function(e,n){return Ot(e,t[n],r)}))}}),Et=.95047,Tt=1,St=1.08883,jt=4/29,Pt=6/29,Ct=3*Pt*Pt,At=Pt*Pt*Pt,Mt=Math.PI/180,It=180/Math.PI;function Rt(e){return e>At?Math.pow(e,1/3):e/Ct+jt}function Lt(e){return e>Pt?e*e*e:Ct*(e-jt)}function zt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Dt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ft(e){var t=Dt(e.r),r=Dt(e.g),n=Dt(e.b),i=Rt((.4124564*t+.3575761*r+.1804375*n)/Et),a=Rt((.2126729*t+.7151522*r+.072175*n)/Tt);return{l:116*a-16,a:500*(i-a),b:200*(a-Rt((.0193339*t+.119192*r+.9503041*n)/St)),alpha:e.a}}function Bt(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=Tt*Lt(t),r=Et*Lt(r),n=St*Lt(n),new Ye(zt(3.2404542*r-1.5371385*t-.4985314*n),zt(-.969266*r+1.8760108*t+.041556*n),zt(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}function Nt(e,t,r){var n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}var qt={forward:Ft,reverse:Bt,interpolate:function(e,t,r){return{l:Ot(e.l,t.l,r),a:Ot(e.a,t.a,r),b:Ot(e.b,t.b,r),alpha:Ot(e.alpha,t.alpha,r)}}},Ut={forward:function(e){var t=Ft(e),r=t.l,n=t.a,i=t.b,a=Math.atan2(i,n)*It;return{h:a<0?a+360:a,c:Math.sqrt(n*n+i*i),l:r,alpha:e.a}},reverse:function(e){var t=e.h*Mt,r=e.c;return Bt({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:Nt(e.h,t.h,r),c:Ot(e.c,t.c,r),l:Ot(e.l,t.l,r),alpha:Ot(e.alpha,t.alpha,r)}}},Vt=Object.freeze({__proto__:null,lab:qt,hcl:Ut}),Gt=function(e,t,r,n,i){this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(var a=0,o=i;a<o.length;a+=1){var s=o[a],u=s[0],c=s[1];this.labels.push(u),this.outputs.push(c)}};function Wt(e,t,r,n){var i=n-r,a=e-r;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}Gt.interpolationFactor=function(e,t,n,i){var a=0;if("exponential"===e.name)a=Wt(t,e.base,n,i);else if("linear"===e.name)a=Wt(t,1,n,i);else if("cubic-bezier"===e.name){var o=e.controlPoints;a=new r(o[0],o[1],o[2],o[3]).solve(Wt(t,1,n,i))}return a},Gt.parse=function(e,t){var r=e[0],n=e[1],i=e[2],a=e.slice(3);if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var o=n[1];if("number"!=typeof o)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:o}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);var s=n.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,ze)))return null;var u=[],c=null;"interpolate-hcl"===r||"interpolate-lab"===r?c=Be:t.expectedType&&"value"!==t.expectedType.kind&&(c=t.expectedType);for(var l=0;l<a.length;l+=2){var p=a[l],h=a[l+1],f=l+3,d=l+4;if("number"!=typeof p)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(u.length&&u[u.length-1][0]>=p)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);var m=t.parse(h,d,c);if(!m)return null;c=c||m.type,u.push([p,m])}return"number"===c.kind||"color"===c.kind||"array"===c.kind&&"number"===c.itemType.kind&&"number"==typeof c.N?new Gt(c,r,n,i,u):t.error("Type "+He(c)+" is not interpolatable.")},Gt.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var i=t.length;if(n>=t[i-1])return r[i-1].evaluate(e);var a=xt(t,n),o=t[a],s=t[a+1],u=Gt.interpolationFactor(this.interpolation,n,o,s),c=r[a].evaluate(e),l=r[a+1].evaluate(e);return"interpolate"===this.operator?kt[this.type.kind.toLowerCase()](c,l,u):"interpolate-hcl"===this.operator?Ut.reverse(Ut.interpolate(Ut.forward(c),Ut.forward(l),u)):qt.reverse(qt.interpolate(qt.forward(c),qt.forward(l),u))},Gt.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},Gt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map((function(e){return e.possibleOutputs()})))},Gt.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t};var Ht=function(e,t){this.type=e,this.args=t};Ht.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,n=t.expectedType;n&&"value"!==n.kind&&(r=n);for(var i=[],a=0,o=e.slice(1);a<o.length;a+=1){var s=o[a],u=t.parse(s,1+i.length,r,void 0,{typeAnnotation:"omit"});if(!u)return null;r=r||u.type,i.push(u)}var c=n&&i.some((function(e){return Xe(n,e.type)}));return new Ht(c?qe:r,i)},Ht.prototype.evaluate=function(e){for(var t,r=null,n=0,i=0,a=this.args;i<a.length&&(n++,(r=a[i].evaluate(e))&&r instanceof et&&!r.available&&(t||(t=r.name),r=null,n===this.args.length&&(r=t)),null===r);i+=1);return r},Ht.prototype.eachChild=function(e){this.args.forEach(e)},Ht.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map((function(e){return e.possibleOutputs()})))},Ht.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Zt=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};Zt.prototype.evaluate=function(e){return this.result.evaluate(e)},Zt.prototype.eachChild=function(e){for(var t=0,r=this.bindings;t<r.length;t+=1)e(r[t][1]);e(this.result)},Zt.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],n=1;n<e.length-1;n+=2){var i=e[n];if("string"!=typeof i)return t.error("Expected string, but found "+typeof i+" instead.",n);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);var a=t.parse(e[n+1],n+1);if(!a)return null;r.push([i,a])}var o=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return o?new Zt(r,o):null},Zt.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},Zt.prototype.serialize=function(){for(var e=["let"],t=0,r=this.bindings;t<r.length;t+=1){var n=r[t],i=n[0],a=n[1];e.push(i,a.serialize())}return e.push(this.result.serialize()),e};var Xt=function(e,t,r){this.type=e,this.index=t,this.input=r};Xt.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,ze),n=t.parse(e[2],2,We(t.expectedType||qe));if(!r||!n)return null;var i=n.type;return new Xt(i.itemType,r,n)},Xt.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new at("Array index out of bounds: "+t+" < 0.");if(t>=r.length)throw new at("Array index out of bounds: "+t+" > "+(r.length-1)+".");if(t!==Math.floor(t))throw new at("Array index must be an integer, but found "+t+" instead.");return r[t]},Xt.prototype.eachChild=function(e){e(this.index),e(this.input)},Xt.prototype.possibleOutputs=function(){return[void 0]},Xt.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Kt=function(e,t){this.type=Fe,this.needle=e,this.haystack=t};Kt.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r,n=t.parse(e[1],1,qe),i=t.parse(e[2],2,qe);return n&&i?"boolean"!==(r=n.type).kind&&"string"!==r.kind&&"number"!==r.kind&&"null"!==r.kind&&"value"!==r.kind?t.error("Expected first argument to be of type boolean, string, number or null, but found "+He(n.type)+" instead"):new Kt(n,i):null},Kt.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!t||!r)return!1;if(!function(e){return"boolean"==typeof e||"string"==typeof e||"number"==typeof e}(t))throw new at("Expected first argument to be of type boolean, string or number, but found "+He(rt(t))+" instead.");if(!function(e){return Array.isArray(e)||"string"==typeof e}(r))throw new at("Expected second argument to be of type array or string, but found "+He(rt(r))+" instead.");return r.indexOf(t)>=0},Kt.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},Kt.prototype.possibleOutputs=function(){return[!0,!1]},Kt.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Yt=function(e,t,r,n,i,a){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=i,this.otherwise=a};Yt.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var i={},a=[],o=2;o<e.length-1;o+=2){var s=e[o],u=e[o+1];Array.isArray(s)||(s=[s]);var c=t.concat(o);if(0===s.length)return c.error("Expected at least one branch label.");for(var l=0,p=s;l<p.length;l+=1){var h=p[l];if("number"!=typeof h&&"string"!=typeof h)return c.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return c.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof h&&Math.floor(h)!==h)return c.error("Numeric branch labels must be integer values.");if(r){if(c.checkSubtype(r,rt(h)))return null}else r=rt(h);if(void 0!==i[String(h)])return c.error("Branch labels must be unique.");i[String(h)]=a.length}var f=t.parse(u,o,n);if(!f)return null;n=n||f.type,a.push(f)}var d=t.parse(e[1],1,qe);if(!d)return null;var m=t.parse(e[e.length-1],e.length-1,n);return m?"value"!==d.type.kind&&t.concat(1).checkSubtype(r,d.type)?null:new Yt(r,n,d,i,a,m):null},Yt.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(rt(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},Yt.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},Yt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map((function(e){return e.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},Yt.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],r=[],n={},i=0,a=Object.keys(this.cases).sort();i<a.length;i+=1){var o=a[i];void 0===(p=n[this.cases[o]])?(n[this.cases[o]]=r.length,r.push([this.cases[o],[o]])):r[p][1].push(o)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},u=0,c=r;u<c.length;u+=1){var l=c[u],p=l[0],h=l[1];1===h.length?t.push(s(h[0])):t.push(h.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var $t=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};function Jt(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Qt(e,t,r,n){return 0===n.compare(t,r)}function er(e,t,r){var n="=="!==e&&"!="!==e;return function(){function i(e,t,r){this.type=Fe,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return i.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var r=e[0],a=t.parse(e[1],1,qe);if(!a)return null;if(!Jt(r,a.type))return t.concat(1).error('"'+r+"\" comparisons are not supported for type '"+He(a.type)+"'.");var o=t.parse(e[2],2,qe);if(!o)return null;if(!Jt(r,o.type))return t.concat(2).error('"'+r+"\" comparisons are not supported for type '"+He(o.type)+"'.");if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '"+He(a.type)+"' and '"+He(o.type)+"'.");n&&("value"===a.type.kind&&"value"!==o.type.kind?a=new st(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new st(a.type,[o])));var s=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,Ue)))return null}return new i(a,o,s)},i.prototype.evaluate=function(i){var a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){var s=rt(a),u=rt(o);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new at('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!n&&this.hasUntypedArgument){var c=rt(a),l=rt(o);if("string"!==c.kind||"string"!==l.kind)return t(i,a,o)}return this.collator?r(i,a,o,this.collator.evaluate(i)):t(i,a,o)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.possibleOutputs=function(){return[!0,!1]},i.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},i}()}$t.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var n=[],i=1;i<e.length-1;i+=2){var a=t.parse(e[i],i,Fe);if(!a)return null;var o=t.parse(e[i+1],i+1,r);if(!o)return null;n.push([a,o]),r=r||o.type}var s=t.parse(e[e.length-1],e.length-1,r);return s?new $t(r,n,s):null},$t.prototype.evaluate=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],i=n[0],a=n[1];if(i.evaluate(e))return a.evaluate(e)}return this.otherwise.evaluate(e)},$t.prototype.eachChild=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],i=n[0],a=n[1];e(i),e(a)}e(this.otherwise)},$t.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.branches.map((function(e){return e[0],e[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},$t.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};var tr=er("==",(function(e,t,r){return t===r}),Qt),rr=er("!=",(function(e,t,r){return t!==r}),(function(e,t,r,n){return!Qt(0,t,r,n)})),nr=er("<",(function(e,t,r){return t<r}),(function(e,t,r,n){return n.compare(t,r)<0})),ir=er(">",(function(e,t,r){return t>r}),(function(e,t,r,n){return n.compare(t,r)>0})),ar=er("<=",(function(e,t,r){return t<=r}),(function(e,t,r,n){return n.compare(t,r)<=0})),or=er(">=",(function(e,t,r){return t>=r}),(function(e,t,r,n){return n.compare(t,r)>=0})),sr=function(e,t,r,n,i){this.type=De,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=i};sr.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,ze);if(!r)return null;var n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");var i=null;if(n.locale&&!(i=t.parse(n.locale,1,De)))return null;var a=null;if(n.currency&&!(a=t.parse(n.currency,1,De)))return null;var o=null;if(n["min-fraction-digits"]&&!(o=t.parse(n["min-fraction-digits"],1,ze)))return null;var s=null;return n["max-fraction-digits"]&&!(s=t.parse(n["max-fraction-digits"],1,ze))?null:new sr(r,i,a,o,s)},sr.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},sr.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},sr.prototype.possibleOutputs=function(){return[void 0]},sr.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var ur=function(e){this.type=ze,this.input=e};ur.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error("Expected argument of type string or array, but found "+He(r.type)+" instead."):new ur(r):null},ur.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new at("Expected value to be of type string or array, but found "+He(rt(t))+" instead.")},ur.prototype.eachChild=function(e){e(this.input)},ur.prototype.possibleOutputs=function(){return[void 0]},ur.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var cr={"==":tr,"!=":rr,">":ir,"<":nr,">=":or,"<=":ar,array:st,at:Xt,boolean:st,case:$t,coalesce:Ht,collator:mt,format:ut,image:ct,in:Kt,interpolate:Gt,"interpolate-hcl":Gt,"interpolate-lab":Gt,length:ur,let:Zt,literal:it,match:Yt,number:st,"number-format":sr,object:st,step:wt,string:st,"to-boolean":pt,"to-color":pt,"to-number":pt,"to-string":pt,var:bt};function lr(e,t){var r=t[0],n=t[1],i=t[2],a=t[3];r=r.evaluate(e),n=n.evaluate(e),i=i.evaluate(e);var o=a?a.evaluate(e):1,s=tt(r,n,i,o);if(s)throw new at(s);return new Ye(r/255*o,n/255*o,i/255*o,o)}function pr(e,t){return e in t}function hr(e,t){var r=t[e];return void 0===r?null:r}function fr(e){return{type:e}}function dr(e){return{result:"success",value:e}}function mr(e){return{result:"error",value:e}}function gr(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function vr(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function yr(e){return!!e.expression&&e.expression.interpolated}function br(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function _r(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function xr(e){return e}function wr(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function Or(e,t,r,n,i){return wr(typeof r===i?n[r]:void 0,e.default,t.default)}function kr(e,t,r){if("number"!==br(r))return wr(e.default,t.default);var n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];var i=xt(e.stops.map((function(e){return e[0]})),r);return e.stops[i][1]}function Er(e,t,r){var n=void 0!==e.base?e.base:1;if("number"!==br(r))return wr(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[i-1][0])return e.stops[i-1][1];var a=xt(e.stops.map((function(e){return e[0]})),r),o=function(e,t,r,n){var i=n-r,a=e-r;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}(r,n,e.stops[a][0],e.stops[a+1][0]),s=e.stops[a][1],u=e.stops[a+1][1],c=kt[t.type]||xr;if(e.colorSpace&&"rgb"!==e.colorSpace){var l=Vt[e.colorSpace];c=function(e,t){return l.reverse(l.interpolate(l.forward(e),l.forward(t),o))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=s.evaluate.apply(void 0,e),n=u.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==n)return c(r,n,o)}}:c(s,u,o)}function Tr(e,t,r){return"color"===t.type?r=Ye.parse(r):"formatted"===t.type?r=Qe.fromString(r.toString()):"resolvedImage"===t.type?r=et.fromString(r.toString()):br(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),wr(r,e.default,t.default)}dt.register(cr,{error:[{kind:"error"},[De],function(e,t){var r=t[0];throw new at(r.evaluate(e))}],typeof:[De,[qe],function(e,t){return He(rt(t[0].evaluate(e)))}],"to-rgba":[We(ze,4),[Be],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Be,[ze,ze,ze],lr],rgba:[Be,[ze,ze,ze,ze],lr],has:{type:Fe,overloads:[[[De],function(e,t){return pr(t[0].evaluate(e),e.properties())}],[[De,Ne],function(e,t){var r=t[0],n=t[1];return pr(r.evaluate(e),n.evaluate(e))}]]},get:{type:qe,overloads:[[[De],function(e,t){return hr(t[0].evaluate(e),e.properties())}],[[De,Ne],function(e,t){var r=t[0],n=t[1];return hr(r.evaluate(e),n.evaluate(e))}]]},"feature-state":[qe,[De],function(e,t){return hr(t[0].evaluate(e),e.featureState||{})}],properties:[Ne,[],function(e){return e.properties()}],"geometry-type":[De,[],function(e){return e.geometryType()}],id:[qe,[],function(e){return e.id()}],zoom:[ze,[],function(e){return e.globals.zoom}],"heatmap-density":[ze,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[ze,[],function(e){return e.globals.lineProgress||0}],accumulated:[qe,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[ze,fr(ze),function(e,t){for(var r=0,n=0,i=t;n<i.length;n+=1)r+=i[n].evaluate(e);return r}],"*":[ze,fr(ze),function(e,t){for(var r=1,n=0,i=t;n<i.length;n+=1)r*=i[n].evaluate(e);return r}],"-":{type:ze,overloads:[[[ze,ze],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)-n.evaluate(e)}],[[ze],function(e,t){return-t[0].evaluate(e)}]]},"/":[ze,[ze,ze],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)/n.evaluate(e)}],"%":[ze,[ze,ze],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)%n.evaluate(e)}],ln2:[ze,[],function(){return Math.LN2}],pi:[ze,[],function(){return Math.PI}],e:[ze,[],function(){return Math.E}],"^":[ze,[ze,ze],function(e,t){var r=t[0],n=t[1];return Math.pow(r.evaluate(e),n.evaluate(e))}],sqrt:[ze,[ze],function(e,t){var r=t[0];return Math.sqrt(r.evaluate(e))}],log10:[ze,[ze],function(e,t){var r=t[0];return Math.log(r.evaluate(e))/Math.LN10}],ln:[ze,[ze],function(e,t){var r=t[0];return Math.log(r.evaluate(e))}],log2:[ze,[ze],function(e,t){var r=t[0];return Math.log(r.evaluate(e))/Math.LN2}],sin:[ze,[ze],function(e,t){var r=t[0];return Math.sin(r.evaluate(e))}],cos:[ze,[ze],function(e,t){var r=t[0];return Math.cos(r.evaluate(e))}],tan:[ze,[ze],function(e,t){var r=t[0];return Math.tan(r.evaluate(e))}],asin:[ze,[ze],function(e,t){var r=t[0];return Math.asin(r.evaluate(e))}],acos:[ze,[ze],function(e,t){var r=t[0];return Math.acos(r.evaluate(e))}],atan:[ze,[ze],function(e,t){var r=t[0];return Math.atan(r.evaluate(e))}],min:[ze,fr(ze),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[ze,fr(ze),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[ze,[ze],function(e,t){var r=t[0];return Math.abs(r.evaluate(e))}],round:[ze,[ze],function(e,t){var r=t[0].evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[ze,[ze],function(e,t){var r=t[0];return Math.floor(r.evaluate(e))}],ceil:[ze,[ze],function(e,t){var r=t[0];return Math.ceil(r.evaluate(e))}],"filter-==":[Fe,[De,qe],function(e,t){var r=t[0],n=t[1];return e.properties()[r.value]===n.value}],"filter-id-==":[Fe,[qe],function(e,t){var r=t[0];return e.id()===r.value}],"filter-type-==":[Fe,[De],function(e,t){var r=t[0];return e.geometryType()===r.value}],"filter-<":[Fe,[De,qe],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i<a}],"filter-id-<":[Fe,[qe],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n<i}],"filter->":[Fe,[De,qe],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i>a}],"filter-id->":[Fe,[qe],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n>i}],"filter-<=":[Fe,[De,qe],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i<=a}],"filter-id-<=":[Fe,[qe],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n<=i}],"filter->=":[Fe,[De,qe],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i>=a}],"filter-id->=":[Fe,[qe],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n>=i}],"filter-has":[Fe,[qe],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Fe,[],function(e){return null!==e.id()}],"filter-type-in":[Fe,[We(De)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Fe,[We(qe)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Fe,[De,We(qe)],function(e,t){var r=t[0];return t[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[Fe,[De,We(qe)],function(e,t){var r=t[0],n=t[1];return function(e,t,r,n){for(;r<=n;){var i=r+n>>1;if(t[i]===e)return!0;t[i]>e?n=i-1:r=i+1}return!1}(e.properties()[r.value],n.value,0,n.value.length-1)}],all:{type:Fe,overloads:[[[Fe,Fe],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)&&n.evaluate(e)}],[fr(Fe),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(!n[r].evaluate(e))return!1;return!0}]]},any:{type:Fe,overloads:[[[Fe,Fe],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)||n.evaluate(e)}],[fr(Fe),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(n[r].evaluate(e))return!0;return!1}]]},"!":[Fe,[Fe],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Fe,[De],function(e,t){var r=t[0],n=e.globals&&e.globals.isSupportedScript;return!n||n(r.evaluate(e))}],upcase:[De,[De],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[De,[De],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[De,fr(qe),function(e,t){return t.map((function(t){return nt(t.evaluate(e))})).join("")}],"resolved-locale":[De,[Ue],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var Sr=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new ft,this._defaultValue=t?function(e){return"color"===e.type&&_r(e.default)?new Ye(0,0,0,0):"color"===e.type?Ye.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null};function jr(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in cr}function Pr(e,t){var r=new _t(cr,[],t?function(e){var t={color:Be,string:De,number:ze,enum:De,boolean:Fe,formatted:Ve,resolvedImage:Ge};return"array"===e.type?We(t[e.value]||qe,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?dr(new Sr(n,t)):mr(r.errors)}Sr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=i,this.expression.evaluate(this._evaluator)},Sr.prototype.evaluate=function(e,t,r,n,i){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=i||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new at("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var Cr=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!vt(t.expression)};Cr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i)},Cr.prototype.evaluate=function(e,t,r,n,i){return this._styleExpression.evaluate(e,t,r,n,i)};var Ar=function(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!vt(t.expression),this.interpolationType=n};function Mr(e,t){if("error"===(e=Pr(e,t)).result)return e;var r=e.value.expression,n=gt(r);if(!n&&!gr(t))return mr([new Ie("","data expressions not supported")]);var i=yt(r,["zoom"]);if(!i&&!vr(t))return mr([new Ie("","zoom expressions not supported")]);var a=function e(t){var r=null;if(t instanceof Zt)r=e(t.result);else if(t instanceof Ht)for(var n=0,i=t.args;n<i.length;n+=1){var a=i[n];if(r=e(a))break}else(t instanceof wt||t instanceof Gt)&&t.input instanceof dt&&"zoom"===t.input.name&&(r=t);return r instanceof Ie?r:(t.eachChild((function(t){var n=e(t);n instanceof Ie?r=n:!r&&n?r=new Ie("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new Ie("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),r)}(r);if(!a&&!i)return mr([new Ie("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(a instanceof Ie)return mr([a]);if(a instanceof Gt&&!yr(t))return mr([new Ie("",'"interpolate" expressions cannot be used with this property')]);if(!a)return dr(new Cr(n?"constant":"source",e.value));var o=a instanceof Gt?a.interpolation:void 0;return dr(new Ar(n?"camera":"composite",e.value,a.labels,o))}Ar.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i)},Ar.prototype.evaluate=function(e,t,r,n,i){return this._styleExpression.evaluate(e,t,r,n,i)},Ar.prototype.interpolationFactor=function(e,t,r){return this.interpolationType?Gt.interpolationFactor(this.interpolationType,e,t,r):0};var Ir=function(e,t){this._parameters=e,this._specification=t,Ce(this,function e(t,r){var n,i,a,o="color"===r.type,s=t.stops&&"object"==typeof t.stops[0][0],u=s||void 0!==t.property,c=s||!u,l=t.type||(yr(r)?"exponential":"interval");if(o&&((t=Ce({},t)).stops&&(t.stops=t.stops.map((function(e){return[e[0],Ye.parse(e[1])]}))),t.default?t.default=Ye.parse(t.default):t.default=Ye.parse(r.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!Vt[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===l)n=Er;else if("interval"===l)n=kr;else if("categorical"===l){n=Or,i=Object.create(null);for(var p=0,h=t.stops;p<h.length;p+=1){var f=h[p];i[f[0]]=f[1]}a=typeof t.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'+l+'"');n=Tr}if(s){for(var d={},m=[],g=0;g<t.stops.length;g++){var v=t.stops[g],y=v[0].zoom;void 0===d[y]&&(d[y]={zoom:y,type:t.type,property:t.property,default:t.default,stops:[]},m.push(y)),d[y].stops.push([v[0].value,v[1]])}for(var b=[],_=0,x=m;_<x.length;_+=1){var w=x[_];b.push([d[w].zoom,e(d[w],r)])}var O={name:"linear"};return{kind:"composite",interpolationType:O,interpolationFactor:Gt.interpolationFactor.bind(void 0,O),zoomStops:b.map((function(e){return e[0]})),evaluate:function(e,n){var i=e.zoom;return Er({stops:b,base:t.base},r,i).evaluate(i,n)}}}if(c){var k="exponential"===l?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:k,interpolationFactor:Gt.interpolationFactor.bind(void 0,k),zoomStops:t.stops.map((function(e){return e[0]})),evaluate:function(e){var o=e.zoom;return n(t,r,o,i,a)}}}return{kind:"source",evaluate:function(e,o){var s=o&&o.properties?o.properties[t.property]:void 0;return void 0===s?wr(t.default,r.default):n(t,r,s,i,a)}}}(this._parameters,this._specification))};function Rr(e){var t=e.key,r=e.value,n=e.valueSpec||{},i=e.objectElementValidators||{},a=e.style,o=e.styleSpec,s=[],u=br(r);if("object"!==u)return[new je(t,r,"object expected, "+u+" found")];for(var c in r){var l=c.split(".")[0],p=n[l]||n["*"],h=void 0;if(i[l])h=i[l];else if(n[l])h=an;else if(i["*"])h=i["*"];else{if(!n["*"]){s.push(new je(t,r[c],'unknown property "'+c+'"'));continue}h=an}s=s.concat(h({key:(t?t+".":t)+c,value:r[c],valueSpec:p,style:a,styleSpec:o,object:r,objectKey:c},r))}for(var f in n)i[f]||n[f].required&&void 0===n[f].default&&void 0===r[f]&&s.push(new je(t,r,'missing required property "'+f+'"'));return s}function Lr(e){var t=e.value,r=e.valueSpec,n=e.style,i=e.styleSpec,a=e.key,o=e.arrayElementValidator||an;if("array"!==br(t))return[new je(a,t,"array expected, "+br(t)+" found")];if(r.length&&t.length!==r.length)return[new je(a,t,"array length "+r.length+" expected, length "+t.length+" found")];if(r["min-length"]&&t.length<r["min-length"])return[new je(a,t,"array length at least "+r["min-length"]+" expected, length "+t.length+" found")];var s={type:r.value,values:r.values};i.$version<7&&(s.function=r.function),"object"===br(r.value)&&(s=r.value);for(var u=[],c=0;c<t.length;c++)u=u.concat(o({array:t,arrayIndex:c,value:t[c],valueSpec:s,style:n,styleSpec:i,key:a+"["+c+"]"}));return u}function zr(e){var t=e.key,r=e.value,n=e.valueSpec,i=br(r);return"number"===i&&r!=r&&(i="NaN"),"number"!==i?[new je(t,r,"number expected, "+i+" found")]:"minimum"in n&&r<n.minimum?[new je(t,r,r+" is less than the minimum value "+n.minimum)]:"maximum"in n&&r>n.maximum?[new je(t,r,r+" is greater than the maximum value "+n.maximum)]:[]}function Dr(e){var t,r,n,i=e.valueSpec,a=Ae(e.value.type),o={},s="categorical"!==a&&void 0===e.value.property,u=!s,c="array"===br(e.value.stops)&&"array"===br(e.value.stops[0])&&"object"===br(e.value.stops[0][0]),l=Rr({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===a)return[new je(e.key,e.value,'identity function may not have a "stops" property')];var t=[],r=e.value;return t=t.concat(Lr({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:p})),"array"===br(r)&&0===r.length&&t.push(new je(e.key,r,"array must have at least one stop")),t},default:function(e){return an({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===a&&s&&l.push(new je(e.key,e.value,'missing required property "property"')),"identity"===a||e.value.stops||l.push(new je(e.key,e.value,'missing required property "stops"')),"exponential"===a&&e.valueSpec.expression&&!yr(e.valueSpec)&&l.push(new je(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(u&&!gr(e.valueSpec)?l.push(new je(e.key,e.value,"property functions not supported")):s&&!vr(e.valueSpec)&&l.push(new je(e.key,e.value,"zoom functions not supported"))),"categorical"!==a&&!c||void 0!==e.value.property||l.push(new je(e.key,e.value,'"property" property is required')),l;function p(e){var t=[],a=e.value,s=e.key;if("array"!==br(a))return[new je(s,a,"array expected, "+br(a)+" found")];if(2!==a.length)return[new je(s,a,"array length 2 expected, length "+a.length+" found")];if(c){if("object"!==br(a[0]))return[new je(s,a,"object expected, "+br(a[0])+" found")];if(void 0===a[0].zoom)return[new je(s,a,"object stop key must have zoom")];if(void 0===a[0].value)return[new je(s,a,"object stop key must have value")];if(n&&n>Ae(a[0].zoom))return[new je(s,a[0].zoom,"stop zoom values must appear in ascending order")];Ae(a[0].zoom)!==n&&(n=Ae(a[0].zoom),r=void 0,o={}),t=t.concat(Rr({key:s+"[0]",value:a[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:zr,value:h}}))}else t=t.concat(h({key:s+"[0]",value:a[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},a));return jr(Me(a[1]))?t.concat([new je(s+"[1]",a[1],"expressions are not allowed in function stops.")]):t.concat(an({key:s+"[1]",value:a[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function h(e,n){var s=br(e.value),u=Ae(e.value),c=null!==e.value?e.value:n;if(t){if(s!==t)return[new je(e.key,c,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new je(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==a){var l="number expected, "+s+" found";return gr(i)&&void 0===a&&(l+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new je(e.key,c,l)]}return"categorical"!==a||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==a&&"number"===s&&void 0!==r&&u<r?[new je(e.key,c,"stop domain values must appear in ascending order")]:(r=u,"categorical"===a&&u in o?[new je(e.key,c,"stop domain values must be unique")]:(o[u]=!0,[])):[new je(e.key,c,"integer expected, found "+u)]}}function Fr(e){var t=("property"===e.expressionContext?Mr:Pr)(Me(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new je(""+e.key+t.key,e.value,t.message)}));var r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&-1!==r.possibleOutputs().indexOf(void 0))return[new je(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!vt(r))return[new je(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!vt(r))return[new je(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!yt(r,["zoom","feature-state"]))return[new je(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!gt(r))return[new je(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Br(e){var t=e.key,r=e.value,n=e.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(Ae(r))&&i.push(new je(t,r,"expected one of ["+n.values.join(", ")+"], "+JSON.stringify(r)+" found")):-1===Object.keys(n.values).indexOf(Ae(r))&&i.push(new je(t,r,"expected one of ["+Object.keys(n.values).join(", ")+"], "+JSON.stringify(r)+" found")),i}function Nr(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&Array.isArray(e[2]);case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,r=e.slice(1);t<r.length;t+=1){var n=r[t];if(!Nr(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}Ir.deserialize=function(e){return new Ir(e._parameters,e._specification)},Ir.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var qr={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ur(e){if(null==e)return function(){return!0};Nr(e)||(e=Gr(e));var t=Pr(e,qr);if("error"===t.result)throw new Error(t.value.map((function(e){return e.key+": "+e.message})).join(", "));return function(e,r){return t.value.evaluate(e,r)}}function Vr(e,t){return e<t?-1:e>t?1:0}function Gr(e){if(!e)return!0;var t,r=e[0];return e.length<=1?"any"!==r:"=="===r?Wr(e[1],e[2],"=="):"!="===r?Xr(Wr(e[1],e[2],"==")):"<"===r||">"===r||"<="===r||">="===r?Wr(e[1],e[2],r):"any"===r?(t=e.slice(1),["any"].concat(t.map(Gr))):"all"===r?["all"].concat(e.slice(1).map(Gr)):"none"===r?["all"].concat(e.slice(1).map(Gr).map(Xr)):"in"===r?Hr(e[1],e.slice(2)):"!in"===r?Xr(Hr(e[1],e.slice(2))):"has"===r?Zr(e[1]):"!has"!==r||Xr(Zr(e[1]))}function Wr(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function Hr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(Vr)]]:["filter-in-small",e,["literal",t]]}}function Zr(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Xr(e){return["!",e]}function Kr(e){return Nr(Me(e.value))?Fr(Ce({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var r=t.value,n=t.key;if("array"!==br(r))return[new je(n,r,"array expected, "+br(r)+" found")];var i,a=t.styleSpec,o=[];if(r.length<1)return[new je(n,r,"filter array must have at least 1 element")];switch(o=o.concat(Br({key:n+"[0]",value:r[0],valueSpec:a.filter_operator,style:t.style,styleSpec:t.styleSpec})),Ae(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===Ae(r[1])&&o.push(new je(n,r,'"$type" cannot be use with operator "'+r[0]+'"'));case"==":case"!=":3!==r.length&&o.push(new je(n,r,'filter array for operator "'+r[0]+'" must have 3 elements'));case"in":case"!in":r.length>=2&&"string"!==(i=br(r[1]))&&o.push(new je(n+"[1]",r[1],"string expected, "+i+" found"));for(var s=2;s<r.length;s++)i=br(r[s]),"$type"===Ae(r[1])?o=o.concat(Br({key:n+"["+s+"]",value:r[s],valueSpec:a.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&o.push(new je(n+"["+s+"]",r[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var u=1;u<r.length;u++)o=o.concat(e({key:n+"["+u+"]",value:r[u],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=br(r[1]),2!==r.length?o.push(new je(n,r,'filter array for "'+r[0]+'" operator must have 2 elements')):"string"!==i&&o.push(new je(n+"[1]",r[1],"string expected, "+i+" found"))}return o}(e)}function Yr(e,t){var r=e.key,n=e.style,i=e.styleSpec,a=e.value,o=e.objectKey,s=i[t+"_"+e.layerType];if(!s)return[];var u=o.match(/^(.*)-transition$/);if("paint"===t&&u&&s[u[1]]&&s[u[1]].transition)return an({key:r,value:a,valueSpec:i.transition,style:n,styleSpec:i});var c,l=e.valueSpec||s[o];if(!l)return[new je(r,a,'unknown property "'+o+'"')];if("string"===br(a)&&gr(l)&&!l.tokens&&(c=/^{([^}]+)}$/.exec(a)))return[new je(r,a,'"'+o+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(c[1])+" }`.")];var p=[];return"symbol"===e.layerType&&("text-field"===o&&n&&!n.glyphs&&p.push(new je(r,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&_r(Me(a))&&"identity"===Ae(a.type)&&p.push(new je(r,a,'"text-font" does not support identity functions'))),p.concat(an({key:e.key,value:a,valueSpec:l,style:n,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:o}))}function $r(e){return Yr(e,"paint")}function Jr(e){return Yr(e,"layout")}function Qr(e){var t=[],r=e.value,n=e.key,i=e.style,a=e.styleSpec;r.type||r.ref||t.push(new je(n,r,'either "type" or "ref" is required'));var o,s=Ae(r.type),u=Ae(r.ref);if(r.id)for(var c=Ae(r.id),l=0;l<e.arrayIndex;l++){var p=i.layers[l];Ae(p.id)===c&&t.push(new je(n,r.id,'duplicate layer id "'+r.id+'", previously used at line '+p.id.__line__))}if("ref"in r)["type","source","source-layer","filter","layout"].forEach((function(e){e in r&&t.push(new je(n,r[e],'"'+e+'" is prohibited for ref layers'))})),i.layers.forEach((function(e){Ae(e.id)===u&&(o=e)})),o?o.ref?t.push(new je(n,r.ref,"ref cannot reference another ref layer")):s=Ae(o.type):t.push(new je(n,r.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(r.source){var h=i.sources&&i.sources[r.source],f=h&&Ae(h.type);h?"vector"===f&&"raster"===s?t.push(new je(n,r.source,'layer "'+r.id+'" requires a raster source')):"raster"===f&&"raster"!==s?t.push(new je(n,r.source,'layer "'+r.id+'" requires a vector source')):"vector"!==f||r["source-layer"]?"raster-dem"===f&&"hillshade"!==s?t.push(new je(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!r.paint||!r.paint["line-gradient"]||"geojson"===f&&h.lineMetrics||t.push(new je(n,r,'layer "'+r.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new je(n,r,'layer "'+r.id+'" must specify a "source-layer"')):t.push(new je(n,r.source,'source "'+r.source+'" not found'))}else t.push(new je(n,r,'missing required property "source"'));return t=t.concat(Rr({key:n,value:r,valueSpec:a.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return an({key:n+".type",value:r.type,valueSpec:a.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"})},filter:Kr,layout:function(e){return Rr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Jr(Ce({layerType:s},e))}}})},paint:function(e){return Rr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return $r(Ce({layerType:s},e))}}})}}}))}function en(e){var t=e.value,r=e.key,n=e.styleSpec,i=e.style;if(!t.type)return[new je(r,t,'"type" is required')];var a,o=Ae(t.type);switch(o){case"vector":case"raster":case"raster-dem":return Rr({key:r,value:t,valueSpec:n["source_"+o.replace("-","_")],style:e.style,styleSpec:n});case"geojson":if(a=Rr({key:r,value:t,valueSpec:n.source_geojson,style:i,styleSpec:n}),t.cluster)for(var s in t.clusterProperties){var u=t.clusterProperties[s],c=u[0],l=u[1],p="string"==typeof c?[c,["accumulated"],["get",s]]:c;a.push.apply(a,Fr({key:r+"."+s+".map",value:l,expressionContext:"cluster-map"})),a.push.apply(a,Fr({key:r+"."+s+".reduce",value:p,expressionContext:"cluster-reduce"}))}return a;case"video":return Rr({key:r,value:t,valueSpec:n.source_video,style:i,styleSpec:n});case"image":return Rr({key:r,value:t,valueSpec:n.source_image,style:i,styleSpec:n});case"canvas":return[new je(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Br({key:r+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:n})}}function tn(e){var t=e.value,r=e.styleSpec,n=r.light,i=e.style,a=[],o=br(t);if(void 0===t)return a;if("object"!==o)return a.concat([new je("light",t,"object expected, "+o+" found")]);for(var s in t){var u=s.match(/^(.*)-transition$/);a=u&&n[u[1]]&&n[u[1]].transition?a.concat(an({key:s,value:t[s],valueSpec:r.transition,style:i,styleSpec:r})):n[s]?a.concat(an({key:s,value:t[s],valueSpec:n[s],style:i,styleSpec:r})):a.concat([new je(s,t[s],'unknown property "'+s+'"')])}return a}function rn(e){var t=e.value,r=e.key,n=br(t);return"string"!==n?[new je(r,t,"string expected, "+n+" found")]:[]}var nn={"*":function(){return[]},array:Lr,boolean:function(e){var t=e.value,r=e.key,n=br(t);return"boolean"!==n?[new je(r,t,"boolean expected, "+n+" found")]:[]},number:zr,color:function(e){var t=e.key,r=e.value,n=br(r);return"string"!==n?[new je(t,r,"color expected, "+n+" found")]:null===Ke(r)?[new je(t,r,'color expected, "'+r+'" found')]:[]},constants:Pe,enum:Br,filter:Kr,function:Dr,layer:Qr,object:Rr,source:en,light:tn,string:rn,formatted:function(e){return 0===rn(e).length?[]:Fr(e)},resolvedImage:function(e){return 0===rn(e).length?[]:Fr(e)}};function an(e){var t=e.value,r=e.valueSpec,n=e.styleSpec;return r.expression&&_r(Ae(t))?Dr(e):r.expression&&jr(Me(t))?Fr(e):r.type&&nn[r.type]?nn[r.type](e):Rr(Ce({},e,{valueSpec:r.type?n[r.type]:r}))}function on(e){var t=e.value,r=e.key,n=rn(e);return n.length?n:(-1===t.indexOf("{fontstack}")&&n.push(new je(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new je(r,t,'"glyphs" url must include a "{range}" token')),n)}function sn(e,t){void 0===t&&(t=Se);var r=[];return r=r.concat(an({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:on,"*":function(){return[]}}})),e.constants&&(r=r.concat(Pe({key:"constants",value:e.constants,style:e,styleSpec:t}))),un(r)}function un(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function cn(e){return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return un(e.apply(this,t))}}sn.source=cn(en),sn.light=cn(tn),sn.layer=cn(Qr),sn.filter=cn(Kr),sn.paintProperty=cn($r),sn.layoutProperty=cn(Jr);var ln=sn,pn=ln.light,hn=ln.paintProperty,fn=ln.layoutProperty;function dn(e,t){var r=!1;if(t&&t.length)for(var n=0,i=t;n<i.length;n+=1){var a=i[n];e.fire(new Ee(new Error(a.message))),r=!0}return r}var mn=vn,gn=3;function vn(e,t,r){var n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],t=i[1],r=i[2],this.d=t+2*r;for(var a=0;a<this.d*this.d;a++){var o=i[gn+a],s=i[gn+a+1];n.push(o===s?null:i.subarray(o,s))}var u=i[gn+n.length],c=i[gn+n.length+1];this.keys=i.subarray(u,c),this.bboxes=i.subarray(c),this.insert=this._insertReadonly}else{this.d=t+2*r;for(var l=0;l<this.d*this.d;l++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;var p=r/t*e;this.min=-p,this.max=e+p}vn.prototype.insert=function(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)},vn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},vn.prototype._insertCell=function(e,t,r,n,i,a){this.cells[i].push(a)},vn.prototype.query=function(e,t,r,n,i){var a=this.min,o=this.max;if(e<=a&&t<=a&&o<=r&&o<=n&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,r,n,this._queryCell,s,{},i),s},vn.prototype._queryCell=function(e,t,r,n,i,a,o,s){var u=this.cells[i];if(null!==u)for(var c=this.keys,l=this.bboxes,p=0;p<u.length;p++){var h=u[p];if(void 0===o[h]){var f=4*h;(s?s(l[f+0],l[f+1],l[f+2],l[f+3]):e<=l[f+2]&&t<=l[f+3]&&r>=l[f+0]&&n>=l[f+1])?(o[h]=!0,a.push(c[h])):o[h]=!1}}},vn.prototype._forEachCell=function(e,t,r,n,i,a,o,s){for(var u=this._convertToCellCoord(e),c=this._convertToCellCoord(t),l=this._convertToCellCoord(r),p=this._convertToCellCoord(n),h=u;h<=l;h++)for(var f=c;f<=p;f++){var d=this.d*f+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(f),this._convertFromCellCoord(h+1),this._convertFromCellCoord(f+1)))&&i.call(this,e,t,r,n,d,a,o,s))return}},vn.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},vn.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},vn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=gn+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var i=new Int32Array(t+r+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=t,o=0;o<e.length;o++){var s=e[o];i[gn+o]=a,i.set(s,a),a+=s.length}return i[gn+e.length]=a,i.set(this.keys,a),a+=this.keys.length,i[gn+e.length+1]=a,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer};var yn=self.ImageData,bn={};function _n(e,t,r){void 0===r&&(r={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),bn[e]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}for(var xn in _n("Object",Object),mn.serialize=function(e,t){var r=e.toArrayBuffer();return t&&t.push(r),{buffer:r}},mn.deserialize=function(e){return new mn(e.buffer)},_n("Grid",mn),_n("Color",Ye),_n("Error",Error),_n("ResolvedImage",et),_n("StylePropertyFunction",Ir),_n("StyleExpression",Sr,{omit:["_evaluator"]}),_n("ZoomDependentExpression",Ar),_n("ZoomConstantExpression",Cr),_n("CompoundExpression",dt,{omit:["_evaluate"]}),cr)cr[xn]._classRegistryKey||_n("Expression_"+xn,cr[xn]);function wn(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function On(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(wn(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var r=e;return t&&t.push(r.buffer),r}if(e instanceof yn)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var n=[],i=0,a=e;i<a.length;i+=1){var o=a[i];n.push(On(o,t))}return n}if("object"==typeof e){var s=e.constructor,u=s._classRegistryKey;if(!u)throw new Error("can't serialize object of unregistered class");var c=s.serialize?s.serialize(e,t):{};if(!s.serialize){for(var l in e)if(e.hasOwnProperty(l)&&!(bn[u].omit.indexOf(l)>=0)){var p=e[l];c[l]=bn[u].shallow.indexOf(l)>=0?p:On(p,t)}e instanceof Error&&(c.message=e.message)}if(c.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==u&&(c.$name=u),c}throw new Error("can't serialize object of type "+typeof e)}function kn(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||wn(e)||ArrayBuffer.isView(e)||e instanceof yn)return e;if(Array.isArray(e))return e.map(kn);if("object"==typeof e){var t=e.$name||"Object",r=bn[t].klass;if(!r)throw new Error("can't deserialize unregistered class "+t);if(r.deserialize)return r.deserialize(e);for(var n=Object.create(r.prototype),i=0,a=Object.keys(e);i<a.length;i+=1){var o=a[i];if("$name"!==o){var s=e[o];n[o]=bn[t].shallow.indexOf(o)>=0?s:kn(s)}}return n}throw new Error("can't deserialize object of type "+typeof e)}var En=function(){this.first=!0};En.prototype.update=function(e,t){var r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))};var Tn={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function Sn(e){for(var t=0,r=e;t<r.length;t+=1)if(Pn(r[t].charCodeAt(0)))return!0;return!1}function jn(e){return!Tn.Arabic(e)&&!Tn["Arabic Supplement"](e)&&!Tn["Arabic Extended-A"](e)&&!Tn["Arabic Presentation Forms-A"](e)&&!Tn["Arabic Presentation Forms-B"](e)}function Pn(e){return 746===e||747===e||!(e<4352)&&(!!Tn["Bopomofo Extended"](e)||!!Tn.Bopomofo(e)||!(!Tn["CJK Compatibility Forms"](e)||e>=65097&&e<=65103)||!!Tn["CJK Compatibility Ideographs"](e)||!!Tn["CJK Compatibility"](e)||!!Tn["CJK Radicals Supplement"](e)||!!Tn["CJK Strokes"](e)||!(!Tn["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||!!Tn["CJK Unified Ideographs Extension A"](e)||!!Tn["CJK Unified Ideographs"](e)||!!Tn["Enclosed CJK Letters and Months"](e)||!!Tn["Hangul Compatibility Jamo"](e)||!!Tn["Hangul Jamo Extended-A"](e)||!!Tn["Hangul Jamo Extended-B"](e)||!!Tn["Hangul Jamo"](e)||!!Tn["Hangul Syllables"](e)||!!Tn.Hiragana(e)||!!Tn["Ideographic Description Characters"](e)||!!Tn.Kanbun(e)||!!Tn["Kangxi Radicals"](e)||!!Tn["Katakana Phonetic Extensions"](e)||!(!Tn.Katakana(e)||12540===e)||!(!Tn["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Tn["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||!!Tn["Unified Canadian Aboriginal Syllabics"](e)||!!Tn["Unified Canadian Aboriginal Syllabics Extended"](e)||!!Tn["Vertical Forms"](e)||!!Tn["Yijing Hexagram Symbols"](e)||!!Tn["Yi Syllables"](e)||!!Tn["Yi Radicals"](e))}function Cn(e){return!(Pn(e)||function(e){return!(!Tn["Latin-1 Supplement"](e)||167!==e&&169!==e&&174!==e&&177!==e&&188!==e&&189!==e&&190!==e&&215!==e&&247!==e)||!(!Tn["General Punctuation"](e)||8214!==e&&8224!==e&&8225!==e&&8240!==e&&8241!==e&&8251!==e&&8252!==e&&8258!==e&&8263!==e&&8264!==e&&8265!==e&&8273!==e)||!!Tn["Letterlike Symbols"](e)||!!Tn["Number Forms"](e)||!(!Tn["Miscellaneous Technical"](e)||!(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215))||!(!Tn["Control Pictures"](e)||9251===e)||!!Tn["Optical Character Recognition"](e)||!!Tn["Enclosed Alphanumerics"](e)||!!Tn["Geometric Shapes"](e)||!(!Tn["Miscellaneous Symbols"](e)||e>=9754&&e<=9759)||!(!Tn["Miscellaneous Symbols and Arrows"](e)||!(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243))||!!Tn["CJK Symbols and Punctuation"](e)||!!Tn.Katakana(e)||!!Tn["Private Use Area"](e)||!!Tn["CJK Compatibility Forms"](e)||!!Tn["Small Form Variants"](e)||!!Tn["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e}(e))}function An(e){return e>=1424&&e<=2303||Tn["Arabic Presentation Forms-A"](e)||Tn["Arabic Presentation Forms-B"](e)}function Mn(e,t){return!(!t&&An(e))&&!(e>=2304&&e<=3583||e>=3840&&e<=4255||Tn.Khmer(e))}function In(e){for(var t=0,r=e;t<r.length;t+=1)if(An(r[t].charCodeAt(0)))return!0;return!1}var Rn="deferred",Ln="loading",zn="loaded",Dn=null,Fn="unavailable",Bn=null,Nn=function(e){Dn&&Dn(e)};function qn(){Un.fire(new ke("pluginStateChange",{pluginStatus:Fn,pluginURL:Bn}))}var Un=new Te,Vn=function(){return Fn},Gn=function(){if(Fn!==Rn||!Bn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Fn=Ln,qn(),Bn&&_e({url:Bn},(function(e){e?Nn(e):(Fn=zn,qn())}))},Wn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Fn===zn||null!=Wn.applyArabicShaping},isLoading:function(){return Fn===Ln},setState:function(e){Fn=e.pluginStatus,Bn=e.pluginURL},isParsed:function(){return null!=Wn.applyArabicShaping&&null!=Wn.processBidirectionalText&&null!=Wn.processStyledBidirectionalText},getPluginURL:function(){return Bn}},Hn=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new En,this.transition={})};Hn.prototype.isSupportedScript=function(e){return function(e,t){for(var r=0,n=e;r<n.length;r+=1)if(!Mn(n[r].charCodeAt(0),t))return!1;return!0}(e,Wn.isLoaded())},Hn.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Hn.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}};var Zn=function(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(_r(e))return new Ir(e,t);if(jr(e)){var r=Mr(e,t);if("error"===r.result)throw new Error(r.value.map((function(e){return e.key+": "+e.message})).join(", "));return r.value}var n=e;return"string"==typeof e&&"color"===t.type&&(n=Ye.parse(e)),{kind:"constant",evaluate:function(){return n}}}(void 0===t?e.specification.default:t,e.specification)};Zn.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Zn.prototype.possiblyEvaluate=function(e,t){return this.property.possiblyEvaluate(this,e,t)};var Xn=function(e){this.property=e,this.value=new Zn(e,void 0)};Xn.prototype.transitioned=function(e,t){return new Yn(this.property,this.value,t,p({},e.transition,this.transition),e.now)},Xn.prototype.untransitioned=function(){return new Yn(this.property,this.value,null,{},0)};var Kn=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};Kn.prototype.getValue=function(e){return _(this._values[e].value.value)},Kn.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Xn(this._values[e].property)),this._values[e].value=new Zn(this._values[e].property,null===t?void 0:_(t))},Kn.prototype.getTransition=function(e){return _(this._values[e].transition)},Kn.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Xn(this._values[e].property)),this._values[e].transition=_(t)||void 0},Kn.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t],i=this.getValue(n);void 0!==i&&(e[n]=i);var a=this.getTransition(n);void 0!==a&&(e[n+"-transition"]=a)}return e},Kn.prototype.transitioned=function(e,t){for(var r=new $n(this._properties),n=0,i=Object.keys(this._values);n<i.length;n+=1){var a=i[n];r._values[a]=this._values[a].transitioned(e,t._values[a])}return r},Kn.prototype.untransitioned=function(){for(var e=new $n(this._properties),t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t];e._values[n]=this._values[n].untransitioned()}return e};var Yn=function(e,t,r,n,i){this.property=e,this.value=t,this.begin=i+n.delay||0,this.end=this.begin+n.duration||0,e.specification.transition&&(n.delay||n.duration)&&(this.prior=r)};Yn.prototype.possiblyEvaluate=function(e,t){var r=e.now||0,n=this.value.possiblyEvaluate(e,t),i=this.prior;if(i){if(r>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(r<this.begin)return i.possiblyEvaluate(e,t);var a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(i.possiblyEvaluate(e,t),n,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)}(a))}return n};var $n=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};$n.prototype.possiblyEvaluate=function(e,t){for(var r=new ei(this._properties),n=0,i=Object.keys(this._values);n<i.length;n+=1){var a=i[n];r._values[a]=this._values[a].possiblyEvaluate(e,t)}return r},$n.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1){var r=t[e];if(this._values[r].prior)return!0}return!1};var Jn=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};Jn.prototype.getValue=function(e){return _(this._values[e].value)},Jn.prototype.setValue=function(e,t){this._values[e]=new Zn(this._values[e].property,null===t?void 0:_(t))},Jn.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t],i=this.getValue(n);void 0!==i&&(e[n]=i)}return e},Jn.prototype.possiblyEvaluate=function(e,t){for(var r=new ei(this._properties),n=0,i=Object.keys(this._values);n<i.length;n+=1){var a=i[n];r._values[a]=this._values[a].possiblyEvaluate(e,t)}return r};var Qn=function(e,t,r){this.property=e,this.value=t,this.parameters=r};Qn.prototype.isConstant=function(){return"constant"===this.value.kind},Qn.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},Qn.prototype.evaluate=function(e,t,r){return this.property.evaluate(this.value,this.parameters,e,t,r)};var ei=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};ei.prototype.get=function(e){return this._values[e]};var ti=function(e){this.specification=e};ti.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},ti.prototype.interpolate=function(e,t,r){var n=kt[this.specification.type];return n?n(e,t,r):e};var ri=function(e,t){this.specification=e,this.overrides=t};ri.prototype.possiblyEvaluate=function(e,t,r){return"constant"===e.expression.kind||"camera"===e.expression.kind?new Qn(this,{kind:"constant",value:e.expression.evaluate(t,null,{},r)},t):new Qn(this,e.expression,t)},ri.prototype.interpolate=function(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new Qn(this,{kind:"constant",value:void 0},e.parameters);var n=kt[this.specification.type];return n?new Qn(this,{kind:"constant",value:n(e.value.value,t.value.value,r)},e.parameters):e},ri.prototype.evaluate=function(e,t,r,n,i){return"constant"===e.kind?e.value:e.evaluate(t,r,n,i)};var ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(e,t,r){if(void 0===e.value)return new Qn(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var n=e.expression.evaluate(t,null,{},r),i="resolvedImage"===e.property.specification.type&&"string"!=typeof n?n.name:n,a=this._calculate(i,i,i,t);return new Qn(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){var o=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new Qn(this,{kind:"constant",value:o},t)}return new Qn(this,e.expression,t)},t.prototype.evaluate=function(e,t,r,n,i){if("source"===e.kind){var a=e.evaluate(t,r,n,i);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},r,n),e.evaluate({zoom:Math.floor(t.zoom)},r,n),e.evaluate({zoom:Math.floor(t.zoom)+1},r,n),t):e.value},t.prototype._calculate=function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},t.prototype.interpolate=function(e){return e},t}(ri),ii=function(e){this.specification=e};ii.prototype.possiblyEvaluate=function(e,t,r){if(void 0!==e.value){if("constant"===e.expression.kind){var n=e.expression.evaluate(t,null,{},r);return this._calculate(n,n,n,t)}return this._calculate(e.expression.evaluate(new Hn(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Hn(Math.floor(t.zoom),t)),e.expression.evaluate(new Hn(Math.floor(t.zoom+1),t)),t)}},ii.prototype._calculate=function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},ii.prototype.interpolate=function(e){return e};var ai=function(e){this.specification=e};ai.prototype.possiblyEvaluate=function(e,t,r){return!!e.expression.evaluate(t,null,{},r)},ai.prototype.interpolate=function(){return!1};var oi=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var r=e[t];r.specification.overridable&&this.overridableProperties.push(t);var n=this.defaultPropertyValues[t]=new Zn(r,void 0),i=this.defaultTransitionablePropertyValues[t]=new Xn(r);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=n.possiblyEvaluate({})}};_n("DataDrivenProperty",ri),_n("DataConstantProperty",ti),_n("CrossFadedDataDrivenProperty",ni),_n("CrossFadedProperty",ii),_n("ColorRampProperty",ai);var si=function(e){function t(t,r){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter=function(){return!0},"custom"!==t.type&&(t=t,this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),r.layout&&(this._unevaluatedLayout=new Jn(r.layout)),r.paint)){for(var n in this._transitionablePaint=new Kn(r.paint),t.paint)this.setPaintProperty(n,t.paint[n],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,r){if(void 0===r&&(r={}),null!=t){var n="layers."+this.id+".layout."+e;if(this._validate(fn,n,e,t,r))return}"visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t},t.prototype.getPaintProperty=function(e){return v(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,r){if(void 0===r&&(r={}),null!=t){var n="layers."+this.id+".paint."+e;if(this._validate(hn,n,e,t,r))return!1}if(v(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var i=this._transitionablePaint._values[e],a="cross-faded-data-driven"===i.property.specification["property-type"],o=i.value.isDataDriven(),s=i.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var u=this._transitionablePaint._values[e].value;return u.isDataDriven()||o||a||this._handleOverridablePaintPropertyUpdate(e,s,u)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype._handleOverridablePaintPropertyUpdate=function(e,t,r){return!1},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,t)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),b(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))},t.prototype._validate=function(e,t,r,n,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&dn(this,e.call(ln,{key:t,layerType:this.type,objectKey:r,value:n,styleSpec:Se,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof Qn&&gr(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(Te),ui={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ci=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},li=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function pi(e,t){void 0===t&&(t=1);var r=0,n=0;return{members:e.map((function(e){var i,a=(i=e.type,ui[i].BYTES_PER_ELEMENT),o=r=hi(r,Math.max(t,a)),s=e.components||1;return n=Math.max(n,a),r+=a*s,{name:e.name,type:e.type,components:s,offset:o}})),size:hi(r,Math.max(n,t)),alignment:t}}function hi(e,t){return Math.ceil(e/t)*t}li.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},li.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},li.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},li.prototype.clear=function(){this.length=0},li.prototype.resize=function(e){this.reserve(e),this.length=e},li.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},li.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.int16[n+0]=t,this.int16[n+1]=r,e},t}(li);fi.prototype.bytesPerElement=4,_n("StructArrayLayout2i4",fi);var di=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,i){var a=4*e;return this.int16[a+0]=t,this.int16[a+1]=r,this.int16[a+2]=n,this.int16[a+3]=i,e},t}(li);di.prototype.bytesPerElement=8,_n("StructArrayLayout4i8",di);var mi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i,a)},t.prototype.emplace=function(e,t,r,n,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e},t}(li);mi.prototype.bytesPerElement=12,_n("StructArrayLayout2i4i12",mi);var gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i,a)},t.prototype.emplace=function(e,t,r,n,i,a,o){var s=4*e,u=8*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.uint8[u+4]=n,this.uint8[u+5]=i,this.uint8[u+6]=a,this.uint8[u+7]=o,e},t}(li);gi.prototype.bytesPerElement=8,_n("StructArrayLayout2i4ub8",gi);var vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a,o,s){var u=this.length;return this.resize(u+1),this.emplace(u,e,t,r,n,i,a,o,s)},t.prototype.emplace=function(e,t,r,n,i,a,o,s,u){var c=8*e;return this.uint16[c+0]=t,this.uint16[c+1]=r,this.uint16[c+2]=n,this.uint16[c+3]=i,this.uint16[c+4]=a,this.uint16[c+5]=o,this.uint16[c+6]=s,this.uint16[c+7]=u,e},t}(li);vi.prototype.bytesPerElement=16,_n("StructArrayLayout8ui16",vi);var yi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a,o,s,u,c,l,p){var h=this.length;return this.resize(h+1),this.emplace(h,e,t,r,n,i,a,o,s,u,c,l,p)},t.prototype.emplace=function(e,t,r,n,i,a,o,s,u,c,l,p,h){var f=12*e;return this.int16[f+0]=t,this.int16[f+1]=r,this.int16[f+2]=n,this.int16[f+3]=i,this.uint16[f+4]=a,this.uint16[f+5]=o,this.uint16[f+6]=s,this.uint16[f+7]=u,this.int16[f+8]=c,this.int16[f+9]=l,this.int16[f+10]=p,this.int16[f+11]=h,e},t}(li);yi.prototype.bytesPerElement=24,_n("StructArrayLayout4i4ui4i24",yi);var bi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=r,this.float32[i+2]=n,e},t}(li);bi.prototype.bytesPerElement=12,_n("StructArrayLayout3f12",bi);var _i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var r=1*e;return this.uint32[r+0]=t,e},t}(li);_i.prototype.bytesPerElement=4,_n("StructArrayLayout1ul4",_i);var xi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a,o,s,u,c,l){var p=this.length;return this.resize(p+1),this.emplace(p,e,t,r,n,i,a,o,s,u,c,l)},t.prototype.emplace=function(e,t,r,n,i,a,o,s,u,c,l,p){var h=12*e,f=6*e;return this.int16[h+0]=t,this.int16[h+1]=r,this.int16[h+2]=n,this.int16[h+3]=i,this.int16[h+4]=a,this.int16[h+5]=o,this.uint32[f+3]=s,this.uint16[h+8]=u,this.uint16[h+9]=c,this.int16[h+10]=l,this.int16[h+11]=p,e},t}(li);xi.prototype.bytesPerElement=24,_n("StructArrayLayout6i1ul2ui2i24",xi);var wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i,a)},t.prototype.emplace=function(e,t,r,n,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e},t}(li);wi.prototype.bytesPerElement=12,_n("StructArrayLayout2i2i2i12",wi);var Oi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,i){var a=12*e,o=3*e;return this.uint8[a+0]=t,this.uint8[a+1]=r,this.float32[o+1]=n,this.float32[o+2]=i,e},t}(li);Oi.prototype.bytesPerElement=12,_n("StructArrayLayout2ub2f12",Oi);var ki=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a,o,s,u,c,l,p,h,f,d,m,g){var v=this.length;return this.resize(v+1),this.emplace(v,e,t,r,n,i,a,o,s,u,c,l,p,h,f,d,m,g)},t.prototype.emplace=function(e,t,r,n,i,a,o,s,u,c,l,p,h,f,d,m,g,v){var y=24*e,b=12*e,_=48*e;return this.int16[y+0]=t,this.int16[y+1]=r,this.uint16[y+2]=n,this.uint16[y+3]=i,this.uint32[b+2]=a,this.uint32[b+3]=o,this.uint32[b+4]=s,this.uint16[y+10]=u,this.uint16[y+11]=c,this.uint16[y+12]=l,this.float32[b+7]=p,this.float32[b+8]=h,this.uint8[_+36]=f,this.uint8[_+37]=d,this.uint8[_+38]=m,this.uint32[b+10]=g,this.int16[y+22]=v,e},t}(li);ki.prototype.bytesPerElement=48,_n("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ki);var Ei=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,i,a,o,s,u,c,l,p,h,f,d,m,g,v,y,b,_,x,w,O,k,E){var T=this.length;return this.resize(T+1),this.emplace(T,e,t,r,n,i,a,o,s,u,c,l,p,h,f,d,m,g,v,y,b,_,x,w,O,k,E)},t.prototype.emplace=function(e,t,r,n,i,a,o,s,u,c,l,p,h,f,d,m,g,v,y,b,_,x,w,O,k,E,T){var S=30*e,j=15*e;return this.int16[S+0]=t,this.int16[S+1]=r,this.int16[S+2]=n,this.int16[S+3]=i,this.int16[S+4]=a,this.int16[S+5]=o,this.int16[S+6]=s,this.int16[S+7]=u,this.uint16[S+8]=c,this.uint16[S+9]=l,this.uint16[S+10]=p,this.uint16[S+11]=h,this.uint16[S+12]=f,this.uint16[S+13]=d,this.uint16[S+14]=m,this.uint16[S+15]=g,this.uint16[S+16]=v,this.uint16[S+17]=y,this.uint16[S+18]=b,this.uint16[S+19]=_,this.uint16[S+20]=x,this.uint16[S+21]=w,this.uint32[j+11]=O,this.float32[j+12]=k,this.float32[j+13]=E,this.float32[j+14]=T,e},t}(li);Ei.prototype.bytesPerElement=60,_n("StructArrayLayout8i14ui1ul3f60",Ei);var Ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var r=1*e;return this.float32[r+0]=t,e},t}(li);Ti.prototype.bytesPerElement=4,_n("StructArrayLayout1f4",Ti);var Si=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=r,this.int16[i+2]=n,e},t}(li);Si.prototype.bytesPerElement=6,_n("StructArrayLayout3i6",Si);var ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=2*e,a=4*e;return this.uint32[i+0]=t,this.uint16[a+2]=r,this.uint16[a+3]=n,e},t}(li);ji.prototype.bytesPerElement=8,_n("StructArrayLayout1ul2ui8",ji);var Pi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=r,this.uint16[i+2]=n,e},t}(li);Pi.prototype.bytesPerElement=6,_n("StructArrayLayout3ui6",Pi);var Ci=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=r,e},t}(li);Ci.prototype.bytesPerElement=4,_n("StructArrayLayout2ui4",Ci);var Ai=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var r=1*e;return this.uint16[r+0]=t,e},t}(li);Ai.prototype.bytesPerElement=2,_n("StructArrayLayout1ui2",Ai);var Mi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.float32[n+0]=t,this.float32[n+1]=r,e},t}(li);Mi.prototype.bytesPerElement=8,_n("StructArrayLayout2f8",Mi);var Ii=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,i){var a=4*e;return this.float32[a+0]=t,this.float32[a+1]=r,this.float32[a+2]=n,this.float32[a+3]=i,e},t}(li);Ii.prototype.bytesPerElement=16,_n("StructArrayLayout4f16",Ii);var Ri=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorPointY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.x1.set=function(e){this._structArray.int16[this._pos2+2]=e},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.y1.set=function(e){this._structArray.int16[this._pos2+3]=e},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.x2.set=function(e){this._structArray.int16[this._pos2+4]=e},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.y2.set=function(e){this._structArray.int16[this._pos2+5]=e},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.featureIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+8]=e},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},r.radius.get=function(){return this._structArray.int16[this._pos2+10]},r.radius.set=function(e){this._structArray.int16[this._pos2+10]=e},r.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},r.signedDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+11]=e},r.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,r),t}(ci);Ri.prototype.size=24;var Li=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Ri(this,e)},t}(xi);_n("CollisionBoxArray",Li);var zi=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.glyphStartIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.numGlyphs.set=function(e){this._structArray.uint16[this._pos2+3]=e},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.vertexStartIndex.set=function(e){this._structArray.uint32[this._pos4+2]=e},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineStartIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.lineLength.set=function(e){this._structArray.uint32[this._pos4+4]=e},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.segment.set=function(e){this._structArray.uint16[this._pos2+10]=e},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.lowerSize.set=function(e){this._structArray.uint16[this._pos2+11]=e},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.upperSize.set=function(e){this._structArray.uint16[this._pos2+12]=e},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetX.set=function(e){this._structArray.float32[this._pos4+7]=e},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.lineOffsetY.set=function(e){this._structArray.float32[this._pos4+8]=e},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.writingMode.set=function(e){this._structArray.uint8[this._pos1+36]=e},r.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},r.placedOrientation.set=function(e){this._structArray.uint8[this._pos1+37]=e},r.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},r.hidden.set=function(e){this._structArray.uint8[this._pos1+38]=e},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},r.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},r.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},r.associatedIconIndex.set=function(e){this._structArray.int16[this._pos2+22]=e},Object.defineProperties(t.prototype,r),t}(ci);zi.prototype.size=48;var Di=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new zi(this,e)},t}(ki);_n("PlacedSymbolArray",Di);var Fi=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},r.rightJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+2]=e},r.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},r.centerJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+3]=e},r.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},r.leftJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+4]=e},r.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},r.verticalPlacedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+5]=e},r.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},r.placedIconSymbolIndex.set=function(e){this._structArray.int16[this._pos2+6]=e},r.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},r.verticalPlacedIconSymbolIndex.set=function(e){this._structArray.int16[this._pos2+7]=e},r.key.get=function(){return this._structArray.uint16[this._pos2+8]},r.key.set=function(e){this._structArray.uint16[this._pos2+8]=e},r.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.textBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},r.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},r.textBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+10]=e},r.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},r.verticalTextBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+11]=e},r.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},r.verticalTextBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+12]=e},r.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},r.iconBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+13]=e},r.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},r.iconBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+14]=e},r.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},r.verticalIconBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+15]=e},r.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},r.verticalIconBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+16]=e},r.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},r.featureIndex.set=function(e){this._structArray.uint16[this._pos2+17]=e},r.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},r.numHorizontalGlyphVertices.set=function(e){this._structArray.uint16[this._pos2+18]=e},r.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},r.numVerticalGlyphVertices.set=function(e){this._structArray.uint16[this._pos2+19]=e},r.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},r.numIconVertices.set=function(e){this._structArray.uint16[this._pos2+20]=e},r.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},r.numVerticalIconVertices.set=function(e){this._structArray.uint16[this._pos2+21]=e},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+11]},r.crossTileID.set=function(e){this._structArray.uint32[this._pos4+11]=e},r.textBoxScale.get=function(){return this._structArray.float32[this._pos4+12]},r.textBoxScale.set=function(e){this._structArray.float32[this._pos4+12]=e},r.textOffset0.get=function(){return this._structArray.float32[this._pos4+13]},r.textOffset0.set=function(e){this._structArray.float32[this._pos4+13]=e},r.textOffset1.get=function(){return this._structArray.float32[this._pos4+14]},r.textOffset1.set=function(e){this._structArray.float32[this._pos4+14]=e},Object.defineProperties(t.prototype,r),t}(ci);Fi.prototype.size=60;var Bi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Fi(this,e)},t}(Ei);_n("SymbolInstanceArray",Bi);var Ni=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={offsetX:{configurable:!0}};return r.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},r.offsetX.set=function(e){this._structArray.float32[this._pos4+0]=e},Object.defineProperties(t.prototype,r),t}(ci);Ni.prototype.size=4;var qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t.prototype.get=function(e){return new Ni(this,e)},t}(Ti);_n("GlyphOffsetArray",qi);var Ui=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return r.x.get=function(){return this._structArray.int16[this._pos2+0]},r.x.set=function(e){this._structArray.int16[this._pos2+0]=e},r.y.get=function(){return this._structArray.int16[this._pos2+1]},r.y.set=function(e){this._structArray.int16[this._pos2+1]=e},r.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},r.tileUnitDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+2]=e},Object.defineProperties(t.prototype,r),t}(ci);Ui.prototype.size=6;var Vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t.prototype.get=function(e){return new Ui(this,e)},t}(Si);_n("SymbolLineVertexArray",Vi);var Gi=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.featureIndex.set=function(e){this._structArray.uint32[this._pos4+0]=e},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},r.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+3]=e},Object.defineProperties(t.prototype,r),t}(ci);Gi.prototype.size=8;var Wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Gi(this,e)},t}(ji);_n("FeatureIndexArray",Wi);var Hi=pi([{name:"a_pos",components:2,type:"Int16"}],4).members,Zi=function(e){void 0===e&&(e=[]),this.segments=e};function Xi(e,t){return 256*(e=c(Math.floor(e),0,255))+c(Math.floor(t),0,255)}Zi.prototype.prepareSegment=function(e,t,r,n){var i=this.segments[this.segments.length-1];return e>Zi.MAX_VERTEX_ARRAY_LENGTH&&w("Max vertices per segment is "+Zi.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!i||i.vertexLength+e>Zi.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n)&&(i={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&&(i.sortKey=n),this.segments.push(i)),i},Zi.prototype.get=function(){return this.segments},Zi.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var r=t[e];for(var n in r.vaos)r.vaos[n].destroy()}},Zi.simpleSegment=function(e,t,r,n){return new Zi([{vertexOffset:e,primitiveOffset:t,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])},Zi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,_n("SegmentVector",Zi);var Ki=function(){this.ids=[],this.positions=[],this.indexed=!1};function Yi(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}Ki.prototype.add=function(e,t,r,n){this.ids.push(e),this.positions.push(t,r,n)},Ki.prototype.getPositions=function(e){for(var t=0,r=this.ids.length-1;t<r;){var n=t+r>>1;this.ids[n]>=e?r=n:t=n+1}for(var i=[];this.ids[t]===e;){var a=this.positions[3*t],o=this.positions[3*t+1],s=this.positions[3*t+2];i.push({index:a,start:o,end:s}),t++}return i},Ki.serialize=function(e,t){var r=new Float64Array(e.ids),n=new Uint32Array(e.positions);return function e(t,r,n,i){if(!(n>=i)){for(var a=t[n+i>>1],o=n-1,s=i+1;;){do{o++}while(t[o]<a);do{s--}while(t[s]>a);if(o>=s)break;Yi(t,o,s),Yi(r,3*o,3*s),Yi(r,3*o+1,3*s+1),Yi(r,3*o+2,3*s+2)}e(t,r,n,s),e(t,r,s+1,i)}}(r,n,0,r.length-1),t&&t.push(r.buffer,n.buffer),{ids:r,positions:n}},Ki.deserialize=function(e){var t=new Ki;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t},_n("FeaturePositionMap",Ki);var $i=function(e,t){this.gl=e.gl,this.location=t},Ji=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}($i),Qi=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}($i),ea=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}($i),ta=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}($i),ra=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}($i),na=function(e){function t(t,r){e.call(this,t,r),this.current=Ye.transparent}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}($i),ia=new Float32Array(16),aa=function(e){function t(t,r){e.call(this,t,r),this.current=ia}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}($i);function oa(e){return[Xi(255*e.r,255*e.g),Xi(255*e.b,255*e.a)]}var sa=function(e,t,r){this.value=e,this.names=t,this.uniformNames=this.names.map((function(e){return"u_"+e})),this.type=r,this.maxValue=-1/0};sa.prototype.defines=function(){return this.names.map((function(e){return"#define HAS_UNIFORM_u_"+e}))},sa.prototype.setConstantPatternPositions=function(){},sa.prototype.populatePaintArray=function(){},sa.prototype.updatePaintArray=function(){},sa.prototype.upload=function(){},sa.prototype.destroy=function(){},sa.prototype.setUniforms=function(e,t,r,n){t.set(n.constantOr(this.value))},sa.prototype.getBinding=function(e,t){return"color"===this.type?new na(e,t):new Qi(e,t)},sa.serialize=function(e){var t=e.value,r=e.names,n=e.type;return{value:On(t),names:r,type:n}},sa.deserialize=function(e){var t=e.value,r=e.names,n=e.type;return new sa(kn(t),r,n)};var ua=function(e,t,r){this.value=e,this.names=t,this.uniformNames=this.names.map((function(e){return"u_"+e})),this.type=r,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};ua.prototype.defines=function(){return this.names.map((function(e){return"#define HAS_UNIFORM_u_"+e}))},ua.prototype.populatePaintArray=function(){},ua.prototype.updatePaintArray=function(){},ua.prototype.upload=function(){},ua.prototype.destroy=function(){},ua.prototype.setConstantPatternPositions=function(e,t){this.patternPositions.patternTo=e.tlbr,this.patternPositions.patternFrom=t.tlbr},ua.prototype.setUniforms=function(e,t,r,n,i){var a=this.patternPositions;"u_pattern_to"===i&&a.patternTo&&t.set(a.patternTo),"u_pattern_from"===i&&a.patternFrom&&t.set(a.patternFrom)},ua.prototype.getBinding=function(e,t){return new ra(e,t)};var ca=function(e,t,r,n){this.expression=e,this.names=t,this.type=r,this.uniformNames=this.names.map((function(e){return"a_"+e})),this.maxValue=-1/0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?2:1,offset:0}})),this.paintVertexArray=new n};ca.prototype.defines=function(){return[]},ca.prototype.setConstantPatternPositions=function(){},ca.prototype.populatePaintArray=function(e,t,r,n){var i=this.paintVertexArray,a=i.length;i.reserve(e);var o=this.expression.evaluate(new Hn(0),t,{},[],n);if("color"===this.type)for(var s=oa(o),u=a;u<e;u++)i.emplaceBack(s[0],s[1]);else{for(var c=a;c<e;c++)i.emplaceBack(o);this.maxValue=Math.max(this.maxValue,o)}},ca.prototype.updatePaintArray=function(e,t,r,n){var i=this.paintVertexArray,a=this.expression.evaluate({zoom:0},r,n);if("color"===this.type)for(var o=oa(a),s=e;s<t;s++)i.emplace(s,o[0],o[1]);else{for(var u=e;u<t;u++)i.emplace(u,a);this.maxValue=Math.max(this.maxValue,a)}},ca.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ca.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ca.prototype.setUniforms=function(e,t){t.set(0)},ca.prototype.getBinding=function(e,t){return new Qi(e,t)};var la=function(e,t,r,n,i,a){this.expression=e,this.names=t,this.uniformNames=this.names.map((function(e){return"u_"+e+"_t"})),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=-1/0;var o=a;this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?4:2,offset:0}})),this.paintVertexArray=new o};la.prototype.defines=function(){return[]},la.prototype.setConstantPatternPositions=function(){},la.prototype.populatePaintArray=function(e,t,r,n){var i=this.paintVertexArray,a=i.length;i.reserve(e);var o=this.expression.evaluate(new Hn(this.zoom),t,{},[],n),s=this.expression.evaluate(new Hn(this.zoom+1),t,{},[],n);if("color"===this.type)for(var u=oa(o),c=oa(s),l=a;l<e;l++)i.emplaceBack(u[0],u[1],c[0],c[1]);else{for(var p=a;p<e;p++)i.emplaceBack(o,s);this.maxValue=Math.max(this.maxValue,o,s)}},la.prototype.updatePaintArray=function(e,t,r,n){var i=this.paintVertexArray,a=this.expression.evaluate({zoom:this.zoom},r,n),o=this.expression.evaluate({zoom:this.zoom+1},r,n);if("color"===this.type)for(var s=oa(a),u=oa(o),c=e;c<t;c++)i.emplace(c,s[0],s[1],u[0],u[1]);else{for(var l=e;l<t;l++)i.emplace(l,a,o);this.maxValue=Math.max(this.maxValue,a,o)}},la.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},la.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},la.prototype.interpolationFactor=function(e){return this.useIntegerZoom&&(e=Math.floor(e)),c(this.expression.interpolationFactor(e,this.zoom,this.zoom+1),0,1)},la.prototype.setUniforms=function(e,t,r){t.set(this.interpolationFactor(r.zoom))},la.prototype.getBinding=function(e,t){return new Qi(e,t)};var pa=function(e,t,r,n,i,a,o){this.expression=e,this.names=t,this.type=r,this.uniformNames=this.names.map((function(e){return"u_"+e+"_t"})),this.useIntegerZoom=n,this.zoom=i,this.maxValue=-1/0,this.layerId=o,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Uint16",components:4,offset:0}})),this.zoomInPaintVertexArray=new a,this.zoomOutPaintVertexArray=new a};pa.prototype.defines=function(){return[]},pa.prototype.setConstantPatternPositions=function(){},pa.prototype.populatePaintArray=function(e,t,r){var n=this.zoomInPaintVertexArray,i=this.zoomOutPaintVertexArray,a=this.layerId,o=n.length;if(n.reserve(e),i.reserve(e),r&&t.patterns&&t.patterns[a]){var s=t.patterns[a],u=s.min,c=s.mid,l=s.max,p=r[u],h=r[c],f=r[l];if(!p||!h||!f)return;for(var d=o;d<e;d++)n.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],p.tl[0],p.tl[1],p.br[0],p.br[1]),i.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],f.tl[0],f.tl[1],f.br[0],f.br[1])}},pa.prototype.updatePaintArray=function(e,t,r,n,i){var a=this.zoomInPaintVertexArray,o=this.zoomOutPaintVertexArray,s=this.layerId;if(i&&r.patterns&&r.patterns[s]){var u=r.patterns[s],c=u.min,l=u.mid,p=u.max,h=i[c],f=i[l],d=i[p];if(!h||!f||!d)return;for(var m=e;m<t;m++)a.emplace(m,f.tl[0],f.tl[1],f.br[0],f.br[1],h.tl[0],h.tl[1],h.br[0],h.br[1]),o.emplace(m,f.tl[0],f.tl[1],f.br[0],f.br[1],d.tl[0],d.tl[1],d.br[0],d.br[1])}},pa.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},pa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},pa.prototype.setUniforms=function(e,t){t.set(0)},pa.prototype.getBinding=function(e,t){return new Qi(e,t)};var ha=function(){this.binders={},this.cacheKey="",this._buffers=[]};ha.createDynamic=function(e,t,r){var n=new ha,i=[];for(var a in e.paint._values)if(r(a)){var o=e.paint.get(a);if(o instanceof Qn&&gr(o.property.specification)){var s=da(a,e.type),u=o.property.specification.type,c=o.property.useIntegerZoom;if("cross-faded"===o.property.specification["property-type"]||"cross-faded-data-driven"===o.property.specification["property-type"])if("constant"===o.value.kind)n.binders[a]=new ua(o.value.value,s,u),i.push("/u_"+a);else{var l=ma(a,u,"source");n.binders[a]=new pa(o.value,s,u,c,t,l,e.id),i.push("/a_"+a)}else if("constant"===o.value.kind)n.binders[a]=new sa(o.value.value,s,u),i.push("/u_"+a);else if("source"===o.value.kind){var p=ma(a,u,"source");n.binders[a]=new ca(o.value,s,u,p),i.push("/a_"+a)}else{var h=ma(a,u,"composite");n.binders[a]=new la(o.value,s,u,c,t,h),i.push("/z_"+a)}}}return n.cacheKey=i.sort().join(""),n},ha.prototype.populatePaintArrays=function(e,t,r,n,i){for(var a in this.binders)this.binders[a].populatePaintArray(e,t,n,i)},ha.prototype.setConstantPatternPositions=function(e,t){for(var r in this.binders)this.binders[r].setConstantPatternPositions(e,t)},ha.prototype.updatePaintArrays=function(e,t,r,n,i){var a=!1;for(var o in e)for(var s=0,u=t.getPositions(+o);s<u.length;s+=1){var c=u[s],l=r.feature(c.index);for(var p in this.binders){var h=this.binders[p];if(!(h instanceof sa||h instanceof ua)&&!0===h.expression.isStateDependent){var f=n.paint.get(p);h.expression=f.value,h.updatePaintArray(c.start,c.end,l,e[o],i),a=!0}}}return a},ha.prototype.defines=function(){var e=[];for(var t in this.binders)e.push.apply(e,this.binders[t].defines());return e},ha.prototype.getPaintVertexBuffers=function(){return this._buffers},ha.prototype.getUniforms=function(e,t){var r=[];for(var n in this.binders)for(var i=this.binders[n],a=0,o=i.uniformNames;a<o.length;a+=1){var s=o[a];if(t[s]){var u=i.getBinding(e,t[s]);r.push({name:s,property:n,binding:u})}}return r},ha.prototype.setUniforms=function(e,t,r,n){for(var i=0,a=t;i<a.length;i+=1){var o=a[i],s=o.name,u=o.property,c=o.binding;this.binders[u].setUniforms(e,c,n,r.get(u),s)}},ha.prototype.updatePatternPaintBuffers=function(e){var t=[];for(var r in this.binders){var n=this.binders[r];if(n instanceof pa){var i=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;i&&t.push(i)}else(n instanceof ca||n instanceof la)&&n.paintVertexBuffer&&t.push(n.paintVertexBuffer)}this._buffers=t},ha.prototype.upload=function(e){for(var t in this.binders)this.binders[t].upload(e);var r=[];for(var n in this.binders){var i=this.binders[n];(i instanceof ca||i instanceof la)&&i.paintVertexBuffer&&r.push(i.paintVertexBuffer)}this._buffers=r},ha.prototype.destroy=function(){for(var e in this.binders)this.binders[e].destroy()};var fa=function(e,t,r,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var i=0,a=t;i<a.length;i+=1){var o=a[i];this.programConfigurations[o.id]=ha.createDynamic(o,r,n),this.programConfigurations[o.id].layoutAttributes=e}this.needsUpload=!1,this._featureMap=new Ki,this._bufferOffset=0};function da(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function ma(e,t,r){var n={color:{source:Mi,composite:Ii},number:{source:Ti,composite:Mi}},i=function(e){return{"line-pattern":{source:vi,composite:vi},"fill-pattern":{source:vi,composite:vi},"fill-extrusion-pattern":{source:vi,composite:vi}}[e]}(e);return i&&i[r]||n[t][r]}fa.prototype.populatePaintArrays=function(e,t,r,n,i){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(e,t,r,n,i);void 0!==t.id&&this._featureMap.add(+t.id,r,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},fa.prototype.updatePaintArrays=function(e,t,r,n){for(var i=0,a=r;i<a.length;i+=1){var o=a[i];this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,n)||this.needsUpload}},fa.prototype.get=function(e){return this.programConfigurations[e]},fa.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},fa.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},_n("ConstantBinder",sa),_n("CrossFadedConstantBinder",ua),_n("SourceExpressionBinder",ca),_n("CrossFadedCompositeBinder",pa),_n("CompositeExpressionBinder",la),_n("ProgramConfiguration",ha,{omit:["_buffers"]}),_n("ProgramConfigurationSet",fa);var ga=8192,va={min:-1*Math.pow(2,14),max:Math.pow(2,14)-1};function ya(e){for(var t=ga/e.extent,r=e.loadGeometry(),n=0;n<r.length;n++)for(var i=r[n],a=0;a<i.length;a++){var o=i[a];o.x=Math.round(o.x*t),o.y=Math.round(o.y*t),(o.x<va.min||o.x>va.max||o.y<va.min||o.y>va.max)&&(w("Geometry exceeds allowed extent, reduce your vector tile buffer size"),o.x=c(o.x,va.min,va.max),o.y=c(o.y,va.min,va.max))}return r}function ba(e,t,r,n,i){e.emplaceBack(2*t+(n+1)/2,2*r+(i+1)/2)}var _a=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new fi,this.indexArray=new Pi,this.segments=new Zi,this.programConfigurations=new fa(Hi,e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function xa(e,t){for(var r=0;r<e.length;r++)if(Ca(t,e[r]))return!0;for(var n=0;n<t.length;n++)if(Ca(e,t[n]))return!0;return!!Ea(e,t)}function wa(e,t,r){return!!Ca(e,t)||!!Sa(t,e,r)}function Oa(e,t){if(1===e.length)return Pa(t,e[0]);for(var r=0;r<t.length;r++)for(var n=t[r],i=0;i<n.length;i++)if(Ca(e,n[i]))return!0;for(var a=0;a<e.length;a++)if(Pa(t,e[a]))return!0;for(var o=0;o<t.length;o++)if(Ea(e,t[o]))return!0;return!1}function ka(e,t,r){if(e.length>1){if(Ea(e,t))return!0;for(var n=0;n<t.length;n++)if(Sa(t[n],e,r))return!0}for(var i=0;i<e.length;i++)if(Sa(e[i],t,r))return!0;return!1}function Ea(e,t){if(0===e.length||0===t.length)return!1;for(var r=0;r<e.length-1;r++)for(var n=e[r],i=e[r+1],a=0;a<t.length-1;a++)if(Ta(n,i,t[a],t[a+1]))return!0;return!1}function Ta(e,t,r,n){return O(e,r,n)!==O(t,r,n)&&O(e,t,r)!==O(e,t,n)}function Sa(e,t,r){var n=r*r;if(1===t.length)return e.distSqr(t[0])<n;for(var i=1;i<t.length;i++)if(ja(e,t[i-1],t[i])<n)return!0;return!1}function ja(e,t,r){var n=t.distSqr(r);if(0===n)return e.distSqr(t);var i=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n;return i<0?e.distSqr(t):i>1?e.distSqr(r):e.distSqr(r.sub(t)._mult(i)._add(t))}function Pa(e,t){for(var r,n,i,a=!1,o=0;o<e.length;o++)for(var s=0,u=(r=e[o]).length-1;s<r.length;u=s++)n=r[s],i=r[u],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(a=!a);return a}function Ca(e,t){for(var r=!1,n=0,i=e.length-1;n<e.length;i=n++){var a=e[n],o=e[i];a.y>t.y!=o.y>t.y&&t.x<(o.x-a.x)*(t.y-a.y)/(o.y-a.y)+a.x&&(r=!r)}return r}function Aa(e,t,r){var n=r[0],i=r[2];if(e.x<n.x&&t.x<n.x||e.x>i.x&&t.x>i.x||e.y<n.y&&t.y<n.y||e.y>i.y&&t.y>i.y)return!1;var a=O(e,t,r[0]);return a!==O(e,t,r[1])||a!==O(e,t,r[2])||a!==O(e,t,r[3])}function Ma(e,t,r){var n=t.paint.get(e).value;return"constant"===n.kind?n.value:r.programConfigurations.get(t.id).binders[e].maxValue}function Ia(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Ra(e,t,r,n,a){if(!t[0]&&!t[1])return e;var o=i.convert(t)._mult(a);"viewport"===r&&o._rotate(-n);for(var s=[],u=0;u<e.length;u++){var c=e[u];s.push(c.sub(o))}return s}_a.prototype.populate=function(e,t){var r=this.layers[0],n=[],i=null;"circle"===r.type&&(i=r.layout.get("circle-sort-key"));for(var a=0,o=e;a<o.length;a+=1){var s=o[a],u=s.feature,c=s.index,l=s.sourceLayerIndex;if(this.layers[0]._featureFilter(new Hn(this.zoom),u)){var p=ya(u),h=i?i.evaluate(u,{}):void 0,f={id:u.id,properties:u.properties,type:u.type,sourceLayerIndex:l,index:c,geometry:p,patterns:{},sortKey:h};n.push(f)}}i&&n.sort((function(e,t){return e.sortKey-t.sortKey}));for(var d=0,m=n;d<m.length;d+=1){var g=m[d],v=g,y=v.geometry,b=v.index,_=v.sourceLayerIndex,x=e[b].feature;this.addFeature(g,y,b),t.featureIndex.insert(x,y,b,_,this.index)}},_a.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},_a.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},_a.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},_a.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Hi),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},_a.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},_a.prototype.addFeature=function(e,t,r){for(var n=0,i=t;n<i.length;n+=1)for(var a=0,o=i[n];a<o.length;a+=1){var s=o[a],u=s.x,c=s.y;if(!(u<0||u>=ga||c<0||c>=ga)){var l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),p=l.vertexLength;ba(this.layoutVertexArray,u,c,-1,-1),ba(this.layoutVertexArray,u,c,1,-1),ba(this.layoutVertexArray,u,c,1,1),ba(this.layoutVertexArray,u,c,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),l.vertexLength+=4,l.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{})},_n("CircleBucket",_a,{omit:["layers"]});var La,za=new oi({"circle-sort-key":new ri(Se.layout_circle["circle-sort-key"])}),Da={paint:new oi({"circle-radius":new ri(Se.paint_circle["circle-radius"]),"circle-color":new ri(Se.paint_circle["circle-color"]),"circle-blur":new ri(Se.paint_circle["circle-blur"]),"circle-opacity":new ri(Se.paint_circle["circle-opacity"]),"circle-translate":new ti(Se.paint_circle["circle-translate"]),"circle-translate-anchor":new ti(Se.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ti(Se.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ti(Se.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ri(Se.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ri(Se.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ri(Se.paint_circle["circle-stroke-opacity"])}),layout:za},Fa="undefined"!=typeof Float32Array?Float32Array:Array;function Ba(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,r=arguments.length;r--;)t+=e[r]*e[r];return Math.sqrt(t)}),La=new Fa(3),Fa!=Float32Array&&(La[0]=0,La[1]=0,La[2]=0),function(){var e=new Fa(4);Fa!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var Na=function(e){function t(t){e.call(this,t,Da)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new _a(e)},t.prototype.queryRadius=function(e){var t=e;return Ma("circle-radius",this,t)+Ma("circle-stroke-width",this,t)+Ia(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,i,a,o,s){for(var u=Ra(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,o),c=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r),l="map"===this.paint.get("circle-pitch-alignment"),p=l?u:function(e,t){return e.map((function(e){return qa(e,t)}))}(u,s),h=l?c*o:c,f=0,d=n;f<d.length;f+=1)for(var m=0,g=d[f];m<g.length;m+=1){var v=g[m],y=l?v:qa(v,s),b=h,_=Ba([],[v.x,v.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?b*=_[3]/a.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(b*=a.cameraToCenterDistance/_[3]),wa(p,y,b))return!0}return!1},t}(si);function qa(e,t){var r=Ba([],[e.x,e.y,0,1],t);return new i(r[0]/r[3],r[1]/r[3])}var Ua=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(_a);function Va(e,t,r,n){var i=t.width,a=t.height;if(n){if(n instanceof Uint8ClampedArray)n=new Uint8Array(n.buffer);else if(n.length!==i*a*r)throw new RangeError("mismatched image size")}else n=new Uint8Array(i*a*r);return e.width=i,e.height=a,e.data=n,e}function Ga(e,t,r){var n=t.width,i=t.height;if(n!==e.width||i!==e.height){var a=Va({},{width:n,height:i},r);Wa(e,a,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,n),height:Math.min(e.height,i)},r),e.width=n,e.height=i,e.data=a.data}}function Wa(e,t,r,n,i,a){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var o=e.data,s=t.data,u=0;u<i.height;u++)for(var c=((r.y+u)*e.width+r.x)*a,l=((n.y+u)*t.width+n.x)*a,p=0;p<i.width*a;p++)s[l+p]=o[c+p];return t}_n("HeatmapBucket",Ua,{omit:["layers"]});var Ha=function(e,t){Va(this,e,1,t)};Ha.prototype.resize=function(e){Ga(this,e,1)},Ha.prototype.clone=function(){return new Ha({width:this.width,height:this.height},new Uint8Array(this.data))},Ha.copy=function(e,t,r,n,i){Wa(e,t,r,n,i,1)};var Za=function(e,t){Va(this,e,4,t)};Za.prototype.resize=function(e){Ga(this,e,4)},Za.prototype.replace=function(e,t){t?this.data.set(e):e instanceof Uint8ClampedArray?this.data=new Uint8Array(e.buffer):this.data=e},Za.prototype.clone=function(){return new Za({width:this.width,height:this.height},new Uint8Array(this.data))},Za.copy=function(e,t,r,n,i){Wa(e,t,r,n,i,4)},_n("AlphaImage",Ha),_n("RGBAImage",Za);var Xa={paint:new oi({"heatmap-radius":new ri(Se.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ri(Se.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ti(Se.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ai(Se.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ti(Se.paint_heatmap["heatmap-opacity"])})};function Ka(e,t){for(var r=new Uint8Array(1024),n={},i=0,a=0;i<256;i++,a+=4){n[t]=i/255;var o=e.evaluate(n);r[a+0]=Math.floor(255*o.r/o.a),r[a+1]=Math.floor(255*o.g/o.a),r[a+2]=Math.floor(255*o.b/o.a),r[a+3]=Math.floor(255*o.a)}return new Za({width:256,height:1},r)}var Ya=function(e){function t(t){e.call(this,t,Xa),this._updateColorRamp()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new Ua(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){var e=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Ka(e,"heatmapDensity"),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(si),$a={paint:new oi({"hillshade-illumination-direction":new ti(Se.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ti(Se.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ti(Se.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ti(Se.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ti(Se.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ti(Se.paint_hillshade["hillshade-accent-color"])})},Ja=function(e){function t(t){e.call(this,t,$a)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(si),Qa=pi([{name:"a_pos",components:2,type:"Int16"}],4).members,eo=ro,to=ro;function ro(e,t,r){r=r||2;var n,i,a,o,s,u,c,l=t&&t.length,p=l?t[0]*r:e.length,h=no(e,0,p,r,!0),f=[];if(!h||h.next===h.prev)return f;if(l&&(h=function(e,t,r,n){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=no(e,t[i]*n,i<a-1?t[i+1]*n:e.length,n,!1))===o.next&&(o.steiner=!0),s.push(mo(o));for(s.sort(lo),i=0;i<s.length;i++)po(s[i],r),r=io(r,r.next);return r}(e,t,h,r)),e.length>80*r){n=a=e[0],i=o=e[1];for(var d=r;d<p;d+=r)(s=e[d])<n&&(n=s),(u=e[d+1])<i&&(i=u),s>a&&(a=s),u>o&&(o=u);c=0!==(c=Math.max(a-n,o-i))?1/c:0}return ao(h,f,r,n,i,c),f}function no(e,t,r,n,i){var a,o;if(i===jo(e,t,r,n)>0)for(a=t;a<r;a+=n)o=Eo(a,e[a],e[a+1],o);else for(a=r-n;a>=t;a-=n)o=Eo(a,e[a],e[a+1],o);return o&&bo(o,o.next)&&(To(o),o=o.next),o}function io(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!bo(n,n.next)&&0!==yo(n.prev,n,n.next))n=n.next;else{if(To(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function ao(e,t,r,n,i,a,o){if(e){!o&&a&&function(e,t,r,n){var i=e;do{null===i.z&&(i.z=fo(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,a,o,s,u,c=1;do{for(r=e,e=null,a=null,o=0;r;){for(o++,n=r,s=0,t=0;t<c&&(s++,n=n.nextZ);t++);for(u=c;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=n}a.nextZ=null,c*=2}while(o>1)}(i)}(e,n,i,a);for(var s,u,c=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?so(e,n,i,a):oo(e))t.push(s.i/r),t.push(e.i/r),t.push(u.i/r),To(e),e=u.next,c=u.next;else if((e=u)===c){o?1===o?ao(e=uo(io(e),t,r),t,r,n,i,a,2):2===o&&co(e,t,r,n,i,a):ao(io(e),t,r,n,i,a,1);break}}}function oo(e){var t=e.prev,r=e,n=e.next;if(yo(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(go(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&yo(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function so(e,t,r,n){var i=e.prev,a=e,o=e.next;if(yo(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,c=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,l=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,p=fo(s,u,t,r,n),h=fo(c,l,t,r,n),f=e.prevZ,d=e.nextZ;f&&f.z>=p&&d&&d.z<=h;){if(f!==e.prev&&f!==e.next&&go(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&yo(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,d!==e.prev&&d!==e.next&&go(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&yo(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;f&&f.z>=p;){if(f!==e.prev&&f!==e.next&&go(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&yo(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;d&&d.z<=h;){if(d!==e.prev&&d!==e.next&&go(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&yo(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function uo(e,t,r){var n=e;do{var i=n.prev,a=n.next.next;!bo(i,a)&&_o(i,n,n.next,a)&&Oo(i,a)&&Oo(a,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(a.i/r),To(n),To(n.next),n=e=a),n=n.next}while(n!==e);return io(n)}function co(e,t,r,n,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&vo(o,s)){var u=ko(o,s);return o=io(o,o.next),u=io(u,u.next),ao(o,t,r,n,i,a),void ao(u,t,r,n,i,a)}s=s.next}o=o.next}while(o!==e)}function lo(e,t){return e.x-t.x}function po(e,t){if(t=function(e,t){var r,n=t,i=e.x,a=e.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>o){if(o=s,s===i){if(a===n.y)return n;if(a===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===o)return r;var u,c=r,l=r.x,p=r.y,h=1/0;n=r;do{i>=n.x&&n.x>=l&&i!==n.x&&go(a<p?i:o,a,l,p,a<p?o:i,a,n.x,n.y)&&(u=Math.abs(a-n.y)/(i-n.x),Oo(n,e)&&(u<h||u===h&&(n.x>r.x||n.x===r.x&&ho(r,n)))&&(r=n,h=u)),n=n.next}while(n!==c);return r}(e,t)){var r=ko(t,e);io(r,r.next)}}function ho(e,t){return yo(e.prev,e,t.prev)<0&&yo(t.next,e,e.next)<0}function fo(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function mo(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function go(e,t,r,n,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(n-s)-(r-o)*(t-s)>=0&&(r-o)*(a-s)-(i-o)*(n-s)>=0}function vo(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&_o(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(Oo(e,t)&&Oo(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(yo(e.prev,e,t.prev)||yo(e,t.prev,t))||bo(e,t)&&yo(e.prev,e,e.next)>0&&yo(t.prev,t,t.next)>0)}function yo(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function bo(e,t){return e.x===t.x&&e.y===t.y}function _o(e,t,r,n){var i=wo(yo(e,t,r)),a=wo(yo(e,t,n)),o=wo(yo(r,n,e)),s=wo(yo(r,n,t));return i!==a&&o!==s||!(0!==i||!xo(e,r,t))||!(0!==a||!xo(e,n,t))||!(0!==o||!xo(r,e,n))||!(0!==s||!xo(r,t,n))}function xo(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function wo(e){return e>0?1:e<0?-1:0}function Oo(e,t){return yo(e.prev,e,e.next)<0?yo(e,t,e.next)>=0&&yo(e,e.prev,t)>=0:yo(e,t,e.prev)<0||yo(e,e.next,t)<0}function ko(e,t){var r=new So(e.i,e.x,e.y),n=new So(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function Eo(e,t,r,n){var i=new So(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function To(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function So(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function jo(e,t,r,n){for(var i=0,a=t,o=r-n;a<r;a+=n)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function Po(e,t,r,n,i){!function e(t,r,n,i,a){for(;i>n;){if(i-n>600){var o=i-n+1,s=r-n+1,u=Math.log(o),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(o-c)/o)*(s-o/2<0?-1:1);e(t,r,Math.max(n,Math.floor(r-s*c/o+l)),Math.min(i,Math.floor(r+(o-s)*c/o+l)),a)}var p=t[r],h=n,f=i;for(Co(t,n,r),a(t[i],p)>0&&Co(t,n,i);h<f;){for(Co(t,h,f),h++,f--;a(t[h],p)<0;)h++;for(;a(t[f],p)>0;)f--}0===a(t[n],p)?Co(t,n,f):Co(t,++f,i),f<=r&&(n=f+1),r<=f&&(i=f-1)}}(e,t,r||0,n||e.length-1,i||Ao)}function Co(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Ao(e,t){return e<t?-1:e>t?1:0}function Mo(e,t){var r=e.length;if(r<=1)return[e];for(var n,i,a=[],o=0;o<r;o++){var s=k(e[o]);0!==s&&(e[o].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(n&&a.push(n),n=[e[o]]):n.push(e[o]))}if(n&&a.push(n),t>1)for(var u=0;u<a.length;u++)a[u].length<=t||(Po(a[u],t,1,a[u].length-1,Io),a[u]=a[u].slice(0,t));return a}function Io(e,t){return t.area-e.area}function Ro(e,t,r){for(var n=r.patternDependencies,i=!1,a=0,o=t;a<o.length;a+=1){var s=o[a].paint.get(e+"-pattern");s.isConstant()||(i=!0);var u=s.constantOr(null);u&&(i=!0,n[u.to]=!0,n[u.from]=!0)}return i}function Lo(e,t,r,n,i){for(var a=i.patternDependencies,o=0,s=t;o<s.length;o+=1){var u=s[o],c=u.paint.get(e+"-pattern").value;if("constant"!==c.kind){var l=c.evaluate({zoom:n-1},r,{},i.availableImages),p=c.evaluate({zoom:n},r,{},i.availableImages),h=c.evaluate({zoom:n+1},r,{},i.availableImages);l=l&&l.name?l.name:l,p=p&&p.name?p.name:p,h=h&&h.name?h.name:h,a[l]=!0,a[p]=!0,a[h]=!0,r.patterns[u.id]={min:l,mid:p,max:h}}}return r}ro.deviation=function(e,t,r,n){var i=t&&t.length,a=i?t[0]*r:e.length,o=Math.abs(jo(e,0,a,r));if(i)for(var s=0,u=t.length;s<u;s++){var c=t[s]*r,l=s<u-1?t[s+1]*r:e.length;o-=Math.abs(jo(e,c,l,r))}var p=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,f=n[s+1]*r,d=n[s+2]*r;p+=Math.abs((e[h]-e[d])*(e[f+1]-e[h+1])-(e[h]-e[f])*(e[d+1]-e[h+1]))}return 0===o&&0===p?0:Math.abs((p-o)/o)},ro.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)r.vertices.push(e[i][a][o]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r},eo.default=to;var zo=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new fi,this.indexArray=new Pi,this.indexArray2=new Ci,this.programConfigurations=new fa(Qa,e.layers,e.zoom),this.segments=new Zi,this.segments2=new Zi,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};zo.prototype.populate=function(e,t){this.hasPattern=Ro("fill",this.layers,t);for(var r=this.layers[0].layout.get("fill-sort-key"),n=[],i=0,a=e;i<a.length;i+=1){var o=a[i],s=o.feature,u=o.index,c=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new Hn(this.zoom),s)){var l=ya(s),p=r?r.evaluate(s,{},t.availableImages):void 0,h={id:s.id,properties:s.properties,type:s.type,sourceLayerIndex:c,index:u,geometry:l,patterns:{},sortKey:p};n.push(h)}}r&&n.sort((function(e,t){return e.sortKey-t.sortKey}));for(var f=0,d=n;f<d.length;f+=1){var m=d[f],g=m,v=g.geometry,y=g.index,b=g.sourceLayerIndex;if(this.hasPattern){var _=Lo("fill",this.layers,m,this.zoom,t);this.patternFeatures.push(_)}else this.addFeature(m,v,y,{});var x=e[y].feature;t.featureIndex.insert(x,v,y,b,this.index)}},zo.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},zo.prototype.addFeatures=function(e,t){for(var r=0,n=this.patternFeatures;r<n.length;r+=1){var i=n[r];this.addFeature(i,i.geometry,i.index,t)}},zo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},zo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},zo.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Qa),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},zo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},zo.prototype.addFeature=function(e,t,r,n){for(var i=0,a=Mo(t,500);i<a.length;i+=1){for(var o=a[i],s=0,u=0,c=o;u<c.length;u+=1)s+=c[u].length;for(var l=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),p=l.vertexLength,h=[],f=[],d=0,m=o;d<m.length;d+=1){var g=m[d];if(0!==g.length){g!==o[0]&&f.push(h.length/2);var v=this.segments2.prepareSegment(g.length,this.layoutVertexArray,this.indexArray2),y=v.vertexLength;this.layoutVertexArray.emplaceBack(g[0].x,g[0].y),this.indexArray2.emplaceBack(y+g.length-1,y),h.push(g[0].x),h.push(g[0].y);for(var b=1;b<g.length;b++)this.layoutVertexArray.emplaceBack(g[b].x,g[b].y),this.indexArray2.emplaceBack(y+b-1,y+b),h.push(g[b].x),h.push(g[b].y);v.vertexLength+=g.length,v.primitiveLength+=g.length}}for(var _=eo(h,f),x=0;x<_.length;x+=3)this.indexArray.emplaceBack(p+_[x],p+_[x+1],p+_[x+2]);l.vertexLength+=s,l.primitiveLength+=_.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,n)},_n("FillBucket",zo,{omit:["layers","patternFeatures"]});var Do=new oi({"fill-sort-key":new ri(Se.layout_fill["fill-sort-key"])}),Fo={paint:new oi({"fill-antialias":new ti(Se.paint_fill["fill-antialias"]),"fill-opacity":new ri(Se.paint_fill["fill-opacity"]),"fill-color":new ri(Se.paint_fill["fill-color"]),"fill-outline-color":new ri(Se.paint_fill["fill-outline-color"]),"fill-translate":new ti(Se.paint_fill["fill-translate"]),"fill-translate-anchor":new ti(Se.paint_fill["fill-translate-anchor"]),"fill-pattern":new ni(Se.paint_fill["fill-pattern"])}),layout:Do},Bo=function(e){function t(t){e.call(this,t,Fo)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t,r){e.prototype.recalculate.call(this,t,r);var n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new zo(e)},t.prototype.queryRadius=function(){return Ia(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,i,a,o){return Oa(Ra(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,o),n)},t.prototype.isTileClipped=function(){return!0},t}(si),No=pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,qo=Uo;function Uo(e,t,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=i,e.readFields(Vo,this,t)}function Vo(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var n=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[n]=i}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function Go(e){for(var t,r,n=0,i=0,a=e.length,o=a-1;i<a;o=i++)t=e[i],n+=((r=e[o]).x-t.x)*(t.y+r.y);return n}Uo.types=["Unknown","Point","LineString","Polygon"],Uo.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,n=1,a=0,o=0,s=0,u=[];e.pos<r;){if(a<=0){var c=e.readVarint();n=7&c,a=c>>3}if(a--,1===n||2===n)o+=e.readSVarint(),s+=e.readSVarint(),1===n&&(t&&u.push(t),t=[]),t.push(new i(o,s));else{if(7!==n)throw new Error("unknown command "+n);t&&t.push(t[0].clone())}}return t&&u.push(t),u},Uo.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,i=0,a=0,o=1/0,s=-1/0,u=1/0,c=-1/0;e.pos<t;){if(n<=0){var l=e.readVarint();r=7&l,n=l>>3}if(n--,1===r||2===r)(i+=e.readSVarint())<o&&(o=i),i>s&&(s=i),(a+=e.readSVarint())<u&&(u=a),a>c&&(c=a);else if(7!==r)throw new Error("unknown command "+r)}return[o,u,s,c]},Uo.prototype.toGeoJSON=function(e,t,r){var n,i,a=this.extent*Math.pow(2,r),o=this.extent*e,s=this.extent*t,u=this.loadGeometry(),c=Uo.types[this.type];function l(e){for(var t=0;t<e.length;t++){var r=e[t],n=180-360*(r.y+s)/a;e[t]=[360*(r.x+o)/a-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(n=0;n<u.length;n++)p[n]=u[n][0];l(u=p);break;case 2:for(n=0;n<u.length;n++)l(u[n]);break;case 3:for(u=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,i=[],a=0;a<t;a++){var o=Go(e[a]);0!==o&&(void 0===n&&(n=o<0),n===o<0?(r&&i.push(r),r=[e[a]]):r.push(e[a]))}return r&&i.push(r),i}(u),n=0;n<u.length;n++)for(i=0;i<u[n].length;i++)l(u[n][i])}1===u.length?u=u[0]:c="Multi"+c;var h={type:"Feature",geometry:{type:c,coordinates:u},properties:this.properties};return"id"in this&&(h.id=this.id),h};var Wo=Ho;function Ho(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Zo,this,t),this.length=this._features.length}function Zo(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(r))}function Xo(e,t,r){if(3===e){var n=new Wo(r,r.readVarint()+r.pos);n.length&&(t[n.name]=n)}}Ho.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new qo(this._pbf,t,this.extent,this._keys,this._values)};var Ko={VectorTile:function(e,t){this.layers=e.readFields(Xo,{},t)},VectorTileFeature:qo,VectorTileLayer:Wo},Yo=Ko.VectorTileFeature.types,$o=Math.pow(2,13);function Jo(e,t,r,n,i,a,o,s){e.emplaceBack(t,r,2*Math.floor(n*$o)+o,i*$o*2,a*$o*2,Math.round(s))}var Qo=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new mi,this.indexArray=new Pi,this.programConfigurations=new fa(No,e.layers,e.zoom),this.segments=new Zi,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function es(e,t){return e.x===t.x&&(e.x<0||e.x>ga)||e.y===t.y&&(e.y<0||e.y>ga)}function ts(e){return e.every((function(e){return e.x<0}))||e.every((function(e){return e.x>ga}))||e.every((function(e){return e.y<0}))||e.every((function(e){return e.y>ga}))}Qo.prototype.populate=function(e,t){this.features=[],this.hasPattern=Ro("fill-extrusion",this.layers,t);for(var r=0,n=e;r<n.length;r+=1){var i=n[r],a=i.feature,o=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new Hn(this.zoom),a)){var u=ya(a),c={sourceLayerIndex:s,index:o,geometry:u,properties:a.properties,type:a.type,patterns:{}};void 0!==a.id&&(c.id=a.id),this.hasPattern?this.features.push(Lo("fill-extrusion",this.layers,c,this.zoom,t)):this.addFeature(c,u,o,{}),t.featureIndex.insert(a,u,o,s,this.index,!0)}}},Qo.prototype.addFeatures=function(e,t){for(var r=0,n=this.features;r<n.length;r+=1){var i=n[r],a=i.geometry;this.addFeature(i,a,i.index,t)}},Qo.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Qo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Qo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Qo.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,No),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Qo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Qo.prototype.addFeature=function(e,t,r,n){for(var i=0,a=Mo(t,500);i<a.length;i+=1){for(var o=a[i],s=0,u=0,c=o;u<c.length;u+=1)s+=c[u].length;for(var l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,h=o;p<h.length;p+=1){var f=h[p];if(0!==f.length&&!ts(f))for(var d=0,m=0;m<f.length;m++){var g=f[m];if(m>=1){var v=f[m-1];if(!es(g,v)){l.vertexLength+4>Zi.MAX_VERTEX_ARRAY_LENGTH&&(l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var y=g.sub(v)._perp()._unit(),b=v.dist(g);d+b>32768&&(d=0),Jo(this.layoutVertexArray,g.x,g.y,y.x,y.y,0,0,d),Jo(this.layoutVertexArray,g.x,g.y,y.x,y.y,0,1,d),d+=b,Jo(this.layoutVertexArray,v.x,v.y,y.x,y.y,0,0,d),Jo(this.layoutVertexArray,v.x,v.y,y.x,y.y,0,1,d);var _=l.vertexLength;this.indexArray.emplaceBack(_,_+2,_+1),this.indexArray.emplaceBack(_+1,_+2,_+3),l.vertexLength+=4,l.primitiveLength+=2}}}}if(l.vertexLength+s>Zi.MAX_VERTEX_ARRAY_LENGTH&&(l=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray)),"Polygon"===Yo[e.type]){for(var x=[],w=[],O=l.vertexLength,k=0,E=o;k<E.length;k+=1){var T=E[k];if(0!==T.length){T!==o[0]&&w.push(x.length/2);for(var S=0;S<T.length;S++){var j=T[S];Jo(this.layoutVertexArray,j.x,j.y,0,0,1,1,0),x.push(j.x),x.push(j.y)}}}for(var P=eo(x,w),C=0;C<P.length;C+=3)this.indexArray.emplaceBack(O+P[C],O+P[C+2],O+P[C+1]);l.primitiveLength+=P.length/3,l.vertexLength+=s}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,n)},_n("FillExtrusionBucket",Qo,{omit:["layers","features"]});var rs={paint:new oi({"fill-extrusion-opacity":new ti(Se["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ri(Se["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ti(Se["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ti(Se["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ni(Se["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ri(Se["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ri(Se["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ti(Se["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},ns=function(e){function t(t){e.call(this,t,rs)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new Qo(e)},t.prototype.queryRadius=function(){return Ia(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,r,n,a,o,s,u){var c=Ra(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,s),l=this.paint.get("fill-extrusion-height").evaluate(t,r),p=this.paint.get("fill-extrusion-base").evaluate(t,r),h=function(e,t,r,n){for(var a=[],o=0,s=e;o<s.length;o+=1){var u=s[o],c=[u.x,u.y,0,1];Ba(c,c,t),a.push(new i(c[0]/c[3],c[1]/c[3]))}return a}(c,u),f=function(e,t,r,n){for(var a=[],o=[],s=n[8]*t,u=n[9]*t,c=n[10]*t,l=n[11]*t,p=n[8]*r,h=n[9]*r,f=n[10]*r,d=n[11]*r,m=0,g=e;m<g.length;m+=1){for(var v=[],y=[],b=0,_=g[m];b<_.length;b+=1){var x=_[b],w=x.x,O=x.y,k=n[0]*w+n[4]*O+n[12],E=n[1]*w+n[5]*O+n[13],T=n[2]*w+n[6]*O+n[14],S=n[3]*w+n[7]*O+n[15],j=T+c,P=S+l,C=k+p,A=E+h,M=T+f,I=S+d,R=new i((k+s)/P,(E+u)/P);R.z=j/P,v.push(R);var L=new i(C/I,A/I);L.z=M/I,y.push(L)}a.push(v),o.push(y)}return[a,o]}(n,p,l,u);return function(e,t,r){var n=1/0;Oa(r,t)&&(n=as(r,t[0]));for(var i=0;i<t.length;i++)for(var a=t[i],o=e[i],s=0;s<a.length-1;s++){var u=a[s],c=a[s+1],l=o[s],p=[u,c,o[s+1],l,u];xa(r,p)&&(n=Math.min(n,as(r,p)))}return n!==1/0&&n}(f[0],f[1],h)},t}(si);function is(e,t){return e.x*t.x+e.y*t.y}function as(e,t){if(1===e.length){var r=t[0],n=t[1],i=t[3],a=e[0],o=n.sub(r),s=i.sub(r),u=a.sub(r),c=is(o,o),l=is(o,s),p=is(s,s),h=is(u,o),f=is(u,s),d=c*p-l*l,m=(p*h-l*f)/d,g=(c*f-l*h)/d,v=1-m-g;return r.z*v+n.z*m+i.z*g}for(var y=1/0,b=0,_=t;b<_.length;b+=1){var x=_[b];y=Math.min(y,x.z)}return y}var os=pi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,ss=Ko.VectorTileFeature.types,us=Math.cos(Math.PI/180*37.5),cs=Math.pow(2,14)/.5,ls=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new gi,this.indexArray=new Pi,this.programConfigurations=new fa(os,e.layers,e.zoom),this.segments=new Zi,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};ls.prototype.populate=function(e,t){this.hasPattern=Ro("line",this.layers,t);for(var r=this.layers[0].layout.get("line-sort-key"),n=[],i=0,a=e;i<a.length;i+=1){var o=a[i],s=o.feature,u=o.index,c=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new Hn(this.zoom),s)){var l=ya(s),p=r?r.evaluate(s,{}):void 0,h={id:s.id,properties:s.properties,type:s.type,sourceLayerIndex:c,index:u,geometry:l,patterns:{},sortKey:p};n.push(h)}}r&&n.sort((function(e,t){return e.sortKey-t.sortKey}));for(var f=0,d=n;f<d.length;f+=1){var m=d[f],g=m,v=g.geometry,y=g.index,b=g.sourceLayerIndex;if(this.hasPattern){var _=Lo("line",this.layers,m,this.zoom,t);this.patternFeatures.push(_)}else this.addFeature(m,v,y,{});var x=e[y].feature;t.featureIndex.insert(x,v,y,b,this.index)}},ls.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},ls.prototype.addFeatures=function(e,t){for(var r=0,n=this.patternFeatures;r<n.length;r+=1){var i=n[r];this.addFeature(i,i.geometry,i.index,t)}},ls.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ls.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ls.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,os),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},ls.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ls.prototype.addFeature=function(e,t,r,n){for(var i=this.layers[0].layout,a=i.get("line-join").evaluate(e,{}),o=i.get("line-cap"),s=i.get("line-miter-limit"),u=i.get("line-round-limit"),c=0,l=t;c<l.length;c+=1){var p=l[c];this.addLine(p,e,a,o,s,u,r,n)}},ls.prototype.addLine=function(e,t,r,n,i,a,o,s){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+t.properties.mapbox_clip_start,this.clipEnd=+t.properties.mapbox_clip_end;for(var u=0;u<e.length-1;u++)this.totalDistance+=e[u].dist(e[u+1])}for(var c="Polygon"===ss[t.type],l=e.length;l>=2&&e[l-1].equals(e[l-2]);)l--;for(var p=0;p<l-1&&e[p].equals(e[p+1]);)p++;if(!(l<(c?3:2))){"bevel"===r&&(i=1.05);var h,f=this.overscaling<=16?15*ga/(512*this.overscaling):0,d=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray),m=void 0,g=void 0,v=void 0,y=void 0;this.e1=this.e2=-1,c&&(h=e[l-2],y=e[p].sub(h)._unit()._perp());for(var b=p;b<l;b++)if(!(g=c&&b===l-1?e[p+1]:e[b+1])||!e[b].equals(g)){y&&(v=y),h&&(m=h),h=e[b],y=g?g.sub(h)._unit()._perp():v;var _=(v=v||y).add(y);0===_.x&&0===_.y||_._unit();var x=v.x*y.x+v.y*y.y,w=_.x*y.x+_.y*y.y,O=0!==w?1/w:1/0,k=2*Math.sqrt(2-2*w),E=w<us&&m&&g,T=v.x*y.y-v.y*y.x>0;if(E&&b>p){var S=h.dist(m);if(S>2*f){var j=h.sub(h.sub(m)._mult(f/S)._round());this.updateDistance(m,j),this.addCurrentVertex(j,v,0,0,d),m=j}}var P=m&&g,C=P?r:c?"butt":n;if(P&&"round"===C&&(O<a?C="miter":O<=2&&(C="fakeround")),"miter"===C&&O>i&&(C="bevel"),"bevel"===C&&(O>2&&(C="flipbevel"),O<i&&(C="miter")),m&&this.updateDistance(m,h),"miter"===C)_._mult(O),this.addCurrentVertex(h,_,0,0,d);else if("flipbevel"===C){if(O>100)_=y.mult(-1);else{var A=O*v.add(y).mag()/v.sub(y).mag();_._perp()._mult(A*(T?-1:1))}this.addCurrentVertex(h,_,0,0,d),this.addCurrentVertex(h,_.mult(-1),0,0,d)}else if("bevel"===C||"fakeround"===C){var M=-Math.sqrt(O*O-1),I=T?M:0,R=T?0:M;if(m&&this.addCurrentVertex(h,v,I,R,d),"fakeround"===C)for(var L=Math.round(180*k/Math.PI/20),z=1;z<L;z++){var D=z/L;if(.5!==D){var F=D-.5;D+=D*F*(D-1)*((1.0904+x*(x*(3.55645-1.43519*x)-3.2452))*F*F+(.848013+x*(.215638*x-1.06021)))}var B=y.sub(v)._mult(D)._add(v)._unit()._mult(T?-1:1);this.addHalfVertex(h,B.x,B.y,!1,T,0,d)}g&&this.addCurrentVertex(h,y,-I,-R,d)}else if("butt"===C)this.addCurrentVertex(h,_,0,0,d);else if("square"===C){var N=m?1:-1;this.addCurrentVertex(h,_,N,N,d)}else"round"===C&&(m&&(this.addCurrentVertex(h,v,0,0,d),this.addCurrentVertex(h,v,1,1,d,!0)),g&&(this.addCurrentVertex(h,y,-1,-1,d,!0),this.addCurrentVertex(h,y,0,0,d)));if(E&&b<l-1){var q=h.dist(g);if(q>2*f){var U=h.add(g.sub(h)._mult(f/q)._round());this.updateDistance(h,U),this.addCurrentVertex(U,y,0,0,d),h=U}}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,o,s)}},ls.prototype.addCurrentVertex=function(e,t,r,n,i,a){void 0===a&&(a=!1);var o=t.x+t.y*r,s=t.y-t.x*r,u=-t.x+t.y*n,c=-t.y-t.x*n;this.addHalfVertex(e,o,s,a,!1,r,i),this.addHalfVertex(e,u,c,a,!0,-n,i),this.distance>cs/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,r,n,i,a))},ls.prototype.addHalfVertex=function(e,t,r,n,i,a,o){var s=e.x,u=e.y,c=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((s<<1)+(n?1:0),(u<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*r)+128,1+(0===a?0:a<0?-1:1)|(63&c)<<2,c>>6);var l=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),o.primitiveLength++),i?this.e2=l:this.e1=l},ls.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(cs-1):this.distance},_n("LineBucket",ls,{omit:["layers","patternFeatures"]});var ps=new oi({"line-cap":new ti(Se.layout_line["line-cap"]),"line-join":new ri(Se.layout_line["line-join"]),"line-miter-limit":new ti(Se.layout_line["line-miter-limit"]),"line-round-limit":new ti(Se.layout_line["line-round-limit"]),"line-sort-key":new ri(Se.layout_line["line-sort-key"])}),hs={paint:new oi({"line-opacity":new ri(Se.paint_line["line-opacity"]),"line-color":new ri(Se.paint_line["line-color"]),"line-translate":new ti(Se.paint_line["line-translate"]),"line-translate-anchor":new ti(Se.paint_line["line-translate-anchor"]),"line-width":new ri(Se.paint_line["line-width"]),"line-gap-width":new ri(Se.paint_line["line-gap-width"]),"line-offset":new ri(Se.paint_line["line-offset"]),"line-blur":new ri(Se.paint_line["line-blur"]),"line-dasharray":new ii(Se.paint_line["line-dasharray"]),"line-pattern":new ni(Se.paint_line["line-pattern"]),"line-gradient":new ai(Se.paint_line["line-gradient"])}),layout:ps},fs=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(t,r){return r=new Hn(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),e.prototype.possiblyEvaluate.call(this,t,r)},t.prototype.evaluate=function(t,r,n,i){return r=p({},r,{zoom:Math.floor(r.zoom)}),e.prototype.evaluate.call(this,t,r,n,i)},t}(ri))(hs.paint.properties["line-width"].specification);fs.useIntegerZoom=!0;var ds=function(e){function t(t){e.call(this,t,hs)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&this._updateGradient()},t.prototype._updateGradient=function(){var e=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Ka(e,"lineProgress"),this.gradientTexture=null},t.prototype.recalculate=function(t,r){e.prototype.recalculate.call(this,t,r),this.paint._values["line-floorwidth"]=fs.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new ls(e)},t.prototype.queryRadius=function(e){var t=e,r=ms(Ma("line-width",this,t),Ma("line-gap-width",this,t)),n=Ma("line-offset",this,t);return r/2+Math.abs(n)+Ia(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,a,o,s){var u=Ra(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,s),c=s/2*ms(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),l=this.paint.get("line-offset").evaluate(t,r);return l&&(n=function(e,t){for(var r=[],n=new i(0,0),a=0;a<e.length;a++){for(var o=e[a],s=[],u=0;u<o.length;u++){var c=o[u-1],l=o[u],p=o[u+1],h=0===u?n:l.sub(c)._unit()._perp(),f=u===o.length-1?n:p.sub(l)._unit()._perp(),d=h._add(f)._unit(),m=d.x*f.x+d.y*f.y;d._mult(1/m),s.push(d._mult(t)._add(l))}r.push(s)}return r}(n,l*s)),function(e,t,r){for(var n=0;n<t.length;n++){var i=t[n];if(e.length>=3)for(var a=0;a<i.length;a++)if(Ca(e,i[a]))return!0;if(ka(e,i,r))return!0}return!1}(u,n,c)},t.prototype.isTileClipped=function(){return!0},t}(si);function ms(e,t){return t>0?t+2*e:e}var gs=pi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),vs=pi([{name:"a_projected_pos",components:3,type:"Float32"}],4),ys=(pi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),pi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),bs=(pi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),_s=pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function xs(e,t,r){return e.sections.forEach((function(e){e.text=function(e,t,r){var n=t.layout.get("text-transform").evaluate(r,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),Wn.applyArabicShaping&&(e=Wn.applyArabicShaping(e)),e}(e.text,t,r)})),e}pi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),pi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"}]),pi([{type:"Float32",name:"offsetX"}]),pi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var ws={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Os=24,ks=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,p=r?i-1:0,h=r?-1:1,f=e[t+p];for(p+=h,a=f&(1<<-l)-1,f>>=-l,l+=s;l>0;a=256*a+e[t+p],p+=h,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+p],p+=h,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),a-=c}return(f?-1:1)*o*Math.pow(2,a-n)},Es=function(e,t,r,n,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,p=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,d=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+p>=1?h/u:h*Math.pow(2,1-p))*u>=2&&(o++,u/=2),o+p>=l?(s=0,o=l):o+p>=1?(s=(t*u-1)*Math.pow(2,i),o+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&s,f+=d,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+f]=255&o,f+=d,o/=256,c-=8);e[r+f-d]|=128*m},Ts=Ss;function Ss(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Ss.Varint=0,Ss.Fixed64=1,Ss.Bytes=2,Ss.Fixed32=5;var js="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Ps(e){return e.type===Ss.Bytes?e.readVarint()+e.pos:e.pos+1}function Cs(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function As(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=e;i--)r.buf[i+n]=r.buf[i]}function Ms(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function Is(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function Rs(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function Ls(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function zs(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function Ds(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function Fs(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function Bs(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function Ns(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function qs(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Us(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function Vs(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}Ss.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,a=this.pos;this.type=7&n,e(i,t,this),this.pos===a&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=qs(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Vs(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=qs(this.buf,this.pos)+4294967296*qs(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=qs(this.buf,this.pos)+4294967296*Vs(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=ks(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=ks(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,i,a=r.buf;if(n=(112&(i=a[r.pos++]))>>4,i<128)return Cs(e,n,t);if(n|=(127&(i=a[r.pos++]))<<3,i<128)return Cs(e,n,t);if(n|=(127&(i=a[r.pos++]))<<10,i<128)return Cs(e,n,t);if(n|=(127&(i=a[r.pos++]))<<17,i<128)return Cs(e,n,t);if(n|=(127&(i=a[r.pos++]))<<24,i<128)return Cs(e,n,t);if(n|=(1&(i=a[r.pos++]))<<31,i<128)return Cs(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&js?function(e,t,r){return js.decode(e.subarray(t,r))}(this.buf,t,e):function(e,t,r){for(var n="",i=t;i<r;){var a,o,s,u=e[i],c=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l>r)break;1===l?u<128&&(c=u):2===l?128==(192&(a=e[i+1]))&&(c=(31&u)<<6|63&a)<=127&&(c=null):3===l?(a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&((c=(15&u)<<12|(63&a)<<6|63&o)<=2047||c>=55296&&c<=57343)&&(c=null)):4===l&&(a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&((c=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,l=1):c>65535&&(c-=65536,n+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),n+=String.fromCharCode(c),i+=l}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Ss.Bytes)return e.push(this.readVarint(t));var r=Ps(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Ss.Bytes)return e.push(this.readSVarint());var t=Ps(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Ss.Bytes)return e.push(this.readBoolean());var t=Ps(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Ss.Bytes)return e.push(this.readFloat());var t=Ps(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Ss.Bytes)return e.push(this.readDouble());var t=Ps(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Ss.Bytes)return e.push(this.readFixed32());var t=Ps(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Ss.Bytes)return e.push(this.readSFixed32());var t=Ps(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Ss.Bytes)return e.push(this.readFixed64());var t=Ps(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Ss.Bytes)return e.push(this.readSFixed64());var t=Ps(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Ss.Varint)for(;this.buf[this.pos++]>127;);else if(t===Ss.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Ss.Fixed32)this.pos+=4;else{if(t!==Ss.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Us(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Us(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Us(this.buf,-1&e,this.pos),Us(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Us(this.buf,-1&e,this.pos),Us(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,n;if(e>=0?(r=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,n=n+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos]=127&e}(r,0,t),function(e,t){var r=(7&e)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,i,a=0;a<t.length;a++){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){n>56319||a+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):i=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(e[r++]=239,e[r++]=191,e[r++]=189,i=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&As(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),Es(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Es(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&As(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,Ss.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,Ms,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Is,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,zs,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Rs,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Ls,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Ds,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Fs,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Bs,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Ns,t)},writeBytesField:function(e,t){this.writeTag(e,Ss.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Ss.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Ss.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Ss.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Ss.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Ss.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Ss.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Ss.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Ss.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Ss.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var Gs=3;function Ws(e,t,r){1===e&&r.readMessage(Hs,t)}function Hs(e,t,r){if(3===e){var n=r.readMessage(Zs,{}),i=n.id,a=n.bitmap,o=n.width,s=n.height,u=n.left,c=n.top,l=n.advance;t.push({id:i,bitmap:new Ha({width:o+2*Gs,height:s+2*Gs},a),metrics:{width:o,height:s,left:u,top:c,advance:l}})}}function Zs(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}var Xs=Gs;function Ks(e){for(var t=0,r=0,n=0,i=e;n<i.length;n+=1){var a=i[n];t+=a.w*a.h,r=Math.max(r,a.w)}e.sort((function(e,t){return t.h-e.h}));for(var o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}],s=0,u=0,c=0,l=e;c<l.length;c+=1)for(var p=l[c],h=o.length-1;h>=0;h--){var f=o[h];if(!(p.w>f.w||p.h>f.h)){if(p.x=f.x,p.y=f.y,u=Math.max(u,p.y+p.h),s=Math.max(s,p.x+p.w),p.w===f.w&&p.h===f.h){var d=o.pop();h<o.length&&(o[h]=d)}else p.h===f.h?(f.x+=p.w,f.w-=p.w):p.w===f.w?(f.y+=p.h,f.h-=p.h):(o.push({x:f.x+p.w,y:f.y,w:f.w-p.w,h:p.h}),f.y+=p.h,f.h-=p.h);break}}return{w:s,h:u,fill:t/(s*u)||0}}var Ys=1,$s=function(e,t){var r=t.pixelRatio,n=t.version,i=t.stretchX,a=t.stretchY,o=t.content;this.paddedRect=e,this.pixelRatio=r,this.stretchX=i,this.stretchY=a,this.content=o,this.version=n},Js={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Js.tl.get=function(){return[this.paddedRect.x+Ys,this.paddedRect.y+Ys]},Js.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Ys,this.paddedRect.y+this.paddedRect.h-Ys]},Js.tlbr.get=function(){return this.tl.concat(this.br)},Js.displaySize.get=function(){return[(this.paddedRect.w-2*Ys)/this.pixelRatio,(this.paddedRect.h-2*Ys)/this.pixelRatio]},Object.defineProperties($s.prototype,Js);var Qs=function(e,t){var r={},n={};this.haveRenderCallbacks=[];var i=[];this.addImages(e,r,i),this.addImages(t,n,i);var a=Ks(i),o=a.w,s=a.h,u=new Za({width:o||1,height:s||1});for(var c in e){var l=e[c],p=r[c].paddedRect;Za.copy(l.data,u,{x:0,y:0},{x:p.x+Ys,y:p.y+Ys},l.data)}for(var h in t){var f=t[h],d=n[h].paddedRect,m=d.x+Ys,g=d.y+Ys,v=f.data.width,y=f.data.height;Za.copy(f.data,u,{x:0,y:0},{x:m,y:g},f.data),Za.copy(f.data,u,{x:0,y:y-1},{x:m,y:g-1},{width:v,height:1}),Za.copy(f.data,u,{x:0,y:0},{x:m,y:g+y},{width:v,height:1}),Za.copy(f.data,u,{x:v-1,y:0},{x:m-1,y:g},{width:1,height:y}),Za.copy(f.data,u,{x:0,y:0},{x:m+v,y:g},{width:1,height:y})}this.image=u,this.iconPositions=r,this.patternPositions=n};Qs.prototype.addImages=function(e,t,r){for(var n in e){var i=e[n],a={x:0,y:0,w:i.data.width+2*Ys,h:i.data.height+2*Ys};r.push(a),t[n]=new $s(a,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(n)}},Qs.prototype.patchUpdatedImages=function(e,t){for(var r in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[r],e.getImage(r),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r),t)},Qs.prototype.patchUpdatedImage=function(e,t,r){if(e&&t&&e.version!==t.version){e.version=t.version;var n=e.tl,i=n[0],a=n[1];r.update(t.data,void 0,{x:i,y:a})}},_n("ImagePosition",$s),_n("ImageAtlas",Qs);var eu={horizontal:1,vertical:2,horizontalOnly:3},tu=-17,ru=function(){this.scale=1,this.fontStack="",this.imageName=null};ru.forText=function(e,t){var r=new ru;return r.scale=e||1,r.fontStack=t,r},ru.forImage=function(e){var t=new ru;return t.imageName=e,t};var nu=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function iu(e,t,r,n,i,a,o,s,u,c,l,p,h,f,d,m){var g,v=nu.fromFeature(e,i);p===eu.vertical&&v.verticalizePunctuation();var y=Wn.processBidirectionalText,b=Wn.processStyledBidirectionalText;if(y&&1===v.sections.length){g=[];for(var _=0,x=y(v.toString(),pu(v,c,a,t,n,f,d));_<x.length;_+=1){var w=x[_],O=new nu;O.text=w,O.sections=v.sections;for(var k=0;k<w.length;k++)O.sectionIndex.push(0);g.push(O)}}else if(b){g=[];for(var E=0,T=b(v.text,v.sectionIndex,pu(v,c,a,t,n,f,d));E<T.length;E+=1){var S=T[E],j=new nu;j.text=S[0],j.sectionIndex=S[1],j.sections=v.sections,g.push(j)}}else g=function(e,t){for(var r=[],n=e.text,i=0,a=0,o=t;a<o.length;a+=1){var s=o[a];r.push(e.substring(i,s)),i=s}return i<n.length&&r.push(e.substring(i,n.length)),r}(v,pu(v,c,a,t,n,f,d));var P=[],C={positionedLines:P,text:v.toString(),top:l[1],bottom:l[1],left:l[0],right:l[0],writingMode:p,iconsInText:!1,verticalizable:!1};return function(e,t,r,n,i,a,o,s,u,c,l,p){for(var h=0,f=tu,d=0,m=0,g="right"===s?1:"left"===s?0:.5,v=0,y=0,b=i;y<b.length;y+=1){var _=b[y];_.trim();var x=_.getMaxScale(),w=(x-1)*Os,O={positionedGlyphs:[],lineOffset:0};e.positionedLines[v]=O;var k=O.positionedGlyphs,E=0;if(_.length()){for(var T=0;T<_.length();T++){var S=_.getSection(T),j=_.getSectionIndex(T),P=_.getCharCode(T),C=0,A=null,M=null,I=null,R=Os,L=!(u===eu.horizontal||!l&&!Pn(P)||l&&(au[P]||(W=P,Tn.Arabic(W)||Tn["Arabic Supplement"](W)||Tn["Arabic Extended-A"](W)||Tn["Arabic Presentation Forms-A"](W)||Tn["Arabic Presentation Forms-B"](W))));if(S.imageName){var z=n[S.imageName];if(!z)continue;I=S.imageName,e.iconsInText=e.iconsInText||!0,M=z.paddedRect;var D=z.displaySize;S.scale=S.scale*Os/p,A={width:D[0],height:D[1],left:Ys,top:-Xs,advance:L?D[1]:D[0]},C=w+(Os-D[1]*S.scale),R=A.advance;var F=L?D[0]*S.scale-Os*x:D[1]*S.scale-Os*x;F>0&&F>E&&(E=F)}else{var B=r[S.fontStack],N=B&&B[P];if(N&&N.rect)M=N.rect,A=N.metrics;else{var q=t[S.fontStack],U=q&&q[P];if(!U)continue;A=U.metrics}C=(x-S.scale)*Os}L?(e.verticalizable=!0,k.push({glyph:P,imageName:I,x:h,y:f+C,vertical:L,scale:S.scale,fontStack:S.fontStack,sectionIndex:j,metrics:A,rect:M}),h+=R*S.scale+c):(k.push({glyph:P,imageName:I,x:h,y:f+C,vertical:L,scale:S.scale,fontStack:S.fontStack,sectionIndex:j,metrics:A,rect:M}),h+=A.advance*S.scale+c)}if(0!==k.length){var V=h-c;d=Math.max(V,d),fu(k,0,k.length-1,g,E)}h=0;var G=a*x+E;O.lineOffset=Math.max(E,w),f+=G,m=Math.max(G,m),++v}else f+=a,++v}var W,H=f-tu,Z=hu(o),X=Z.horizontalAlign,K=Z.verticalAlign;(function(e,t,r,n,i,a,o,s,u){var c,l=(t-r)*i;c=a!==o?-s*n-tu:(-n*u+.5)*o;for(var p=0,h=e;p<h.length;p+=1)for(var f=0,d=h[p].positionedGlyphs;f<d.length;f+=1){var m=d[f];m.x+=l,m.y+=c}})(e.positionedLines,g,X,K,d,m,a,H,i.length),e.top+=-K*H,e.bottom=e.top+H,e.left+=-X*d,e.right=e.left+d}(C,t,r,n,g,o,s,u,p,c,h,m),!function(e){for(var t=0,r=e;t<r.length;t+=1)if(0!==r[t].positionedGlyphs.length)return!1;return!0}(P)&&C}nu.fromFeature=function(e,t){for(var r=new nu,n=0;n<e.sections.length;n++){var i=e.sections[n];i.image?r.addImageSection(i):r.addTextSection(i,t)}return r},nu.prototype.length=function(){return this.text.length},nu.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},nu.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},nu.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},nu.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r+1)||null,i=e.charCodeAt(r-1)||null;n&&Cn(n)&&!ws[e[r+1]]||i&&Cn(i)&&!ws[e[r-1]]||!ws[e[r]]?t+=e[r]:t+=ws[e[r]]}return t}(this.text)},nu.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&au[this.text.charCodeAt(t)];t++)e++;for(var r=this.text.length,n=this.text.length-1;n>=0&&n>=e&&au[this.text.charCodeAt(n)];n--)r--;this.text=this.text.substring(e,r),this.sectionIndex=this.sectionIndex.slice(e,r)},nu.prototype.substring=function(e,t){var r=new nu;return r.text=this.text.substring(e,t),r.sectionIndex=this.sectionIndex.slice(e,t),r.sections=this.sections,r},nu.prototype.toString=function(){return this.text},nu.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce((function(t,r){return Math.max(t,e.sections[r].scale)}),0)},nu.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(ru.forText(e.scale,e.fontStack||t));for(var r=this.sections.length-1,n=0;n<e.text.length;++n)this.sectionIndex.push(r)},nu.prototype.addImageSection=function(e){var t=e.image?e.image.name:"";if(0!==t.length){var r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(ru.forImage(t)),this.sectionIndex.push(this.sections.length-1)):w("Reached maximum number of images 6401")}else w("Can't add FormattedSection with an empty image.")},nu.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var au={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},ou={};function su(e,t,r,n,i,a){if(t.imageName){var o=n[t.imageName];return o?o.displaySize[0]*t.scale*Os/a+i:0}var s=r[t.fontStack],u=s&&s[e];return u?u.metrics.advance*t.scale+i:0}function uu(e,t,r,n){var i=Math.pow(e-t,2);return n?e<t?i/2:2*i:i+Math.abs(r)*r}function cu(e,t,r){var n=0;return 10===e&&(n-=1e4),r&&(n+=150),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function lu(e,t,r,n,i,a){for(var o=null,s=uu(t,r,i,a),u=0,c=n;u<c.length;u+=1){var l=c[u],p=uu(t-l.x,r,i,a)+l.badness;p<=s&&(o=l,s=p)}return{index:e,x:t,priorBreak:o,badness:s}}function pu(e,t,r,n,i,a,o){if("point"!==a)return[];if(!e)return[];for(var s,u=[],c=function(e,t,r,n,i,a){for(var o=0,s=0;s<e.length();s++){var u=e.getSection(s);o+=su(e.getCharCode(s),u,n,i,t,a)}return o/Math.max(1,Math.ceil(o/r))}(e,t,r,n,i,o),l=e.text.indexOf("\u200b")>=0,p=0,h=0;h<e.length();h++){var f=e.getSection(h),d=e.getCharCode(h);if(au[d]||(p+=su(d,f,n,i,t,o)),h<e.length()-1){var m=!((s=d)<11904||!(Tn["Bopomofo Extended"](s)||Tn.Bopomofo(s)||Tn["CJK Compatibility Forms"](s)||Tn["CJK Compatibility Ideographs"](s)||Tn["CJK Compatibility"](s)||Tn["CJK Radicals Supplement"](s)||Tn["CJK Strokes"](s)||Tn["CJK Symbols and Punctuation"](s)||Tn["CJK Unified Ideographs Extension A"](s)||Tn["CJK Unified Ideographs"](s)||Tn["Enclosed CJK Letters and Months"](s)||Tn["Halfwidth and Fullwidth Forms"](s)||Tn.Hiragana(s)||Tn["Ideographic Description Characters"](s)||Tn["Kangxi Radicals"](s)||Tn["Katakana Phonetic Extensions"](s)||Tn.Katakana(s)||Tn["Vertical Forms"](s)||Tn["Yi Radicals"](s)||Tn["Yi Syllables"](s)));(ou[d]||m||f.imageName)&&u.push(lu(h+1,p,c,u,cu(d,e.getCharCode(h+1),m&&l),!1))}}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(lu(e.length(),p,c,u,0,!0))}function hu(e){var t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function fu(e,t,r,n,i){if(n||i)for(var a=e[r],o=a.metrics.advance*a.scale,s=(e[r].x+o)*n,u=t;u<=r;u++)e[u].x-=s,e[u].y+=i}function du(e,t,r,n,i,a){var o,s=e.image;if(s.content){var u=s.content,c=s.pixelRatio||1;o=[u[0]/c,u[1]/c,s.displaySize[0]-u[2]/c,s.displaySize[1]-u[3]/c]}var l,p,h,f,d=t.left*a,m=t.right*a;"width"===r||"both"===r?(f=i[0]+d-n[3],p=i[0]+m+n[1]):p=(f=i[0]+(d+m-s.displaySize[0])/2)+s.displaySize[0];var g=t.top*a,v=t.bottom*a;return"height"===r||"both"===r?(l=i[1]+g-n[0],h=i[1]+v+n[2]):h=(l=i[1]+(g+v-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:l,right:p,bottom:h,left:f,collisionPadding:o}}ou[10]=!0,ou[32]=!0,ou[38]=!0,ou[40]=!0,ou[41]=!0,ou[43]=!0,ou[45]=!0,ou[47]=!0,ou[173]=!0,ou[183]=!0,ou[8203]=!0,ou[8208]=!0,ou[8211]=!0,ou[8231]=!0;var mu=function(e){function t(t,r,n,i){e.call(this,t,r),this.angle=n,void 0!==i&&(this.segment=i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(i);_n("Anchor",mu);var gu=128;function vu(e,t){var r=t.expression;if("constant"===r.kind)return{kind:"constant",layoutSize:r.evaluate(new Hn(e+1))};if("source"===r.kind)return{kind:"source"};for(var n=r.zoomStops,i=r.interpolationType,a=0;a<n.length&&n[a]<=e;)a++;for(var o=a=Math.max(0,a-1);o<n.length&&n[o]<e+1;)o++;o=Math.min(n.length-1,o);var s=n[a],u=n[o];return"composite"===r.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:u,minSize:r.evaluate(new Hn(s)),maxSize:r.evaluate(new Hn(u)),interpolationType:i}}function yu(e,t,r){var n=t.uSize,i=t.uSizeT,a=r.lowerSize,o=r.upperSize;return"source"===e.kind?a/gu:"composite"===e.kind?Ot(a/gu,o/gu,i):n}function bu(e,t){var r=0,n=0;if("constant"===e.kind)n=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,a=e.minZoom,o=e.maxZoom,s=i?c(Gt.interpolationFactor(i,t,a,o),0,1):0;"camera"===e.kind?n=Ot(e.minSize,e.maxSize,s):r=s}return{uSizeT:r,uSize:n}}var _u=Object.freeze({__proto__:null,getSizeData:vu,evaluateSizeForFeature:yu,evaluateSizeForZoom:bu,SIZE_PACK_FACTOR:gu});function xu(e,t,r,n,i){if(void 0===t.segment)return!0;for(var a=t,o=t.segment+1,s=0;s>-r/2;){if(--o<0)return!1;s-=e[o].dist(a),a=e[o]}s+=e[o].dist(e[o+1]),o++;for(var u=[],c=0;s<r/2;){var l=e[o-1],p=e[o],h=e[o+1];if(!h)return!1;var f=l.angleTo(p)-p.angleTo(h);for(f=Math.abs((f+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:f}),c+=f;s-u[0].distance>n;)c-=u.shift().angleDelta;if(c>i)return!1;o++,s+=p.dist(h)}return!0}function wu(e){for(var t=0,r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function Ou(e,t,r){return e?.6*t*r:0}function ku(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Eu(e,t,r,n,i,a){for(var o=Ou(r,i,a),s=ku(r,n)*a,u=0,c=wu(e)/2,l=0;l<e.length-1;l++){var p=e[l],h=e[l+1],f=p.dist(h);if(u+f>c){var d=(c-u)/f,m=Ot(p.x,h.x,d),g=Ot(p.y,h.y,d),v=new mu(m,g,h.angleTo(p),l);return v._round(),!o||xu(e,v,s,o,t)?v:void 0}u+=f}}function Tu(e,t,r,n,i,a,o,s,u){var c=Ou(n,a,o),l=ku(n,i),p=l*o,h=0===e[0].x||e[0].x===u||0===e[0].y||e[0].y===u;return t-p<t/4&&(t=p+t/4),function e(t,r,n,i,a,o,s,u,c){for(var l=o/2,p=wu(t),h=0,f=r-n,d=[],m=0;m<t.length-1;m++){for(var g=t[m],v=t[m+1],y=g.dist(v),b=v.angleTo(g);f+n<h+y;){var _=((f+=n)-h)/y,x=Ot(g.x,v.x,_),w=Ot(g.y,v.y,_);if(x>=0&&x<c&&w>=0&&w<c&&f-l>=0&&f+l<=p){var O=new mu(x,w,b,m);O._round(),i&&!xu(t,O,o,i,a)||d.push(O)}}h+=y}return u||d.length||s||(d=e(t,h/2,n,i,a,o,s,!0,c)),d}(e,h?t/2*s%t:(l/2+2*a)*o*s%t,t,c,r,p,h,!1,u)}var Su=Ys;function ju(e,t,r,n){var a=[],o=e.image,s=o.pixelRatio,u=o.paddedRect.w-2*Su,c=o.paddedRect.h-2*Su,l=e.right-e.left,p=e.bottom-e.top,h=o.stretchX||[[0,u]],f=o.stretchY||[[0,c]],d=function(e,t){return e+t[1]-t[0]},m=h.reduce(d,0),g=f.reduce(d,0),v=u-m,y=c-g,b=0,_=m,x=0,w=g,O=0,k=v,E=0,T=y;if(o.content&&n){var S=o.content;b=Pu(h,0,S[0]),x=Pu(f,0,S[1]),_=Pu(h,S[0],S[2]),w=Pu(f,S[1],S[3]),O=S[0]-b,E=S[1]-x,k=S[2]-S[0]-_,T=S[3]-S[1]-w}var j=function(n,a,u,c){var h=Au(n.stretch-b,_,l,e.left),f=Mu(n.fixed-O,k,n.stretch,m),d=Au(a.stretch-x,w,p,e.top),v=Mu(a.fixed-E,T,a.stretch,g),y=Au(u.stretch-b,_,l,e.left),S=Mu(u.fixed-O,k,u.stretch,m),j=Au(c.stretch-x,w,p,e.top),P=Mu(c.fixed-E,T,c.stretch,g),C=new i(h,d),A=new i(y,d),M=new i(y,j),I=new i(h,j),R=new i(f/s,v/s),L=new i(S/s,P/s),z=t*Math.PI/180;if(z){var D=Math.sin(z),F=Math.cos(z),B=[F,-D,D,F];C._matMult(B),A._matMult(B),I._matMult(B),M._matMult(B)}var N=n.stretch+n.fixed,q=u.stretch+u.fixed,U=a.stretch+a.fixed,V=c.stretch+c.fixed;return{tl:C,tr:A,bl:I,br:M,tex:{x:o.paddedRect.x+Su+N,y:o.paddedRect.y+Su+U,w:q-N,h:V-U},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:R,pixelOffsetBR:L,minFontScaleX:k/s/l,minFontScaleY:T/s/p,isSDF:r}};if(n&&(o.stretchX||o.stretchY))for(var P=Cu(h,v,m),C=Cu(f,y,g),A=0;A<P.length-1;A++)for(var M=P[A],I=P[A+1],R=0;R<C.length-1;R++){var L=C[R],z=C[R+1];a.push(j(M,L,I,z))}else a.push(j({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:u+1},{fixed:0,stretch:c+1}));return a}function Pu(e,t,r){for(var n=0,i=0,a=e;i<a.length;i+=1){var o=a[i];n+=Math.max(t,Math.min(r,o[1]))-Math.max(t,Math.min(r,o[0]))}return n}function Cu(e,t,r){for(var n=[{fixed:-Su,stretch:0}],i=0,a=e;i<a.length;i+=1){var o=a[i],s=o[0],u=o[1],c=n[n.length-1];n.push({fixed:s-c.stretch,stretch:c.stretch}),n.push({fixed:s-c.stretch,stretch:c.stretch+(u-s)})}return n.push({fixed:t+Su,stretch:r}),n}function Au(e,t,r,n){return e/t*r+n}function Mu(e,t,r,n){return e-t*r/n}var Iu=function(e,t,r,n,a,o,s,u,c,l,p,h){var f=s.top*u-c,d=s.bottom*u+c,m=s.left*u-c,g=s.right*u+c,v=s.collisionPadding;if(v&&(m-=v[0]*u,f-=v[1]*u,g+=v[2]*u,d+=v[3]*u),this.boxStartIndex=e.length,l){var y=d-f,b=g-m;y>0&&(y=Math.max(10*u,y),this._addLineCollisionCircles(e,t,r,r.segment,b,y,n,a,o,p))}else{if(h){var _=new i(m,f),x=new i(g,f),w=new i(m,d),O=new i(g,d),k=h*Math.PI/180;_._rotate(k),x._rotate(k),w._rotate(k),O._rotate(k),m=Math.min(_.x,x.x,w.x,O.x),g=Math.max(_.x,x.x,w.x,O.x),f=Math.min(_.y,x.y,w.y,O.y),d=Math.max(_.y,x.y,w.y,O.y)}e.emplaceBack(r.x,r.y,m,f,g,d,n,a,o,0,0)}this.boxEndIndex=e.length};Iu.prototype._addLineCollisionCircles=function(e,t,r,n,i,a,o,s,u,c){var l=a/2,p=Math.floor(i/l)||1,h=1+.4*Math.log(c)/Math.LN2,f=Math.floor(p*h/2),d=-a/2,m=r,g=n+1,v=d,y=-i/2,b=y-i/4;do{if(--g<0){if(v>y)return;g=0;break}v-=t[g].dist(m),m=t[g]}while(v>b);for(var _=t[g].dist(t[g+1]),x=-f;x<p+f;x++){var w=x*l,O=y+w;if(w<0&&(O+=w),w>i&&(O+=w-i),!(O<v)){for(;v+_<O;){if(v+=_,++g+1>=t.length)return;_=t[g].dist(t[g+1])}var k=O-v,E=t[g],T=t[g+1].sub(E)._unit()._mult(k)._add(E)._round(),S=Math.abs(O-d)<l?0:.8*(O-d);e.emplaceBack(T.x,T.y,-a/2,-a/2,a/2,a/2,o,s,u,a/2,S)}}};var Ru=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=Lu),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)};function Lu(e,t){return e<t?-1:e>t?1:0}function zu(e,t,r){void 0===t&&(t=1),void 0===r&&(r=!1);for(var n=1/0,a=1/0,o=-1/0,s=-1/0,u=e[0],c=0;c<u.length;c++){var l=u[c];(!c||l.x<n)&&(n=l.x),(!c||l.y<a)&&(a=l.y),(!c||l.x>o)&&(o=l.x),(!c||l.y>s)&&(s=l.y)}var p=o-n,h=s-a,f=Math.min(p,h),d=f/2,m=new Ru([],Du);if(0===f)return new i(n,a);for(var g=n;g<o;g+=f)for(var v=a;v<s;v+=f)m.push(new Fu(g+d,v+d,d,e));for(var y=function(e){for(var t=0,r=0,n=0,i=e[0],a=0,o=i.length,s=o-1;a<o;s=a++){var u=i[a],c=i[s],l=u.x*c.y-c.x*u.y;r+=(u.x+c.x)*l,n+=(u.y+c.y)*l,t+=3*l}return new Fu(r/t,n/t,0,e)}(e),b=m.length;m.length;){var _=m.pop();(_.d>y.d||!y.d)&&(y=_,r&&console.log("found best %d after %d probes",Math.round(1e4*_.d)/1e4,b)),_.max-y.d<=t||(d=_.h/2,m.push(new Fu(_.p.x-d,_.p.y-d,d,e)),m.push(new Fu(_.p.x+d,_.p.y-d,d,e)),m.push(new Fu(_.p.x-d,_.p.y+d,d,e)),m.push(new Fu(_.p.x+d,_.p.y+d,d,e)),b+=4)}return r&&(console.log("num probes: "+b),console.log("best distance: "+y.d)),y.p}function Du(e,t){return t.max-e.max}function Fu(e,t,r,n){this.p=new i(e,t),this.h=r,this.d=function(e,t){for(var r=!1,n=1/0,i=0;i<t.length;i++)for(var a=t[i],o=0,s=a.length,u=s-1;o<s;u=o++){var c=a[o],l=a[u];c.y>e.y!=l.y>e.y&&e.x<(l.x-c.x)*(e.y-c.y)/(l.y-c.y)+c.x&&(r=!r),n=Math.min(n,ja(e,c,l))}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}Ru.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},Ru.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},Ru.prototype.peek=function(){return this.data[0]},Ru.prototype._up=function(e){for(var t=this.data,r=this.compare,n=t[e];e>0;){var i=e-1>>1,a=t[i];if(r(n,a)>=0)break;t[e]=a,e=i}t[e]=n},Ru.prototype._down=function(e){for(var t=this.data,r=this.compare,n=this.length>>1,i=t[e];e<n;){var a=1+(e<<1),o=t[a],s=a+1;if(s<this.length&&r(t[s],o)<0&&(a=s,o=t[s]),r(o,i)>=0)break;t[e]=o,e=a}t[e]=i};var Bu=t((function(e){e.exports=function(e,t){var r,n,i,a,o,s,u,c;for(r=3&e.length,n=e.length-r,i=t,o=3432918353,s=461845907,c=0;c<n;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,i=27492+(65535&(a=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(u=0,r){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(c)))*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),Nu=t((function(e){e.exports=function(e,t){for(var r,n=e.length,i=t^n,a=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++a;switch(n){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),qu=Bu,Uu=Bu,Vu=Nu;qu.murmur3=Uu,qu.murmur2=Vu;var Gu=7,Wu=Number.POSITIVE_INFINITY;function Hu(e,t){return t[1]!==Wu?function(e,t,r){var n=0,i=0;switch(t=Math.abs(t),r=Math.abs(r),e){case"top-right":case"top-left":case"top":i=r-Gu;break;case"bottom-right":case"bottom-left":case"bottom":i=-r+Gu}switch(e){case"top-right":case"bottom-right":case"right":n=-t;break;case"top-left":case"bottom-left":case"left":n=t}return[n,i]}(e,t[0],t[1]):function(e,t){var r=0,n=0;t<0&&(t=0);var i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":n=i-Gu;break;case"bottom-right":case"bottom-left":n=-i+Gu;break;case"bottom":n=-t+Gu;break;case"top":n=t-Gu}switch(e){case"top-right":case"bottom-right":r=-i;break;case"top-left":case"bottom-left":r=i;break;case"left":r=t;break;case"right":r=-t}return[r,n]}(e,t[0])}function Zu(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Xu=255,Ku=Xu*gu;function Yu(e,t,r,n,a,o,s,u,c,l,p,h,f,d){var m=function(e,t,r,n,a,o,s,u){for(var c=n.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,l=[],p=0,h=t.positionedLines;p<h.length;p+=1)for(var f=h[p],d=0,m=f.positionedGlyphs;d<m.length;d+=1){var g=m[d];if(g.rect){var v=g.rect||{},y=Xs+1,b=!0,_=1,x=0,w=(a||u)&&g.vertical,O=g.metrics.advance*g.scale/2;if(u&&t.verticalizable){var k=(g.scale-1)*Os,E=(Os-g.metrics.width*g.scale)/2;x=f.lineOffset/2-(g.imageName?-E:k)}if(g.imageName){var T=s[g.imageName];b=T.sdf,_=T.pixelRatio,y=Ys/_}var S=a?[g.x+O,g.y]:[0,0],j=a?[0,0]:[g.x+O+r[0],g.y+r[1]-x],P=[0,0];w&&(P=j,j=[0,0]);var C=(g.metrics.left-y)*g.scale-O+j[0],A=(-g.metrics.top-y)*g.scale+j[1],M=C+v.w*g.scale/_,I=A+v.h*g.scale/_,R=new i(C,A),L=new i(M,A),z=new i(C,I),D=new i(M,I);if(w){var F=new i(-O,O-tu),B=-Math.PI/2,N=Os/2-O,q=g.imageName?N:0,U=new i(5-tu-N,-q),V=new(Function.prototype.bind.apply(i,[null].concat(P)));R._rotateAround(B,F)._add(U)._add(V),L._rotateAround(B,F)._add(U)._add(V),z._rotateAround(B,F)._add(U)._add(V),D._rotateAround(B,F)._add(U)._add(V)}if(c){var G=Math.sin(c),W=Math.cos(c),H=[W,-G,G,W];R._matMult(H),L._matMult(H),z._matMult(H),D._matMult(H)}var Z=new i(0,0),X=new i(0,0);l.push({tl:R,tr:L,bl:z,br:D,tex:v,writingMode:t.writingMode,glyphOffset:S,sectionIndex:g.sectionIndex,isSDF:b,pixelOffsetTL:Z,pixelOffsetBR:X,minFontScaleX:0,minFontScaleY:0})}}return l}(0,r,u,a,o,s,n,e.allowVerticalPlacement),g=e.textSizeData,v=null;"source"===g.kind?(v=[gu*a.layout.get("text-size").evaluate(s,{})])[0]>Ku&&w(e.layerIds[0]+': Value for "text-size" is >= '+Xu+'. Reduce your "text-size".'):"composite"===g.kind&&((v=[gu*d.compositeTextSizes[0].evaluate(s,{}),gu*d.compositeTextSizes[1].evaluate(s,{})])[0]>Ku||v[1]>Ku)&&w(e.layerIds[0]+': Value for "text-size" is >= '+Xu+'. Reduce your "text-size".'),e.addSymbols(e.text,m,v,u,o,s,l,t,c.lineStartIndex,c.lineLength,f);for(var y=0,b=p;y<b.length;y+=1)h[b[y]]=e.text.placedSymbolArray.length-1;return 4*m.length}function $u(e){for(var t in e)return e[t];return null}function Ju(e,t,r,n){var i=e.compareText;if(t in i){for(var a=i[t],o=a.length-1;o>=0;o--)if(n.dist(a[o])<r)return!0}else i[t]=[];return i[t].push(n),!1}var Qu=Ko.VectorTileFeature.types,ec=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function tc(e,t,r,n,i,a,o,s,u,c,l,p,h){var f=s?Math.min(Ku,Math.round(s[0])):0,d=s?Math.min(Ku,Math.round(s[1])):0;e.emplaceBack(t,r,Math.round(32*n),Math.round(32*i),a,o,(f<<1)+(u?1:0),d,16*c,16*l,256*p,256*h)}function rc(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}function nc(e){for(var t=0,r=e.sections;t<r.length;t+=1)if(In(r[t].text))return!0;return!1}var ic=function(e){this.layoutVertexArray=new yi,this.indexArray=new Pi,this.programConfigurations=e,this.segments=new Zi,this.dynamicLayoutVertexArray=new bi,this.opacityVertexArray=new _i,this.placedSymbolArray=new Di};ic.prototype.upload=function(e,t,r,n){r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,gs.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,vs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,ec,!0),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(e)},ic.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},_n("SymbolBuffers",ic);var ac=function(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new Zi,this.collisionVertexArray=new Oi};ac.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,ys.members,!0)},ac.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},_n("CollisionBuffers",ac);var oc=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasPaintOverrides=!1,this.hasRTLText=!1;var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=vu(this.zoom,t["text-size"]),this.iconSizeData=vu(this.zoom,t["icon-size"]);var r=this.layers[0].layout,n=r.get("symbol-sort-key"),i=r.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==i&&void 0!==n.constantOr(1);var a="viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey;this.sortFeaturesByY=a&&(r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement")),"point"===r.get("symbol-placement")&&(this.writingModes=r.get("text-writing-mode").map((function(e){return eu[e]}))),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=e.sourceID};oc.prototype.createArrays=function(){var e=this.layers[0].layout;this.hasPaintOverrides=lc.hasPaintOverrides(e),this.text=new ic(new fa(gs.members,this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new ic(new fa(gs.members,this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.textCollisionBox=new ac(wi,bs.members,Ci),this.iconCollisionBox=new ac(wi,bs.members,Ci),this.textCollisionCircle=new ac(wi,_s.members,Pi),this.iconCollisionCircle=new ac(wi,_s.members,Pi),this.glyphOffsetArray=new qi,this.lineVertexArray=new Vi,this.symbolInstances=new Bi},oc.prototype.calculateGlyphDependencies=function(e,t,r,n,i){for(var a=0;a<e.length;a++)if(t[e.charCodeAt(a)]=!0,(r||n)&&i){var o=ws[e.charAt(a)];o&&(t[o.charCodeAt(0)]=!0)}},oc.prototype.populate=function(e,t){var r=this.layers[0],n=r.layout,i=n.get("text-font"),a=n.get("text-field"),o=n.get("icon-image"),s=("constant"!==a.value.kind||a.value.value instanceof Qe&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==i.value.kind||i.value.value.length>0),u=("constant"!==o.value.kind||!!o.value.value)&&Object.keys(o.parameters).length>0,c=n.get("symbol-sort-key");if(this.features=[],s||u){for(var l=t.iconDependencies,p=t.glyphDependencies,h=t.availableImages,f=new Hn(this.zoom),d=0,m=e;d<m.length;d+=1){var g=m[d],v=g.feature,y=g.index,b=g.sourceLayerIndex;if(r._featureFilter(f,v)){var _=void 0;if(s){var x=r.getValueAndResolveTokens("text-field",v,h),w=Qe.factory(x);nc(w)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Vn()||this.hasRTLText&&Wn.isParsed())&&(_=xs(w,r,v))}var O=void 0;if(u){var k=r.getValueAndResolveTokens("icon-image",v,h);O=k instanceof et?k:et.fromString(k)}if(_||O){var E=this.sortFeaturesByKey?c.evaluate(v,{}):void 0,T={text:_,icon:O,index:y,sourceLayerIndex:b,geometry:ya(v),properties:v.properties,type:Qu[v.type],sortKey:E};if(void 0!==v.id&&(T.id=v.id),this.features.push(T),O&&(l[O.name]=!0),_){var S=i.evaluate(v,{}).join(","),j="map"===n.get("text-rotation-alignment")&&"point"!==n.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(eu.vertical)>=0;for(var P=0,C=_.sections;P<C.length;P+=1){var A=C[P];if(A.image)l[A.image.name]=!0;else{var M=Sn(_.toString()),I=A.fontStack||S,R=p[I]=p[I]||{};this.calculateGlyphDependencies(A.text,R,j,this.allowVerticalPlacement,M)}}}}}}"line"===n.get("symbol-placement")&&(this.features=function(e){var t={},r={},n=[],i=0;function a(t){n.push(e[t]),i++}function o(e,t,i){var a=r[e];return delete r[e],r[t]=a,n[a].geometry[0].pop(),n[a].geometry[0]=n[a].geometry[0].concat(i[0]),a}function s(e,r,i){var a=t[r];return delete t[r],t[e]=a,n[a].geometry[0].shift(),n[a].geometry[0]=i[0].concat(n[a].geometry[0]),a}function u(e,t,r){var n=r?t[0][t[0].length-1]:t[0][0];return e+":"+n.x+":"+n.y}for(var c=0;c<e.length;c++){var l=e[c],p=l.geometry,h=l.text?l.text.toString():null;if(h){var f=u(h,p),d=u(h,p,!0);if(f in r&&d in t&&r[f]!==t[d]){var m=s(f,d,p),g=o(f,d,n[m].geometry);delete t[f],delete r[d],r[u(h,n[g].geometry,!0)]=g,n[m].geometry=null}else f in r?o(f,d,p):d in t?s(f,d,p):(a(c),t[f]=i-1,r[d]=i-1)}else a(c)}return n.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}},oc.prototype.update=function(e,t,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r))},oc.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},oc.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},oc.prototype.upload=function(e){this.uploaded||(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e),this.textCollisionCircle.upload(e),this.iconCollisionCircle.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},oc.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.textCollisionBox.destroy(),this.iconCollisionBox.destroy(),this.textCollisionCircle.destroy(),this.iconCollisionCircle.destroy()},oc.prototype.addToLineVertexArray=function(e,t){var r=this.lineVertexArray.length;if(void 0!==e.segment){for(var n=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),a={},o=e.segment+1;o<t.length;o++)a[o]={x:t[o].x,y:t[o].y,tileUnitDistanceFromAnchor:n},o<t.length-1&&(n+=t[o+1].dist(t[o]));for(var s=e.segment||0;s>=0;s--)a[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var u=0;u<t.length;u++){var c=a[u];this.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},oc.prototype.addSymbols=function(e,t,r,n,i,a,o,s,u,c,l){var p=this,h=e.indexArray,f=e.layoutVertexArray,d=e.dynamicLayoutVertexArray,m=e.segments.prepareSegment(4*t.length,e.layoutVertexArray,e.indexArray,a.sortKey),g=this.glyphOffsetArray.length,v=m.vertexLength,y=this.allowVerticalPlacement&&o===eu.vertical?Math.PI/2:0,b=function(e){var t=e.tl,n=e.tr,i=e.bl,a=e.br,o=e.tex,u=e.pixelOffsetTL,c=e.pixelOffsetBR,l=e.minFontScaleX,g=e.minFontScaleY,v=m.vertexLength,b=e.glyphOffset[1];tc(f,s.x,s.y,t.x,b+t.y,o.x,o.y,r,e.isSDF,u.x,u.y,l,g),tc(f,s.x,s.y,n.x,b+n.y,o.x+o.w,o.y,r,e.isSDF,c.x,u.y,l,g),tc(f,s.x,s.y,i.x,b+i.y,o.x,o.y+o.h,r,e.isSDF,u.x,c.y,l,g),tc(f,s.x,s.y,a.x,b+a.y,o.x+o.w,o.y+o.h,r,e.isSDF,c.x,c.y,l,g),rc(d,s,y),h.emplaceBack(v,v+1,v+2),h.emplaceBack(v+1,v+2,v+3),m.vertexLength+=4,m.primitiveLength+=2,p.glyphOffsetArray.emplaceBack(e.glyphOffset[0])};if(a.text&&a.text.sections){var _=a.text.sections;if(this.hasPaintOverrides){for(var x,w=function(t,r){void 0===x||x===t&&!r||e.programConfigurations.populatePaintArrays(e.layoutVertexArray.length,a,a.index,{},_[x]),x=t},O=0,k=t;O<k.length;O+=1){var E=k[O];w(E.sectionIndex,!1),b(E)}w(x,!0)}else{for(var T=0,S=t;T<S.length;T+=1)b(S[T]);e.programConfigurations.populatePaintArrays(e.layoutVertexArray.length,a,a.index,{},_[0])}}else{for(var j=0,P=t;j<P.length;j+=1)b(P[j]);e.programConfigurations.populatePaintArrays(e.layoutVertexArray.length,a,a.index,{})}e.placedSymbolArray.emplaceBack(s.x,s.y,g,this.glyphOffsetArray.length-g,v,u,c,s.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],o,0,!1,0,l)},oc.prototype._addCollisionDebugVertex=function(e,t,r,n,i,a){return t.emplaceBack(0,0),e.emplaceBack(r.x,r.y,n,i,Math.round(a.x),Math.round(a.y))},oc.prototype.addCollisionDebugVertices=function(e,t,r,n,a,o,s,u){var c=a.segments.prepareSegment(4,a.layoutVertexArray,a.indexArray),l=c.vertexLength,p=a.layoutVertexArray,h=a.collisionVertexArray,f=s.anchorX,d=s.anchorY;if(this._addCollisionDebugVertex(p,h,o,f,d,new i(e,t)),this._addCollisionDebugVertex(p,h,o,f,d,new i(r,t)),this._addCollisionDebugVertex(p,h,o,f,d,new i(r,n)),this._addCollisionDebugVertex(p,h,o,f,d,new i(e,n)),c.vertexLength+=4,u){var m=a.indexArray;m.emplaceBack(l,l+1,l+2),m.emplaceBack(l,l+2,l+3),c.primitiveLength+=2}else{var g=a.indexArray;g.emplaceBack(l,l+1),g.emplaceBack(l+1,l+2),g.emplaceBack(l+2,l+3),g.emplaceBack(l+3,l),c.primitiveLength+=4}},oc.prototype.addDebugCollisionBoxes=function(e,t,r,n){for(var i=e;i<t;i++){var a=this.collisionBoxArray.get(i),o=a.x1,s=a.y1,u=a.x2,c=a.y2,l=a.radius>0;this.addCollisionDebugVertices(o,s,u,c,l?n?this.textCollisionCircle:this.iconCollisionCircle:n?this.textCollisionBox:this.iconCollisionBox,a.anchorPoint,r,l)}},oc.prototype.generateCollisionDebugBuffers=function(){for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},oc.prototype._deserializeCollisionBoxesForSymbol=function(e,t,r,n,i,a,o,s,u){for(var c={},l=t;l<r;l++){var p=e.get(l);if(0===p.radius){c.textBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},c.textFeatureIndex=p.featureIndex;break}c.textCircles||(c.textCircles=[],c.textFeatureIndex=p.featureIndex),c.textCircles.push(p.anchorPointX,p.anchorPointY,p.radius,p.signedDistanceFromAnchor,1)}for(var h=n;h<i;h++){var f=e.get(h);if(0===f.radius){c.verticalTextBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},c.verticalTextFeatureIndex=f.featureIndex;break}}for(var d=a;d<o;d++){var m=e.get(d);if(0===m.radius){c.iconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,anchorPointX:m.anchorPointX,anchorPointY:m.anchorPointY},c.iconFeatureIndex=m.featureIndex;break}}for(var g=s;g<u;g++){var v=e.get(g);if(0===v.radius){c.verticalIconBox={x1:v.x1,y1:v.y1,x2:v.x2,y2:v.y2,anchorPointX:v.anchorPointX,anchorPointY:v.anchorPointY},c.verticalIconFeatureIndex=v.featureIndex;break}}return c},oc.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var r=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex))}},oc.prototype.hasTextData=function(){return this.text.segments.get().length>0},oc.prototype.hasIconData=function(){return this.icon.segments.get().length>0},oc.prototype.hasTextCollisionBoxData=function(){return this.textCollisionBox.segments.get().length>0},oc.prototype.hasIconCollisionBoxData=function(){return this.iconCollisionBox.segments.get().length>0},oc.prototype.hasTextCollisionCircleData=function(){return this.textCollisionCircle.segments.get().length>0},oc.prototype.hasIconCollisionCircleData=function(){return this.iconCollisionCircle.segments.get().length>0},oc.prototype.addIndicesForPlacedSymbol=function(e,t){for(var r=e.placedSymbolArray.get(t),n=r.vertexStartIndex+4*r.numGlyphs,i=r.vertexStartIndex;i<n;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)},oc.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),r=Math.cos(e),n=[],i=[],a=[],o=0;o<this.symbolInstances.length;++o){a.push(o);var s=this.symbolInstances.get(o);n.push(0|Math.round(t*s.anchorX+r*s.anchorY)),i.push(s.featureIndex)}return a.sort((function(e,t){return n[e]-n[t]||i[t]-i[e]})),a},oc.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var r=0,n=this.symbolInstanceIndexes;r<n.length;r+=1){var i=n[r],a=this.symbolInstances.get(i);this.featureSortOrder.push(a.featureIndex),[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach((function(e,r,n){e>=0&&n.indexOf(e)===r&&t.addIndicesForPlacedSymbol(t.text,e)})),a.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,a.verticalPlacedTextSymbolIndex),a.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,a.placedIconSymbolIndex),a.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,a.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},_n("SymbolBucket",oc,{omit:["layers","collisionBoxArray","features","compareText"]}),oc.MAX_GLYPHS=65535,oc.addDynamicAttributes=rc;var sc=new oi({"symbol-placement":new ti(Se.layout_symbol["symbol-placement"]),"symbol-spacing":new ti(Se.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ti(Se.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ri(Se.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ti(Se.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ti(Se.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ti(Se.layout_symbol["icon-ignore-placement"]),"icon-optional":new ti(Se.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ti(Se.layout_symbol["icon-rotation-alignment"]),"icon-size":new ri(Se.layout_symbol["icon-size"]),"icon-text-fit":new ti(Se.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ti(Se.layout_symbol["icon-text-fit-padding"]),"icon-image":new ri(Se.layout_symbol["icon-image"]),"icon-rotate":new ri(Se.layout_symbol["icon-rotate"]),"icon-padding":new ti(Se.layout_symbol["icon-padding"]),"icon-keep-upright":new ti(Se.layout_symbol["icon-keep-upright"]),"icon-offset":new ri(Se.layout_symbol["icon-offset"]),"icon-anchor":new ri(Se.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ti(Se.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ti(Se.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ti(Se.layout_symbol["text-rotation-alignment"]),"text-field":new ri(Se.layout_symbol["text-field"]),"text-font":new ri(Se.layout_symbol["text-font"]),"text-size":new ri(Se.layout_symbol["text-size"]),"text-max-width":new ri(Se.layout_symbol["text-max-width"]),"text-line-height":new ti(Se.layout_symbol["text-line-height"]),"text-letter-spacing":new ri(Se.layout_symbol["text-letter-spacing"]),"text-justify":new ri(Se.layout_symbol["text-justify"]),"text-radial-offset":new ri(Se.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ti(Se.layout_symbol["text-variable-anchor"]),"text-anchor":new ri(Se.layout_symbol["text-anchor"]),"text-max-angle":new ti(Se.layout_symbol["text-max-angle"]),"text-writing-mode":new ti(Se.layout_symbol["text-writing-mode"]),"text-rotate":new ri(Se.layout_symbol["text-rotate"]),"text-padding":new ti(Se.layout_symbol["text-padding"]),"text-keep-upright":new ti(Se.layout_symbol["text-keep-upright"]),"text-transform":new ri(Se.layout_symbol["text-transform"]),"text-offset":new ri(Se.layout_symbol["text-offset"]),"text-allow-overlap":new ti(Se.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ti(Se.layout_symbol["text-ignore-placement"]),"text-optional":new ti(Se.layout_symbol["text-optional"])}),uc={paint:new oi({"icon-opacity":new ri(Se.paint_symbol["icon-opacity"]),"icon-color":new ri(Se.paint_symbol["icon-color"]),"icon-halo-color":new ri(Se.paint_symbol["icon-halo-color"]),"icon-halo-width":new ri(Se.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ri(Se.paint_symbol["icon-halo-blur"]),"icon-translate":new ti(Se.paint_symbol["icon-translate"]),"icon-translate-anchor":new ti(Se.paint_symbol["icon-translate-anchor"]),"text-opacity":new ri(Se.paint_symbol["text-opacity"]),"text-color":new ri(Se.paint_symbol["text-color"],{runtimeType:Be,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new ri(Se.paint_symbol["text-halo-color"]),"text-halo-width":new ri(Se.paint_symbol["text-halo-width"]),"text-halo-blur":new ri(Se.paint_symbol["text-halo-blur"]),"text-translate":new ti(Se.paint_symbol["text-translate"]),"text-translate-anchor":new ti(Se.paint_symbol["text-translate-anchor"])}),layout:sc},cc=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Le,this.defaultValue=e};cc.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default},cc.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},cc.prototype.possibleOutputs=function(){return[void 0]},cc.prototype.serialize=function(){return null},_n("FormatSectionOverride",cc,{omit:["defaultValue"]});var lc=function(e){function t(t){e.call(this,t,uc)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t,r){if(e.prototype.recalculate.call(this,t,r),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var n=this.layout.get("text-writing-mode");if(n){for(var i=[],a=0,o=n;a<o.length;a+=1){var s=o[a];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(e,t,r){var n=this.layout.get(e).evaluate(t,{},r),i=this._unevaluatedLayout._values[e];return i.isDataDriven()||jr(i.value)||!n?n:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,r){return r in e?String(e[r]):""}))}(t.properties,n)},t.prototype.createBucket=function(e){return new oc(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var e=0,r=uc.paint.overridableProperties;e<r.length;e+=1){var n=r[e];if(t.hasPaintOverride(this.layout,n)){var i,a=this.paint.get(n),o=new cc(a),s=new Sr(o,a.property.specification);i="constant"===a.value.kind||"source"===a.value.kind?new Cr("source",s):new Ar("composite",s,a.value.zoomStops,a.value._interpolationType),this.paint._values[n]=new Qn(a.property,i,a.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(e,r,n){return!(!this.layout||r.isDataDriven()||n.isDataDriven())&&t.hasPaintOverride(this.layout,e)},t.hasPaintOverride=function(e,t){var r=e.get("text-field"),n=uc.paint.properties[t],i=!1,a=function(e){for(var t=0,r=e;t<r.length;t+=1){var a=r[t];if(n.overrides&&n.overrides.hasOverride(a))return void(i=!0)}};if("constant"===r.value.kind&&r.value.value instanceof Qe)a(r.value.value.sections);else if("source"===r.value.kind){var o=r.value;o._styleExpression&&function e(t){if(!i)if(t instanceof it&&rt(t.value)===Ve){var r=t.value;a(r.sections)}else t instanceof ut?a(t.sections):t.eachChild(e)}(o._styleExpression.expression)}return i},t.hasPaintOverrides=function(e){for(var r=0,n=uc.paint.overridableProperties;r<n.length;r+=1){var i=n[r];if(t.hasPaintOverride(e,i))return!0}return!1},t}(si),pc={paint:new oi({"background-color":new ti(Se.paint_background["background-color"]),"background-pattern":new ii(Se.paint_background["background-pattern"]),"background-opacity":new ti(Se.paint_background["background-opacity"])})},hc=function(e){function t(t){e.call(this,t,pc)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(si),fc={paint:new oi({"raster-opacity":new ti(Se.paint_raster["raster-opacity"]),"raster-hue-rotate":new ti(Se.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ti(Se.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ti(Se.paint_raster["raster-brightness-max"]),"raster-saturation":new ti(Se.paint_raster["raster-saturation"]),"raster-contrast":new ti(Se.paint_raster["raster-contrast"]),"raster-resampling":new ti(Se.paint_raster["raster-resampling"]),"raster-fade-duration":new ti(Se.paint_raster["raster-fade-duration"])})},dc=function(e){function t(t){e.call(this,t,fc)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(si),mc=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},t}(si),gc={circle:Na,heatmap:Ya,hillshade:Ja,fill:Bo,"fill-extrusion":ns,line:ds,symbol:lc,background:hc,raster:dc},vc=self.HTMLImageElement,yc=self.HTMLCanvasElement,bc=self.HTMLVideoElement,_c=self.ImageData,xc=function(e,t,r,n){this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(t,n)};xc.prototype.update=function(e,t,r){var n=e.width,i=e.height,a=!(this.size&&this.size[0]===n&&this.size[1]===i||r),o=this.context,s=o.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),a)this.size=[n,i],e instanceof vc||e instanceof yc||e instanceof bc||e instanceof _c?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,n,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{var u=r||{x:0,y:0},c=u.x,l=u.y;e instanceof vc||e instanceof yc||e instanceof bc||e instanceof _c?s.texSubImage2D(s.TEXTURE_2D,0,c,l,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,c,l,n,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},xc.prototype.bind=function(e,t,r){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),r!==n.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=n.LINEAR),e!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r||e),this.filter=e),t!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t),this.wrap=t)},xc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},xc.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var wc=function(e){var t=this;this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};wc.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))},wc.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Oc=function(e,t,r){this.target=e,this.parent=t,this.mapId=r,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},g(["receive","process"],this),this.invoker=new wc(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=E()?e:self};function kc(e,t,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}Oc.prototype.send=function(e,t,r,n,i){var a=this;void 0===i&&(i=!1);var o=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(this.callbacks[o]=r);var s=j(this.globalScope)?void 0:[];return this.target.postMessage({id:o,type:e,hasCallback:!!r,targetMapId:n,mustQueue:i,sourceMapId:this.mapId,data:On(t,s)},s),{cancel:function(){r&&delete a.callbacks[o],a.target.postMessage({id:o,type:"<cancel>",targetMapId:n,sourceMapId:a.mapId})}}},Oc.prototype.receive=function(e){var t=e.data,r=t.id;if(r&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[r];var n=this.cancelCallbacks[r];delete this.cancelCallbacks[r],n&&n()}else E()||t.mustQueue?(this.tasks[r]=t,this.taskQueue.push(r),this.invoker.trigger()):this.processTask(r,t)},Oc.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},Oc.prototype.processTask=function(e,t){var r=this;if("<response>"===t.type){var n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(kn(t.error)):n(null,kn(t.data)))}else{var i=!1,a=j(this.globalScope)?void 0:[],o=t.hasCallback?function(t,n){i=!0,delete r.cancelCallbacks[e],r.target.postMessage({id:e,type:"<response>",sourceMapId:r.mapId,error:t?On(t):null,data:On(n,a)},a)}:function(e){i=!0},s=null,u=kn(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,u,o);else if(this.parent.getWorkerSource){var c=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,c[0],u.source)[c[1]](u,o)}else o(new Error("Could not find function "+t.type));!i&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}},Oc.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Ec=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};Ec.prototype.setNorthEast=function(e){return this._ne=e instanceof Tc?new Tc(e.lng,e.lat):Tc.convert(e),this},Ec.prototype.setSouthWest=function(e){return this._sw=e instanceof Tc?new Tc(e.lng,e.lat):Tc.convert(e),this},Ec.prototype.extend=function(e){var t,r,n=this._sw,i=this._ne;if(e instanceof Tc)t=e,r=e;else{if(!(e instanceof Ec))return Array.isArray(e)?e.every(Array.isArray)?this.extend(Ec.convert(e)):this.extend(Tc.convert(e)):this;if(t=e._sw,r=e._ne,!t||!r)return this}return n||i?(n.lng=Math.min(t.lng,n.lng),n.lat=Math.min(t.lat,n.lat),i.lng=Math.max(r.lng,i.lng),i.lat=Math.max(r.lat,i.lat)):(this._sw=new Tc(t.lng,t.lat),this._ne=new Tc(r.lng,r.lat)),this},Ec.prototype.getCenter=function(){return new Tc((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Ec.prototype.getSouthWest=function(){return this._sw},Ec.prototype.getNorthEast=function(){return this._ne},Ec.prototype.getNorthWest=function(){return new Tc(this.getWest(),this.getNorth())},Ec.prototype.getSouthEast=function(){return new Tc(this.getEast(),this.getSouth())},Ec.prototype.getWest=function(){return this._sw.lng},Ec.prototype.getSouth=function(){return this._sw.lat},Ec.prototype.getEast=function(){return this._ne.lng},Ec.prototype.getNorth=function(){return this._ne.lat},Ec.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Ec.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Ec.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Ec.prototype.contains=function(e){var t=Tc.convert(e),r=t.lng,n=t.lat,i=this._sw.lat<=n&&n<=this._ne.lat,a=this._sw.lng<=r&&r<=this._ne.lng;return this._sw.lng>this._ne.lng&&(a=this._sw.lng>=r&&r>=this._ne.lng),i&&a},Ec.convert=function(e){return!e||e instanceof Ec?e:new Ec(e)};var Tc=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Tc.prototype.wrap=function(){return new Tc(l(this.lng,-180,180),this.lat)},Tc.prototype.toArray=function(){return[this.lng,this.lat]},Tc.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Tc.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return new Ec(new Tc(this.lng-r,this.lat-t),new Tc(this.lng+r,this.lat+t))},Tc.convert=function(e){if(e instanceof Tc)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Tc(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Tc(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Sc=2*Math.PI*6378137;function jc(e){return Sc*Math.cos(e*Math.PI/180)}function Pc(e){return(180+e)/360}function Cc(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Ac(e,t){return e/jc(t)}function Mc(e){var t=180-360*e;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90}var Ic=function(e,t,r){void 0===r&&(r=0),this.x=+e,this.y=+t,this.z=+r};Ic.fromLngLat=function(e,t){void 0===t&&(t=0);var r=Tc.convert(e);return new Ic(Pc(r.lng),Cc(r.lat),Ac(t,r.lat))},Ic.prototype.toLngLat=function(){return new Tc(360*this.x-180,Mc(this.y))},Ic.prototype.toAltitude=function(){return this.z*jc(Mc(this.y))},Ic.prototype.meterInMercatorCoordinateUnits=function(){return 1/Sc*(e=Mc(this.y),1/Math.cos(e*Math.PI/180));var e};var Rc=function(e,t,r){this.z=e,this.x=t,this.y=r,this.key=Dc(0,e,t,r)};Rc.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},Rc.prototype.url=function(e,t){var r,n,i,a,o,s=(r=this.x,n=this.y,i=this.z,a=kc(256*r,256*(n=Math.pow(2,i)-n-1),i),o=kc(256*(r+1),256*(n+1),i),a[0]+","+a[1]+","+o[0]+","+o[1]),u=function(e,t,r){for(var n,i="",a=e;a>0;a--)i+=(t&(n=1<<a-1)?1:0)+(r&n?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)},Rc.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new i((e.x*t-this.x)*ga,(e.y*t-this.y)*ga)},Rc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Lc=function(e,t){this.wrap=e,this.canonical=t,this.key=Dc(e,t.z,t.x,t.y)},zc=function(e,t,r,n,i){this.overscaledZ=e,this.wrap=t,this.canonical=new Rc(r,+n,+i),this.key=Dc(t,e,n,i)};function Dc(e,t,r,n){(e*=2)<0&&(e=-1*e-1);var i=1<<t;return 32*(i*i*e+i*n+r)+t}zc.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},zc.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new zc(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new zc(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},zc.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},zc.prototype.children=function(e){if(this.overscaledZ>=e)return[new zc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return[new zc(t,this.wrap,t,r,n),new zc(t,this.wrap,t,r+1,n),new zc(t,this.wrap,t,r,n+1),new zc(t,this.wrap,t,r+1,n+1)]},zc.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},zc.prototype.wrapped=function(){return new zc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},zc.prototype.unwrapTo=function(e){return new zc(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},zc.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},zc.prototype.toUnwrapped=function(){return new Lc(this.wrap,this.canonical)},zc.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},zc.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new Ic(e.x-this.wrap,e.y))},_n("CanonicalTileID",Rc),_n("OverscaledTileID",zc,{omit:["posMatrix"]});var Fc=function(e,t,r){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return w('"'+r+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=t.height;var n=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=r||"mapbox";for(var i=0;i<n;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(n,i)]=this.data[this._idx(n-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,n)]=this.data[this._idx(i,n-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(n,-1)]=this.data[this._idx(n-1,0)],this.data[this._idx(-1,n)]=this.data[this._idx(0,n-1)],this.data[this._idx(n,n)]=this.data[this._idx(n-1,n-1)]};Fc.prototype.get=function(e,t){var r=new Uint8Array(this.data.buffer),n=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(r[n],r[n+1],r[n+2])},Fc.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Fc.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},Fc.prototype._unpackMapbox=function(e,t,r){return(256*e*256+256*t+r)/10-1e4},Fc.prototype._unpackTerrarium=function(e,t,r){return 256*e+t+r/256-32768},Fc.prototype.getPixels=function(){return new Za({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Fc.prototype.backfillBorder=function(e,t,r){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var n=t*this.dim,i=t*this.dim+this.dim,a=r*this.dim,o=r*this.dim+this.dim;switch(t){case-1:n=i-1;break;case 1:i=n+1}switch(r){case-1:a=o-1;break;case 1:o=a+1}for(var s=-t*this.dim,u=-r*this.dim,c=a;c<o;c++)for(var l=n;l<i;l++)this.data[this._idx(l,c)]=e.data[this._idx(l+s,c+u)]},_n("DEMData",Fc);var Bc=pi([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Nc=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var r=e[t];this._stringToNumber[r]=t,this._numberToString[t]=r}};Nc.prototype.encode=function(e){return this._stringToNumber[e]},Nc.prototype.decode=function(e){return this._numberToString[e]};var qc=function(e,t,r,n){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=r,e._y=n,this.properties=e.properties,null!=e.id&&(this.id=e.id)},Uc={geometry:{configurable:!0}};Uc.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Uc.geometry.set=function(e){this._geometry=e},qc.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(qc.prototype,Uc);var Vc=function(){this.state={},this.stateChanges={},this.deletedStates={}};Vc.prototype.updateState=function(e,t,r){var n=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][n]=this.stateChanges[e][n]||{},p(this.stateChanges[e][n],r),null===this.deletedStates[e])for(var i in this.deletedStates[e]={},this.state[e])i!==n&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][n])for(var a in this.deletedStates[e][n]={},this.state[e][n])r[a]||(this.deletedStates[e][n][a]=null);else for(var o in r)this.deletedStates[e]&&this.deletedStates[e][n]&&null===this.deletedStates[e][n][o]&&delete this.deletedStates[e][n][o]},Vc.prototype.removeFeatureState=function(e,t,r){if(null!==this.deletedStates[e]){var n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},r&&void 0!==t&&t>=0)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][r]=null);else if(void 0!==t&&t>=0)if(this.stateChanges[e]&&this.stateChanges[e][n])for(r in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][r]=null;else this.deletedStates[e][n]=null;else this.deletedStates[e]=null}},Vc.prototype.getState=function(e,t){var r=String(t),n=this.state[e]||{},i=this.stateChanges[e]||{},a=p({},n[r],i[r]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var o=this.deletedStates[e][t];if(null===o)return{};for(var s in o)delete a[s]}return a},Vc.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},Vc.prototype.coalesceChanges=function(e,t){var r={};for(var n in this.stateChanges){this.state[n]=this.state[n]||{};var i={};for(var a in this.stateChanges[n])this.state[n][a]||(this.state[n][a]={}),p(this.state[n][a],this.stateChanges[n][a]),i[a]=this.state[n][a];r[n]=i}for(var o in this.deletedStates){this.state[o]=this.state[o]||{};var s={};if(null===this.deletedStates[o])for(var u in this.state[o])s[u]={},this.state[o][u]={};else for(var c in this.deletedStates[o]){if(null===this.deletedStates[o][c])this.state[o][c]={};else for(var l=0,h=Object.keys(this.deletedStates[o][c]);l<h.length;l+=1){var f=h[l];delete this.state[o][c][f]}s[c]=this.state[o][c]}r[o]=r[o]||{},p(r[o],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(var d in e)e[d].setFeatureState(r,t)};var Gc=function(e,t,r){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=t||new mn(ga,16,0),this.grid3D=new mn(ga,16,0),this.featureIndexArray=r||new Wi};function Wc(e){for(var t=1/0,r=1/0,n=-1/0,i=-1/0,a=0,o=e;a<o.length;a+=1){var s=o[a];t=Math.min(t,s.x),r=Math.min(r,s.y),n=Math.max(n,s.x),i=Math.max(i,s.y)}return{minX:t,minY:r,maxX:n,maxY:i}}function Hc(e,t){return t-e}Gc.prototype.insert=function(e,t,r,n,i,a){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,i);for(var s=a?this.grid3D:this.grid,u=0;u<t.length;u++){for(var c=t[u],l=[1/0,1/0,-1/0,-1/0],p=0;p<c.length;p++){var h=c[p];l[0]=Math.min(l[0],h.x),l[1]=Math.min(l[1],h.y),l[2]=Math.max(l[2],h.x),l[3]=Math.max(l[3],h.y)}l[0]<ga&&l[1]<ga&&l[2]>=0&&l[3]>=0&&s.insert(o,l[0],l[1],l[2],l[3])}},Gc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Ko.VectorTile(new Ts(this.rawTileData)).layers,this.sourceLayerCoder=new Nc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Gc.prototype.query=function(e,t,r){var n=this;this.loadVTLayers();for(var a=e.params||{},o=ga/e.tileSize/e.scale,s=Ur(a.filter),u=e.queryGeometry,c=e.queryPadding*o,l=Wc(u),p=this.grid.query(l.minX-c,l.minY-c,l.maxX+c,l.maxY+c),h=Wc(e.cameraQueryGeometry),f=0,d=this.grid3D.query(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c,(function(t,r,n,a){return function(e,t,r,n,a){for(var o=0,s=e;o<s.length;o+=1){var u=s[o];if(t<=u.x&&r<=u.y&&n>=u.x&&a>=u.y)return!0}var c=[new i(t,r),new i(t,a),new i(n,a),new i(n,r)];if(e.length>2)for(var l=0,p=c;l<p.length;l+=1)if(Ca(e,p[l]))return!0;for(var h=0;h<e.length-1;h++)if(Aa(e[h],e[h+1],c))return!0;return!1}(e.cameraQueryGeometry,t-c,r-c,n+c,a+c)}));f<d.length;f+=1){var m=d[f];p.push(m)}p.sort(Hc);for(var g,v={},y=function(i){var c=p[i];if(c!==g){g=c;var l=n.featureIndexArray.get(c),h=null;n.loadMatchingFeature(v,l.bucketIndex,l.sourceLayerIndex,l.featureIndex,s,a.layers,t,(function(t,i){h||(h=ya(t));var a={};return t.id&&(a=r.getState(i.sourceLayer||"_geojsonTileLayer",t.id)),i.queryIntersectsFeature(u,t,a,h,n.z,e.transform,o,e.pixelPosMatrix)}))}},b=0;b<p.length;b++)y(b);return v},Gc.prototype.loadMatchingFeature=function(e,t,r,n,i,a,o,s){var u=this.bucketLayerIDs[t];if(!a||function(e,t){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!0;return!1}(a,u)){var c=this.sourceLayerCoder.decode(r),l=this.vtLayers[c].feature(n);if(i(new Hn(this.tileID.overscaledZ),l))for(var p=0;p<u.length;p++){var h=u[p];if(!(a&&a.indexOf(h)<0)){var f=o[h];if(f){var d=!s||s(l,f);if(d){var m=new qc(l,this.z,this.x,this.y);m.layer=f.serialize();var g=e[h];void 0===g&&(g=e[h]=[]),g.push({featureIndex:n,feature:m,intersectionZ:d})}}}}}},Gc.prototype.lookupSymbolFeatures=function(e,t,r,n,i,a){var o={};this.loadVTLayers();for(var s=Ur(n),u=0,c=e;u<c.length;u+=1){var l=c[u];this.loadMatchingFeature(o,t,r,l,s,i,a)}return o},Gc.prototype.hasLayer=function(e){for(var t=0,r=this.bucketLayerIDs;t<r.length;t+=1)for(var n=0,i=r[t];n<i.length;n+=1)if(e===i[n])return!0;return!1},_n("FeatureIndex",Gc,{omit:["rawTileData","sourceLayerCoder"]});var Zc=function(e,t){this.tileID=e,this.uid=f(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Zc.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<D.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},Zc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Zc.prototype.loadVectorData=function(e,t,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var n in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var r={};if(!t)return r;for(var n=function(){var e=a[i],n=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==n.length){e.layers=n,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return n.filter((function(t){return t.id===e}))[0]})));for(var o=0,s=n;o<s.length;o+=1){var u=s[o];r[u.id]=e}}},i=0,a=e;i<a.length;i+=1)n();return r}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[n];if(i instanceof oc){if(this.hasSymbolBuckets=!0,!r)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var a in this.buckets){var o=this.buckets[a];if(o instanceof oc&&o.hasRTLText){this.hasRTLText=!0,Wn.isLoading()||Wn.isLoaded()||"deferred"!==Vn()||Gn();break}}for(var s in this.queryPadding=0,this.buckets){var u=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(u))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new Li},Zc.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Zc.prototype.getBucket=function(e){return this.buckets[e.id]},Zc.prototype.upload=function(e){for(var t in this.buckets){var r=this.buckets[t];r.uploadPending()&&r.upload(e)}var n=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new xc(e,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new xc(e,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)},Zc.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},Zc.prototype.queryRenderedFeatures=function(e,t,r,n,i,a,o,s,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:n,scale:i,tileSize:this.tileSize,pixelPosMatrix:u,transform:o,params:a,queryPadding:this.queryPadding*s},e,t):{}},Zc.prototype.querySourceFeatures=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var r=this.latestFeatureIndex.loadVTLayers(),n=t?t.sourceLayer:"",i=r._geojsonTileLayer||r[n];if(i)for(var a=Ur(t&&t.filter),o=this.tileID.canonical,s=o.z,u=o.x,c=o.y,l={z:s,x:u,y:c},p=0;p<i.length;p++){var h=i.feature(p);if(a(new Hn(this.tileID.overscaledZ),h)){var f=new qc(h,s,u,c);f.tile=l,e.push(f)}}}},Zc.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer),delete this.mask},Zc.prototype.setMask=function(e,t){if(!o(this.mask,e)&&(this.clearMask(),this.mask=e,!o(e,{0:!0}))){var r=new di,n=new Pi;this.segments=new Zi,this.segments.prepareSegment(0,r,n);for(var a=Object.keys(e),s=0;s<a.length;s++){var u=e[+a[s]],c=ga>>u.z,l=new i(u.x*c,u.y*c),p=new i(l.x+c,l.y+c),h=this.segments.prepareSegment(4,r,n);r.emplaceBack(l.x,l.y,l.x,l.y),r.emplaceBack(p.x,l.y,p.x,l.y),r.emplaceBack(l.x,p.y,l.x,p.y),r.emplaceBack(p.x,p.y,p.x,p.y);var f=h.vertexLength;n.emplaceBack(f,f+1,f+2),n.emplaceBack(f+1,f+2,f+3),h.vertexLength+=4,h.primitiveLength+=2}this.maskedBoundsBuffer=t.createVertexBuffer(r,Bc.members),this.maskedIndexBuffer=t.createIndexBuffer(n)}},Zc.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Zc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Zc.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var r=T(e.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var n=Date.now(),i=!1;if(this.expirationTime>n)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var a=this.expirationTime-t;a?this.expirationTime=n+Math.max(a,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Zc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Zc.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var r=this.latestFeatureIndex.loadVTLayers();for(var n in this.buckets){var i=this.buckets[n],a=i.layers[0].sourceLayer||"_geojsonTileLayer",o=r[a],s=e[a];o&&s&&0!==Object.keys(s).length&&(i.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{}),t&&t.style&&(this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(n).queryRadius(i))))}}},Zc.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Zc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<D.now()},Zc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Zc.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=D.now()+e},Zc.prototype.setDependencies=function(e,t){for(var r={},n=0,i=t;n<i.length;n+=1)r[i[n]]=!0;this.dependencies[e]=r},Zc.prototype.hasDependency=function(e,t){for(var r=0,n=e;r<n.length;r+=1){var i=n[r],a=this.dependencies[i];if(a)for(var o=0,s=t;o<s.length;o+=1)if(a[s[o]])return!0}return!1},e.Actor=Oc,e.AlphaImage=Ha,e.CanonicalTileID=Rc,e.CollisionBoxArray=Li,e.Color=Ye,e.DEMData=Fc,e.DataConstantProperty=ti,e.DictionaryCoder=Nc,e.EXTENT=ga,e.ErrorEvent=Ee,e.EvaluationParameters=Hn,e.Event=ke,e.Evented=Te,e.FeatureIndex=Gc,e.FillBucket=zo,e.FillExtrusionBucket=Qo,e.ImageAtlas=Qs,e.ImagePosition=$s,e.LineBucket=ls,e.LngLat=Tc,e.LngLatBounds=Ec,e.MercatorCoordinate=Ic,e.ONE_EM=Os,e.OverscaledTileID=zc,e.Point=i,e.Point$1=i,e.ProgramConfiguration=ha,e.Properties=oi,e.Protobuf=Ts,e.RGBAImage=Za,e.RequestManager=G,e.ResourceType=fe,e.SegmentVector=Zi,e.SourceFeatureState=Vc,e.StructArrayLayout1ui2=Ai,e.StructArrayLayout2i4=fi,e.StructArrayLayout2ui4=Ci,e.StructArrayLayout3ui6=Pi,e.StructArrayLayout4i8=di,e.SymbolBucket=oc,e.Texture=xc,e.Tile=Zc,e.Transitionable=Kn,e.Uniform1f=Qi,e.Uniform1i=Ji,e.Uniform2f=ea,e.Uniform3f=ta,e.Uniform4f=ra,e.UniformColor=na,e.UniformMatrix4f=aa,e.UnwrappedTileID=Lc,e.ValidationError=je,e.WritingMode=eu,e.ZoomHistory=En,e.addDynamicAttributes=rc,e.asyncAll=function(e,t,r){if(!e.length)return r(null,[]);var n=e.length,i=new Array(e.length),a=null;e.forEach((function(e,o){t(e,(function(e,t){e&&(a=e),i[o]=t,0==--n&&r(a,i)}))}))},e.bezier=s,e.bindAll=g,e.browser=D,e.cacheEntryPossiblyAdded=function(e){++he>ue&&(e.getActor().send("enforceCacheSizeLimit",se),he=0)},e.clamp=c,e.clearTileCache=function(e){var t=self.caches.delete(oe);e&&t.catch(e).then((function(){return e()}))},e.clone=function(e){var t=new Fa(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=_,e.config=F,e.create=function(){var e=new Fa(16);return Fa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=function(){var e=new Fa(9);return Fa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},e.create$2=function(){var e=new Fa(4);return Fa!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=Pr,e.createLayout=pi,e.createStyleLayer=function(e){return"custom"===e.type?new mc(e):new gc[e.type](e)},e.deepEqual=o,e.ease=u,e.emitValidationErrors=dn,e.endsWith=v,e.enforceCacheSizeLimit=function(e){le(),Q&&Q.then((function(t){t.keys().then((function(r){for(var n=0;n<r.length-e;n++)t.delete(r[n])}))}))},e.evaluateSizeForFeature=yu,e.evaluateSizeForZoom=bu,e.evaluateVariableOffset=Hu,e.evented=Un,e.extend=p,e.featureFilter=Ur,e.filterObject=b,e.fromRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=hu,e.getAnchorJustification=Zu,e.getArrayBuffer=_e,e.getImage=function e(t,r){if(B.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),ye>=F.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:t,callback:r,cancelled:!1,cancel:function(){this.cancelled=!0}};return ve.push(n),n}ye++;var i=!1,a=function(){if(!i)for(i=!0,ye--;ve.length&&ye<F.MAX_PARALLEL_IMAGE_REQUESTS;){var t=ve.shift(),r=t.requestParameters,n=t.callback;t.cancelled||(t.cancel=e(r,n).cancel)}},o=_e(t,(function(e,t,n,i){if(a(),e)r(e);else if(t){var o=new self.Image;o.onload=function(){r(null,o),self.URL.revokeObjectURL(o.src)},o.onerror=function(){return r(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new self.Blob([new Uint8Array(t)],{type:"image/png"});o.cacheControl=n,o.expires=i,o.src=t.byteLength?self.URL.createObjectURL(s):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}}));return{cancel:function(){o.cancel(),a()}}},e.getJSON=function(e,t){return be(p(e,{type:"json"}),t)},e.getRTLTextPluginStatus=Vn,e.getReferrer=me,e.getVideo=function(e,t){var r,n,i=self.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(var a=0;a<e.length;a++){var o=self.document.createElement("source");r=e[a],n=void 0,(n=self.document.createElement("a")).href=r,(n.protocol!==self.document.location.protocol||n.host!==self.document.location.host)&&(i.crossOrigin="Anonymous"),o.src=e[a],i.appendChild(o)}return{cancel:function(){}}},e.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.invert=function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],p=t[9],h=t[10],f=t[11],d=t[12],m=t[13],g=t[14],v=t[15],y=r*s-n*o,b=r*u-i*o,_=r*c-a*o,x=n*u-i*s,w=n*c-a*s,O=i*c-a*u,k=l*m-p*d,E=l*g-h*d,T=l*v-f*d,S=p*g-h*m,j=p*v-f*m,P=h*v-f*g,C=y*P-b*j+_*S+x*T-w*E+O*k;return C?(C=1/C,e[0]=(s*P-u*j+c*S)*C,e[1]=(i*j-n*P-a*S)*C,e[2]=(m*O-g*w+v*x)*C,e[3]=(h*w-p*O-f*x)*C,e[4]=(u*T-o*P-c*E)*C,e[5]=(r*P-i*T+a*E)*C,e[6]=(g*_-d*O-v*b)*C,e[7]=(l*O-h*_+f*b)*C,e[8]=(o*j-s*T+c*k)*C,e[9]=(n*T-r*j-a*k)*C,e[10]=(d*w-m*_+v*y)*C,e[11]=(p*_-l*w-f*y)*C,e[12]=(s*E-o*S-u*k)*C,e[13]=(r*S-n*E+i*k)*C,e[14]=(m*b-d*x-g*y)*C,e[15]=(l*x-p*b+h*y)*C,e):null},e.isChar=Tn,e.isMapboxURL=W,e.keysDifference=function(e,t){var r=[];for(var n in e)n in t||r.push(n);return r},e.makeRequest=be,e.mapObject=y,e.mercatorXfromLng=Pc,e.mercatorYfromLat=Cc,e.mercatorZfromAltitude=Ac,e.multiply=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],p=t[8],h=t[9],f=t[10],d=t[11],m=t[12],g=t[13],v=t[14],y=t[15],b=r[0],_=r[1],x=r[2],w=r[3];return e[0]=b*n+_*s+x*p+w*m,e[1]=b*i+_*u+x*h+w*g,e[2]=b*a+_*c+x*f+w*v,e[3]=b*o+_*l+x*d+w*y,b=r[4],_=r[5],x=r[6],w=r[7],e[4]=b*n+_*s+x*p+w*m,e[5]=b*i+_*u+x*h+w*g,e[6]=b*a+_*c+x*f+w*v,e[7]=b*o+_*l+x*d+w*y,b=r[8],_=r[9],x=r[10],w=r[11],e[8]=b*n+_*s+x*p+w*m,e[9]=b*i+_*u+x*h+w*g,e[10]=b*a+_*c+x*f+w*v,e[11]=b*o+_*l+x*d+w*y,b=r[12],_=r[13],x=r[14],w=r[15],e[12]=b*n+_*s+x*p+w*m,e[13]=b*i+_*u+x*h+w*g,e[14]=b*a+_*c+x*f+w*v,e[15]=b*o+_*l+x*d+w*y,e},e.mvt=Ko,e.number=Ot,e.ortho=function(e,t,r,n,i,a,o){var s=1/(t-r),u=1/(n-i),c=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(o+a)*c,e[15]=1,e},e.parseGlyphPBF=function(e){return new Ts(e).readFields(Ws,[])},e.pbf=Ts,e.performSymbolLayout=function(e,t,r,n,a,o){e.createArrays();var s=512*e.overscaling;e.tilePixelRatio=ga/s,e.compareText={},e.iconsNeedLinear=!1;var u=e.layers[0].layout,c=e.layers[0]._unevaluatedLayout._values,l={};if("composite"===e.textSizeData.kind){var p=e.textSizeData,h=p.minZoom,f=p.maxZoom;l.compositeTextSizes=[c["text-size"].possiblyEvaluate(new Hn(h)),c["text-size"].possiblyEvaluate(new Hn(f))]}if("composite"===e.iconSizeData.kind){var d=e.iconSizeData,m=d.minZoom,g=d.maxZoom;l.compositeIconSizes=[c["icon-size"].possiblyEvaluate(new Hn(m)),c["icon-size"].possiblyEvaluate(new Hn(g))]}l.layoutTextSize=c["text-size"].possiblyEvaluate(new Hn(e.zoom+1)),l.layoutIconSize=c["icon-size"].possiblyEvaluate(new Hn(e.zoom+1)),l.textMaxSize=c["text-size"].possiblyEvaluate(new Hn(18));for(var v=u.get("text-line-height")*Os,y="map"===u.get("text-rotation-alignment")&&"point"!==u.get("symbol-placement"),b=u.get("text-keep-upright"),_=u.get("text-size"),x=function(){var o=k[O],s=u.get("text-font").evaluate(o,{}).join(","),c=_.evaluate(o,{}),p=l.layoutTextSize.evaluate(o,{}),h=l.layoutIconSize.evaluate(o,{}),f={horizontal:{},vertical:void 0},d=o.text,m=[0,0];if(d){var g=d.toString(),x=u.get("text-letter-spacing").evaluate(o,{})*Os,E=function(e){for(var t=0,r=e;t<r.length;t+=1)if(!jn(r[t].charCodeAt(0)))return!1;return!0}(g)?x:0,T=u.get("text-anchor").evaluate(o,{}),S=u.get("text-variable-anchor");if(!S){var j=u.get("text-radial-offset").evaluate(o,{});m=j?Hu(T,[j*Os,Wu]):u.get("text-offset").evaluate(o,{}).map((function(e){return e*Os}))}var P=y?"center":u.get("text-justify").evaluate(o,{}),C=u.get("symbol-placement"),A="point"===C?u.get("text-max-width").evaluate(o,{})*Os:0,M=function(){e.allowVerticalPlacement&&Sn(g)&&(f.vertical=iu(d,t,r,a,s,A,v,T,"left",E,m,eu.vertical,!0,C,p,c))};if(!y&&S){for(var I="auto"===P?S.map((function(e){return Zu(e)})):[P],R=!1,L=0;L<I.length;L++){var z=I[L];if(!f.horizontal[z])if(R)f.horizontal[z]=f.horizontal[0];else{var D=iu(d,t,r,a,s,A,v,"center",z,E,m,eu.horizontal,!1,C,p,c);D&&(f.horizontal[z]=D,R=1===D.positionedLines.length)}}M()}else{"auto"===P&&(P=Zu(T));var F=iu(d,t,r,a,s,A,v,T,P,E,m,eu.horizontal,!1,C,p,c);F&&(f.horizontal[P]=F),M(),Sn(g)&&y&&b&&(f.vertical=iu(d,t,r,a,s,A,v,T,P,E,m,eu.vertical,!1,C,p,c))}}var B=void 0,N=!1;if(o.icon&&o.icon.name){var q=n[o.icon.name];q&&(B=function(e,t,r){var n=hu(r),i=n.horizontalAlign,a=n.verticalAlign,o=t[0],s=t[1],u=o-e.displaySize[0]*i,c=u+e.displaySize[0],l=s-e.displaySize[1]*a;return{image:e,top:l,bottom:l+e.displaySize[1],left:u,right:c}}(a[o.icon.name],u.get("icon-offset").evaluate(o,{}),u.get("icon-anchor").evaluate(o,{})),N=q.sdf,void 0===e.sdfIcons?e.sdfIcons=q.sdf:e.sdfIcons!==q.sdf&&w("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),q.pixelRatio!==e.pixelRatio?e.iconsNeedLinear=!0:0!==u.get("icon-rotate").constantOr(1)&&(e.iconsNeedLinear=!0))}var U=$u(f.horizontal)||f.vertical;e.iconsInText=!!U&&U.iconsInText,(U||B)&&function(e,t,r,n,a,o,s,u,c,l){var p=o.textMaxSize.evaluate(t,{});void 0===p&&(p=s);var h,f=e.layers[0].layout,d=f.get("icon-offset").evaluate(t,{}),m=$u(r.horizontal),g=s/24,v=e.tilePixelRatio*g,y=e.tilePixelRatio*p/24,b=e.tilePixelRatio*u,_=e.tilePixelRatio*f.get("symbol-spacing"),x=f.get("text-padding")*e.tilePixelRatio,O=f.get("icon-padding")*e.tilePixelRatio,k=f.get("text-max-angle")/180*Math.PI,E="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),T="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),S=f.get("symbol-placement"),j=_/2,P=f.get("icon-text-fit");n&&"none"!==P&&(e.allowVerticalPlacement&&r.vertical&&(h=du(n,r.vertical,P,f.get("icon-text-fit-padding"),d,g)),m&&(n=du(n,m,P,f.get("icon-text-fit-padding"),d,g)));var C=function(i,s){s.x<0||s.x>=ga||s.y<0||s.y>=ga||function(e,t,r,n,i,a,o,s,u,c,l,p,h,f,d,m,g,v,y,b,_,x,O){var k,E,T,S,j,P=e.addToLineVertexArray(t,r),C=0,A=0,M=0,I=0,R=-1,L=-1,z={},D=qu(""),F=0,B=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(F=(k=s.layout.get("text-offset").evaluate(_,{}).map((function(e){return e*Os})))[0],B=k[1]):(F=s.layout.get("text-radial-offset").evaluate(_,{})*Os,B=Wu),e.allowVerticalPlacement&&n.vertical){var N=s.layout.get("text-rotate").evaluate(_,{})+90,q=n.vertical;S=new Iu(u,r,t,c,l,p,q,h,f,d,e.overscaling,N),o&&(j=new Iu(u,r,t,c,l,p,o,g,v,d,e.overscaling,N))}if(i){var U=s.layout.get("icon-rotate").evaluate(_,{}),V="none"!==s.layout.get("icon-text-fit"),G=ju(i,U,O,V),W=o?ju(o,U,O,V):void 0;T=new Iu(u,r,t,c,l,p,i,g,v,!1,e.overscaling,U),C=4*G.length;var H=e.iconSizeData,Z=null;"source"===H.kind?(Z=[gu*s.layout.get("icon-size").evaluate(_,{})])[0]>Ku&&w(e.layerIds[0]+': Value for "icon-size" is >= '+Xu+'. Reduce your "icon-size".'):"composite"===H.kind&&((Z=[gu*x.compositeIconSizes[0].evaluate(_,{}),gu*x.compositeIconSizes[1].evaluate(_,{})])[0]>Ku||Z[1]>Ku)&&w(e.layerIds[0]+': Value for "icon-size" is >= '+Xu+'. Reduce your "icon-size".'),e.addSymbols(e.icon,G,Z,b,y,_,!1,t,P.lineStartIndex,P.lineLength,-1),R=e.icon.placedSymbolArray.length-1,W&&(A=4*W.length,e.addSymbols(e.icon,W,Z,b,y,_,eu.vertical,t,P.lineStartIndex,P.lineLength,-1),L=e.icon.placedSymbolArray.length-1)}for(var X in n.horizontal){var K=n.horizontal[X];if(!E){D=qu(K.text);var Y=s.layout.get("text-rotate").evaluate(_,{});E=new Iu(u,r,t,c,l,p,K,h,f,d,e.overscaling,Y)}var $=1===K.positionedLines.length;if(M+=Yu(e,t,K,a,s,d,_,m,P,n.vertical?eu.horizontal:eu.horizontalOnly,$?Object.keys(n.horizontal):[X],z,R,x),$)break}n.vertical&&(I+=Yu(e,t,n.vertical,a,s,d,_,m,P,eu.vertical,["vertical"],z,L,x));var J=E?E.boxStartIndex:e.collisionBoxArray.length,Q=E?E.boxEndIndex:e.collisionBoxArray.length,ee=S?S.boxStartIndex:e.collisionBoxArray.length,te=S?S.boxEndIndex:e.collisionBoxArray.length,re=T?T.boxStartIndex:e.collisionBoxArray.length,ne=T?T.boxEndIndex:e.collisionBoxArray.length,ie=j?j.boxStartIndex:e.collisionBoxArray.length,ae=j?j.boxEndIndex:e.collisionBoxArray.length;e.glyphOffsetArray.length>=oc.MAX_GLYPHS&&w("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),e.symbolInstances.emplaceBack(t.x,t.y,z.right>=0?z.right:-1,z.center>=0?z.center:-1,z.left>=0?z.left:-1,z.vertical||-1,R,L,D,J,Q,ee,te,re,ne,ie,ae,c,M,I,C,A,0,h,F,B)}(e,s,i,r,n,a,h,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,v,x,E,c,b,O,T,d,t,o,l)};if("line"===S)for(var A=0,M=function(e,t,r,n,a){for(var o=[],s=0;s<e.length;s++)for(var u=e[s],c=void 0,l=0;l<u.length-1;l++){var p=u[l],h=u[l+1];p.x<0&&h.x<0||(p.x<0?p=new i(0,p.y+(h.y-p.y)*((0-p.x)/(h.x-p.x)))._round():h.x<0&&(h=new i(0,p.y+(h.y-p.y)*((0-p.x)/(h.x-p.x)))._round()),p.y<0&&h.y<0||(p.y<0?p=new i(p.x+(h.x-p.x)*((0-p.y)/(h.y-p.y)),0)._round():h.y<0&&(h=new i(p.x+(h.x-p.x)*((0-p.y)/(h.y-p.y)),0)._round()),p.x>=n&&h.x>=n||(p.x>=n?p=new i(n,p.y+(h.y-p.y)*((n-p.x)/(h.x-p.x)))._round():h.x>=n&&(h=new i(n,p.y+(h.y-p.y)*((n-p.x)/(h.x-p.x)))._round()),p.y>=a&&h.y>=a||(p.y>=a?p=new i(p.x+(h.x-p.x)*((a-p.y)/(h.y-p.y)),a)._round():h.y>=a&&(h=new i(p.x+(h.x-p.x)*((a-p.y)/(h.y-p.y)),a)._round()),c&&p.equals(c[c.length-1])||(c=[p],o.push(c)),c.push(h)))))}return o}(t.geometry,0,0,ga,ga);A<M.length;A+=1)for(var I=M[A],R=0,L=Tu(I,_,k,r.vertical||m,n,24,y,e.overscaling,ga);R<L.length;R+=1){var z=L[R];m&&Ju(e,m.text,j,z)||C(I,z)}else if("line-center"===S)for(var D=0,F=t.geometry;D<F.length;D+=1){var B=F[D];if(B.length>1){var N=Eu(B,k,r.vertical||m,n,24,y);N&&C(B,N)}}else if("Polygon"===t.type)for(var q=0,U=Mo(t.geometry,0);q<U.length;q+=1){var V=U[q],G=zu(V,16);C(V[0],new mu(G.x,G.y,0))}else if("LineString"===t.type)for(var W=0,H=t.geometry;W<H.length;W+=1){var Z=H[W];C(Z,new mu(Z[0].x,Z[0].y,0))}else if("Point"===t.type)for(var X=0,K=t.geometry;X<K.length;X+=1)for(var Y=0,$=K[X];Y<$.length;Y+=1){var J=$[Y];C([J],new mu(J.x,J.y,0))}}(e,o,f,B,n,l,p,h,m,N)},O=0,k=e.features;O<k.length;O+=1)x();o&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,r,n,i){var a,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(n-i),e[10]=(i+n)*a,e[14]=2*i*n*a):(e[10]=-1,e[14]=-2*n),e},e.pick=function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n];i in e&&(r[i]=e[i])}return r},e.plugin=Wn,e.polygonIntersectsPolygon=xa,e.postMapLoadEvent=ae,e.postTurnstileEvent=ne,e.potpack=Ks,e.rasterBoundsAttributes=Bc,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=_n,e.registerForPluginStateChange=function(e){return e({pluginStatus:Fn,pluginURL:Bn}),Un.on("pluginStateChange",e),e},e.rotate=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(r),u=Math.cos(r);return e[0]=n*u+a*s,e[1]=i*u+o*s,e[2]=n*-s+a*u,e[3]=i*-s+o*u,e},e.rotateX=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],o=t[5],s=t[6],u=t[7],c=t[8],l=t[9],p=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+c*n,e[5]=o*i+l*n,e[6]=s*i+p*n,e[7]=u*i+h*n,e[8]=c*i-a*n,e[9]=l*i-o*n,e[10]=p*i-s*n,e[11]=h*i-u*n,e},e.rotateZ=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],u=t[3],c=t[4],l=t[5],p=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+c*n,e[1]=o*i+l*n,e[2]=s*i+p*n,e[3]=u*i+h*n,e[4]=c*i-a*n,e[5]=l*i-o*n,e[6]=p*i-s*n,e[7]=h*i-u*n,e},e.scale=function(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.setCacheLimits=function(e,t){se=e,ue=t},e.setRTLTextPlugin=function(e,t,r){if(void 0===r&&(r=!1),Fn===Rn||Fn===Ln||Fn===zn)throw new Error("setRTLTextPlugin cannot be called multiple times.");Bn=D.resolveURL(e),Fn=Rn,Dn=t,qn(),r||Gn()},e.sphericalToCartesian=function(e){var t=e[0],r=e[1],n=e[2];return r+=90,r*=Math.PI/180,n*=Math.PI/180,{x:t*Math.cos(r)*Math.sin(n),y:t*Math.sin(r)*Math.sin(n),z:t*Math.cos(n)}},e.styleSpec=Se,e.symbolSize=_u,e.transformMat3=function(e,t,r){var n=t[0],i=t[1],a=t[2];return e[0]=n*r[0]+i*r[3]+a*r[6],e[1]=n*r[1]+i*r[4]+a*r[7],e[2]=n*r[2]+i*r[5]+a*r[8],e},e.transformMat4=Ba,e.translate=function(e,t,r){var n,i,a,o,s,u,c,l,p,h,f,d,m=r[0],g=r[1],v=r[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],p=t[8],h=t[9],f=t[10],d=t[11],e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=p,e[9]=h,e[10]=f,e[11]=d,e[12]=n*m+s*g+p*v+t[12],e[13]=i*m+u*g+h*v+t[13],e[14]=a*m+c*g+f*v+t[14],e[15]=o*m+l*g+d*v+t[15]),e},e.triggerPluginCompletionEvent=Nn,e.uniqueId=f,e.validateCustomStyleLayer=function(e){var t=[],r=e.id;return void 0===r&&t.push({message:"layers."+r+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+r+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+r+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=pn,e.validateStyle=ln,e.values=function(e){var t=[];for(var r in e)t.push(e[r]);return t},e.vectorTile=Ko,e.version="1.6.1",e.warnOnce=w,e.webpSupported=B,e.window=self,e.wrap=l})),n(0,(function(e){function t(e){var r=typeof e;if("number"===r||"boolean"===r||"string"===r||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var n="[",i=0,a=e;i<a.length;i+=1)n+=t(a[i])+",";return n+"]"}for(var o=Object.keys(e).sort(),s="{",u=0;u<o.length;u++)s+=JSON.stringify(o[u])+":"+t(e[o[u]])+",";return s+"}"}function r(r){for(var n="",i=0,a=e.refProperties;i<a.length;i+=1)n+="/"+t(r[a[i]]);return n}var n=function(e){this.keyCache={},e&&this.replace(e)};n.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},n.prototype.update=function(t,n){for(var i=this,a=0,o=t;a<o.length;a+=1){var s=o[a];this._layerConfigs[s.id]=s;var u=this._layers[s.id]=e.createStyleLayer(s);u._featureFilter=e.featureFilter(u.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var c=0,l=n;c<l.length;c+=1){var p=l[c];delete this.keyCache[p],delete this._layerConfigs[p],delete this._layers[p]}this.familiesBySource={};for(var h=0,f=function(e,t){for(var n={},i=0;i<e.length;i++){var a=t&&t[e[i].id]||r(e[i]);t&&(t[e[i].id]=a);var o=n[a];o||(o=n[a]=[]),o.push(e[i])}var s=[];for(var u in n)s.push(n[u]);return s}(e.values(this._layerConfigs),this.keyCache);h<f.length;h+=1){var d=f[h].map((function(e){return i._layers[e.id]})),m=d[0];if("none"!==m.visibility){var g=m.source||"",v=this.familiesBySource[g];v||(v=this.familiesBySource[g]={});var y=m.sourceLayer||"_geojsonTileLayer",b=v[y];b||(b=v[y]=[]),b.push(d)}}};var i=function(t){var r={},n=[];for(var i in t){var a=t[i],o=r[i]={};for(var s in a){var u=a[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var c={x:0,y:0,w:u.bitmap.width+2,h:u.bitmap.height+2};n.push(c),o[s]={rect:c,metrics:u.metrics}}}}var l=e.potpack(n),p=l.w,h=l.h,f=new e.AlphaImage({width:p||1,height:h||1});for(var d in t){var m=t[d];for(var g in m){var v=m[+g];if(v&&0!==v.bitmap.width&&0!==v.bitmap.height){var y=r[d][g].rect;e.AlphaImage.copy(v.bitmap,f,{x:0,y:0},{x:y.x+1,y:y.y+1},v.bitmap)}}}this.image=f,this.positions=r};e.register("GlyphAtlas",i);var a=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies};function o(t,r,n){for(var i=new e.EvaluationParameters(r),a=0,o=t;a<o.length;a+=1)o[a].recalculate(i,n)}a.prototype.parse=function(t,r,n,a,s){var u=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var c=new e.DictionaryCoder(Object.keys(t.layers).sort()),l=new e.FeatureIndex(this.tileID);l.bucketLayerIDs=[];var p,h,f,d,m={},g={featureIndex:l,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:n},v=r.familiesBySource[this.source];for(var y in v){var b=t.layers[y];if(b){1===b.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+y+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var _=c.encode(y),x=[],w=0;w<b.length;w++){var O=b.feature(w);x.push({feature:O,index:w,sourceLayerIndex:_})}for(var k=0,E=v[y];k<E.length;k+=1){var T=E[k],S=T[0];S.minzoom&&this.zoom<Math.floor(S.minzoom)||S.maxzoom&&this.zoom>=S.maxzoom||"none"!==S.visibility&&(o(T,this.zoom,n),(m[S.id]=S.createBucket({index:l.bucketLayerIDs.length,layers:T,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:_,sourceID:this.source})).populate(x,g),l.bucketLayerIDs.push(T.map((function(e){return e.id}))))}}}var j=e.mapObject(g.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(j).length?a.send("getGlyphs",{uid:this.uid,stacks:j},(function(e,t){p||(p=e,h=t,A.call(u))})):h={};var P=Object.keys(g.iconDependencies);P.length?a.send("getImages",{icons:P,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){p||(p=e,f=t,A.call(u))})):f={};var C=Object.keys(g.patternDependencies);function A(){if(p)return s(p);if(h&&f&&d){var t=new i(h),r=new e.ImageAtlas(f,d);for(var a in m){var u=m[a];u instanceof e.SymbolBucket?(o(u.layers,this.zoom,n),e.performSymbolLayout(u,h,t.positions,f,r.iconPositions,this.showCollisionBoxes)):u.hasPattern&&(u instanceof e.LineBucket||u instanceof e.FillBucket||u instanceof e.FillExtrusionBucket)&&(o(u.layers,this.zoom,n),u.addFeatures(g,r.patternPositions))}this.status="done",s(null,{buckets:e.values(m).filter((function(e){return!e.isEmpty()})),featureIndex:l,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:r,glyphMap:this.returnDependencies?h:null,iconMap:this.returnDependencies?f:null,glyphPositions:this.returnDependencies?t.positions:null})}}C.length?a.send("getImages",{icons:C,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){p||(p=e,d=t,A.call(u))})):d={},A.call(this)};var s="undefined"!=typeof performance,u={getEntriesByName:function(e){return!!(s&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(e)},mark:function(e){return!!(s&&performance&&performance.mark)&&performance.mark(e)},measure:function(e,t,r){return!!(s&&performance&&performance.measure)&&performance.measure(e,t,r)},clearMarks:function(e){return!!(s&&performance&&performance.clearMarks)&&performance.clearMarks(e)},clearMeasures:function(e){return!!(s&&performance&&performance.clearMeasures)&&performance.clearMeasures(e)}},c=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},u.mark(this._marks.start)};function l(t,r){var n=e.getArrayBuffer(t.request,(function(t,n,i,a){t?r(t):n&&r(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(n)),rawData:n,cacheControl:i,expires:a})}));return function(){n.cancel(),r()}}c.prototype.finish=function(){u.mark(this._marks.end);var e=u.getEntriesByName(this._marks.measure);return 0===e.length&&(u.measure(this._marks.measure,this._marks.start,this._marks.end),e=u.getEntriesByName(this._marks.measure),u.clearMarks(this._marks.start),u.clearMarks(this._marks.end),u.clearMeasures(this._marks.measure)),e},u.Performance=c;var p=function(e,t,r,n){this.actor=e,this.layerIndex=t,this.availableImages=r,this.loadVectorData=n||l,this.loading={},this.loaded={}};p.prototype.loadTile=function(t,r){var n=this,i=t.uid;this.loading||(this.loading={});var o=!!(t&&t.request&&t.request.collectResourceTiming)&&new u.Performance(t.request),s=this.loading[i]=new a(t);s.abort=this.loadVectorData(t,(function(t,a){if(delete n.loading[i],t||!a)return s.status="done",n.loaded[i]=s,r(t);var u=a.rawData,c={};a.expires&&(c.expires=a.expires),a.cacheControl&&(c.cacheControl=a.cacheControl);var l={};if(o){var p=o.finish();p&&(l.resourceTiming=JSON.parse(JSON.stringify(p)))}s.vectorTile=a.vectorTile,s.parse(a.vectorTile,n.layerIndex,n.availableImages,n.actor,(function(t,n){if(t||!n)return r(t);r(null,e.extend({rawTileData:u.slice(0)},n,c,l))})),n.loaded=n.loaded||{},n.loaded[i]=s}))},p.prototype.reloadTile=function(e,t){var r=this,n=this.loaded,i=e.uid,a=this;if(n&&n[i]){var o=n[i];o.showCollisionBoxes=e.showCollisionBoxes;var s=function(e,n){var i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,a.layerIndex,r.availableImages,a.actor,i)),t(e,n)};"parsing"===o.status?o.reloadCallback=s:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},p.prototype.abortTile=function(e,t){var r=this.loading,n=e.uid;r&&r[n]&&r[n].abort&&(r[n].abort(),delete r[n]),t()},p.prototype.removeTile=function(e,t){var r=this.loaded,n=e.uid;r&&r[n]&&delete r[n],t()};var h=function(){this.loaded={}};h.prototype.loadTile=function(t,r){var n=t.uid,i=t.encoding,a=t.rawImageData,o=new e.DEMData(n,a,i);this.loaded=this.loaded||{},this.loaded[n]=o,r(null,o)},h.prototype.removeTile=function(e){var t=this.loaded,r=e.uid;t&&t[r]&&delete t[r]};var f={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function d(e){var t=0;if(e&&e.length>0){t+=Math.abs(m(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(m(e[r]))}return t}function m(e){var t,r,n,i,a,o,s=0,u=e.length;if(u>2){for(o=0;o<u;o++)o===u-2?(n=u-2,i=u-1,a=0):o===u-1?(n=u-1,i=0,a=1):(n=o,i=o+1,a=o+2),t=e[n],r=e[i],s+=(g(e[a][0])-g(t[0]))*Math.sin(g(r[1]));s=s*f.RADIUS*f.RADIUS/2}return s}function g(e){return e*Math.PI/180}var v={geometry:function e(t){var r,n=0;switch(t.type){case"Polygon":return d(t.coordinates);case"MultiPolygon":for(r=0;r<t.coordinates.length;r++)n+=d(t.coordinates[r]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<t.geometries.length;r++)n+=e(t.geometries[r]);return n}},ring:m};function y(e,t){return function(r){return e(r,t)}}function b(e,t){t=!!t,e[0]=_(e[0],t);for(var r=1;r<e.length;r++)e[r]=_(e[r],!t);return e}function _(e,t){return function(e){return v.ring(e)>=0}(e)===t?e:e.reverse()}var x=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,w=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};w.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],r=0,n=this._feature.geometry;r<n.length;r+=1){var i=n[r];t.push([new e.Point$1(i[0],i[1])])}return t}for(var a=[],o=0,s=this._feature.geometry;o<s.length;o+=1){for(var u=[],c=0,l=s[o];c<l.length;c+=1){var p=l[c];u.push(new e.Point$1(p[0],p[1]))}a.push(u)}return a},w.prototype.toGeoJSON=function(e,t,r){return x.call(this,e,t,r)};var O=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};O.prototype.feature=function(e){return new w(this._features[e])};var k=e.vectorTile.VectorTileFeature,E=T;function T(e,t){this.options=t||{},this.features=e,this.length=e.length}function S(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}T.prototype.feature=function(e){return new S(this.features[e],this.options.extent)},S.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var r=0;r<t.length;r++){for(var n=t[r],i=[],a=0;a<n.length;a++)i.push(new e.Point$1(n[a][0],n[a][1]));this.geometry.push(i)}return this.geometry},S.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,n=1/0,i=-1/0,a=0;a<e.length;a++)for(var o=e[a],s=0;s<o.length;s++){var u=o[s];t=Math.min(t,u.x),r=Math.max(r,u.x),n=Math.min(n,u.y),i=Math.max(i,u.y)}return[t,n,r,i]},S.prototype.toGeoJSON=k.prototype.toGeoJSON;var j=A,P=A,C=E;function A(t){var r=new e.pbf;return function(e,t){for(var r in e.layers)t.writeMessage(3,M,e.layers[r])}(t,r),r.finish()}function M(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)n.feature=e.feature(r),t.writeMessage(2,I,n);var i=n.keys;for(r=0;r<i.length;r++)t.writeStringField(3,i[r]);var a=n.values;for(r=0;r<a.length;r++)t.writeMessage(4,F,a[r])}function I(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,R,e),t.writeVarintField(3,r.type),t.writeMessage(4,D,r)}function R(e,t){var r=e.feature,n=e.keys,i=e.values,a=e.keycache,o=e.valuecache;for(var s in r.properties){var u=a[s];void 0===u&&(n.push(s),u=n.length-1,a[s]=u),t.writeVarint(u);var c=r.properties[s],l=typeof c;"string"!==l&&"boolean"!==l&&"number"!==l&&(c=JSON.stringify(c));var p=l+":"+c,h=o[p];void 0===h&&(i.push(c),h=i.length-1,o[p]=h),t.writeVarint(h)}}function L(e,t){return(t<<3)+(7&e)}function z(e){return e<<1^e>>31}function D(e,t){for(var r=e.loadGeometry(),n=e.type,i=0,a=0,o=r.length,s=0;s<o;s++){var u=r[s],c=1;1===n&&(c=u.length),t.writeVarint(L(1,c));for(var l=3===n?u.length-1:u.length,p=0;p<l;p++){1===p&&1!==n&&t.writeVarint(L(2,l-1));var h=u[p].x-i,f=u[p].y-a;t.writeVarint(z(h)),t.writeVarint(z(f)),i+=h,a+=f}3===n&&t.writeVarint(L(7,1))}}function F(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function B(e,t,r,n){N(e,r,n),N(t,2*r,2*n),N(t,2*r+1,2*n+1)}function N(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function q(e,t,r,n){var i=e-r,a=t-n;return i*i+a*a}j.fromVectorTileJs=P,j.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var n in e)r[n]=new E(e[n].features,t),r[n].name=n,r[n].version=t.version,r[n].extent=t.extent;return A({layers:r})},j.GeoJSONWrapper=C;var U=function(e){return e[0]},V=function(e){return e[1]},G=function(e,t,r,n,i){void 0===t&&(t=U),void 0===r&&(r=V),void 0===n&&(n=64),void 0===i&&(i=Float64Array),this.nodeSize=n,this.points=e;for(var a=e.length<65536?Uint16Array:Uint32Array,o=this.ids=new a(e.length),s=this.coords=new i(2*e.length),u=0;u<e.length;u++)o[u]=u,s[2*u]=t(e[u]),s[2*u+1]=r(e[u]);!function e(t,r,n,i,a,o){if(!(a-i<=n)){var s=i+a>>1;!function e(t,r,n,i,a,o){for(;a>i;){if(a-i>600){var s=a-i+1,u=n-i+1,c=Math.log(s),l=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*l*(s-l)/s)*(u-s/2<0?-1:1);e(t,r,n,Math.max(i,Math.floor(n-u*l/s+p)),Math.min(a,Math.floor(n+(s-u)*l/s+p)),o)}var h=r[2*n+o],f=i,d=a;for(B(t,r,i,n),r[2*a+o]>h&&B(t,r,i,a);f<d;){for(B(t,r,f,d),f++,d--;r[2*f+o]<h;)f++;for(;r[2*d+o]>h;)d--}r[2*i+o]===h?B(t,r,i,d):B(t,r,++d,a),d<=n&&(i=d+1),n<=d&&(a=d-1)}}(t,r,s,i,a,o%2),e(t,r,n,i,s-1,o+1),e(t,r,n,s+1,a,o+1)}}(o,s,n,0,o.length-1,0)};G.prototype.range=function(e,t,r,n){return function(e,t,r,n,i,a,o){for(var s,u,c=[0,e.length-1,0],l=[];c.length;){var p=c.pop(),h=c.pop(),f=c.pop();if(h-f<=o)for(var d=f;d<=h;d++)s=t[2*d],u=t[2*d+1],s>=r&&s<=i&&u>=n&&u<=a&&l.push(e[d]);else{var m=Math.floor((f+h)/2);s=t[2*m],u=t[2*m+1],s>=r&&s<=i&&u>=n&&u<=a&&l.push(e[m]);var g=(p+1)%2;(0===p?r<=s:n<=u)&&(c.push(f),c.push(m-1),c.push(g)),(0===p?i>=s:a>=u)&&(c.push(m+1),c.push(h),c.push(g))}}return l}(this.ids,this.coords,e,t,r,n,this.nodeSize)},G.prototype.within=function(e,t,r){return function(e,t,r,n,i,a){for(var o=[0,e.length-1,0],s=[],u=i*i;o.length;){var c=o.pop(),l=o.pop(),p=o.pop();if(l-p<=a)for(var h=p;h<=l;h++)q(t[2*h],t[2*h+1],r,n)<=u&&s.push(e[h]);else{var f=Math.floor((p+l)/2),d=t[2*f],m=t[2*f+1];q(d,m,r,n)<=u&&s.push(e[f]);var g=(c+1)%2;(0===c?r-i<=d:n-i<=m)&&(o.push(p),o.push(f-1),o.push(g)),(0===c?r+i>=d:n+i>=m)&&(o.push(f+1),o.push(l),o.push(g))}}return s}(this.ids,this.coords,e,t,r,this.nodeSize)};var W={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},H=function(e){this.options=Q(Object.create(W),e),this.trees=new Array(this.options.maxZoom+1)};function Z(e,t,r,n,i){return{x:e,y:t,zoom:1/0,id:r,parentId:-1,numPoints:n,properties:i}}function X(e,t){var r=e.geometry.coordinates,n=r[0],i=r[1];return{x:$(n),y:J(i),zoom:1/0,index:t,parentId:-1}}function K(e){return{type:"Feature",id:e.id,properties:Y(e),geometry:{type:"Point",coordinates:[(n=e.x,360*(n-.5)),(t=e.y,r=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(r))/Math.PI-90)]}};var t,r,n}function Y(e){var t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return Q(Q({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function $(e){return e/360+.5}function J(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function Q(e,t){for(var r in t)e[r]=t[r];return e}function ee(e){return e.x}function te(e){return e.y}function re(e,t,r,n,i,a){var o=i-r,s=a-n;if(0!==o||0!==s){var u=((e-r)*o+(t-n)*s)/(o*o+s*s);u>1?(r=i,n=a):u>0&&(r+=o*u,n+=s*u)}return(o=e-r)*o+(s=t-n)*s}function ne(e,t,r,n){var i={id:void 0===e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)ie(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<t.length;n++)ie(e,t[n]);else if("MultiPolygon"===r)for(n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)ie(e,t[n][i])}(i),i}function ie(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function ae(e,t,r,n){if(t.geometry){var i=t.geometry.coordinates,a=t.geometry.type,o=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],u=t.id;if(r.promoteId?u=t.properties[r.promoteId]:r.generateId&&(u=n||0),"Point"===a)oe(i,s);else if("MultiPoint"===a)for(var c=0;c<i.length;c++)oe(i[c],s);else if("LineString"===a)se(i,s,o,!1);else if("MultiLineString"===a){if(r.lineMetrics){for(c=0;c<i.length;c++)s=[],se(i[c],s,o,!1),e.push(ne(u,"LineString",s,t.properties));return}ue(i,s,o,!1)}else if("Polygon"===a)ue(i,s,o,!0);else{if("MultiPolygon"!==a){if("GeometryCollection"===a){for(c=0;c<t.geometry.geometries.length;c++)ae(e,{id:u,geometry:t.geometry.geometries[c],properties:t.properties},r,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<i.length;c++){var l=[];ue(i[c],l,o,!0),s.push(l)}}e.push(ne(u,a,s,t.properties))}}function oe(e,t){t.push(ce(e[0])),t.push(le(e[1])),t.push(0)}function se(e,t,r,n){for(var i,a,o=0,s=0;s<e.length;s++){var u=ce(e[s][0]),c=le(e[s][1]);t.push(u),t.push(c),t.push(0),s>0&&(o+=n?(i*c-u*a)/2:Math.sqrt(Math.pow(u-i,2)+Math.pow(c-a,2))),i=u,a=c}var l=t.length-3;t[2]=1,function e(t,r,n,i){for(var a,o=i,s=n-r>>1,u=n-r,c=t[r],l=t[r+1],p=t[n],h=t[n+1],f=r+3;f<n;f+=3){var d=re(t[f],t[f+1],c,l,p,h);if(d>o)a=f,o=d;else if(d===o){var m=Math.abs(f-s);m<u&&(a=f,u=m)}}o>i&&(a-r>3&&e(t,r,a,i),t[a+2]=o,n-a>3&&e(t,a,n,i))}(t,0,l,r),t[l+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function ue(e,t,r,n){for(var i=0;i<e.length;i++){var a=[];se(e[i],a,r,n),t.push(a)}}function ce(e){return e/360+.5}function le(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function pe(e,t,r,n,i,a,o,s){if(n/=t,a>=(r/=t)&&o<n)return e;if(o<r||a>=n)return null;for(var u=[],c=0;c<e.length;c++){var l=e[c],p=l.geometry,h=l.type,f=0===i?l.minX:l.minY,d=0===i?l.maxX:l.maxY;if(f>=r&&d<n)u.push(l);else if(!(d<r||f>=n)){var m=[];if("Point"===h||"MultiPoint"===h)he(p,m,r,n,i);else if("LineString"===h)fe(p,m,r,n,i,!1,s.lineMetrics);else if("MultiLineString"===h)me(p,m,r,n,i,!1);else if("Polygon"===h)me(p,m,r,n,i,!0);else if("MultiPolygon"===h)for(var g=0;g<p.length;g++){var v=[];me(p[g],v,r,n,i,!0),v.length&&m.push(v)}if(m.length){if(s.lineMetrics&&"LineString"===h){for(g=0;g<m.length;g++)u.push(ne(l.id,h,m[g],l.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===m.length?(h="LineString",m=m[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===m.length?"Point":"MultiPoint"),u.push(ne(l.id,h,m,l.tags))}}}return u.length?u:null}function he(e,t,r,n,i){for(var a=0;a<e.length;a+=3){var o=e[a+i];o>=r&&o<=n&&(t.push(e[a]),t.push(e[a+1]),t.push(e[a+2]))}}function fe(e,t,r,n,i,a,o){for(var s,u,c=de(e),l=0===i?ve:ye,p=e.start,h=0;h<e.length-3;h+=3){var f=e[h],d=e[h+1],m=e[h+2],g=e[h+3],v=e[h+4],y=0===i?f:d,b=0===i?g:v,_=!1;o&&(s=Math.sqrt(Math.pow(f-g,2)+Math.pow(d-v,2))),y<r?b>r&&(u=l(c,f,d,g,v,r),o&&(c.start=p+s*u)):y>n?b<n&&(u=l(c,f,d,g,v,n),o&&(c.start=p+s*u)):ge(c,f,d,m),b<r&&y>=r&&(u=l(c,f,d,g,v,r),_=!0),b>n&&y<=n&&(u=l(c,f,d,g,v,n),_=!0),!a&&_&&(o&&(c.end=p+s*u),t.push(c),c=de(e)),o&&(p+=s)}var x=e.length-3;f=e[x],d=e[x+1],m=e[x+2],(y=0===i?f:d)>=r&&y<=n&&ge(c,f,d,m),x=c.length-3,a&&x>=3&&(c[x]!==c[0]||c[x+1]!==c[1])&&ge(c,c[0],c[1],c[2]),c.length&&t.push(c)}function de(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function me(e,t,r,n,i,a){for(var o=0;o<e.length;o++)fe(e[o],t,r,n,i,a,!1)}function ge(e,t,r,n){e.push(t),e.push(r),e.push(n)}function ve(e,t,r,n,i,a){var o=(a-t)/(n-t);return e.push(a),e.push(r+(i-r)*o),e.push(1),o}function ye(e,t,r,n,i,a){var o=(a-r)/(i-r);return e.push(t+(n-t)*o),e.push(a),e.push(1),o}function be(e,t){for(var r=[],n=0;n<e.length;n++){var i,a=e[n],o=a.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)i=_e(a.geometry,t);else if("MultiLineString"===o||"Polygon"===o){i=[];for(var s=0;s<a.geometry.length;s++)i.push(_e(a.geometry[s],t))}else if("MultiPolygon"===o)for(i=[],s=0;s<a.geometry.length;s++){for(var u=[],c=0;c<a.geometry[s].length;c++)u.push(_e(a.geometry[s][c],t));i.push(u)}r.push(ne(a.id,o,i,a.tags))}return r}function _e(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function xe(e,t){if(e.transformed)return e;var r,n,i,a=1<<e.z,o=e.x,s=e.y;for(r=0;r<e.features.length;r++){var u=e.features[r],c=u.geometry,l=u.type;if(u.geometry=[],1===l)for(n=0;n<c.length;n+=2)u.geometry.push(we(c[n],c[n+1],t,a,o,s));else for(n=0;n<c.length;n++){var p=[];for(i=0;i<c[n].length;i+=2)p.push(we(c[n][i],c[n][i+1],t,a,o,s));u.geometry.push(p)}}return e.transformed=!0,e}function we(e,t,r,n,i,a){return[Math.round(r*(e*n-i)),Math.round(r*(t*n-a))]}function Oe(e,t,r,n,i){for(var a=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,ke(o,e[s],a,i);var u=e[s].minX,c=e[s].minY,l=e[s].maxX,p=e[s].maxY;u<o.minX&&(o.minX=u),c<o.minY&&(o.minY=c),l>o.maxX&&(o.maxX=l),p>o.maxY&&(o.maxY=p)}return o}function ke(e,t,r,n){var i=t.geometry,a=t.type,o=[];if("Point"===a||"MultiPoint"===a)for(var s=0;s<i.length;s+=3)o.push(i[s]),o.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===a)Ee(o,i,e,r,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(s=0;s<i.length;s++)Ee(o,i[s],e,r,"Polygon"===a,0===s);else if("MultiPolygon"===a)for(var u=0;u<i.length;u++){var c=i[u];for(s=0;s<c.length;s++)Ee(o,c[s],e,r,!0,0===s)}if(o.length){var l=t.tags||null;if("LineString"===a&&n.lineMetrics){for(var p in l={},t.tags)l[p]=t.tags[p];l.mapbox_clip_start=i.start/i.size,l.mapbox_clip_end=i.end/i.size}var h={geometry:o,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:l};null!==t.id&&(h.id=t.id),e.features.push(h)}}function Ee(e,t,r,n,i,a){var o=n*n;if(n>0&&t.size<(i?o:n))r.numPoints+=t.length/3;else{for(var s=[],u=0;u<t.length;u+=3)(0===n||t[u+2]>o)&&(r.numSimplified++,s.push(t[u]),s.push(t[u+1])),r.numPoints++;i&&function(e,t){for(var r=0,n=0,i=e.length,a=i-2;n<i;a=n,n+=2)r+=(e[n]-e[a])*(e[n+1]+e[a+1]);if(r>0===t)for(n=0,i=e.length;n<i/2;n+=2){var o=e[n],s=e[n+1];e[n]=e[i-2-n],e[n+1]=e[i-1-n],e[i-2-n]=o,e[i-1-n]=s}}(s,a),e.push(s)}}function Te(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)ae(r,e.features[n],t,n);else"Feature"===e.type?ae(r,e,t):ae(r,{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){var r=t.buffer/t.extent,n=e,i=pe(e,1,-1-r,r,0,-1,2,t),a=pe(e,1,1-r,2+r,0,-1,2,t);return(i||a)&&(n=pe(e,1,-r,1+r,0,-1,2,t)||[],i&&(n=be(i,1).concat(n)),a&&(n=n.concat(be(a,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Se(e,t,r){return 32*((1<<e)*r+t)+e}function je(e,t){var r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return t(null,null);var i=new O(n.features),a=j(i);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),t(null,{vectorTile:i,rawData:a.buffer})}H.prototype.load=function(e){var t=this.options,r=t.log,n=t.minZoom,i=t.maxZoom,a=t.nodeSize;r&&console.time("total time");var o="prepare "+e.length+" points";r&&console.time(o),this.points=e;for(var s=[],u=0;u<e.length;u++)e[u].geometry&&s.push(X(e[u],u));this.trees[i+1]=new G(s,ee,te,a,Float32Array),r&&console.timeEnd(o);for(var c=i;c>=n;c--){var l=+Date.now();s=this._cluster(s,c),this.trees[c]=new G(s,ee,te,a,Float32Array),r&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-l)}return r&&console.timeEnd("total time"),this},H.prototype.getClusters=function(e,t){var r=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var o=this.getClusters([r,n,180,a],t),s=this.getClusters([-180,n,i,a],t);return o.concat(s)}for(var u=this.trees[this._limitZoom(t)],c=[],l=0,p=u.range($(r),J(a),$(i),J(n));l<p.length;l+=1){var h=p[l],f=u.points[h];c.push(f.numPoints?K(f):this.points[f.index])}return c},H.prototype.getChildren=function(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(n);var a=i.points[t];if(!a)throw new Error(n);for(var o=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=[],u=0,c=i.within(a.x,a.y,o);u<c.length;u+=1){var l=c[u],p=i.points[l];p.parentId===e&&s.push(p.numPoints?K(p):this.points[p.index])}if(0===s.length)throw new Error(n);return s},H.prototype.getLeaves=function(e,t,r){t=t||10,r=r||0;var n=[];return this._appendLeaves(n,e,t,r,0),n},H.prototype.getTile=function(e,t,r){var n=this.trees[this._limitZoom(e)],i=Math.pow(2,e),a=this.options,o=a.extent,s=a.radius/o,u=(r-s)/i,c=(r+1+s)/i,l={features:[]};return this._addTileFeatures(n.range((t-s)/i,u,(t+1+s)/i,c),n.points,t,r,i,l),0===t&&this._addTileFeatures(n.range(1-s/i,u,1,c),n.points,i,r,i,l),t===i-1&&this._addTileFeatures(n.range(0,u,s/i,c),n.points,-1,r,i,l),l.features.length?l:null},H.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t},H.prototype._appendLeaves=function(e,t,r,n,i){for(var a=0,o=this.getChildren(t);a<o.length;a+=1){var s=o[a],u=s.properties;if(u&&u.cluster?i+u.point_count<=n?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,r,n,i):i<n?i++:e.push(s),e.length===r)break}return i},H.prototype._addTileFeatures=function(e,t,r,n,i,a){for(var o=0,s=e;o<s.length;o+=1){var u=t[s[o]],c=u.numPoints,l={type:1,geometry:[[Math.round(this.options.extent*(u.x*i-r)),Math.round(this.options.extent*(u.y*i-n))]],tags:c?Y(u):this.points[u.index].properties},p=void 0;c?p=u.id:this.options.generateId?p=u.index:this.points[u.index].id&&(p=this.points[u.index].id),void 0!==p&&(l.id=p),a.features.push(l)}},H.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},H.prototype._cluster=function(e,t){for(var r=[],n=this.options,i=n.radius,a=n.extent,o=n.reduce,s=i/(a*Math.pow(2,t)),u=0;u<e.length;u++){var c=e[u];if(!(c.zoom<=t)){c.zoom=t;for(var l=this.trees[t+1],p=l.within(c.x,c.y,s),h=c.numPoints||1,f=c.x*h,d=c.y*h,m=o&&h>1?this._map(c,!0):null,g=(u<<5)+(t+1)+this.points.length,v=0,y=p;v<y.length;v+=1){var b=y[v],_=l.points[b];if(!(_.zoom<=t)){_.zoom=t;var x=_.numPoints||1;f+=_.x*x,d+=_.y*x,h+=x,_.parentId=g,o&&(m||(m=this._map(c,!0)),o(m,this._map(_)))}}1===h?r.push(c):(c.parentId=g,r.push(Z(f/h,d/h,g,h,m)))}}return r},H.prototype._getOriginId=function(e){return e-this.points.length>>5},H.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},H.prototype._map=function(e,t){if(e.numPoints)return t?Q({},e.properties):e.properties;var r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?Q({},n):n},Te.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Te.prototype.splitTile=function(e,t,r,n,i,a,o){for(var s=[e,t,r,n],u=this.options,c=u.debug;s.length;){n=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();var l=1<<t,p=Se(t,r,n),h=this.tiles[p];if(!h&&(c>1&&console.time("creation"),h=this.tiles[p]=Oe(e,t,r,n,u),this.tileCoords.push({z:t,x:r,y:n}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var f="z"+t;this.stats[f]=(this.stats[f]||0)+1,this.total++}if(h.source=e,i){if(t===u.maxZoom||t===i)continue;var d=1<<i-t;if(r!==Math.floor(a/d)||n!==Math.floor(o/d))continue}else if(t===u.indexMaxZoom||h.numPoints<=u.indexMaxPoints)continue;if(h.source=null,0!==e.length){c>1&&console.time("clipping");var m,g,v,y,b,_,x=.5*u.buffer/u.extent,w=.5-x,O=.5+x,k=1+x;m=g=v=y=null,b=pe(e,l,r-x,r+O,0,h.minX,h.maxX,u),_=pe(e,l,r+w,r+k,0,h.minX,h.maxX,u),e=null,b&&(m=pe(b,l,n-x,n+O,1,h.minY,h.maxY,u),g=pe(b,l,n+w,n+k,1,h.minY,h.maxY,u),b=null),_&&(v=pe(_,l,n-x,n+O,1,h.minY,h.maxY,u),y=pe(_,l,n+w,n+k,1,h.minY,h.maxY,u),_=null),c>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*r,2*n),s.push(g||[],t+1,2*r,2*n+1),s.push(v||[],t+1,2*r+1,2*n),s.push(y||[],t+1,2*r+1,2*n+1)}}},Te.prototype.getTile=function(e,t,r){var n=this.options,i=n.extent,a=n.debug;if(e<0||e>24)return null;var o=1<<e,s=Se(e,t=(t%o+o)%o,r);if(this.tiles[s])return xe(this.tiles[s],i);a>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var u,c=e,l=t,p=r;!u&&c>0;)c--,l=Math.floor(l/2),p=Math.floor(p/2),u=this.tiles[Se(c,l,p)];return u&&u.source?(a>1&&console.log("found parent tile z%d-%d-%d",c,l,p),a>1&&console.time("drilling down"),this.splitTile(u.source,c,l,p,e,t,r),a>1&&console.timeEnd("drilling down"),this.tiles[s]?xe(this.tiles[s],i):null):null};var Pe=function(t){function r(e,r,n,i){t.call(this,e,r,n,je),i&&(this.loadGeoJSON=i)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var r=this._pendingCallback,n=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(n&&n.request&&n.request.collectResourceTiming)&&new u.Performance(n.request);this.loadGeoJSON(n,(function(a,o){if(a||!o)return r(a);if("object"!=typeof o)return r(new Error("Input data given to '"+n.source+"' is not a valid GeoJSON object."));!function e(t,r){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(y(e,r)),t;case"GeometryCollection":return t.geometries=t.geometries.map(y(e,r)),t;case"Feature":return t.geometry=e(t.geometry,r),t;case"Polygon":case"MultiPolygon":return function(e,t){return"Polygon"===e.type?e.coordinates=b(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(y(b,t))),e}(t,r);default:return t}}(o,!0);try{t._geoJSONIndex=n.cluster?new H(function(t){var r=t.superclusterOptions,n=t.clusterProperties;if(!n||!r)return r;for(var i={},a={},o={accumulated:null,zoom:0},s={properties:null},u=Object.keys(n),c=0,l=u;c<l.length;c+=1){var p=l[c],h=n[p],f=h[0],d=h[1],m=e.createExpression(d),g=e.createExpression("string"==typeof f?[f,["accumulated"],["get",p]]:f);i[p]=m.value,a[p]=g.value}return r.map=function(e){s.properties=e;for(var t={},r=0,n=u;r<n.length;r+=1){var a=n[r];t[a]=i[a].evaluate(o,s)}return t},r.reduce=function(e,t){s.properties=t;for(var r=0,n=u;r<n.length;r+=1){var i=n[r];o.accumulated=e[i],e[i]=a[i].evaluate(o,s)}},r}(n)).load(o.features):function(e,t){return new Te(e,t)}(o,n.geojsonVtOptions)}catch(a){return r(a)}t.loaded={};var s={};if(i){var u=i.finish();u&&(s.resourceTiming={},s.resourceTiming[n.source]=JSON.parse(JSON.stringify(u)))}r(null,s)}))}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(e,r){var n=this.loaded,i=e.uid;return n&&n[i]?t.prototype.reloadTile.call(this,e,r):this.loadTile(e,r)},r.prototype.loadGeoJSON=function(t,r){if(t.request)e.getJSON(t.request,r);else{if("string"!=typeof t.data)return r(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},r.prototype.getClusterExpansionZoom=function(e,t){t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))},r.prototype.getClusterChildren=function(e,t){t(null,this._geoJSONIndex.getChildren(e.clusterId))},r.prototype.getClusterLeaves=function(e,t){t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))},r}(p),Ce=function(t){var r=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:p,geojson:Pe},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(r.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');r.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return Ce.prototype.setReferrer=function(e,t){this.referrer=t},Ce.prototype.setImages=function(e,t,r){this.availableImages[e]=t,r()},Ce.prototype.setLayers=function(e,t,r){this.getLayerIndex(e).replace(t),r()},Ce.prototype.updateLayers=function(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r()},Ce.prototype.loadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).loadTile(t,r)},Ce.prototype.loadDEMTile=function(e,t,r){this.getDEMWorkerSource(e,t.source).loadTile(t,r)},Ce.prototype.reloadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).reloadTile(t,r)},Ce.prototype.abortTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r)},Ce.prototype.removeTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r)},Ce.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},Ce.prototype.removeSource=function(e,t,r){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,r):r()}},Ce.prototype.loadWorkerSource=function(e,t,r){try{this.self.importScripts(t.url),r()}catch(e){r(e.toString())}},Ce.prototype.syncRTLPluginState=function(t,r,n){try{e.plugin.setState(r);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i){this.self.importScripts(i);var a=e.plugin.isParsed();n(a?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),a)}}catch(e){n(e.toString())}},Ce.prototype.getAvailableImages=function(e){var t=this.availableImages[e];return t||(t=[]),t},Ce.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t},Ce.prototype.getWorkerSource=function(e,t,r){var n=this;if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][r]){var i={send:function(t,r,i){n.actor.send(t,r,i,e)}};this.workerSources[e][t][r]=new this.workerSourceTypes[t](i,this.getLayerIndex(e),this.getAvailableImages(e))}return this.workerSources[e][t][r]},Ce.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new h),this.demWorkerSources[e][t]},Ce.prototype.enforceCacheSizeLimit=function(t,r){e.enforceCacheSizeLimit(r)},"undefined"!=typeof WorkerGlobalScope&&void 0!==e.window&&e.window instanceof WorkerGlobalScope&&(e.window.worker=new Ce(e.window)),Ce})),n(0,(function(e){var t=e.createCommonjsModule((function(e){function t(e){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,r=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(r);try{t=new Worker(n),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(n),e}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(e){return void 0===r[e]&&(r[e]=function(e){var r=document.createElement("canvas"),n=Object.create(t.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,r.probablySupportsContext?r.probablySupportsContext("webgl",n)||r.probablySupportsContext("experimental-webgl",n):r.supportsContext?r.supportsContext("webgl",n)||r.supportsContext("experimental-webgl",n):r.getContext("webgl",n)||r.getContext("experimental-webgl",n)}(e)),r[e]}(e&&e.failIfMajorPerformanceCaveat))}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t);var r={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),r={create:function(t,r,n){var i=e.window.document.createElement(t);return void 0!==r&&(i.className=r),n&&n.appendChild(i),i},createNS:function(t,r){return e.window.document.createElementNS(t,r)}},n=e.window.document.documentElement.style;function i(e){if(!n)return e[0];for(var t=0;t<e.length;t++)if(e[t]in n)return e[t];return e[0]}var a,o=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);r.disableDrag=function(){n&&o&&(a=n[o],n[o]="none")},r.enableDrag=function(){n&&o&&(n[o]=a)};var s=i(["transform","WebkitTransform"]);r.setTransform=function(e,t){e.style[s]=t};var u=!1;try{var c=Object.defineProperty({},"passive",{get:function(){u=!0}});e.window.addEventListener("test",c,c),e.window.removeEventListener("test",c,c)}catch(e){u=!1}r.addEventListener=function(e,t,r,n){void 0===n&&(n={}),"passive"in n&&u?e.addEventListener(t,r,n):e.addEventListener(t,r,n.capture)},r.removeEventListener=function(e,t,r,n){void 0===n&&(n={}),"passive"in n&&u?e.removeEventListener(t,r,n):e.removeEventListener(t,r,n.capture)};var l=function t(r){r.preventDefault(),r.stopPropagation(),e.window.removeEventListener("click",t,!0)};function p(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}r.suppressClick=function(){e.window.addEventListener("click",l,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",l,!0)}),0)},r.mousePos=function(t,r){var n=t.getBoundingClientRect(),i=e.window.TouchEvent&&r instanceof e.window.TouchEvent?r.touches[0]:r;return new e.Point(i.clientX-n.left-t.clientLeft,i.clientY-n.top-t.clientTop)},r.touchPos=function(t,r){for(var n=t.getBoundingClientRect(),i=[],a="touchend"===r.type?r.changedTouches:r.touches,o=0;o<a.length;o++)i.push(new e.Point(a[o].clientX-n.left-t.clientLeft,a[o].clientY-n.top-t.clientTop));return i},r.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},r.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var h=function(t){function r(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.isLoaded=function(){return this.loaded},r.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,r=this.requestors;t<r.length;t+=1){var n=r[t],i=n.ids,a=n.callback;this._notify(i,a)}this.requestors=[]}},r.prototype.getImage=function(e){return this.images[e]},r.prototype.addImage=function(e,t){this._validate(e,t)&&(this.images[e]=t)},r.prototype._validate=function(t,r){var n=!0;return this._validateStretch(r.stretchX,r.data&&r.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchX" value'))),n=!1),this._validateStretch(r.stretchY,r.data&&r.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchY" value'))),n=!1),this._validateContent(r.content,r)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "content" value'))),n=!1),n},r.prototype._validateStretch=function(e,t){if(!e)return!0;for(var r=0,n=0,i=e;n<i.length;n+=1){var a=i[n];if(a[0]<r||a[1]<a[0]||t<a[1])return!1;r=a[1]}return!0},r.prototype._validateContent=function(e,t){return!e||4===e.length&&!(e[0]<0||t.data.width<e[0])&&!(e[1]<0||t.data.height<e[1])&&!(e[2]<0||t.data.width<e[2])&&!(e[3]<0||t.data.height<e[3])&&!(e[2]<e[0])&&!(e[3]<e[1])},r.prototype.updateImage=function(e,t){var r=this.images[e];t.version=r.version+1,this.images[e]=t,this.updatedImages[e]=!0},r.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},r.prototype.listImages=function(){return Object.keys(this.images)},r.prototype.getImages=function(e,t){var r=!0;if(!this.isLoaded())for(var n=0,i=e;n<i.length;n+=1){var a=i[n];this.images[a]||(r=!1)}this.isLoaded()||r?this._notify(e,t):this.requestors.push({ids:e,callback:t})},r.prototype._notify=function(t,r){for(var n={},i=0,a=t;i<a.length;i+=1){var o=a[i];this.images[o]||this.fire(new e.Event("styleimagemissing",{id:o}));var s=this.images[o];s?n[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+o+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}r(null,n)},r.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},r.prototype.getPattern=function(t){var r=this.patterns[t],n=this.getImage(t);if(!n)return null;if(r&&r.position.version===n.version)return r.position;if(r)r.position.version=n.version;else{var i={w:n.data.width+2,h:n.data.height+2,x:0,y:0},a=new e.ImagePosition(i,n);this.patterns[t]={bin:i,position:a}}return this._updatePatternAtlas(),this.patterns[t].position},r.prototype.bind=function(t){var r=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,r.RGBA),this.atlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)},r.prototype._updatePatternAtlas=function(){var t=[];for(var r in this.patterns)t.push(this.patterns[r].bin);var n=e.potpack(t),i=n.w,a=n.h,o=this.atlasImage;for(var s in o.resize({width:i||1,height:a||1}),this.patterns){var u=this.patterns[s].bin,c=u.x+1,l=u.y+1,p=this.images[s].data,h=p.width,f=p.height;e.RGBAImage.copy(p,o,{x:0,y:0},{x:c,y:l},{width:h,height:f}),e.RGBAImage.copy(p,o,{x:0,y:f-1},{x:c,y:l-1},{width:h,height:1}),e.RGBAImage.copy(p,o,{x:0,y:0},{x:c,y:l+f},{width:h,height:1}),e.RGBAImage.copy(p,o,{x:h-1,y:0},{x:c-1,y:l},{width:1,height:f}),e.RGBAImage.copy(p,o,{x:0,y:0},{x:c+h,y:l},{width:1,height:f})}this.dirty=!0},r.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},r.prototype.dispatchRenderCallbacks=function(e){for(var t=0,r=e;t<r.length;t+=1){var n=r[t];if(!this.callbackDispatchedThisFrame[n]){this.callbackDispatchedThisFrame[n]=!0;var i=this.images[n];p(i)&&this.updateImage(n,i)}}},r}(e.Evented),f=g,d=g,m=1e20;function g(e,t,r,n,i,a){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=n||.25,this.fontFamily=i||"sans-serif",this.fontWeight=a||"normal",this.radius=r||8;var o=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.d=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Int16Array(o),this.middle=Math.round(o/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function v(e,t,r,n,i,a,o){for(var s=0;s<t;s++){for(var u=0;u<r;u++)n[u]=e[u*t+s];for(y(n,i,a,o,r),u=0;u<r;u++)e[u*t+s]=i[u]}for(u=0;u<r;u++){for(s=0;s<t;s++)n[s]=e[u*t+s];for(y(n,i,a,o,t),s=0;s<t;s++)e[u*t+s]=Math.sqrt(i[s])}}function y(e,t,r,n,i){r[0]=0,n[0]=-m,n[1]=+m;for(var a=1,o=0;a<i;a++){for(var s=(e[a]+a*a-(e[r[o]]+r[o]*r[o]))/(2*a-2*r[o]);s<=n[o];)o--,s=(e[a]+a*a-(e[r[o]]+r[o]*r[o]))/(2*a-2*r[o]);r[++o]=a,n[o]=s,n[o+1]=+m}for(a=0,o=0;a<i;a++){for(;n[o+1]<a;)o++;t[a]=(a-r[o])*(a-r[o])+e[r[o]]}}g.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),r=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var i=t.data[4*n+3]/255;this.gridOuter[n]=1===i?0:0===i?m:Math.pow(Math.max(0,.5-i),2),this.gridInner[n]=1===i?m:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(v(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),v(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var a=this.gridOuter[n]-this.gridInner[n];r[n]=Math.max(0,Math.min(255,Math.round(255-255*(a/this.radius+this.cutoff))))}return r},f.default=d;var b=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};b.prototype.setURL=function(e){this.url=e},b.prototype.getGlyphs=function(t,r){var n=this,i=[];for(var a in t)for(var o=0,s=t[a];o<s.length;o+=1){var u=s[o];i.push({stack:a,id:u})}e.asyncAll(i,(function(e,t){var r=e.stack,i=e.id,a=n.entries[r];a||(a=n.entries[r]={glyphs:{},requests:{}});var o=a.glyphs[i];if(void 0===o){if(o=n._tinySDF(a,r,i))return a.glyphs[i]=o,void t(null,{stack:r,id:i,glyph:o});var s=Math.floor(i/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else{var u=a.requests[s];u||(u=a.requests[s]=[],b.loadGlyphRange(r,s,n.url,n.requestManager,(function(e,t){if(t)for(var r in t)n._doesCharSupportLocalGlyph(+r)||(a.glyphs[+r]=t[+r]);for(var i=0,o=u;i<o.length;i+=1)(0,o[i])(e,t);delete a.requests[s]}))),u.push((function(e,n){e?t(e):n&&t(null,{stack:r,id:i,glyph:n[i]||null})}))}}else t(null,{stack:r,id:i,glyph:o})}),(function(e,t){if(e)r(e);else if(t){for(var n={},i=0,a=t;i<a.length;i+=1){var o=a[i],s=o.stack,u=o.id,c=o.glyph;(n[s]||(n[s]={}))[u]=c&&{id:c.id,bitmap:c.bitmap.clone(),metrics:c.metrics}}r(null,n)}}))},b.prototype._doesCharSupportLocalGlyph=function(t){return!!this.localIdeographFontFamily&&(e.isChar["CJK Unified Ideographs"](t)||e.isChar["Hangul Syllables"](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))},b.prototype._tinySDF=function(t,r,n){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(n)){var a=t.tinySDF;if(!a){var o="400";/bold/i.test(r)?o="900":/medium/i.test(r)?o="500":/light/i.test(r)&&(o="200"),a=t.tinySDF=new b.TinySDF(24,3,8,.25,i,o)}return{id:n,bitmap:new e.AlphaImage({width:30,height:30},a.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},b.loadGlyphRange=function(t,r,n,i,a){var o=256*r,s=o+255,u=i.transformRequest(i.normalizeGlyphsURL(n).replace("{fontstack}",t).replace("{range}",o+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(u,(function(t,r){if(t)a(t);else if(r){for(var n={},i=0,o=e.parseGlyphPBF(r);i<o.length;i+=1){var s=o[i];n[s.id]=s}a(null,n)}}))},b.TinySDF=f;var _=function(){this.specification=e.styleSpec.light.position};_.prototype.possiblyEvaluate=function(t,r){return e.sphericalToCartesian(t.expression.evaluate(r))},_.prototype.interpolate=function(t,r,n){return{x:e.number(t.x,r.x,n),y:e.number(t.y,r.y,n),z:e.number(t.z,r.z,n)}};var x=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new _,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),w=function(t){function r(r){t.call(this),this._transitionable=new e.Transitionable(x),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getLight=function(){return this._transitionable.serialize()},r.prototype.setLight=function(t,r){if(void 0===r&&(r={}),!this._validate(e.validateLight,t,r))for(var n in t){var i=t[n];e.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-"-transition".length),i):this._transitionable.setValue(n,i)}},r.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},r.prototype.hasTransition=function(){return this._transitioning.hasTransition()},r.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},r.prototype._validate=function(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},r}(e.Evented),O=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};O.prototype.getDash=function(e,t){var r=e.join(",")+String(t);return this.positions[r]||(this.positions[r]=this.addDash(e,t)),this.positions[r]},O.prototype.addDash=function(t,r){var n=r?7:0,i=2*n+1;if(this.nextRow+i>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var a=0,o=0;o<t.length;o++)a+=t[o];for(var s=this.width/a,u=s/2,c=t.length%2==1,l=-n;l<=n;l++)for(var p=this.nextRow+n+l,h=this.width*p,f=c?-t[t.length-1]:0,d=t[0],m=1,g=0;g<this.width;g++){for(;d<g/s;)f=d,d+=t[m],c&&m===t.length-1&&(d+=t[0]),m++;var v=Math.abs(g-f*s),y=Math.abs(g-d*s),b=Math.min(v,y),_=m%2==1,x=void 0;if(r){var w=n?l/n*(u+1):0;if(_){var O=u-Math.abs(w);x=Math.sqrt(b*b+O*O)}else x=u-Math.sqrt(b*b+w*w)}else x=(_?1:-1)*b;this.data[3+4*(h+g)]=Math.max(0,Math.min(255,x+128))}var k={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:a};return this.nextRow+=i,this.dirty=!0,k},O.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))};var k=function t(r,n){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var i=this.workerPool.acquire(this.id),a=0;a<i.length;a++){var o=i[a],s=new t.Actor(o,n,this.id);s.name="Worker "+a,this.actors.push(s)}};function E(t,r,n){var i=function(i,a){if(i)return n(i);if(a){var o=e.pick(e.extend(a,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);a.vector_layers&&(o.vectorLayers=a.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(e){return e.id}))),t.url&&(o.tiles=r.canonicalizeTileset(o,t.url)),n(null,o)}};return t.url?e.getJSON(r.transformRequest(r.normalizeSourceURL(t.url),e.ResourceType.Source),i):e.browser.frame((function(){return i(null,t)}))}k.prototype.broadcast=function(t,r,n){n=n||function(){},e.asyncAll(this.actors,(function(e,n){e.send(t,r,n)}),n)},k.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},k.prototype.remove=function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)},k.Actor=e.Actor;var T=function(t,r,n){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=r||0,this.maxzoom=n||24};T.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},T.prototype.contains=function(t){var r=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*r),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*r),a=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*r),o=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*r);return t.x>=n&&t.x<a&&t.y>=i&&t.y<o};var S=function(t){function r(r,n,i,a){if(t.call(this),this.id=r,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(n,["url","scheme","tileSize"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(a)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=E(this._options,this.map._requestManager,(function(r,n){t._tileJSONRequest=null,t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new T(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles,t.map._requestManager._customAccessToken),e.postMapLoadEvent(n.tiles,t.map._getMapId(),t.map._requestManager._skuToken,t.map._requestManager._customAccessToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.loadTile=function(t,r){var n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,null),i={request:this.map._requestManager.transformRequest(n,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function a(n,i){return delete t.request,t.aborted?r(null):n&&404!==n.status?r(n):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),r(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=r:t.request=t.actor.send("reloadTile",i,a.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",i,a.bind(this)))},r.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)},r.prototype.unloadTile=function(e){e.unloadVectorData(),e.clearMask(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)},r.prototype.hasTransition=function(){return!1},r}(e.Evented),j=function(t){function r(r,n,i,a){t.call(this),this.id=r,this.dispatcher=i,this.setEventedParent(a),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=E(this._options,this.map._requestManager,(function(r,n){t._tileJSONRequest=null,t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new T(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles),e.postMapLoadEvent(n.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.loadTile=function(t,r){var n=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(function(i,a){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(i)t.state="errored",r(i);else if(a){n.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=n.map.painter.context,s=o.gl;t.texture=n.map.painter.getTileTexture(a.width),t.texture?t.texture.update(a,{useMipmap:!0}):(t.texture=new e.Texture(o,a,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(n.dispatcher),r(null)}}))},r.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},r.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),e.clearMask(),t()},r.prototype.hasTransition=function(){return!1},r}(e.Evented),P=function(t){function r(r,n,i,a){t.call(this,r,n,i,a),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},r.prototype.loadTile=function(t,r){var n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);function i(e,n){e&&(t.state="errored",r(e)),n&&(t.dem=n,t.needsHillshadePrepare=!0,t.state="loaded",r(null))}t.request=e.getImage(this.map._requestManager.transformRequest(n,e.ResourceType.Tile),function(n,a){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(n)t.state="errored",r(n);else if(a){this.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=e.browser.getImageData(a,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:o,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",s,i.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},r.prototype._getNeighboringTiles=function(t){var r=t.canonical,n=Math.pow(2,r.z),i=(r.x-1+n)%n,a=0===r.x?t.wrap-1:t.wrap,o=(r.x+1+n)%n,s=r.x+1===n?t.wrap+1:t.wrap,u={};return u[new e.OverscaledTileID(t.overscaledZ,a,r.z,i,r.y).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,r.z,o,r.y).key]={backfilled:!1},r.y>0&&(u[new e.OverscaledTileID(t.overscaledZ,a,r.z,i,r.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,r.z,o,r.y-1).key]={backfilled:!1}),r.y+1<n&&(u[new e.OverscaledTileID(t.overscaledZ,a,r.z,i,r.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,r.z,o,r.y+1).key]={backfilled:!1}),u},r.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.clearMask(),e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})},r}(j),C=function(t){function r(r,n,i,a){t.call(this),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(a),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution);var o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*o,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:e.EXTENT,radius:(n.clusterRadius||50)*o,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties},n.workerOptions)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(r){if(r)t.fire(new e.ErrorEvent(r));else{var n={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(n.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",n))}}))},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setData=function(t){var r=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(t){if(t)r.fire(new e.ErrorEvent(t));else{var n={dataType:"source",sourceDataType:"content"};r._collectResourceTiming&&r._resourceTiming&&r._resourceTiming.length>0&&(n.resourceTiming=r._resourceTiming,r._resourceTiming=[]),r.fire(new e.Event("data",n))}})),this},r.prototype.getClusterExpansionZoom=function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this},r.prototype.getClusterChildren=function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this},r.prototype.getClusterLeaves=function(e,t,r,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:r},n),this},r.prototype._updateWorkerData=function(t){var r=this;this._loaded=!1;var n=e.extend({},this.workerOptions),i=this._data;"string"==typeof i?(n.request=this.map._requestManager.transformRequest(e.browser.resolveURL(i),e.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(i),this.actor.send(this.type+".loadData",n,(function(e,i){r._removed||i&&i.abandoned||(r._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[r.id]&&(r._resourceTiming=i.resourceTiming[r.id].slice(0)),r.actor.send(r.type+".coalesce",{source:n.source},null),t(e))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.loadTile=function(t,r){var n=this,i=t.actor?"reloadTile":"loadTile";t.actor=this.actor;var a={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};t.request=this.actor.send(i,a,(function(e,a){return delete t.request,t.unloadVectorData(),t.aborted?r(null):e?r(e):(t.loadVectorData(a,n.map.painter,"reloadTile"===i),r(null))}))},r.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0},r.prototype.unloadTile=function(e){e.unloadVectorData(),e.clearMask(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})},r.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},r.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},r.prototype.hasTransition=function(){return!1},r}(e.Evented),A=function(t){function r(e,r,n,i){t.call(this),this.id=e,this.dispatcher=n,this.coordinates=r.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=r}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(t,r){var n=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(i,a){n._loaded=!0,i?n.fire(new e.ErrorEvent(i)):a&&(n.image=a,t&&(n.coordinates=t),r&&r(),n._finishLoading())}))},r.prototype.loaded=function(){return this._loaded},r.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this},r.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setCoordinates=function(t){var r=this;this.coordinates=t;var n=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var r=1/0,n=1/0,i=-1/0,a=-1/0,o=0,s=t;o<s.length;o+=1){var u=s[o];r=Math.min(r,u.x),n=Math.min(n,u.y),i=Math.max(i,u.x),a=Math.max(a,u.y)}var c=i-r,l=a-n,p=Math.max(c,l),h=Math.max(0,Math.floor(-Math.log(p)/Math.LN2)),f=Math.pow(2,h);return new e.CanonicalTileID(h,Math.floor((r+i)/2*f),Math.floor((n+a)/2*f))}(n),this.minzoom=this.maxzoom=this.tileID.z;var i=n.map((function(e){return r.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},r.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,r=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[n];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},r.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},r.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return!1},r}(e.Evented),M=function(t){function r(e,r,n,i){t.call(this,e,r,n,i),this.roundZoom=!0,this.type="video",this.options=r}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1;var r=this.options;this.urls=[];for(var n=0,i=r.urls;n<i.length;n+=1){var a=i[n];this.urls.push(this.map._requestManager.transformRequest(a,e.ResourceType.Source).url)}e.getVideo(this.urls,(function(r,n){t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(t.video=n,t.video.loop=!0,t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))},r.prototype.pause=function(){this.video&&this.video.pause()},r.prototype.play=function(){this.video&&this.video.play()},r.prototype.seek=function(t){if(this.video){var r=this.video.seekable;t<r.start(0)||t>r.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+r.start(0)+" and "+r.end(0)+"-second mark."))):this.video.currentTime=t}},r.prototype.getVideo=function(){return this.video},r.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},r.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,r=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[n];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this.video&&!this.video.paused},r}(A),I=function(t){function r(r,n,i,a){t.call(this,r,n,i,a),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},r.prototype.getCanvas=function(){return this.canvas},r.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},r.prototype.onRemove=function(){this.pause()},r.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var r=this.map.painter.context,n=r.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=r.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(r,this.canvas,n.RGBA,{premultiply:!0}),this.tiles){var a=this.tiles[i];"loaded"!==a.state&&(a.state="loaded",a.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this._playing},r.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var r=t[e];if(isNaN(r)||r<=0)return!0}return!1},r}(A),R={vector:S,raster:j,"raster-dem":P,geojson:C,video:M,image:A,canvas:I},L=function(t,r,n,i){var a=new R[r.type](t,r,n,i);if(a.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+a.id);return e.bindAll(["load","abort","unload","serialize","prepare"],a),a};function z(t,r){var n=e.identity([]);return e.translate(n,n,[1,1,0]),e.scale(n,n,[.5*t.width,.5*t.height,1]),e.multiply(n,n,t.calculatePosMatrix(r.toUnwrapped()))}function D(e,t,r,n,i){var a=function(e,t,r){if(e)for(var n=0,i=e;n<i.length;n+=1){var a=t[i[n]];if(a&&a.source===r&&"fill-extrusion"===a.type)return!0}else for(var o in t){var s=t[o];if(s.source===r&&"fill-extrusion"===s.type)return!0}return!1}(n&&n.layers,t,e.id),o=i.maxPitchScaleFactor(),s=e.tilesIn(r,o,a);s.sort(F);for(var u=[],c=0,l=s;c<l.length;c+=1){var p=l[c];u.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(t,e._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,n,i,o,z(e.transform,p.tileID))})}var h=function(e){for(var t={},r={},n=0,i=e;n<i.length;n+=1){var a=i[n],o=a.queryResults,s=a.wrappedTileID,u=r[s]=r[s]||{};for(var c in o)for(var l=o[c],p=u[c]=u[c]||{},h=t[c]=t[c]||[],f=0,d=l;f<d.length;f+=1){var m=d[f];p[m.featureIndex]||(p[m.featureIndex]=!0,h.push(m))}}return t}(u);for(var f in h)h[f].forEach((function(t){var r=t.feature,n=e.getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=n}));return h}function F(e,t){var r=e.tileID,n=t.tileID;return r.overscaledZ-n.overscaledZ||r.canonical.y-n.canonical.y||r.wrap-n.wrap||r.canonical.x-n.canonical.x}var B=function(e,t){this.max=e,this.onRemove=t,this.reset()};B.prototype.reset=function(){for(var e in this.data)for(var t=0,r=this.data[e];t<r.length;t+=1){var n=r[t];n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value)}return this.data={},this.order=[],this},B.prototype.add=function(e,t,r){var n=this,i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var a={value:t,timeout:void 0};if(void 0!==r&&(a.timeout=setTimeout((function(){n.remove(e,a)}),r)),this.data[i].push(a),this.order.push(i),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this},B.prototype.has=function(e){return e.wrapped().key in this.data},B.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},B.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},B.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},B.prototype.remove=function(e,t){if(!this.has(e))return this;var r=e.wrapped().key,n=void 0===t?0:this.data[r].indexOf(t),i=this.data[r][n];return this.data[r].splice(n,1),i.timeout&&clearTimeout(i.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(i.value),this.order.splice(this.order.indexOf(r),1),this},B.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this},B.prototype.filter=function(e){var t=[];for(var r in this.data)for(var n=0,i=this.data[r];n<i.length;n+=1){var a=i[n];e(a.value)||t.push(a)}for(var o=0,s=t;o<s.length;o+=1){var u=s[o];this.remove(u.value.tileID,u)}};var N=function(e,t,r){this.context=e;var n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};N.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},N.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},N.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var q={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},U=function(e,t,r,n){this.length=t.length,this.attributes=r,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,this.context=e;var i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};U.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},U.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},U.prototype.enableAttributes=function(e,t){for(var r=0;r<this.attributes.length;r++){var n=this.attributes[r],i=t.attributes[n.name];void 0!==i&&e.enableVertexAttribArray(i)}},U.prototype.setVertexAttribPointers=function(e,t,r){for(var n=0;n<this.attributes.length;n++){var i=this.attributes[n],a=t.attributes[i.name];void 0!==a&&e.vertexAttribPointer(a,i.components,e[q[i.type]],!1,this.itemSize,i.offset+this.itemSize*(r||0))}},U.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var V=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};V.prototype.get=function(){return this.current},V.prototype.set=function(e){},V.prototype.getDefault=function(){return this.default},V.prototype.setDefault=function(){this.set(this.default)};var G=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getDefault=function(){return e.Color.transparent},r.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},r}(V),W=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(V),H=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(V),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(V),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(V),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(V),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(V),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(V),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(V),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(V),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(V),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(V),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(V),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(V),ie=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getDefault=function(){return e.Color.transparent},r.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},r}(V),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(V),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(V),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(V),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(V),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(V),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(V),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(V),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(V),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(V),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(V),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(V),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(V),ve=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(V),ye=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(V),be=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(V),_e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(V),xe=function(e){function t(t,r){e.call(this,t),this.context=t,this.parent=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t}(V),we=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(xe),Oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(xe),ke=function(e,t,r){this.context=e,this.width=t,this.height=r;var n=e.gl,i=this.framebuffer=n.createFramebuffer();this.colorAttachment=new we(e,i),this.depthAttachment=new Oe(e,i)};ke.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();t&&e.deleteTexture(t);var r=this.depthAttachment.get();r&&e.deleteRenderbuffer(r),e.deleteFramebuffer(this.framebuffer)};var Ee=function(e,t,r){this.func=e,this.mask=t,this.range=r};Ee.ReadOnly=!1,Ee.ReadWrite=!0,Ee.disabled=new Ee(519,Ee.ReadOnly,[0,1]);var Te=function(e,t,r,n,i,a){this.test=e,this.ref=t,this.mask=r,this.fail=n,this.depthFail=i,this.pass=a};Te.disabled=new Te({func:519,mask:0},0,0,7680,7680,7680);var Se=function(e,t,r){this.blendFunction=e,this.blendColor=t,this.mask=r};Se.disabled=new Se(Se.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),Se.unblended=new Se(Se.Replace,e.Color.transparent,[!0,!0,!0,!0]),Se.alphaBlended=new Se([1,771],e.Color.transparent,[!0,!0,!0,!0]);var je=function(e,t,r){this.enable=e,this.mode=t,this.frontFace=r};je.disabled=new je(!1,1029,2305),je.backCCW=new je(!0,1029,2305);var Pe=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new G(this),this.clearDepth=new W(this),this.clearStencil=new H(this),this.colorMask=new Z(this),this.depthMask=new X(this),this.stencilMask=new K(this),this.stencilFunc=new Y(this),this.stencilOp=new $(this),this.stencilTest=new J(this),this.depthRange=new Q(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new re(this),this.blendFunc=new ne(this),this.blendColor=new ie(this),this.blendEquation=new ae(this),this.cullFace=new oe(this),this.cullFaceSide=new se(this),this.frontFace=new ue(this),this.program=new ce(this),this.activeTexture=new le(this),this.viewport=new pe(this),this.bindFramebuffer=new he(this),this.bindRenderbuffer=new fe(this),this.bindTexture=new de(this),this.bindVertexBuffer=new me(this),this.bindElementBuffer=new ge(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ve(this),this.pixelStoreUnpack=new ye(this),this.pixelStoreUnpackPremultiplyAlpha=new be(this),this.pixelStoreUnpackFlipY=new _e(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&e.getExtension("OES_texture_half_float_linear"),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query")};Pe.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Pe.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Pe.prototype.createIndexBuffer=function(e,t){return new N(this,e,t)},Pe.prototype.createVertexBuffer=function(e,t,r){return new U(this,e,t,r)},Pe.prototype.createRenderbuffer=function(e,t,r){var n=this.gl,i=n.createRenderbuffer();return this.bindRenderbuffer.set(i),n.renderbufferStorage(n.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),i},Pe.prototype.createFramebuffer=function(e,t){return new ke(this,e,t)},Pe.prototype.clear=function(e){var t=e.color,r=e.depth,n=this.gl,i=0;t&&(i|=n.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==r&&(i|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(r),this.depthMask.set(!0)),n.clear(i)},Pe.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Pe.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Pe.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Pe.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Se.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Pe.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ce=function(t){function r(r,n,i){var a=this;t.call(this),this.id=r,this.dispatcher=i,this.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(a._sourceLoaded=!0),a._sourceLoaded&&!a._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(a.reload(),a.transform&&a.update(a.transform))})),this.on("error",(function(){a._sourceErrored=!0})),this._source=L(r,n,i,this),this._tiles={},this._cache=new B(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},r.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},r.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},r.prototype.getSource=function(){return this._source},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},r.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},r.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))},r.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))},r.prototype.serialize=function(){return this._source.serialize()},r.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var r=this._tiles[t];r.upload(e),r.prepare(this.map.style.imageManager)}},r.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(Ae)},r.prototype.getRenderableIds=function(t){var r=this,n=[];for(var i in this._tiles)this._isIdRenderable(+i,t)&&n.push(+i);return t?n.sort((function(t,n){var i=r._tiles[t].tileID,a=r._tiles[n].tileID,o=new e.Point(i.canonical.x,i.canonical.y)._rotate(r.transform.angle),s=new e.Point(a.canonical.x,a.canonical.y)._rotate(r.transform.angle);return i.overscaledZ-a.overscaledZ||s.y-o.y||s.x-o.x})):n.sort(Ae)},r.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},r.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},r.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},r.prototype._reloadTile=function(e,t){var r=this._tiles[e];r&&("loading"!==r.state&&(r.state=t),this._loadTile(r,this._tileLoaded.bind(this,r,e,t)))},r.prototype._tileLoaded=function(t,r,n,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(r,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},r.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),r=0;r<t.length;r++){var n=t[r];if(e.neighboringTiles&&e.neighboringTiles[n]){var i=this.getTileByID(n);a(e,i),a(i,e)}}function a(e,t){e.needsHillshadePrepare=!0;var r=t.tileID.canonical.x-e.tileID.canonical.x,n=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),a=t.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+i)?r+=i:1===Math.abs(r-i)&&(r-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,n),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)))}},r.prototype.getTile=function(e){return this.getTileByID(e.key)},r.prototype.getTileByID=function(e){return this._tiles[e]},r.prototype._retainLoadedChildren=function(e,t,r,n){for(var i in this._tiles){var a=this._tiles[i];if(!(n[i]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>r)){for(var o=a.tileID;a&&a.tileID.overscaledZ>t+1;){var s=a.tileID.scaledTo(a.tileID.overscaledZ-1);(a=this._tiles[s.key])&&a.hasData()&&(o=s)}for(var u=o;u.overscaledZ>t;)if(e[(u=u.scaledTo(u.overscaledZ-1)).key]){n[o.key]=o;break}}}},r.prototype.findLoadedParent=function(e,t){for(var r=e.overscaledZ-1;r>=t;r--){var n=e.scaledTo(r);if(!n)return;var i=String(n.key),a=this._tiles[i];if(a&&a.hasData())return a;if(this._cache.has(n))return this._cache.get(n)}},r.prototype.updateCacheSize=function(e){var t=(Math.ceil(e.width/this._source.tileSize)+1)*(Math.ceil(e.height/this._source.tileSize)+1),r=Math.floor(5*t),n="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(n)},r.prototype.handleWrapJump=function(e){var t=(e-(void 0===this._prevLng?e:this._prevLng))/360,r=Math.round(t);if(this._prevLng=e,r){var n={};for(var i in this._tiles){var a=this._tiles[i];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+r),n[a.tileID.key]=a}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var s in this._tiles){var u=this._tiles[s];this._setTileReloadTimer(s,u)}}},r.prototype.update=function(t){var n=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(e){return n._source.hasTile(e)})))):i=[];var a=t.coveringZoomLevel(this._source),o=Math.max(a-r.maxOverzooming,this._source.minzoom),s=Math.max(a+r.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(i,a);if(Me(this._source.type)){for(var c={},l={},p=0,h=Object.keys(u);p<h.length;p+=1){var f=h[p],d=u[f],m=this._tiles[f];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=e.browser.now())){var g=this.findLoadedParent(d,o);g&&(this._addTile(g.tileID),c[g.tileID.key]=g.tileID),l[f]=d}}for(var v in this._retainLoadedChildren(l,a,s,u),c)u[v]||(this._coveredTiles[v]=!0,u[v]=c[v])}for(var y in u)this._tiles[y].clearFadeHold();for(var b=0,_=e.keysDifference(this._tiles,u);b<_.length;b+=1){var x=_[b],w=this._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(x)}}},r.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},r.prototype._updateRetainedTiles=function(e,t){for(var n={},i={},a=Math.max(t-r.maxOverzooming,this._source.minzoom),o=Math.max(t+r.maxUnderzooming,this._source.minzoom),s={},u=0,c=e;u<c.length;u+=1){var l=c[u],p=this._addTile(l);n[l.key]=l,p.hasData()||t<this._source.maxzoom&&(s[l.key]=l)}this._retainLoadedChildren(s,t,o,n);for(var h=0,f=e;h<f.length;h+=1){var d=f[h],m=this._tiles[d.key];if(!m.hasData()){if(t+1>this._source.maxzoom){var g=d.children(this._source.maxzoom)[0],v=this.getTile(g);if(v&&v.hasData()){n[g.key]=g;continue}}else{var y=d.children(this._source.maxzoom);if(n[y[0].key]&&n[y[1].key]&&n[y[2].key]&&n[y[3].key])continue}for(var b=m.wasRequested(),_=d.overscaledZ-1;_>=a;--_){var x=d.scaledTo(_);if(i[x.key])break;if(i[x.key]=!0,!(m=this.getTile(x))&&b&&(m=this._addTile(x)),m&&(n[x.key]=x,b=m.wasRequested(),m.hasData()))break}}}return n},r.prototype._addTile=function(t){var r=this._tiles[t.key];if(r)return r;(r=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,r),r.tileID=t,this._state.initializeTileState(r,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,r)));var n=Boolean(r);return n||(r=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(r,this._tileLoaded.bind(this,r,t.key,r.state))),r?(r.uses++,this._tiles[t.key]=r,n||this._source.fire(new e.Event("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r):null},r.prototype._setTileReloadTimer=function(e,t){var r=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((function(){r._reloadTile(e,"expired"),delete r._timers[e]}),n))},r.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},r.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},r.prototype.tilesIn=function(t,r,n){var i=this,a=[],o=this.transform;if(!o)return a;for(var s=n?o.getCameraQueryGeometry(t):t,u=t.map((function(e){return o.pointCoordinate(e)})),c=s.map((function(e){return o.pointCoordinate(e)})),l=this.getIds(),p=1/0,h=1/0,f=-1/0,d=-1/0,m=0,g=c;m<g.length;m+=1){var v=g[m];p=Math.min(p,v.x),h=Math.min(h,v.y),f=Math.max(f,v.x),d=Math.max(d,v.y)}for(var y=function(t){var n=i._tiles[l[t]];if(!n.holdingForFade()){var s=n.tileID,m=Math.pow(2,o.zoom-n.tileID.overscaledZ),g=r*n.queryPadding*e.EXTENT/n.tileSize/m,v=[s.getTilePoint(new e.MercatorCoordinate(p,h)),s.getTilePoint(new e.MercatorCoordinate(f,d))];if(v[0].x-g<e.EXTENT&&v[0].y-g<e.EXTENT&&v[1].x+g>=0&&v[1].y+g>=0){var y=u.map((function(e){return s.getTilePoint(e)})),b=c.map((function(e){return s.getTilePoint(e)}));a.push({tile:n,tileID:s,queryGeometry:y,cameraQueryGeometry:b,scale:m})}}},b=0;b<l.length;b++)y(b);return a},r.prototype.getVisibleCoordinates=function(e){for(var t=this,r=this.getRenderableIds(e).map((function(e){return t._tiles[e].tileID})),n=0,i=r;n<i.length;n+=1){var a=i[n];a.posMatrix=this.transform.calculatePosMatrix(a.toUnwrapped())}return r},r.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Me(this._source.type))for(var t in this._tiles){var r=this._tiles[t];if(void 0!==r.fadeEndTime&&r.fadeEndTime>=e.browser.now())return!0}return!1},r.prototype.setFeatureState=function(e,t,r){e=e||"_geojsonTileLayer",this._state.updateState(e,t,r)},r.prototype.removeFeatureState=function(e,t,r){e=e||"_geojsonTileLayer",this._state.removeFeatureState(e,t,r)},r.prototype.getFeatureState=function(e,t){return e=e||"_geojsonTileLayer",this._state.getState(e,t)},r.prototype.setDependencies=function(e,t,r){var n=this._tiles[e];n&&n.setDependencies(t,r)},r.prototype.reloadTilesForDependencies=function(e,t){for(var r in this._tiles)this._tiles[r].hasDependency(e,t)&&this._reloadTile(r,"reloading");this._cache.filter((function(r){return!r.hasDependency(e,t)}))},r}(e.Evented);function Ae(e,t){return e%32-t%32||t-e}function Me(e){return"raster"===e||"image"===e||"video"===e}function Ie(){return new e.window.Worker(si.workerUrl)}Ce.maxOverzooming=10,Ce.maxUnderzooming=3;var Re=function(){this.active={}};Re.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<Re.workerCount;)this.workers.push(new Ie);return this.active[e]=!0,this.workers.slice()},Re.prototype.release=function(e){delete this.active[e],0===Object.keys(this.active).length&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)};var Le,ze=Math.floor(e.browser.hardwareConcurrency/2);function De(t,r){var n={};for(var i in t)"ref"!==i&&(n[i]=t[i]);return e.refProperties.forEach((function(e){e in r&&(n[e]=r[e])})),n}function Fe(e){e=e.slice();for(var t=Object.create(null),r=0;r<e.length;r++)t[e[r].id]=e[r];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=De(e[n],t[e[n].ref]));return e}Re.workerCount=Math.max(Math.min(ze,6),1);var Be={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ne(e,t,r){r.push({command:Be.addSource,args:[e,t[e]]})}function qe(e,t,r){t.push({command:Be.removeSource,args:[e]}),r[e]=!0}function Ue(e,t,r,n){qe(e,r,n),Ne(e,t,r)}function Ve(t,r,n){var i;for(i in t[n])if(t[n].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[n][i],r[n][i]))return!1;for(i in r[n])if(r[n].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[n][i],r[n][i]))return!1;return!0}function Ge(t,r,n,i,a,o){var s;for(s in r=r||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],r[s])||n.push({command:o,args:[i,s,r[s],a]}));for(s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],r[s])||n.push({command:o,args:[i,s,r[s],a]}))}function We(e){return e.id}function He(e,t){return e[t.id]=t,e}var Ze=function(e,t,r){var n=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(var a=0;a<this.xCellCount*this.yCellCount;a++)n.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};function Xe(t,r,n,i,a){var o=e.create();return r?(e.scale(o,o,[1/a,1/a,1]),n||e.rotateZ(o,o,i.angle)):e.multiply(o,i.labelPlaneMatrix,t),o}function Ke(t,r,n,i,a){if(r){var o=e.clone(t);return e.scale(o,o,[a,a,1]),n||e.rotateZ(o,o,-i.angle),o}return i.glCoordMatrix}function Ye(t,r){var n=[t.x,t.y,0,1];ot(n,n,r);var i=n[3];return{point:new e.Point(n[0]/i,n[1]/i),signedDistanceFromCamera:i}}function $e(e,t){var r=e[0]/e[3],n=e[1]/e[3];return r>=-t[0]&&r<=t[0]&&n>=-t[1]&&n<=t[1]}function Je(t,r,n,i,a,o,s,u){var c=i?t.textSizeData:t.iconSizeData,l=e.evaluateSizeForZoom(c,n.transform.zoom),p=[256/n.width*2+1,256/n.height*2+1],h=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;h.clear();for(var f=t.lineVertexArray,d=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,m=n.transform.width/n.transform.height,g=!1,v=0;v<d.length;v++){var y=d.get(v);if(y.hidden||y.writingMode===e.WritingMode.vertical&&!g)at(y.numGlyphs,h);else{g=!1;var b=[y.anchorX,y.anchorY,0,1];if(e.transformMat4(b,b,r),$e(b,p)){var _=.5+b[3]/n.transform.cameraToCenterDistance*.5,x=e.evaluateSizeForFeature(c,l,y),w=s?x*_:x/_,O=new e.Point(y.anchorX,y.anchorY),k=Ye(O,a).point,E={},T=tt(y,w,!1,u,r,a,o,t.glyphOffsetArray,f,h,k,O,E,m);g=T.useVertical,(T.notEnoughRoom||g||T.needsFlipping&&tt(y,w,!0,u,r,a,o,t.glyphOffsetArray,f,h,k,O,E,m).notEnoughRoom)&&at(y.numGlyphs,h)}else at(y.numGlyphs,h)}}i?t.text.dynamicLayoutVertexBuffer.updateData(h):t.icon.dynamicLayoutVertexBuffer.updateData(h)}function Qe(e,t,r,n,i,a,o,s,u,c,l,p){var h=s.glyphStartIndex+s.numGlyphs,f=s.lineStartIndex,d=s.lineStartIndex+s.lineLength,m=t.getoffsetX(s.glyphStartIndex),g=t.getoffsetX(h-1),v=nt(e*m,r,n,i,a,o,s.segment,f,d,u,c,l,p);if(!v)return null;var y=nt(e*g,r,n,i,a,o,s.segment,f,d,u,c,l,p);return y?{first:v,last:y}:null}function et(t,r,n,i){return t===e.WritingMode.horizontal&&Math.abs(n.y-r.y)>Math.abs(n.x-r.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?r.y<n.y:r.x>n.x)?{needsFlipping:!0}:null}function tt(t,r,n,i,a,o,s,u,c,l,p,h,f,d){var m,g=r/24,v=t.lineOffsetX*g,y=t.lineOffsetY*g;if(t.numGlyphs>1){var b=t.glyphStartIndex+t.numGlyphs,_=t.lineStartIndex,x=t.lineStartIndex+t.lineLength,w=Qe(g,u,v,y,n,p,h,t,c,o,f,!1);if(!w)return{notEnoughRoom:!0};var O=Ye(w.first.point,s).point,k=Ye(w.last.point,s).point;if(i&&!n){var E=et(t.writingMode,O,k,d);if(E)return E}m=[w.first];for(var T=t.glyphStartIndex+1;T<b-1;T++)m.push(nt(g*u.getoffsetX(T),v,y,n,p,h,t.segment,_,x,c,o,f,!1));m.push(w.last)}else{if(i&&!n){var S=Ye(h,a).point,j=t.lineStartIndex+t.segment+1,P=new e.Point(c.getx(j),c.gety(j)),C=Ye(P,a),A=C.signedDistanceFromCamera>0?C.point:rt(h,P,S,1,a),M=et(t.writingMode,S,A,d);if(M)return M}var I=nt(g*u.getoffsetX(t.glyphStartIndex),v,y,n,p,h,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,o,f,!1);if(!I)return{notEnoughRoom:!0};m=[I]}for(var R=0,L=m;R<L.length;R+=1){var z=L[R];e.addDynamicAttributes(l,z.point,z.angle)}return{}}function rt(e,t,r,n,i){var a=Ye(e.add(e.sub(t)._unit()),i).point,o=r.sub(a);return r.add(o._mult(n/o.mag()))}function nt(t,r,n,i,a,o,s,u,c,l,p,h,f){var d=i?t-r:t+r,m=d>0?1:-1,g=0;i&&(m*=-1,g=Math.PI),m<0&&(g+=Math.PI);for(var v=m>0?u+s:u+s+1,y=v,b=a,_=a,x=0,w=0,O=Math.abs(d);x+w<=O;){if((v+=m)<u||v>=c)return null;if(_=b,void 0===(b=h[v])){var k=new e.Point(l.getx(v),l.gety(v)),E=Ye(k,p);if(E.signedDistanceFromCamera>0)b=h[v]=E.point;else{var T=v-m;b=rt(0===x?o:new e.Point(l.getx(T),l.gety(T)),k,_,O-x+1,p)}}x+=w,w=_.dist(b)}var S=(O-x)/w,j=b.sub(_),P=j.mult(S)._add(_);return P._add(j._unit()._perp()._mult(n*m)),{point:P,angle:g+Math.atan2(b.y-_.y,b.x-_.x),tileDistance:f?{prevTileDistance:v-m===y?0:l.gettileUnitDistanceFromAnchor(v-m),lastSegmentViewportDistance:O-x}:null}}Ze.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ze.prototype.insert=function(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)},Ze.prototype.insertCircle=function(e,t,r,n){this._forEachCell(t-n,r-n,t+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(n)},Ze.prototype._insertBoxCell=function(e,t,r,n,i,a){this.boxCells[i].push(a)},Ze.prototype._insertCircleCell=function(e,t,r,n,i,a){this.circleCells[i].push(a)},Ze.prototype._query=function(e,t,r,n,i,a){if(r<0||e>this.width||n<0||t>this.height)return!i&&[];var o=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=n){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)o.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var c=this.circles[3*u],l=this.circles[3*u+1],p=this.circles[3*u+2];o.push({key:this.circleKeys[u],x1:c-p,y1:l-p,x2:c+p,y2:l+p})}return a?o.filter(a):o}var h={hitTest:i,seenUids:{box:{},circle:{}}};return this._forEachCell(e,t,r,n,this._queryCell,o,h,a),i?o.length>0:o},Ze.prototype._queryCircle=function(e,t,r,n,i){var a=e-r,o=e+r,s=t-r,u=t+r;if(o<0||a>this.width||u<0||s>this.height)return!n&&[];var c=[],l={hitTest:n,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}};return this._forEachCell(a,s,o,u,this._queryCellCircle,c,l,i),n?c.length>0:c},Ze.prototype.query=function(e,t,r,n,i){return this._query(e,t,r,n,!1,i)},Ze.prototype.hitTest=function(e,t,r,n,i){return this._query(e,t,r,n,!0,i)},Ze.prototype.hitTestCircle=function(e,t,r,n){return this._queryCircle(e,t,r,!0,n)},Ze.prototype._queryCell=function(e,t,r,n,i,a,o,s){var u=o.seenUids,c=this.boxCells[i];if(null!==c)for(var l=this.bboxes,p=0,h=c;p<h.length;p+=1){var f=h[p];if(!u.box[f]){u.box[f]=!0;var d=4*f;if(e<=l[d+2]&&t<=l[d+3]&&r>=l[d+0]&&n>=l[d+1]&&(!s||s(this.boxKeys[f]))){if(o.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[f],x1:l[d],y1:l[d+1],x2:l[d+2],y2:l[d+3]})}}}var m=this.circleCells[i];if(null!==m)for(var g=this.circles,v=0,y=m;v<y.length;v+=1){var b=y[v];if(!u.circle[b]){u.circle[b]=!0;var _=3*b;if(this._circleAndRectCollide(g[_],g[_+1],g[_+2],e,t,r,n)&&(!s||s(this.circleKeys[b]))){if(o.hitTest)return a.push(!0),!0;var x=g[_],w=g[_+1],O=g[_+2];a.push({key:this.circleKeys[b],x1:x-O,y1:w-O,x2:x+O,y2:w+O})}}}},Ze.prototype._queryCellCircle=function(e,t,r,n,i,a,o,s){var u=o.circle,c=o.seenUids,l=this.boxCells[i];if(null!==l)for(var p=this.bboxes,h=0,f=l;h<f.length;h+=1){var d=f[h];if(!c.box[d]){c.box[d]=!0;var m=4*d;if(this._circleAndRectCollide(u.x,u.y,u.radius,p[m+0],p[m+1],p[m+2],p[m+3])&&(!s||s(this.boxKeys[d])))return a.push(!0),!0}}var g=this.circleCells[i];if(null!==g)for(var v=this.circles,y=0,b=g;y<b.length;y+=1){var _=b[y];if(!c.circle[_]){c.circle[_]=!0;var x=3*_;if(this._circlesCollide(v[x],v[x+1],v[x+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[_])))return a.push(!0),!0}}},Ze.prototype._forEachCell=function(e,t,r,n,i,a,o,s){for(var u=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),l=this._convertToXCellCoord(r),p=this._convertToYCellCoord(n),h=u;h<=l;h++)for(var f=c;f<=p;f++){var d=this.xCellCount*f+h;if(i.call(this,e,t,r,n,d,a,o,s))return}},Ze.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},Ze.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},Ze.prototype._circlesCollide=function(e,t,r,n,i,a){var o=n-e,s=i-t,u=r+a;return u*u>o*o+s*s},Ze.prototype._circleAndRectCollide=function(e,t,r,n,i,a,o){var s=(a-n)/2,u=Math.abs(e-(n+s));if(u>s+r)return!1;var c=(o-i)/2,l=Math.abs(t-(i+c));if(l>c+r)return!1;if(u<=s||l<=c)return!0;var p=u-s,h=l-c;return p*p+h*h<=r*r};var it=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function at(e,t){for(var r=0;r<e;r++){var n=t.length;t.resize(n+4),t.float32.set(it,3*n)}}function ot(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e[3]=r[3]*n+r[7]*i+r[15],e}var st=function(e,t,r){void 0===t&&(t=new Ze(e.width+200,e.height+200,25)),void 0===r&&(r=new Ze(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function ut(e,t,r){e[t+4]=r?1:0}function ct(t,r,n){return r*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}st.prototype.placeCollisionBox=function(e,t,r,n,i){var a=this.projectAndGetPerspectiveRatio(n,e.anchorPointX,e.anchorPointY),o=r*a.perspectiveRatio,s=e.x1*o+a.point.x,u=e.y1*o+a.point.y,c=e.x2*o+a.point.x,l=e.y2*o+a.point.y;return!this.isInsideGrid(s,u,c,l)||!t&&this.grid.hitTest(s,u,c,l,i)?{box:[],offscreen:!1}:{box:[s,u,c,l],offscreen:this.isOffscreen(s,u,c,l)}},st.prototype.approximateTileDistance=function(e,t,r,n,i){var a=i?1:n/this.pitchfactor,o=e.lastSegmentViewportDistance*r;return e.prevTileDistance+o+(a-1)*o*Math.abs(Math.sin(t))},st.prototype.placeCollisionCircles=function(t,r,n,i,a,o,s,u,c,l,p,h,f){var d=[],m=this.projectAnchor(c,a.anchorX,a.anchorY),g=u/24,v=a.lineOffsetX*u,y=a.lineOffsetY*u,b=new e.Point(a.anchorX,a.anchorY),_=Qe(g,s,v,y,!1,Ye(b,l).point,b,a,o,l,{},!0),x=!1,w=!1,O=!0,k=m.perspectiveRatio*i,E=1/(i*n),T=0,S=0;_&&(T=this.approximateTileDistance(_.first.tileDistance,_.first.angle,E,m.cameraDistance,h),S=this.approximateTileDistance(_.last.tileDistance,_.last.angle,E,m.cameraDistance,h));for(var j=0;j<t.length;j+=5){var P=t[j],C=t[j+1],A=t[j+2],M=t[j+3];if(!_||M<-T||M>S)ut(t,j,!1);else{var I=this.projectPoint(c,P,C),R=A*k;if(d.length>0){var L=I.x-d[d.length-4],z=I.y-d[d.length-3];if(R*R*2>L*L+z*z&&j+8<t.length){var D=t[j+8];if(D>-T&&D<S){ut(t,j,!1);continue}}}var F=j/5;d.push(I.x,I.y,R,F),ut(t,j,!0);var B=I.x-R,N=I.y-R,q=I.x+R,U=I.y+R;if(O=O&&this.isOffscreen(B,N,q,U),w=w||this.isInsideGrid(B,N,q,U),!r&&this.grid.hitTestCircle(I.x,I.y,R,f)){if(!p)return{circles:[],offscreen:!1};x=!0}}}return{circles:x||!w?[]:d,offscreen:O}},st.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var r=[],n=1/0,i=1/0,a=-1/0,o=-1/0,s=0,u=t;s<u.length;s+=1){var c=u[s],l=new e.Point(c.x+100,c.y+100);n=Math.min(n,l.x),i=Math.min(i,l.y),a=Math.max(a,l.x),o=Math.max(o,l.y),r.push(l)}for(var p={},h={},f=0,d=this.grid.query(n,i,a,o).concat(this.ignoredGrid.query(n,i,a,o));f<d.length;f+=1){var m=d[f],g=m.key;if(void 0===p[g.bucketInstanceId]&&(p[g.bucketInstanceId]={}),!p[g.bucketInstanceId][g.featureIndex]){var v=[new e.Point(m.x1,m.y1),new e.Point(m.x2,m.y1),new e.Point(m.x2,m.y2),new e.Point(m.x1,m.y2)];e.polygonIntersectsPolygon(r,v)&&(p[g.bucketInstanceId][g.featureIndex]=!0,void 0===h[g.bucketInstanceId]&&(h[g.bucketInstanceId]=[]),h[g.bucketInstanceId].push(g.featureIndex))}}return h},st.prototype.insertCollisionBox=function(e,t,r,n,i){var a={bucketInstanceId:r,featureIndex:n,collisionGroupID:i};(t?this.ignoredGrid:this.grid).insert(a,e[0],e[1],e[2],e[3])},st.prototype.insertCollisionCircles=function(e,t,r,n,i){for(var a=t?this.ignoredGrid:this.grid,o={bucketInstanceId:r,featureIndex:n,collisionGroupID:i},s=0;s<e.length;s+=4)a.insertCircle(o,e[s],e[s+1],e[s+2])},st.prototype.projectAnchor=function(e,t,r){var n=[t,r,0,1];return ot(n,n,e),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5,cameraDistance:n[3]}},st.prototype.projectPoint=function(t,r,n){var i=[r,n,0,1];return ot(i,i,t),new e.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100)},st.prototype.projectAndGetPerspectiveRatio=function(t,r,n){var i=[r,n,0,1];return ot(i,i,t),{point:new e.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},st.prototype.isOffscreen=function(e,t,r,n){return r<100||e>=this.screenRightBoundary||n<100||t>this.screenBottomBoundary},st.prototype.isInsideGrid=function(e,t,r,n){return r>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary};var lt=function(e,t,r,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&r?1:0,this.placed=r};lt.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var pt=function(e,t,r,n,i){this.text=new lt(e?e.text:null,t,r,i),this.icon=new lt(e?e.icon:null,t,n,i)};pt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ht=function(e,t,r){this.text=e,this.icon=t,this.skipFade=r},ft=function(e,t,r,n,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=r,this.bucketIndex=n,this.tileID=i},dt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function mt(t,r,n,i,a){var o=e.getAnchorAlignment(t),s=-(o.horizontalAlign-.5)*r,u=-(o.verticalAlign-.5)*n,c=e.evaluateVariableOffset(t,i);return new e.Point(s+c[0]*a,u+c[1]*a)}function gt(t,r,n,i,a,o){var s=t.x1,u=t.x2,c=t.y1,l=t.y2,p=t.anchorPointX,h=t.anchorPointY,f=new e.Point(r,n);return i&&f._rotate(a?o:-o),{x1:s+f.x,y1:c+f.y,x2:u+f.x,y2:l+f.y,anchorPointX:p,anchorPointY:h}}dt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var vt=function(e,t,r,n){this.transform=e.clone(),this.collisionIndex=new st(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new dt(r),this.prevPlacement=n,n&&(n.prevPlacement=void 0),this.placedOrientations={}};function yt(e,t,r,n,i){e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0)}vt.prototype.placeLayerTile=function(t,r,n,i){var a=r.getBucket(t),o=r.latestFeatureIndex;if(a&&o&&t.id===a.layerIds[0]){var s=r.collisionBoxArray,u=a.layers[0].layout,c=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),l=r.tileSize/e.EXTENT,p=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),h=Xe(p,"map"===u.get("text-pitch-alignment"),"map"===u.get("text-rotation-alignment"),this.transform,ct(r,1,this.transform.zoom)),f=Xe(p,"map"===u.get("icon-pitch-alignment"),"map"===u.get("icon-rotation-alignment"),this.transform,ct(r,1,this.transform.zoom));this.retainedQueryData[a.bucketInstanceId]=new ft(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,r.tileID),this.placeLayerBucket(a,p,h,f,c,l,n,r.holdingForFade(),i,s)}},vt.prototype.attemptAnchorPlacement=function(e,t,r,n,i,a,o,s,u,c,l,p,h,f,d){var m,g=[p.textOffset0,p.textOffset1],v=mt(e,r,n,g,i),y=this.collisionIndex.placeCollisionBox(gt(t,v.x,v.y,a,o,this.transform.angle),l,s,u,c.predicate);if(!d||0!==this.collisionIndex.placeCollisionBox(gt(d,v.x,v.y,a,o,this.transform.angle),l,s,u,c.predicate).box.length)return y.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID].text&&(m=this.prevPlacement.variableOffsets[p.crossTileID].anchor),this.variableOffsets[p.crossTileID]={textOffset:g,width:r,height:n,anchor:e,textBoxScale:i,prevAnchor:m},this.markUsedJustification(h,e,p,f),h.allowVerticalPlacement&&(this.markUsedOrientation(h,f,p),this.placedOrientations[p.crossTileID]=f),{shift:v,placedGlyphBoxes:y}):void 0},vt.prototype.placeLayerBucket=function(t,r,n,i,a,o,s,u,c,l){var p=this,h=t.layers[0].layout,f=e.evaluateSizeForZoom(t.textSizeData,this.transform.zoom),d=h.get("text-optional"),m=h.get("icon-optional"),g=h.get("text-allow-overlap"),v=h.get("icon-allow-overlap"),y=g&&(v||!t.hasIconData()||m),b=v&&(g||!t.hasTextData()||d),_=this.collisionGroups.get(t.sourceID),x="map"===h.get("text-rotation-alignment"),w="map"===h.get("text-pitch-alignment"),O="none"!==h.get("icon-text-fit"),k="viewport-y"===h.get("symbol-z-order");!t.collisionArrays&&l&&t.deserializeCollisionBoxes(l);var E=function(i,l){if(!c[i.crossTileID])if(u)p.placements[i.crossTileID]=new ht(!1,!1,!1);else{var k,E=!1,T=!1,S=!0,j=null,P={box:null,offscreen:null},C={box:null,offscreen:null},A=null,M=null,I=0,R=0,L=0;l.textFeatureIndex&&(I=l.textFeatureIndex),l.verticalTextFeatureIndex&&(R=l.verticalTextFeatureIndex);var z=l.textBox;if(z){var D=function(r){var n=e.WritingMode.horizontal;if(t.allowVerticalPlacement&&!r&&p.prevPlacement){var a=p.prevPlacement.placedOrientations[i.crossTileID];a&&(p.placedOrientations[i.crossTileID]=a,n=a,p.markUsedOrientation(t,n,i))}return n},F=function(r,n){if(t.allowVerticalPlacement&&i.numVerticalGlyphVertices>0&&l.verticalTextBox)for(var a=0,o=t.writingModes;a<o.length&&(o[a]===e.WritingMode.vertical?(P=n(),C=P):P=r(),!(P&&P.box&&P.box.length));a+=1);else P=r()};if(h.get("text-variable-anchor")){var B=h.get("text-variable-anchor");if(p.prevPlacement&&p.prevPlacement.variableOffsets[i.crossTileID]){var N=p.prevPlacement.variableOffsets[i.crossTileID];B.indexOf(N.anchor)>0&&(B=B.filter((function(e){return e!==N.anchor}))).unshift(N.anchor)}var q=function(e,n,a){for(var s=e.x2-e.x1,u=e.y2-e.y1,c=i.textBoxScale,l=O&&!v?n:null,h={box:[],offscreen:!1},f=g?2*B.length:B.length,d=0;d<f;++d){var m=B[d%B.length],y=d>=B.length,b=p.attemptAnchorPlacement(m,e,s,u,c,x,w,o,r,_,y,i,t,a,l);if(b&&(h=b.placedGlyphBoxes)&&h.box&&h.box.length){E=!0,j=b.shift;break}}return h};F((function(){return q(z,l.iconBox,e.WritingMode.horizontal)}),(function(){var r=l.verticalTextBox,n=P&&P.box&&P.box.length;return t.allowVerticalPlacement&&!n&&i.numVerticalGlyphVertices>0&&r?q(r,l.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),P&&(E=P.box,S=P.offscreen);var U=D(P&&P.box);if(!E&&p.prevPlacement){var V=p.prevPlacement.variableOffsets[i.crossTileID];V&&(p.variableOffsets[i.crossTileID]=V,p.markUsedJustification(t,V.anchor,i,U))}}else{var G=function(e,n){var a=p.collisionIndex.placeCollisionBox(e,h.get("text-allow-overlap"),o,r,_.predicate);return a&&a.box&&a.box.length&&(p.markUsedOrientation(t,n,i),p.placedOrientations[i.crossTileID]=n),a};F((function(){return G(z,e.WritingMode.horizontal)}),(function(){var r=l.verticalTextBox;return t.allowVerticalPlacement&&i.numVerticalGlyphVertices>0&&r?G(r,e.WritingMode.vertical):{box:null,offscreen:null}})),D(P&&P.box&&P.box.length)}}E=(k=P)&&k.box&&k.box.length>0,S=k&&k.offscreen;var W=l.textCircles;if(W){var H=t.text.placedSymbolArray.get(i.centerJustifiedTextSymbolIndex),Z=e.evaluateSizeForFeature(t.textSizeData,f,H);A=p.collisionIndex.placeCollisionCircles(W,h.get("text-allow-overlap"),a,o,H,t.lineVertexArray,t.glyphOffsetArray,Z,r,n,s,w,_.predicate),E=h.get("text-allow-overlap")||A.circles.length>0,S=S&&A.offscreen}if(l.iconFeatureIndex&&(L=l.iconFeatureIndex),l.iconBox){var X=function(e){var t=O&&j?gt(e,j.x,j.y,x,w,p.transform.angle):e;return p.collisionIndex.placeCollisionBox(t,h.get("icon-allow-overlap"),o,r,_.predicate)};T=C&&C.box&&C.box.length&&l.verticalIconBox?(M=X(l.verticalIconBox)).box.length>0:(M=X(l.iconBox)).box.length>0,S=S&&M.offscreen}var K=d||0===i.numHorizontalGlyphVertices&&0===i.numVerticalGlyphVertices,Y=m||0===i.numIconVertices;K||Y?Y?K||(T=T&&E):E=T&&E:T=E=T&&E,E&&k&&k.box&&(C&&C.box&&R?p.collisionIndex.insertCollisionBox(k.box,h.get("text-ignore-placement"),t.bucketInstanceId,R,_.ID):p.collisionIndex.insertCollisionBox(k.box,h.get("text-ignore-placement"),t.bucketInstanceId,I,_.ID)),T&&M&&p.collisionIndex.insertCollisionBox(M.box,h.get("icon-ignore-placement"),t.bucketInstanceId,L,_.ID),E&&A&&p.collisionIndex.insertCollisionCircles(A.circles,h.get("text-ignore-placement"),t.bucketInstanceId,I,_.ID),p.placements[i.crossTileID]=new ht(E||y,T||b,S||t.justReloaded),c[i.crossTileID]=!0}};if(k)for(var T=t.getSortedSymbolIndexes(this.transform.angle),S=T.length-1;S>=0;--S){var j=T[S];E(t.symbolInstances.get(j),t.collisionArrays[j])}else for(var P=0;P<t.symbolInstances.length;++P)E(t.symbolInstances.get(P),t.collisionArrays[P]);t.justReloaded=!1},vt.prototype.markUsedJustification=function(t,r,n,i){var a,o={left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex};a=i===e.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:o[e.getAnchorJustification(r)];for(var s=0,u=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];s<u.length;s+=1){var c=u[s];c>=0&&(t.text.placedSymbolArray.get(c).crossTileID=a>=0&&c!==a?0:n.crossTileID)}},vt.prototype.markUsedOrientation=function(t,r,n){for(var i=r===e.WritingMode.horizontal||r===e.WritingMode.horizontalOnly?r:0,a=r===e.WritingMode.vertical?r:0,o=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];o<s.length;o+=1){var u=s[o];t.text.placedSymbolArray.get(u).placedOrientation=i}n.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=a)},vt.prototype.commit=function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,r=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var n=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},a=t?t.variableOffsets:{},o=t?t.placedOrientations:{};for(var s in this.placements){var u=this.placements[s],c=i[s];c?(this.opacities[s]=new pt(c,n,u.text,u.icon),r=r||u.text!==c.text.placed||u.icon!==c.icon.placed):(this.opacities[s]=new pt(null,n,u.text,u.icon,u.skipFade),r=r||u.text||u.icon)}for(var l in i){var p=i[l];if(!this.opacities[l]){var h=new pt(p,n,!1,!1);h.isHidden()||(this.opacities[l]=h,r=r||p.text.placed||p.icon.placed)}}for(var f in a)this.variableOffsets[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.variableOffsets[f]=a[f]);for(var d in o)this.placedOrientations[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.placedOrientations[d]=o[d]);r?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},vt.prototype.updateLayerOpacities=function(e,t){for(var r={},n=0,i=t;n<i.length;n+=1){var a=i[n],o=a.getBucket(e);o&&a.latestFeatureIndex&&e.id===o.layerIds[0]&&this.updateBucketOpacities(o,r,a.collisionBoxArray)}},vt.prototype.updateBucketOpacities=function(t,r,n){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear(),t.hasIconCollisionCircleData()&&t.iconCollisionCircle.collisionVertexArray.clear(),t.hasTextCollisionCircleData()&&t.textCollisionCircle.collisionVertexArray.clear();var a=t.layers[0].layout,o=new pt(null,0,!1,!1,!0),s=a.get("text-allow-overlap"),u=a.get("icon-allow-overlap"),c=a.get("text-variable-anchor"),l="map"===a.get("text-rotation-alignment"),p="map"===a.get("text-pitch-alignment"),h="none"!==a.get("icon-text-fit"),f=new pt(null,0,s&&(u||!t.hasIconData()||a.get("icon-optional")),u&&(s||!t.hasTextData()||a.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasIconCollisionBoxData()||t.hasIconCollisionCircleData()||t.hasTextCollisionBoxData()||t.hasTextCollisionCircleData())&&t.deserializeCollisionBoxes(n);for(var d=function(e,t,r){for(var n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(r)},m=function(n){var a=t.symbolInstances.get(n),s=a.numHorizontalGlyphVertices,u=a.numVerticalGlyphVertices,m=a.crossTileID,g=r[m],v=i.opacities[m];g?v=o:v||(v=f,i.opacities[m]=v),r[m]=!0;var y=s>0||u>0,b=a.numIconVertices>0,_=i.placedOrientations[a.crossTileID],x=_===e.WritingMode.vertical,w=_===e.WritingMode.horizontal||_===e.WritingMode.horizontalOnly;if(y){var O=Tt(v.text),k=x?St:O;d(t.text,s,k);var E=w?St:O;d(t.text,u,E);var T=v.text.isHidden();[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=T||x?1:0)})),a.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(a.verticalPlacedTextSymbolIndex).hidden=T||w?1:0);var S=i.variableOffsets[a.crossTileID];S&&i.markUsedJustification(t,S.anchor,a,_);var j=i.placedOrientations[a.crossTileID];j&&(i.markUsedJustification(t,"left",a,j),i.markUsedOrientation(t,j,a))}if(b){var P=Tt(v.icon),C=!(h&&a.verticalPlacedIconSymbolIndex&&x);if(a.placedIconSymbolIndex>=0){var A=C?P:St;d(t.icon,a.numIconVertices,A),t.icon.placedSymbolArray.get(a.placedIconSymbolIndex).hidden=v.icon.isHidden()}if(a.verticalPlacedIconSymbolIndex>=0){var M=C?St:P;d(t.icon,a.numVerticalIconVertices,M),t.icon.placedSymbolArray.get(a.verticalPlacedIconSymbolIndex).hidden=v.icon.isHidden()}}if(t.hasIconCollisionBoxData()||t.hasIconCollisionCircleData()||t.hasTextCollisionBoxData()||t.hasTextCollisionCircleData()){var I=t.collisionArrays[n];if(I){var R=new e.Point(0,0);if(I.textBox||I.verticalTextBox){var L=!0;if(c){var z=i.variableOffsets[m];z?(R=mt(z.anchor,z.width,z.height,z.textOffset,z.textBoxScale),l&&R._rotate(p?i.transform.angle:-i.transform.angle)):L=!1}I.textBox&&yt(t.textCollisionBox.collisionVertexArray,v.text.placed,!L||x,R.x,R.y),I.verticalTextBox&&yt(t.textCollisionBox.collisionVertexArray,v.text.placed,!L||w,R.x,R.y)}var D=Boolean(!w&&I.verticalIconBox);I.iconBox&&yt(t.iconCollisionBox.collisionVertexArray,v.icon.placed,D,h?R.x:0,h?R.y:0),I.verticalIconBox&&yt(t.iconCollisionBox.collisionVertexArray,v.icon.placed,!D,h?R.x:0,h?R.y:0);var F=I.textCircles;if(F&&t.hasTextCollisionCircleData())for(var B=0;B<F.length;B+=5){var N=g||0===F[B+4];yt(t.textCollisionCircle.collisionVertexArray,v.text.placed,N)}}}},g=0;g<t.symbolInstances.length;g++)m(g);t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.hasIconCollisionCircleData()&&t.iconCollisionCircle.collisionVertexBuffer&&t.iconCollisionCircle.collisionVertexBuffer.updateData(t.iconCollisionCircle.collisionVertexArray),t.hasTextCollisionCircleData()&&t.textCollisionCircle.collisionVertexBuffer&&t.textCollisionCircle.collisionVertexBuffer.updateData(t.textCollisionCircle.collisionVertexArray)},vt.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},vt.prototype.zoomAdjustment=function(e){return Math.max(0,(this.transform.zoom-e)/1.5)},vt.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},vt.prototype.stillRecent=function(e,t){var r=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*r>e},vt.prototype.setStale=function(){this.stale=!0};var bt=Math.pow(2,25),_t=Math.pow(2,24),xt=Math.pow(2,17),wt=Math.pow(2,16),Ot=Math.pow(2,9),kt=Math.pow(2,8),Et=Math.pow(2,1);function Tt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,r=Math.floor(127*e.opacity);return r*bt+t*_t+r*xt+t*wt+r*Ot+t*kt+r*Et+t}var St=0,jt=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};jt.prototype.continuePlacement=function(e,t,r,n,i){for(;this._currentTileIndex<e.length;){var a=e[this._currentTileIndex];if(t.placeLayerTile(n,a,r,this._seenCrossTileIDs),this._currentTileIndex++,i())return!0}};var Pt=function(e,t,r,n,i,a,o){this.placement=new vt(e,i,a,o),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=n,this._done=!1};Pt.prototype.isDone=function(){return this._done},Pt.prototype.continuePlacement=function(t,r,n){for(var i=this,a=e.browser.now(),o=function(){var t=e.browser.now()-a;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=r[t[this._currentPlacementIndex]],u=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(this._inProgressLayer||(this._inProgressLayer=new jt),this._inProgressLayer.continuePlacement(n[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Pt.prototype.commit=function(e){return this.placement.commit(e),this.placement};var Ct=512/e.EXTENT/2,At=function(e,t,r){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var n=0;n<t.length;n++){var i=t.get(n),a=i.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}};At.prototype.getScaledCoordinates=function(t,r){var n=r.canonical.z-this.tileID.canonical.z,i=Ct/Math.pow(2,n);return{x:Math.floor((r.canonical.x*e.EXTENT+t.anchorX)*i),y:Math.floor((r.canonical.y*e.EXTENT+t.anchorY)*i)}},At.prototype.findMatches=function(e,t,r){for(var n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var a=e.get(i);if(!a.crossTileID){var o=this.indexedSymbolInstances[a.key];if(o)for(var s=this.getScaledCoordinates(a,t),u=0,c=o;u<c.length;u+=1){var l=c[u];if(Math.abs(l.coord.x-s.x)<=n&&Math.abs(l.coord.y-s.y)<=n&&!r[l.crossTileID]){r[l.crossTileID]=!0,a.crossTileID=l.crossTileID;break}}}}};var Mt=function(){this.maxCrossTileID=0};Mt.prototype.generate=function(){return++this.maxCrossTileID};var It=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};It.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var r in this.indexes){var n=this.indexes[r],i={};for(var a in n){var o=n[a];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),i[o.tileID.key]=o}this.indexes[r]=i}this.lng=e},It.prototype.addBucket=function(e,t,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var n=0;n<t.symbolInstances.length;n++)t.symbolInstances.get(n).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var a in this.indexes){var o=this.indexes[a];if(Number(a)>e.overscaledZ)for(var s in o){var u=o[s];u.tileID.isChildOf(e)&&u.findMatches(t.symbolInstances,e,i)}else{var c=o[e.scaledTo(Number(a)).key];c&&c.findMatches(t.symbolInstances,e,i)}}for(var l=0;l<t.symbolInstances.length;l++){var p=t.symbolInstances.get(l);p.crossTileID||(p.crossTileID=r.generate(),i[p.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new At(e,t.symbolInstances,t.bucketInstanceId),!0},It.prototype.removeBucketCrossTileIDs=function(e,t){for(var r in t.indexedSymbolInstances)for(var n=0,i=t.indexedSymbolInstances[r];n<i.length;n+=1){var a=i[n];delete this.usedCrossTileIDs[e][a.crossTileID]}},It.prototype.removeStaleBuckets=function(e){var t=!1;for(var r in this.indexes){var n=this.indexes[r];for(var i in n)e[n[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,n[i]),delete n[i],t=!0)}return t};var Rt=function(){this.layerIndexes={},this.crossTileIDs=new Mt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Rt.prototype.addLayer=function(e,t,r){var n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new It);var i=!1,a={};n.handleWrapJump(r);for(var o=0,s=t;o<s.length;o+=1){var u=s[o],c=u.getBucket(e);c&&e.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(u.tileID,c,this.crossTileIDs)&&(i=!0),a[c.bucketInstanceId]=!0)}return n.removeStaleBuckets(a)&&(i=!0),i},Rt.prototype.pruneUnusedLayers=function(e){var t={};for(var r in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[r]||delete this.layerIndexes[r]};var Lt=function(t,r){return e.emitValidationErrors(t,r&&r.filter((function(e){return"source.canvas"!==e.identifier})))},zt=e.pick(Be,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Dt=e.pick(Be,["setCenter","setZoom","setBearing","setPitch"]),Ft=function(t){function r(n,i){var a=this;void 0===i&&(i={}),t.call(this),this.map=n,this.dispatcher=new k((Le||(Le=new Re),Le),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new b(n._requestManager,i.localIdeographFontFamily),this.lineAtlas=new O(256,512),this.crossTileSymbolIndex=new Rt,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var o=this;this._rtlTextPluginCallback=r.registerForPluginStateChange((function(t){var r={pluginStatus:t.pluginStatus,pluginURL:t.pluginURL};o.dispatcher.broadcast("syncRTLPluginState",r,(function(t,r){if(e.triggerPluginCompletionEvent(t),r&&r.every((function(e){return e})))for(var n in o.sourceCaches)o.sourceCaches[n].reload()}))})),this.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=a.sourceCaches[e.sourceId];if(t){var r=t.getSource();if(r&&r.vectorLayerIds)for(var n in a._layers){var i=a._layers[n];i.source===r.id&&a._validateLayer(i)}}}}))}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.loadURL=function(t,r){var n=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof r.validate?r.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,r.accessToken);var a=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(a,(function(t,r){n._request=null,t?n.fire(new e.ErrorEvent(t)):r&&n._load(r,i)}))},r.prototype.loadJSON=function(t,r){var n=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame((function(){n._request=null,n._load(t,!1!==r.validate)}))},r.prototype._load=function(t,r){var n=this;if(!r||!Lt(this,e.validateStyle(t))){for(var i in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(i,t.sources[i],{validate:!1});t.sprite?this._spriteRequest=function(t,r,n){var i,a,o,s=e.browser.devicePixelRatio>1?"@2x":"",u=e.getJSON(r.transformRequest(r.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){u=null,o||(o=e,i=t,l())})),c=e.getImage(r.transformRequest(r.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){c=null,o||(o=e,a=t,l())}));function l(){if(o)n(o);else if(i&&a){var t=e.browser.getImageData(a),r={};for(var s in i){var u=i[s],c=u.width,l=u.height,p=u.x,h=u.y,f=u.sdf,d=u.pixelRatio,m=u.stretchX,g=u.stretchY,v=u.content,y=new e.RGBAImage({width:c,height:l});e.RGBAImage.copy(t,y,{x:p,y:h},{x:0,y:0},{width:c,height:l}),r[s]={data:y,pixelRatio:d,sdf:f,stretchX:m,stretchY:g,content:v}}n(null,r)}}return{cancel:function(){u&&(u.cancel(),u=null),c&&(c.cancel(),c=null)}}}(t.sprite,this.map._requestManager,(function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n.dispatcher.broadcast("setImages",n.imageManager.listImages()),n.fire(new e.Event("data",{dataType:"style"}))})):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var a=Fe(this.stylesheet.layers);this._order=a.map((function(e){return e.id})),this._layers={};for(var o=0,s=a;o<s.length;o+=1){var u=s[o];(u=e.createStyleLayer(u)).setEventedParent(this,{layer:{id:u.id}}),this._layers[u.id]=u}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},r.prototype._validateLayer=function(t){var r=this.sourceCaches[t.source];if(r){var n=t.sourceLayer;if(n){var i=r.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+i.id+'" as specified by style layer "'+t.id+'"')))}}},r.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},r.prototype._serializeLayers=function(e){for(var t=[],r=0,n=e;r<n.length;r+=1){var i=n[r],a=this._layers[i];"custom"!==a.type&&t.push(a.serialize())}return t},r.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},r.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},r.prototype.update=function(t){if(this._loaded){var r=this._changed;if(this._changed){var n=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var a in(n.length||i.length)&&this._updateWorkerLayers(n,i),this._updatedSources){var o=this._updatedSources[a];"reload"===o?this._reloadSource(a):"clear"===o&&this._clearSource(a)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}for(var u in this.sourceCaches)this.sourceCaches[u].used=!1;for(var c=0,l=this._order;c<l.length;c+=1){var p=l[c],h=this._layers[p];h.recalculate(t,this.imageManager.listImages()),!h.isHidden(t.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}this.light.recalculate(t),this.z=t.zoom,r&&this.fire(new e.Event("data",{dataType:"style"}))}},r.prototype._updateTilesForChangedImages=function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}},r.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},r.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},r.prototype.setState=function(t){var r=this;if(this._checkLoaded(),Lt(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=Fe(t.layers);var n=function(t,r){if(!t)return[{command:Be.setStyle,args:[r]}];var n=[];try{if(!e.deepEqual(t.version,r.version))return[{command:Be.setStyle,args:[r]}];e.deepEqual(t.center,r.center)||n.push({command:Be.setCenter,args:[r.center]}),e.deepEqual(t.zoom,r.zoom)||n.push({command:Be.setZoom,args:[r.zoom]}),e.deepEqual(t.bearing,r.bearing)||n.push({command:Be.setBearing,args:[r.bearing]}),e.deepEqual(t.pitch,r.pitch)||n.push({command:Be.setPitch,args:[r.pitch]}),e.deepEqual(t.sprite,r.sprite)||n.push({command:Be.setSprite,args:[r.sprite]}),e.deepEqual(t.glyphs,r.glyphs)||n.push({command:Be.setGlyphs,args:[r.glyphs]}),e.deepEqual(t.transition,r.transition)||n.push({command:Be.setTransition,args:[r.transition]}),e.deepEqual(t.light,r.light)||n.push({command:Be.setLight,args:[r.light]});var i={},a=[];!function(t,r,n,i){var a;for(a in r=r||{},t=t||{})t.hasOwnProperty(a)&&(r.hasOwnProperty(a)||qe(a,n,i));for(a in r)r.hasOwnProperty(a)&&(t.hasOwnProperty(a)?e.deepEqual(t[a],r[a])||("geojson"===t[a].type&&"geojson"===r[a].type&&Ve(t,r,a)?n.push({command:Be.setGeoJSONSourceData,args:[a,r[a].data]}):Ue(a,r,n,i)):Ne(a,r,n))}(t.sources,r.sources,a,i);var o=[];t.layers&&t.layers.forEach((function(e){i[e.source]?n.push({command:Be.removeLayer,args:[e.id]}):o.push(e)})),n=n.concat(a),function(t,r,n){r=r||[];var i,a,o,s,u,c,l,p=(t=t||[]).map(We),h=r.map(We),f=t.reduce(He,{}),d=r.reduce(He,{}),m=p.slice(),g=Object.create(null);for(i=0,a=0;i<p.length;i++)o=p[i],d.hasOwnProperty(o)?a++:(n.push({command:Be.removeLayer,args:[o]}),m.splice(m.indexOf(o,a),1));for(i=0,a=0;i<h.length;i++)o=h[h.length-1-i],m[m.length-1-i]!==o&&(f.hasOwnProperty(o)?(n.push({command:Be.removeLayer,args:[o]}),m.splice(m.lastIndexOf(o,m.length-a),1)):a++,c=m[m.length-i],n.push({command:Be.addLayer,args:[d[o],c]}),m.splice(m.length-i,0,o),g[o]=!0);for(i=0;i<h.length;i++)if(s=f[o=h[i]],u=d[o],!g[o]&&!e.deepEqual(s,u))if(e.deepEqual(s.source,u.source)&&e.deepEqual(s["source-layer"],u["source-layer"])&&e.deepEqual(s.type,u.type)){for(l in Ge(s.layout,u.layout,n,o,null,Be.setLayoutProperty),Ge(s.paint,u.paint,n,o,null,Be.setPaintProperty),e.deepEqual(s.filter,u.filter)||n.push({command:Be.setFilter,args:[o,u.filter]}),e.deepEqual(s.minzoom,u.minzoom)&&e.deepEqual(s.maxzoom,u.maxzoom)||n.push({command:Be.setLayerZoomRange,args:[o,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?Ge(s[l],u[l],n,o,l.slice(6),Be.setPaintProperty):e.deepEqual(s[l],u[l])||n.push({command:Be.setLayerProperty,args:[o,l,u[l]]}));for(l in u)u.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?Ge(s[l],u[l],n,o,l.slice(6),Be.setPaintProperty):e.deepEqual(s[l],u[l])||n.push({command:Be.setLayerProperty,args:[o,l,u[l]]}))}else n.push({command:Be.removeLayer,args:[o]}),c=m[m.lastIndexOf(o)+1],n.push({command:Be.addLayer,args:[u,c]})}(o,r.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:Be.setStyle,args:[r]}]}return n}(this.serialize(),t).filter((function(e){return!(e.command in Dt)}));if(0===n.length)return!1;var i=n.filter((function(e){return!(e.command in zt)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(e){return e.command})).join(", ")+".");return n.forEach((function(e){"setTransition"!==e.command&&r[e.command].apply(r,e.args)})),this.stylesheet=t,!0},r.prototype.addImage=function(t,r){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,r),this._changedImages[t]=!0,this._changed=!0,this.fire(new e.Event("data",{dataType:"style"}))},r.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},r.prototype.getImage=function(e){return this.imageManager.getImage(e)},r.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._changedImages[t]=!0,this._changed=!0,this.fire(new e.Event("data",{dataType:"style"}))},r.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},r.prototype.addSource=function(t,r,n){var i=this;if(void 0===n&&(n={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!r.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(r).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(r.type)>=0)||!this._validate(e.validateStyle.source,"sources."+t,r,null,n)){this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);var a=this.sourceCaches[t]=new Ce(t,r,this.dispatcher);a.style=this,a.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:a.serialize(),sourceId:t}})),a.onAdd(this.map),this._changed=!0}},r.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+r+'" is using it.')));var n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},r.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},r.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},r.prototype.addLayer=function(t,r,n){void 0===n&&(n={}),this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var a;if("custom"===t.type){if(Lt(this,e.validateCustomStyleLayer(t)))return;a=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,"layers."+i,t,{arrayIndex:-1},n))return;a=e.createStyleLayer(t),this._validateLayer(a),a.setEventedParent(this,{layer:{id:i}})}var o=r?this._order.indexOf(r):this._order.length;if(r&&-1===o)this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.')));else{if(this._order.splice(o,0,i),this._layerOrderChanged=!0,this._layers[i]=a,this._removedLayers[i]&&a.source&&"custom"!==a.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause())}this._updateLayer(a),a.onAdd&&a.onAdd(this.map)}}},r.prototype.moveLayer=function(t,r){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==r){var n=this._order.indexOf(t);this._order.splice(n,1);var i=r?this._order.indexOf(r):this._order.length;r&&-1===i?this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.'))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},r.prototype.removeLayer=function(t){this._checkLoaded();var r=this._layers[t];if(r){r.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=r,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],r.onRemove&&r.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},r.prototype.getLayer=function(e){return this._layers[e]},r.prototype.setLayerZoomRange=function(t,r,n){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===r&&i.maxzoom===n||(null!=r&&(i.minzoom=r),null!=n&&(i.maxzoom=n),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},r.prototype.setFilter=function(t,r,n){void 0===n&&(n={}),this._checkLoaded();var i=this.getLayer(t);if(i){if(!e.deepEqual(i.filter,r))return null==r?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(e.validateStyle.filter,"layers."+i.id+".filter",r,null,n)||(i.filter=e.clone$1(r),this._updateLayer(i)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},r.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},r.prototype.setLayoutProperty=function(t,r,n,i){void 0===i&&(i={}),this._checkLoaded();var a=this.getLayer(t);a?e.deepEqual(a.getLayoutProperty(r),n)||(a.setLayoutProperty(r,n,i),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},r.prototype.getLayoutProperty=function(t,r){var n=this.getLayer(t);if(n)return n.getLayoutProperty(r);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},r.prototype.setPaintProperty=function(t,r,n,i){void 0===i&&(i={}),this._checkLoaded();var a=this.getLayer(t);a?e.deepEqual(a.getPaintProperty(r),n)||(a.setPaintProperty(r,n,i)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},r.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},r.prototype.setFeatureState=function(t,r){this._checkLoaded();var n=t.source,i=t.sourceLayer,a=this.sourceCaches[n],o=parseInt(t.id,10);if(void 0!==a){var s=a.getSource().type;"geojson"===s&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==s||i?isNaN(o)||o<0?this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):a.setFeatureState(i,o,r):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},r.prototype.removeFeatureState=function(t,r){this._checkLoaded();var n=t.source,i=this.sourceCaches[n];if(void 0!==i){var a=i.getSource().type,o="vector"===a?t.sourceLayer:void 0,s=parseInt(t.id,10);"vector"!==a||o?void 0!==t.id&&isNaN(s)||s<0?this.fire(new e.ErrorEvent(new Error("The feature id parameter must be non-negative."))):r&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):i.removeFeatureState(o,s,r):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},r.prototype.getFeatureState=function(t){this._checkLoaded();var r=t.source,n=t.sourceLayer,i=this.sourceCaches[r],a=parseInt(t.id,10);if(void 0!==i)if("vector"!==i.getSource().type||n){if(!(isNaN(a)||a<0))return i.getFeatureState(n,a);this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},r.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},r.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(function(e){return e.serialize()})),layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))},r.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},r.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,r=function(e){return"fill-extrusion"===t._layers[e].type},n={},i=[],a=this._order.length-1;a>=0;a--){var o=this._order[a];if(r(o)){n[o]=a;for(var s=0,u=e;s<u.length;s+=1){var c=u[s][o];if(c)for(var l=0,p=c;l<p.length;l+=1){var h=p[l];i.push(h)}}}}i.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var f=[],d=this._order.length-1;d>=0;d--){var m=this._order[d];if(r(m))for(var g=i.length-1;g>=0;g--){var v=i[g].feature;if(n[v.layer.id]<d)break;f.push(v),i.pop()}else for(var y=0,b=e;y<b.length;y+=1){var _=b[y][m];if(_)for(var x=0,w=_;x<w.length;x+=1){var O=w[x];f.push(O.feature)}}}return f},r.prototype.queryRenderedFeatures=function(t,r,n){r&&r.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",r.filter,null,r);var i={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var a=0,o=r.layers;a<o.length;a+=1){var s=o[a],u=this._layers[s];if(!u)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[u.source]=!0}}var c=[];for(var l in this.sourceCaches)r.layers&&!i[l]||c.push(D(this.sourceCaches[l],this._layers,t,r,n));return this.placement&&c.push(function(e,t,r,n,i,a){for(var o={},s=i.queryRenderedSymbols(r),u=[],c=0,l=Object.keys(s).map(Number);c<l.length;c+=1){var p=l[c];u.push(a[p])}u.sort(F);for(var h=function(){var t=d[f],r=t.featureIndex.lookupSymbolFeatures(s[t.bucketInstanceId],t.bucketIndex,t.sourceLayerIndex,n.filter,n.layers,e);for(var i in r){var a=o[i]=o[i]||[],u=r[i];u.sort((function(e,r){var n=t.featureSortOrder;if(n){var i=n.indexOf(e.featureIndex);return n.indexOf(r.featureIndex)-i}return r.featureIndex-e.featureIndex}));for(var c=0,l=u;c<l.length;c+=1){var p=l[c];a.push(p)}}},f=0,d=u;f<d.length;f+=1)h();var m=function(r){o[r].forEach((function(n){var i=n.feature,a=e[r],o=t[a.source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var g in o)m(g);return o}(this._layers,this.sourceCaches,t,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(c)},r.prototype.querySourceFeatures=function(t,r){r&&r.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",r.filter,null,r);var n=this.sourceCaches[t];return n?function(e,t){for(var r=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),n=[],i={},a=0;a<r.length;a++){var o=r[a],s=o.tileID.canonical.key;i[s]||(i[s]=!0,o.querySourceFeatures(n,t))}return n}(n,r):[]},r.prototype.addSourceType=function(e,t,n){return r.getSourceType(e)?n(new Error('A source type called "'+e+'" already exists.')):(r.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))},r.prototype.getLight=function(){return this.light.getLight()},r.prototype.setLight=function(t,r){void 0===r&&(r={}),this._checkLoaded();var n=this.light.getLight(),i=!1;for(var a in t)if(!e.deepEqual(t[a],n[a])){i=!0;break}if(i){var o={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,r),this.light.updateTransitions(o)}},r.prototype._validate=function(t,r,n,i,a){return void 0===a&&(a={}),(!a||!1!==a.validate)&&Lt(this,t.call(e.validateStyle,e.extend({key:r,style:this.serialize(),value:n,styleSpec:e.styleSpec},i)))},r.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var r in this.sourceCaches)this.sourceCaches[r].clearTiles(),this.sourceCaches[r].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},r.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},r.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},r.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},r.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},r.prototype._updatePlacement=function(t,r,n,i){for(var a=!1,o=!1,s={},u=0,c=this._order;u<c.length;u+=1){var l=c[u],p=this._layers[l];if("symbol"===p.type){if(!s[p.source]){var h=this.sourceCaches[p.source];s[p.source]=h.getRenderableIds(!0).map((function(e){return h.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var f=this.crossTileSymbolIndex.addLayer(p,s[p.source],t.center.lng);a=a||f}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var d=this._layerOrderChanged||0===n;if((d||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new Pt(t,this._order,d,r,n,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),o=!0),a&&this.pauseablePlacement.placement.setStale()),o||a)for(var m=0,g=this._order;m<g.length;m+=1){var v=g[m],y=this._layers[v];"symbol"===y.type&&this.placement.updateLayerOpacities(y,s[y.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},r.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},r.prototype.getImages=function(e,t,r){this.imageManager.getImages(t.icons,r),this._updateTilesForChangedImages();var n=this.sourceCaches[t.source];n&&n.setDependencies(t.tileID.key,t.type,t.icons)},r.prototype.getGlyphs=function(e,t,r){this.glyphManager.getGlyphs(t.stacks,r)},r.prototype.getResource=function(t,r,n){return e.makeRequest(r,n)},r}(e.Evented);Ft.getSourceType=function(e){return R[e]},Ft.setSourceType=function(e,t){R[e]=t},Ft.registerForPluginStateChange=e.registerForPluginStateChange;var Bt=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Nt=hr("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),qt=hr("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ut=hr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Vt=hr("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Gt=hr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Wt=hr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Ht=hr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Zt=hr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Xt=hr("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),Kt=hr("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Yt=hr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),$t=hr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Jt=hr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Qt=hr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),er=hr("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),tr=hr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),rr=hr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),nr=hr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),ir=hr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),ar=hr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),or=hr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),sr=hr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),ur=hr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),cr=hr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),lr=hr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),pr=hr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function hr(e,t){var r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n={};return{fragmentSource:e=e.replace(r,(function(e,t,r,i,a){return n[a]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+a+"\nvarying "+r+" "+i+" "+a+";\n#else\nuniform "+r+" "+i+" u_"+a+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+a+"\n    "+r+" "+i+" "+a+" = u_"+a+";\n#endif\n"})),vertexSource:t=t.replace(r,(function(e,t,r,i,a){var o="float"===i?"vec2":"vec4",s=a.match(/color/)?"color":o;return n[a]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+a+"\nuniform lowp float u_"+a+"_t;\nattribute "+r+" "+o+" a_"+a+";\nvarying "+r+" "+i+" "+a+";\n#else\nuniform "+r+" "+i+" u_"+a+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+a+"\n    "+a+" = a_"+a+";\n#else\n    "+r+" "+i+" "+a+" = u_"+a+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+a+"\n    "+a+" = unpack_mix_"+s+"(a_"+a+", u_"+a+"_t);\n#else\n    "+r+" "+i+" "+a+" = u_"+a+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+a+"\nuniform lowp float u_"+a+"_t;\nattribute "+r+" "+o+" a_"+a+";\n#else\nuniform "+r+" "+i+" u_"+a+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+a+"\n    "+r+" "+i+" "+a+" = a_"+a+";\n#else\n    "+r+" "+i+" "+a+" = u_"+a+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+a+"\n    "+r+" "+i+" "+a+" = unpack_mix_"+s+"(a_"+a+", u_"+a+"_t);\n#else\n    "+r+" "+i+" "+a+" = u_"+a+";\n#endif\n"}))}}var fr=Object.freeze({__proto__:null,prelude:Nt,background:qt,backgroundPattern:Ut,circle:Vt,clippingMask:Gt,heatmap:Wt,heatmapTexture:Ht,collisionBox:Zt,collisionCircle:Xt,debug:Kt,fill:Yt,fillOutline:$t,fillOutlinePattern:Jt,fillPattern:Qt,fillExtrusion:er,fillExtrusionPattern:tr,hillshadePrepare:rr,hillshade:nr,line:ir,lineGradient:ar,linePattern:or,lineSDF:sr,raster:ur,symbolIcon:cr,symbolSDF:lr,symbolTextAndIcon:pr}),dr=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};dr.prototype.bind=function(e,t,r,n,i,a,o,s){this.context=e;for(var u=this.boundPaintVertexBuffers.length!==n.length,c=0;!u&&c<n.length;c++)this.boundPaintVertexBuffers[c]!==n[c]&&(u=!0);var l=!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==r||u||this.boundIndexBuffer!==i||this.boundVertexOffset!==a||this.boundDynamicVertexBuffer!==o||this.boundDynamicVertexBuffer2!==s;!e.extVertexArrayObject||l?this.freshBind(t,r,n,i,a,o,s):(e.bindVertexArrayOES.set(this.vao),o&&o.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind())},dr.prototype.freshBind=function(e,t,r,n,i,a,o){var s,u=e.numAttributes,c=this.context,l=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=o;else{s=c.currentNumAttributes||0;for(var p=u;p<s;p++)l.disableVertexAttribArray(p)}t.enableAttributes(l,e);for(var h=0,f=r;h<f.length;h+=1)f[h].enableAttributes(l,e);a&&a.enableAttributes(l,e),o&&o.enableAttributes(l,e),t.bind(),t.setVertexAttribPointers(l,e,i);for(var d=0,m=r;d<m.length;d+=1){var g=m[d];g.bind(),g.setVertexAttribPointers(l,e,i)}a&&(a.bind(),a.setVertexAttribPointers(l,e,i)),n&&n.bind(),o&&(o.bind(),o.setVertexAttribPointers(l,e,i)),c.currentNumAttributes=u},dr.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var mr=function(e,t,r,n,i){var a=e.gl;this.program=a.createProgram();var o=r.defines();i&&o.push("#define OVERDRAW_INSPECTOR;");var s=o.concat(Nt.fragmentSource,t.fragmentSource).join("\n"),u=o.concat(Nt.vertexSource,t.vertexSource).join("\n"),c=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(c,s),a.compileShader(c),a.attachShader(this.program,c);var l=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(l,u),a.compileShader(l),a.attachShader(this.program,l);for(var p=r.layoutAttributes||[],h=0;h<p.length;h++)a.bindAttribLocation(this.program,h,p[h].name);a.linkProgram(this.program),this.numAttributes=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES),this.attributes={};for(var f={},d=0;d<this.numAttributes;d++){var m=a.getActiveAttrib(this.program,d);m&&(this.attributes[m.name]=a.getAttribLocation(this.program,m.name))}for(var g=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS),v=0;v<g;v++){var y=a.getActiveUniform(this.program,v);y&&(f[y.name]=a.getUniformLocation(this.program,y.name))}this.fixedUniforms=n(e,f),this.binderUniforms=r.getUniforms(e,f)}}};function gr(t,r,n){var i=1/ct(n,1,r.transform.tileZoom),a=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,r.transform.tileZoom)/a,s=o*(n.tileID.canonical.x+n.tileID.wrap*a),u=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[e.browser.devicePixelRatio,i,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[s>>16,u>>16],u_pixel_coord_lower:[65535&s,65535&u]}}mr.prototype.draw=function(e,t,r,n,i,a,o,s,u,c,l,p,h,f,d,m){var g,v=e.gl;if(!this.failedToCreate){for(var y in e.program.set(this.program),e.setDepthMode(r),e.setStencilMode(n),e.setColorMode(i),e.setCullFace(a),this.fixedUniforms)this.fixedUniforms[y].set(o[y]);f&&f.setUniforms(e,this.binderUniforms,p,{zoom:h});for(var b=(g={},g[v.LINES]=2,g[v.TRIANGLES]=3,g[v.LINE_STRIP]=1,g)[t],_=0,x=l.get();_<x.length;_+=1){var w=x[_],O=w.vaos||(w.vaos={});(O[s]||(O[s]=new dr)).bind(e,this,u,f?f.getPaintVertexBuffers():[],c,w.vertexOffset,d,m),v.drawElements(t,w.primitiveLength*b,v.UNSIGNED_SHORT,w.primitiveOffset*b*2)}}};var vr=function(t,r,n,i){var a=r.style.light,o=a.properties.get("position"),s=[o.x,o.y,o.z],u=e.create$1();"viewport"===a.properties.get("anchor")&&e.fromRotation(u,-r.transform.angle),e.transformMat3(s,s,u);var c=a.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:a.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+n,u_opacity:i}},yr=function(t,r,n,i,a,o,s){return e.extend(vr(t,r,n,i),gr(o,r,s),{u_height_factor:-Math.pow(2,a.overscaledZ)/s.tileSize/8})},br=function(e){return{u_matrix:e}},_r=function(t,r,n,i){return e.extend(br(t),gr(n,r,i))},xr=function(e,t){return{u_matrix:e,u_world:t}},wr=function(t,r,n,i,a){return e.extend(_r(t,r,n,i),{u_world:a})},Or=function(t,r,n,i){var a,o,s=t.transform;if("map"===i.paint.get("circle-pitch-alignment")){var u=ct(n,1,s.zoom);a=!0,o=[u,u]}else a=!1,o=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(r.posMatrix,n,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+a,u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:o}},kr=function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,r.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,r.u_overscale_factor)}},Er=function(e,t,r){var n=ct(r,1,t.zoom),i=Math.pow(2,t.zoom-r.tileID.overscaledZ),a=r.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:n,u_extrude_scale:[t.pixelsToGLUnits[0]/(n*i),t.pixelsToGLUnits[1]/(n*i)],u_overscale_factor:a}},Tr=function(e,t){return{u_matrix:e,u_color:t}},Sr=function(e){return{u_matrix:e}},jr=function(e,t,r,n){return{u_matrix:e,u_extrude_scale:ct(t,1,r),u_intensity:n}},Pr=function(e,t,r){var n=r.paint.get("hillshade-shadow-color"),i=r.paint.get("hillshade-highlight-color"),a=r.paint.get("hillshade-accent-color"),o=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(o-=e.transform.angle);var s=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),s),u_image:0,u_latrange:Ar(0,t.tileID),u_light:[r.paint.get("hillshade-exaggeration"),o],u_shadow:n,u_highlight:i,u_accent:a}},Cr=function(t,r,n){var i=r.stride,a=e.create();return e.ortho(a,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(a,a,[0,-e.EXTENT,0]),{u_matrix:a,u_image:1,u_dimension:[i,i],u_zoom:t.overscaledZ,u_maxzoom:n,u_unpack:r.getUnpackVector()}};function Ar(t,r){var n=Math.pow(2,r.canonical.z),i=r.canonical.y;return[new e.MercatorCoordinate(0,i/n).toLngLat().lat,new e.MercatorCoordinate(0,(i+1)/n).toLngLat().lat]}var Mr=function(t,r,n){var i=t.transform;return{u_matrix:Dr(t,r,n),u_ratio:1/ct(r,1,i.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Ir=function(t,r,n){return e.extend(Mr(t,r,n),{u_image:0})},Rr=function(t,r,n,i){var a=t.transform,o=zr(r,a);return{u_matrix:Dr(t,r,n),u_texsize:r.imageAtlasTexture.size,u_ratio:1/ct(r,1,a.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[e.browser.devicePixelRatio,o,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},Lr=function(t,r,n,i,a){var o=t.transform,s=t.lineAtlas,u=zr(r,o),c="round"===n.layout.get("line-cap"),l=s.getDash(i.from,c),p=s.getDash(i.to,c),h=l.width*a.fromScale,f=p.width*a.toScale;return e.extend(Mr(t,r,n),{u_patternscale_a:[u/h,-l.height/2],u_patternscale_b:[u/f,-p.height/2],u_sdfgamma:s.width/(256*Math.min(h,f)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:l.y,u_tex_y_b:p.y,u_mix:a.t})};function zr(e,t){return 1/ct(e,1,t.tileZoom)}function Dr(e,t,r){return e.translatePosMatrix(t.tileID.posMatrix,t,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}var Fr=function(e,t,r,n,i){return{u_matrix:e,u_tl_parent:t,u_scale_parent:r,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(o=i.paint.get("raster-saturation"),o>0?1-1/(1.001-o):-o),u_contrast_factor:(a=i.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:Br(i.paint.get("raster-hue-rotate"))};var a,o};function Br(e){e*=Math.PI/180;var t=Math.sin(e),r=Math.cos(e);return[(2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3]}var Nr=function(e,t,r,n,i,a,o,s,u,c){var l=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:l.cameraToCenterDistance,u_pitch:l.pitch/360*2*Math.PI,u_rotate_symbol:+r,u_aspect_ratio:l.width/l.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:o,u_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+n,u_texsize:c,u_texture:0}},qr=function(t,r,n,i,a,o,s,u,c,l,p){var h=a.transform;return e.extend(Nr(t,r,n,i,a,o,s,u,c,l),{u_gamma_scale:i?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+p})},Ur=function(t,r,n,i,a,o,s,u,c,l){return e.extend(qr(t,r,n,i,a,o,s,u,!0,c,!0),{u_texsize_icon:l,u_texture_icon:1})},Vr=function(e,t,r){return{u_matrix:e,u_opacity:t,u_color:r}},Gr=function(t,r,n,i,a,o){return e.extend(function(e,t,r,n){var i=r.imageManager.getPattern(e.from.toString()),a=r.imageManager.getPattern(e.to.toString()),o=r.imageManager.getPixelSize(),s=o.width,u=o.height,c=Math.pow(2,n.tileID.overscaledZ),l=n.tileSize*Math.pow(2,r.transform.tileZoom)/c,p=l*(n.tileID.canonical.x+n.tileID.wrap*c),h=l*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[s,u],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/ct(n,1,r.transform.tileZoom),u_pixel_coord_upper:[p>>16,h>>16],u_pixel_coord_lower:[65535&p,65535&h]}}(i,o,n,a),{u_matrix:t,u_opacity:r})},Wr={fillExtrusion:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fillExtrusionPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,r.u_height_factor),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fill:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},fillPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},fillOutline:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world)}},fillOutlinePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},circle:function(t,r){return{u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,r.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},collisionBox:kr,collisionCircle:kr,debug:function(t,r){return{u_color:new e.UniformColor(t,r.u_color),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},clippingMask:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmap:function(t,r){return{u_extrude_scale:new e.Uniform1f(t,r.u_extrude_scale),u_intensity:new e.Uniform1f(t,r.u_intensity),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmapTexture:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_color_ramp:new e.Uniform1i(t,r.u_color_ramp),u_opacity:new e.Uniform1f(t,r.u_opacity)}},hillshade:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_latrange:new e.Uniform2f(t,r.u_latrange),u_light:new e.Uniform2f(t,r.u_light),u_shadow:new e.UniformColor(t,r.u_shadow),u_highlight:new e.UniformColor(t,r.u_highlight),u_accent:new e.UniformColor(t,r.u_accent)}},hillshadePrepare:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_dimension:new e.Uniform2f(t,r.u_dimension),u_zoom:new e.Uniform1f(t,r.u_zoom),u_maxzoom:new e.Uniform1f(t,r.u_maxzoom),u_unpack:new e.Uniform4f(t,r.u_unpack)}},line:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels)}},lineGradient:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_image:new e.Uniform1i(t,r.u_image)}},linePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texsize:new e.Uniform2f(t,r.u_texsize),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_image:new e.Uniform1i(t,r.u_image),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},lineSDF:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,r.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,r.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,r.u_sdfgamma),u_image:new e.Uniform1i(t,r.u_image),u_tex_y_a:new e.Uniform1f(t,r.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,r.u_tex_y_b),u_mix:new e.Uniform1f(t,r.u_mix)}},raster:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_tl_parent:new e.Uniform2f(t,r.u_tl_parent),u_scale_parent:new e.Uniform1f(t,r.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,r.u_buffer_scale),u_fade_t:new e.Uniform1f(t,r.u_fade_t),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image0:new e.Uniform1i(t,r.u_image0),u_image1:new e.Uniform1i(t,r.u_image1),u_brightness_low:new e.Uniform1f(t,r.u_brightness_low),u_brightness_high:new e.Uniform1f(t,r.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,r.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,r.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,r.u_spin_weights)}},symbolIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1f(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture)}},symbolSDF:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1f(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1f(t,r.u_is_halo)}},symbolTextAndIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1f(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texsize_icon:new e.Uniform2f(t,r.u_texsize_icon),u_texture:new e.Uniform1i(t,r.u_texture),u_texture_icon:new e.Uniform1i(t,r.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1f(t,r.u_is_halo)}},background:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_color:new e.UniformColor(t,r.u_color)}},backgroundPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image:new e.Uniform1i(t,r.u_image),u_pattern_tl_a:new e.Uniform2f(t,r.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,r.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,r.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,r.u_pattern_br_b),u_texsize:new e.Uniform2f(t,r.u_texsize),u_mix:new e.Uniform1f(t,r.u_mix),u_pattern_size_a:new e.Uniform2f(t,r.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,r.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,r.u_scale_a),u_scale_b:new e.Uniform1f(t,r.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,r.u_tile_units_to_pixels)}}};function Hr(t,r){for(var n=t.sort((function(e,t){return e.tileID.isLessThan(t.tileID)?-1:t.tileID.isLessThan(e.tileID)?1:0})),i=0;i<n.length;i++){var a={},o=n[i],s=n.slice(i+1);Zr(o.tileID.wrapped(),o.tileID,s,new e.OverscaledTileID(0,o.tileID.wrap+1,0,0,0),a),o.setMask(a,r)}}function Zr(t,r,n,i,a){for(var o=0;o<n.length;o++){var s=n[o];if(i.isLessThan(s.tileID))break;if(r.key===s.tileID.key)return;if(s.tileID.isChildOf(r)){for(var u=r.children(1/0),c=0;c<u.length;c++)Zr(t,u[c],n.slice(o),i,a);return}}var l=r.overscaledZ-t.overscaledZ,p=new e.CanonicalTileID(l,r.canonical.x-(t.canonical.x<<l),r.canonical.y-(t.canonical.y<<l));a[p.key]=a[p.key]||p}function Xr(e,t,r,n,i,a,o,s){for(var u=e.context,c=u.gl,l=i?e.useProgram("collisionCircle"):e.useProgram("collisionBox"),p=0;p<n.length;p++){var h=n[p],f=t.getTile(h),d=f.getBucket(r);if(d){var m=i?s?d.textCollisionCircle:d.iconCollisionCircle:s?d.textCollisionBox:d.iconCollisionBox;if(m){var g=h.posMatrix;0===a[0]&&0===a[1]||(g=e.translatePosMatrix(h.posMatrix,f,a,o)),l.draw(u,i?c.TRIANGLES:c.LINES,Ee.disabled,Te.disabled,e.colorModeForRenderPass(),je.disabled,Er(g,e.transform,f),r.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,null,e.transform.zoom,null,null,m.collisionVertexBuffer)}}}}function Kr(e,t,r,n,i,a,o){Xr(e,t,r,n,!1,i,a,o),Xr(e,t,r,n,!0,i,a,o)}var Yr=e.identity(new Float32Array(16));function $r(t,r,n,i,a,o){var s=e.getAnchorAlignment(t),u=-(s.horizontalAlign-.5)*r,c=-(s.verticalAlign-.5)*n,l=e.evaluateVariableOffset(t,i);return new e.Point((u/a+l[0])*o,(c/a+l[1])*o)}function Jr(t,r,n,i,a,o,s,u,c,l,p){var h=t.text.placedSymbolArray,f=t.text.dynamicLayoutVertexArray,d=t.icon.dynamicLayoutVertexArray,m={};f.clear();for(var g=0;g<h.length;g++){var v=h.get(g),y=t.allowVerticalPlacement&&!v.placedOrientation,b=v.hidden||!v.crossTileID||y?null:i[v.crossTileID];if(b){var _=new e.Point(v.anchorX,v.anchorY),x=Ye(_,n?u:s),w=.5+o.cameraToCenterDistance/x.signedDistanceFromCamera*.5,O=a.evaluateSizeForFeature(t.textSizeData,l,v)*w/e.ONE_EM;n&&(O*=t.tilePixelRatio/c);for(var k=b.width,E=b.height,T=$r(b.anchor,k,E,b.textOffset,b.textBoxScale,O),S=n?Ye(_.add(T),s).point:x.point.add(r?T.rotate(-o.angle):T),j=t.allowVerticalPlacement&&v.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,P=0;P<v.numGlyphs;P++)e.addDynamicAttributes(f,S,j);p&&v.associatedIconIndex>=0&&(m[v.associatedIconIndex]={shiftedAnchor:S,angle:j})}else at(v.numGlyphs,f)}if(p){d.clear();for(var C=t.icon.placedSymbolArray,A=0;A<C.length;A++){var M=C.get(A);if(M.hidden)at(M.numGlyphs,d);else{var I=m[A];if(I)for(var R=0;R<M.numGlyphs;R++)e.addDynamicAttributes(d,I.shiftedAnchor,I.angle);else at(M.numGlyphs,d)}}t.icon.dynamicLayoutVertexBuffer.updateData(d)}t.text.dynamicLayoutVertexBuffer.updateData(f)}function Qr(e,t,r){return r.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function en(t,r,n,i,a,o,s,u,c,l,p,h){for(var f,d,m=t.context,g=m.gl,v=t.transform,y="map"===u,b="map"===c,_=y&&"point"!==n.layout.get("symbol-placement"),x=y&&!b&&!_,w=void 0!==n.layout.get("symbol-sort-key").constantOr(1),O=t.depthModeForSublayer(0,Ee.ReadOnly),k=n.layout.get("text-variable-anchor"),E=[],T=0,S=i;T<S.length;T+=1){var j=S[T],P=r.getTile(j),C=P.getBucket(n);if(C){var A=a?C.text:C.icon;if(A&&A.segments.get().length){var M=A.programConfigurations.get(n.id),I=a||C.sdfIcons,R=a?C.textSizeData:C.iconSizeData,L=b||0!==v.pitch;f||(f=t.useProgram(Qr(I,a,C),M),d=e.evaluateSizeForZoom(R,v.zoom));var z=void 0,D=[0,0],F=void 0,B=void 0,N=null,q=void 0;if(a){if(F=P.glyphAtlasTexture,B=g.LINEAR,z=P.glyphAtlasTexture.size,C.iconsInText){D=P.imageAtlasTexture.size,N=P.imageAtlasTexture;var U="composite"===R.kind||"camera"===R.kind;q=L||t.options.rotating||t.options.zooming||U?g.LINEAR:g.NEAREST}}else{var V=1!==n.layout.get("icon-size").constantOr(0)||C.iconsNeedLinear;F=P.imageAtlasTexture,B=I||t.options.rotating||t.options.zooming||V||L?g.LINEAR:g.NEAREST,z=P.imageAtlasTexture.size}var G=ct(P,1,t.transform.zoom),W=Xe(j.posMatrix,b,y,t.transform,G),H=Ke(j.posMatrix,b,y,t.transform,G),Z=k&&C.hasTextData(),X="none"!==n.layout.get("icon-text-fit")&&Z&&C.hasIconData();_&&Je(C,j.posMatrix,t,a,W,H,b,l);var K=t.translatePosMatrix(j.posMatrix,P,o,s),Y=_||a&&k||X?Yr:W,$=t.translatePosMatrix(H,P,o,s,!0),J=I&&0!==n.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),Q={program:f,buffers:A,uniformValues:I?C.iconsInText?Ur(R.kind,d,x,b,t,K,Y,$,z,D):qr(R.kind,d,x,b,t,K,Y,$,a,z,!0):Nr(R.kind,d,x,b,t,K,Y,$,a,z),atlasTexture:F,atlasTextureIcon:N,atlasInterpolation:B,atlasInterpolationIcon:q,isSDF:I,hasHalo:J};if(w)for(var ee=0,te=A.segments.get();ee<te.length;ee+=1){var re=te[ee];E.push({segments:new e.SegmentVector([re]),sortKey:re.sortKey,state:Q})}else E.push({segments:A.segments,sortKey:0,state:Q})}}}w&&E.sort((function(e,t){return e.sortKey-t.sortKey}));for(var ne=0,ie=E;ne<ie.length;ne+=1){var ae=ie[ne],oe=ae.state;if(m.activeTexture.set(g.TEXTURE0),oe.atlasTexture.bind(oe.atlasInterpolation,g.CLAMP_TO_EDGE),oe.atlasTextureIcon&&(m.activeTexture.set(g.TEXTURE1),oe.atlasTextureIcon&&oe.atlasTextureIcon.bind(oe.atlasInterpolationIcon,g.CLAMP_TO_EDGE)),oe.isSDF){var se=oe.uniformValues;oe.hasHalo&&(se.u_is_halo=1,tn(oe.buffers,ae.segments,n,t,oe.program,O,p,h,se)),se.u_is_halo=0}tn(oe.buffers,ae.segments,n,t,oe.program,O,p,h,oe.uniformValues)}}function tn(e,t,r,n,i,a,o,s,u){var c=n.context,l=c.gl;i.draw(c,l.TRIANGLES,a,o,s,je.disabled,u,r.id,e.layoutVertexBuffer,e.indexBuffer,t,r.paint,n.transform.zoom,e.programConfigurations.get(r.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function rn(e,t,r,n,i,a,o){var s,u,c,l,p,h=e.context.gl,f=r.paint.get("fill-pattern"),d=f&&f.constantOr(1),m=r.getCrossfadeParameters();o?(u=d&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=h.LINES):(u=d?"fillPattern":"fill",s=h.TRIANGLES);for(var g=0,v=n;g<v.length;g+=1){var y=v[g],b=t.getTile(y);if(!d||b.patternsLoaded()){var _=b.getBucket(r);if(_){var x=_.programConfigurations.get(r.id),w=e.useProgram(u,x);d&&(e.context.activeTexture.set(h.TEXTURE0),b.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),x.updatePatternPaintBuffers(m));var O=f.constantOr(null);if(O&&b.imageAtlas){var k=b.imageAtlas,E=k.patternPositions[O.to.toString()],T=k.patternPositions[O.from.toString()];E&&T&&x.setConstantPatternPositions(E,T)}var S=e.translatePosMatrix(y.posMatrix,b,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(o){l=_.indexBuffer2,p=_.segments2;var j=[h.drawingBufferWidth,h.drawingBufferHeight];c="fillOutlinePattern"===u&&d?wr(S,e,m,b,j):xr(S,j)}else l=_.indexBuffer,p=_.segments,c=d?_r(S,e,m,b):br(S);w.draw(e.context,s,i,e.stencilModeForClipping(y),a,je.disabled,c,r.id,_.layoutVertexBuffer,l,p,r.paint,e.transform.zoom,x)}}}}function nn(e,t,r,n,i,a,o){for(var s=e.context,u=s.gl,c=r.paint.get("fill-extrusion-pattern"),l=c.constantOr(1),p=r.getCrossfadeParameters(),h=r.paint.get("fill-extrusion-opacity"),f=0,d=n;f<d.length;f+=1){var m=d[f],g=t.getTile(m),v=g.getBucket(r);if(v){var y=v.programConfigurations.get(r.id),b=e.useProgram(l?"fillExtrusionPattern":"fillExtrusion",y);l&&(e.context.activeTexture.set(u.TEXTURE0),g.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),y.updatePatternPaintBuffers(p));var _=c.constantOr(null);if(_&&g.imageAtlas){var x=g.imageAtlas,w=x.patternPositions[_.to.toString()],O=x.patternPositions[_.from.toString()];w&&O&&y.setConstantPatternPositions(w,O)}var k=e.translatePosMatrix(m.posMatrix,g,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),E=r.paint.get("fill-extrusion-vertical-gradient"),T=l?yr(k,e,E,h,m,p,g):vr(k,e,E,h);b.draw(s,s.gl.TRIANGLES,i,a,o,je.backCCW,T,r.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,r.paint,e.transform.zoom,y)}}}function an(e,t,r,n,i,a){var o=e.context,s=o.gl,u=t.fbo;if(u){var c=e.useProgram("hillshade");o.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,u.colorAttachment.get());var l=Pr(e,t,r);t.maskedBoundsBuffer&&t.maskedIndexBuffer&&t.segments?c.draw(o,s.TRIANGLES,n,i,a,je.disabled,l,r.id,t.maskedBoundsBuffer,t.maskedIndexBuffer,t.segments):c.draw(o,s.TRIANGLES,n,i,a,je.disabled,l,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function on(t,r,n,i,a,o,s){var u=t.context,c=u.gl,l=r.dem;if(l&&l.data){var p=l.dim,h=l.stride,f=l.getPixels();if(u.activeTexture.set(c.TEXTURE1),u.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||t.getTileTexture(h),r.demTexture){var d=r.demTexture;d.update(f,{premultiply:!1}),d.bind(c.NEAREST,c.CLAMP_TO_EDGE)}else r.demTexture=new e.Texture(u,f,c.RGBA,{premultiply:!1}),r.demTexture.bind(c.NEAREST,c.CLAMP_TO_EDGE);u.activeTexture.set(c.TEXTURE0);var m=r.fbo;if(!m){var g=new e.Texture(u,{width:p,height:p,data:null},c.RGBA);g.bind(c.LINEAR,c.CLAMP_TO_EDGE),(m=r.fbo=u.createFramebuffer(p,p)).colorAttachment.set(g.texture)}u.bindFramebuffer.set(m.framebuffer),u.viewport.set([0,0,p,p]),t.useProgram("hillshadePrepare").draw(u,c.TRIANGLES,a,o,s,je.disabled,Cr(r.tileID,l,i),n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),r.needsHillshadePrepare=!1}}function sn(t,r,n,i,a){var o=i.paint.get("raster-fade-duration");if(o>0){var s=e.browser.now(),u=(s-t.timeAdded)/o,c=r?(s-r.timeAdded)/o:-1,l=n.getSource(),p=a.coveringZoomLevel({tileSize:l.tileSize,roundZoom:l.roundZoom}),h=!r||Math.abs(r.tileID.overscaledZ-p)>Math.abs(t.tileID.overscaledZ-p),f=h&&t.refreshedUponExpiration?1:e.clamp(h?u:1-c,0,1);return t.refreshedUponExpiration&&u>=1&&(t.refreshedUponExpiration=!1),r?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}function un(t,r,n){var i=t.context,a=i.gl,o=n.posMatrix,s=t.useProgram("debug"),u=Ee.disabled,c=Te.disabled,l=t.colorModeForRenderPass(),p="$debug";s.draw(i,a.LINE_STRIP,u,c,l,je.disabled,Tr(o,e.Color.red),p,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var h=r.getTileByID(n.key).latestRawTileData,f=h&&h.byteLength||0,d=Math.floor(f/1024),m=r.getTile(n).tileSize,g=512/Math.min(m,512),v=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(v+=" => "+n.overscaledZ);for(var y=function(e,t,r,n){n=n||1;var i,a,o,s,u,c,l,p,h=[];for(i=0,a=e.length;i<a;i++)if(u=cn[e[i]]){for(p=null,o=0,s=u[1].length;o<s;o+=2)-1===u[1][o]&&-1===u[1][o+1]?p=null:(c=t+u[1][o]*n,l=r-u[1][o+1]*n,p&&h.push(p.x,p.y,c,l),p={x:c,y:l});t+=u[0]*n}return h}(v+" "+d+"kb",50,200*g,5*g),b=new e.StructArrayLayout2i4,_=new e.StructArrayLayout2ui4,x=0;x<y.length;x+=2)b.emplaceBack(y[x],y[x+1]),_.emplaceBack(x,x+1);for(var w=i.createVertexBuffer(b,Bt.members),O=i.createIndexBuffer(_),k=e.SegmentVector.simpleSegment(0,0,b.length/2,b.length/2),E=e.EXTENT/(Math.pow(2,t.transform.zoom-n.overscaledZ)*m*g),T=[],S=-1;S<=1;S++)for(var j=-1;j<=1&&(0!==S||0!==j);j++)T.push([S,j]);for(var P=0;P<T.length;P++){var C=T[P];s.draw(i,a.LINES,u,c,l,je.disabled,Tr(e.translate([],o,[E*C[0],E*C[1],0]),e.Color.white),p,w,O,k)}s.draw(i,a.LINES,u,c,l,je.disabled,Tr(o,e.Color.black),p,w,O,k),w.destroy(),O.destroy(),k.destroy()}var cn={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},ln={symbol:function(t,r,n,i,a){if("translucent"===t.renderPass){var o=Te.disabled,s=t.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(t,r,n,i,a,o,s){for(var u=r.transform,c="map"===a,l="map"===o,p=0,h=t;p<h.length;p+=1){var f=h[p],d=i.getTile(f),m=d.getBucket(n);if(m&&m.text&&m.text.segments.get().length){var g=m.textSizeData,v=e.evaluateSizeForZoom(g,u.zoom),y=ct(d,1,r.transform.zoom),b=Xe(f.posMatrix,l,c,r.transform,y),_="none"!==n.layout.get("icon-text-fit")&&m.hasIconData();if(v){var x=Math.pow(2,u.zoom-d.tileID.overscaledZ);Jr(m,c,l,s,e.symbolSize,u,b,f.posMatrix,x,v,_)}}}}(i,t,n,r,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),a),0!==n.paint.get("icon-opacity").constantOr(1)&&en(t,r,n,i,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),o,s),0!==n.paint.get("text-opacity").constantOr(1)&&en(t,r,n,i,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),o,s),r.map.showCollisionBoxes&&(Kr(t,r,n,i,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),Kr(t,r,n,i,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))}},circle:function(t,r,n,i){if("translucent"===t.renderPass){var a=n.paint.get("circle-opacity"),o=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity"),u=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0!==a.constantOr(1)||0!==o.constantOr(1)&&0!==s.constantOr(1)){for(var c=t.context,l=c.gl,p=t.depthModeForSublayer(0,Ee.ReadOnly),h=Te.disabled,f=t.colorModeForRenderPass(),d=[],m=0;m<i.length;m++){var g=i[m],v=r.getTile(g),y=v.getBucket(n);if(y){var b=y.programConfigurations.get(n.id),_={programConfiguration:b,program:t.useProgram("circle",b),layoutVertexBuffer:y.layoutVertexBuffer,indexBuffer:y.indexBuffer,uniformValues:Or(t,g,v,n)};if(u)for(var x=0,w=y.segments.get();x<w.length;x+=1){var O=w[x];d.push({segments:new e.SegmentVector([O]),sortKey:O.sortKey,state:_})}else d.push({segments:y.segments,sortKey:0,state:_})}}u&&d.sort((function(e,t){return e.sortKey-t.sortKey}));for(var k=0,E=d;k<E.length;k+=1){var T=E[k],S=T.state,j=S.programConfiguration,P=S.program,C=S.layoutVertexBuffer,A=S.indexBuffer,M=S.uniformValues,I=T.segments;P.draw(c,l.TRIANGLES,p,h,f,je.disabled,M,n.id,C,A,I,n.paint,t.transform.zoom,j)}}}},heatmap:function(t,r,n,i){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var a=t.context,o=a.gl,s=t.depthModeForSublayer(0,Ee.ReadOnly),u=Te.disabled,c=new Se([o.ONE,o.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,r){var n=e.gl;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var i=r.heatmapFbo;if(i)n.bindTexture(n.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{var a=n.createTexture();n.bindTexture(n.TEXTURE_2D,a),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),i=r.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4),function e(t,r,n,i){var a=t.gl;a.texImage2D(a.TEXTURE_2D,0,a.RGBA,r.width/4,r.height/4,0,a.RGBA,t.extTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:a.UNSIGNED_BYTE,null),i.colorAttachment.set(n),t.extTextureHalfFloat&&a.checkFramebufferStatus(a.FRAMEBUFFER)!==a.FRAMEBUFFER_COMPLETE&&(t.extTextureHalfFloat=null,i.colorAttachment.setDirty(),e(t,r,n,i))}(e,t,a,i)}}(a,t,n),a.clear({color:e.Color.transparent});for(var l=0;l<i.length;l++){var p=i[l];if(!r.hasRenderableParent(p)){var h=r.getTile(p),f=h.getBucket(n);if(f){var d=f.programConfigurations.get(n.id),m=t.useProgram("heatmap",d),g=t.transform.zoom;m.draw(a,o.TRIANGLES,s,u,c,je.disabled,jr(p.posMatrix,h,g,n.paint.get("heatmap-intensity")),n.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,n.paint,t.transform.zoom,d)}}}a.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,r){var n=t.context,i=n.gl,a=r.heatmapFbo;if(a){n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,a.colorAttachment.get()),n.activeTexture.set(i.TEXTURE1);var o=r.colorRampTexture;o||(o=r.colorRampTexture=new e.Texture(n,r.colorRamp,i.RGBA)),o.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,i.TRIANGLES,Ee.disabled,Te.disabled,t.colorModeForRenderPass(),je.disabled,function(t,r,n,i){var a=e.create();e.ortho(a,0,t.width,t.height,0,0,1);var o=t.context.gl;return{u_matrix:a,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:n,u_color_ramp:i,u_opacity:r.paint.get("heatmap-opacity")}}(t,r,0,1),r.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,r.paint,t.transform.zoom)}}(t,n))},line:function(t,r,n,i){if("translucent"===t.renderPass){var a=n.paint.get("line-opacity"),o=n.paint.get("line-width");if(0!==a.constantOr(1)&&0!==o.constantOr(1)){var s=t.depthModeForSublayer(0,Ee.ReadOnly),u=t.colorModeForRenderPass(),c=n.paint.get("line-dasharray"),l=n.paint.get("line-pattern"),p=l.constantOr(1),h=n.paint.get("line-gradient"),f=n.getCrossfadeParameters(),d=c?"lineSDF":p?"linePattern":h?"lineGradient":"line",m=t.context,g=m.gl,v=!0;if(h){m.activeTexture.set(g.TEXTURE0);var y=n.gradientTexture;if(!n.gradient)return;y||(y=n.gradientTexture=new e.Texture(m,n.gradient,g.RGBA)),y.bind(g.LINEAR,g.CLAMP_TO_EDGE)}for(var b=0,_=i;b<_.length;b+=1){var x=_[b],w=r.getTile(x);if(!p||w.patternsLoaded()){var O=w.getBucket(n);if(O){var k=O.programConfigurations.get(n.id),E=t.context.program.get(),T=t.useProgram(d,k),S=v||T.program!==E,j=l.constantOr(null);if(j&&w.imageAtlas){var P=w.imageAtlas,C=P.patternPositions[j.to.toString()],A=P.patternPositions[j.from.toString()];C&&A&&k.setConstantPatternPositions(C,A)}var M=c?Lr(t,w,n,c,f):p?Rr(t,w,n,f):h?Ir(t,w,n):Mr(t,w,n);c&&(S||t.lineAtlas.dirty)?(m.activeTexture.set(g.TEXTURE0),t.lineAtlas.bind(m)):p&&(m.activeTexture.set(g.TEXTURE0),w.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),k.updatePatternPaintBuffers(f)),T.draw(m,g.TRIANGLES,s,t.stencilModeForClipping(x),u,je.disabled,M,n.id,O.layoutVertexBuffer,O.indexBuffer,O.segments,n.paint,t.transform.zoom,k),v=!1}}}}}},fill:function(t,r,n,i){var a=n.paint.get("fill-color"),o=n.paint.get("fill-opacity");if(0!==o.constantOr(1)){var s=t.colorModeForRenderPass(),u=n.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===a.constantOr(e.Color.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){var l=t.depthModeForSublayer(1,"opaque"===t.renderPass?Ee.ReadWrite:Ee.ReadOnly);rn(t,r,n,i,l,s,!1)}if("translucent"===t.renderPass&&n.paint.get("fill-antialias")){var p=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,Ee.ReadOnly);rn(t,r,n,i,p,s,!0)}}},"fill-extrusion":function(e,t,r,n){var i=r.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){var a=new Ee(e.context.gl.LEQUAL,Ee.ReadWrite,e.depthRangeFor3D);if(1!==i||r.paint.get("fill-extrusion-pattern").constantOr(1))nn(e,t,r,n,a,Te.disabled,Se.disabled),nn(e,t,r,n,a,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var o=e.colorModeForRenderPass();nn(e,t,r,n,a,Te.disabled,o)}}},hillshade:function(e,t,r,n){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var i=e.context,a=t.getSource().maxzoom,o=e.depthModeForSublayer(0,Ee.ReadOnly),s=Te.disabled,u=e.colorModeForRenderPass(),c=0,l=n;c<l.length;c+=1){var p=l[c],h=t.getTile(p);h.needsHillshadePrepare&&"offscreen"===e.renderPass?on(e,h,r,a,o,s,u):"translucent"===e.renderPass&&an(e,h,r,o,s,u)}i.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,r,n){if("translucent"===e.renderPass&&0!==r.paint.get("raster-opacity"))for(var i=e.context,a=i.gl,o=t.getSource(),s=e.useProgram("raster"),u=Te.disabled,c=e.colorModeForRenderPass(),l=n.length&&n[0].overscaledZ,p=!e.options.moving,h=0,f=n;h<f.length;h+=1){var d=f[h],m=e.depthModeForSublayer(d.overscaledZ-l,1===r.paint.get("raster-opacity")?Ee.ReadWrite:Ee.ReadOnly,a.LESS),g=t.getTile(d),v=e.transform.calculatePosMatrix(d.toUnwrapped(),p);g.registerFadeDuration(r.paint.get("raster-fade-duration"));var y=t.findLoadedParent(d,0),b=sn(g,y,t,r,e.transform),_=void 0,x=void 0,w="nearest"===r.paint.get("raster-resampling")?a.NEAREST:a.LINEAR;i.activeTexture.set(a.TEXTURE0),g.texture.bind(w,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(a.TEXTURE1),y?(y.texture.bind(w,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),_=Math.pow(2,y.tileID.overscaledZ-g.tileID.overscaledZ),x=[g.tileID.canonical.x*_%1,g.tileID.canonical.y*_%1]):g.texture.bind(w,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);var O=Fr(v,x||[0,0],_||1,b,r);o instanceof A?s.draw(i,a.TRIANGLES,m,u,c,je.disabled,O,r.id,o.boundsBuffer,e.quadTriangleIndexBuffer,o.boundsSegments):g.maskedBoundsBuffer&&g.maskedIndexBuffer&&g.segments?s.draw(i,a.TRIANGLES,m,u,c,je.disabled,O,r.id,g.maskedBoundsBuffer,g.maskedIndexBuffer,g.segments,r.paint,e.transform.zoom):s.draw(i,a.TRIANGLES,m,u,c,je.disabled,O,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,r){var n=r.paint.get("background-color"),i=r.paint.get("background-opacity");if(0!==i){var a=e.context,o=a.gl,s=e.transform,u=s.tileSize,c=r.paint.get("background-pattern");if(!e.isPatternMissing(c)){var l=!c&&1===n.a&&1===i&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===l){var p=Te.disabled,h=e.depthModeForSublayer(0,"opaque"===l?Ee.ReadWrite:Ee.ReadOnly),f=e.colorModeForRenderPass(),d=e.useProgram(c?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:u});c&&(a.activeTexture.set(o.TEXTURE0),e.imageManager.bind(e.context));for(var g=r.getCrossfadeParameters(),v=0,y=m;v<y.length;v+=1){var b=y[v],_=e.transform.calculatePosMatrix(b.toUnwrapped()),x=c?Gr(_,i,e,c,{tileID:b,tileSize:u},g):Vr(_,i,n);d.draw(a,o.TRIANGLES,h,p,f,je.disabled,x,r.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,r){for(var n=0;n<r.length;n++)un(e,t,r[n])},custom:function(e,t,r){var n=e.context,i=r.implementation;if("offscreen"===e.renderPass){var a=i.prerender;a&&(e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),a.call(i,n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),n.setStencilMode(Te.disabled);var o="3d"===i.renderingMode?new Ee(e.context.gl.LEQUAL,Ee.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,Ee.ReadOnly);n.setDepthMode(o),i.render(n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState(),n.bindFramebuffer.set(null)}}},pn=function(t,r){this.context=new Pe(t),this.transform=r,this._tileTextures={},this.setup(),this.numSublayers=Ce.maxUnderzooming+Ce.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new e.ProgramConfiguration,this.crossTileSymbolIndex=new Rt,this.gpuTimers={}};function hn(e,t){if(e.y>t.y){var r=e;e=t,t=r}return{x0:e.x,y0:e.y,x1:t.x,y1:t.y,dx:t.x-e.x,dy:t.y-e.y}}function fn(e,t,r,n,i){var a=Math.max(r,Math.floor(t.y0)),o=Math.min(n,Math.ceil(t.y1));if(e.x0===t.x0&&e.y0===t.y0?e.x0+t.dy/e.dy*e.dx<t.x1:e.x1-t.dy/e.dy*e.dx<t.x0){var s=e;e=t,t=s}for(var u=e.dx/e.dy,c=t.dx/t.dy,l=e.dx>0,p=t.dx<0,h=a;h<o;h++){var f=u*Math.max(0,Math.min(e.dy,h+l-e.y0))+e.x0,d=c*Math.max(0,Math.min(t.dy,h+p-t.y0))+t.x0;i(Math.floor(d),Math.ceil(f),h)}}function dn(e,t,r,n,i,a){var o,s=hn(e,t),u=hn(t,r),c=hn(r,e);s.dy>u.dy&&(o=s,s=u,u=o),s.dy>c.dy&&(o=s,s=c,c=o),u.dy>c.dy&&(o=u,u=c,c=o),s.dy&&fn(c,s,n,i,a),u.dy&&fn(c,u,n,i,a)}pn.prototype.resize=function(t,r){var n=this.context.gl;if(this.width=t*e.browser.devicePixelRatio,this.height=r*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var i=0,a=this.style._order;i<a.length;i+=1){var o=a[i];this.style._layers[o].resize()}this.depthRbo&&(n.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},pn.prototype.setup=function(){var t=this.context,r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(r,Bt.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,Bt.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,e.rasterBoundsAttributes.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout2i4;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(a,Bt.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout1ui2;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(o);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s);var u=this.context.gl;this.stencilClearMode=new Te({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)},pn.prototype.clearStencil=function(){var t=this.context,r=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var n=e.create();e.ortho(n,0,this.width,this.height,0,0,1),e.scale(n,n,[r.drawingBufferWidth,r.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,r.TRIANGLES,Ee.disabled,this.stencilClearMode,Se.disabled,je.disabled,Sr(n),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},pn.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var r=this.context,n=r.gl;this.nextStencilID+t.length>256&&this.clearStencil(),r.setColorMode(Se.disabled),r.setDepthMode(Ee.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var a=0,o=t;a<o.length;a+=1){var s=o[a],u=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(r,n.TRIANGLES,Ee.disabled,new Te({func:n.ALWAYS,mask:0},u,255,n.KEEP,n.KEEP,n.REPLACE),Se.disabled,je.disabled,Sr(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},pn.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new Te({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},pn.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new Te({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},pn.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Se([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Se.unblended:Se.alphaBlended},pn.prototype.depthModeForSublayer=function(e,t,r){if(!this.opaquePassEnabledForLayer())return Ee.disabled;var n=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new Ee(r||this.context.gl.LEQUAL,t,[n,n])},pn.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},pn.prototype.render=function(t,r){var n=this;this.style=t,this.options=r,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var i=this.style._order,a=this.style.sourceCaches;for(var o in a){var s=a[o];s.used&&s.prepare(this.context)}var u,c,l={},p={},h={};for(var f in a){var d=a[f];l[f]=d.getVisibleCoordinates(),p[f]=l[f].slice().reverse(),h[f]=d.getVisibleCoordinates(!0).reverse()}for(var m in a){var g=a[m],v=g.getSource();if("raster"===v.type||"raster-dem"===v.type){for(var y=[],b=0,_=l[m];b<_.length;b+=1){var x=_[b];y.push(g.getTile(x))}Hr(y,this.context)}}this.opaquePassCutoff=1/0;for(var w=0;w<i.length;w++){var O=i[w];if(this.style._layers[O].is3D()){this.opaquePassCutoff=w;break}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var k=0,E=i;k<E.length;k+=1){var T=E[k],S=this.style._layers[T];if(S.hasOffscreenPass()&&!S.isHidden(this.transform.zoom)){var j=p[S.source];("custom"===S.type||j.length)&&this.renderLayer(this,a[S.source],S,j)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:r.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=r.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var P=this.style._layers[i[this.currentLayer]],C=a[P.source],A=l[P.source];this._renderTileClippingMasks(P,A),this.renderLayer(this,C,P,A)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var M=this.style._layers[i[this.currentLayer]],I=a[M.source],R=("symbol"===M.type?h:p)[M.source];this._renderTileClippingMasks(M,l[M.source]),this.renderLayer(this,I,M,R)}this.options.showTileBoundaries&&(e.values(this.style._layers).forEach((function(e){e.source&&!e.isHidden(n.transform.zoom)&&(e.source!==(c&&c.id)&&(c=n.style.sourceCaches[e.source]),(!u||u.getSource().maxzoom<c.getSource().maxzoom)&&(u=c))})),u&&ln.debug(this,u,u.getVisibleCoordinates())),this.context.setDefault()},pn.prototype.setupOffscreenDepthRenderbuffer=function(){var e=this.context;this.depthRbo||(this.depthRbo=e.createRenderbuffer(e.gl.DEPTH_COMPONENT16,this.width,this.height))},pn.prototype.renderLayer=function(e,t,r,n){r.isHidden(this.transform.zoom)||("background"===r.type||"custom"===r.type||n.length)&&(this.id=r.id,this.gpuTimingStart(r),ln[r.type](e,t,r,n,this.style.placement.variableOffsets),this.gpuTimingEnd())},pn.prototype.gpuTimingStart=function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,r=this.gpuTimers[e.id];r||(r=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),r.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,r.query)}},pn.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}},pn.prototype.collectGpuTimers=function(){var e=this.gpuTimers;return this.gpuTimers={},e},pn.prototype.queryGpuTimers=function(e){var t={};for(var r in e){var n=e[r],i=this.context.extTimerQuery,a=i.getQueryObjectEXT(n.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n.query),t[r]=a}return t},pn.prototype.translatePosMatrix=function(t,r,n,i,a){if(!n[0]&&!n[1])return t;var o=a?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(o){var s=Math.sin(o),u=Math.cos(o);n=[n[0]*u-n[1]*s,n[0]*s+n[1]*u]}var c=[a?n[0]:ct(r,n[0],this.transform.zoom),a?n[1]:ct(r,n[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,c),l},pn.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},pn.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},pn.prototype.isPatternMissing=function(e){if(!e)return!1;var t=this.imageManager.getPattern(e.from.toString()),r=this.imageManager.getPattern(e.to.toString());return!t||!r},pn.prototype.useProgram=function(e,t){void 0===t&&(t=this.emptyProgramConfiguration),this.cache=this.cache||{};var r=""+e+(t.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[r]||(this.cache[r]=new mr(this.context,fr[e],t,Wr[e],this._showOverdrawInspector)),this.cache[r]},pn.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},pn.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)};var mn=function(t,r,n,i,a){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===a||a,this._minZoom=t||0,this._maxZoom=r||22,this._minPitch=null==n?0:n,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},gn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};mn.prototype.clone=function(){var e=new mn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._calcMatrices(),e},gn.minZoom.get=function(){return this._minZoom},gn.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},gn.maxZoom.get=function(){return this._maxZoom},gn.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},gn.minPitch.get=function(){return this._minPitch},gn.minPitch.set=function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))},gn.maxPitch.get=function(){return this._maxPitch},gn.maxPitch.set=function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))},gn.renderWorldCopies.get=function(){return this._renderWorldCopies},gn.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},gn.worldSize.get=function(){return this.tileSize*this.scale},gn.centerPoint.get=function(){return this.size._div(2)},gn.size.get=function(){return new e.Point(this.width,this.height)},gn.bearing.get=function(){return-this.angle/Math.PI*180},gn.bearing.set=function(t){var r=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},gn.pitch.get=function(){return this._pitch/Math.PI*180},gn.pitch.set=function(t){var r=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())},gn.fov.get=function(){return this._fov/Math.PI*180},gn.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},gn.zoom.get=function(){return this._zoom},gn.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},gn.center.get=function(){return this._center},gn.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},mn.prototype.coveringZoomLevel=function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)},mn.prototype.getVisibleUnwrappedCoordinates=function(t){var r=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var n=this.pointCoordinate(new e.Point(0,0)),i=this.pointCoordinate(new e.Point(this.width,0)),a=this.pointCoordinate(new e.Point(this.width,this.height)),o=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(n.x,i.x,a.x,o.x)),u=Math.floor(Math.max(n.x,i.x,a.x,o.x)),c=s-1;c<=u+1;c++)0!==c&&r.push(new e.UnwrappedTileID(c,t));return r},mn.prototype.coveringTiles=function(t){var r=this.coveringZoomLevel(t),n=r;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);var i=e.MercatorCoordinate.fromLngLat(this.center),a=Math.pow(2,r),o=new e.Point(a*i.x-.5,a*i.y-.5);return function(t,r,n,i){void 0===i&&(i=!0);var a=1<<t,o={};function s(r,s,u){var c,l,p,h;if(u>=0&&u<=a)for(c=r;c<s;c++)l=Math.floor(c/a),p=(c%a+a)%a,0!==l&&!0!==i||(h=new e.OverscaledTileID(n,l,t,p,u),o[h.key]=h)}var u=r.map((function(t){return new e.Point(t.x,t.y)._mult(a)}));return dn(u[0],u[1],u[2],0,a,s),dn(u[2],u[3],u[0],0,a,s),Object.keys(o).map((function(e){return o[e]}))}(r,[this.pointCoordinate(new e.Point(0,0)),this.pointCoordinate(new e.Point(this.width,0)),this.pointCoordinate(new e.Point(this.width,this.height)),this.pointCoordinate(new e.Point(0,this.height))],t.reparseOverscaled?n:r,this._renderWorldCopies).sort((function(e,t){return o.dist(e.canonical)-o.dist(t.canonical)}))},mn.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},gn.unmodified.get=function(){return this._unmodified},mn.prototype.zoomScale=function(e){return Math.pow(2,e)},mn.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},mn.prototype.project=function(t){var r=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(r)*this.worldSize)},mn.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},gn.point.get=function(){return this.project(this.center)},mn.prototype.setLocationAtPoint=function(t,r){var n=this.pointCoordinate(r),i=this.pointCoordinate(this.centerPoint),a=this.locationCoordinate(t),o=new e.MercatorCoordinate(a.x-(n.x-i.x),a.y-(n.y-i.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())},mn.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},mn.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},mn.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},mn.prototype.coordinateLocation=function(e){return e.toLngLat()},mn.prototype.pointCoordinate=function(t){var r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];e.transformMat4(r,r,this.pixelMatrixInverse),e.transformMat4(n,n,this.pixelMatrixInverse);var i=r[3],a=n[3],o=r[0]/i,s=n[0]/a,u=r[1]/i,c=n[1]/a,l=r[2]/i,p=n[2]/a,h=l===p?0:(0-l)/(p-l);return new e.MercatorCoordinate(e.number(o,s,h)/this.worldSize,e.number(u,c,h)/this.worldSize)},mn.prototype.coordinatePoint=function(t){var r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix),new e.Point(r[0]/r[3],r[1]/r[3])},mn.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},mn.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},mn.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},mn.prototype.calculatePosMatrix=function(t,r){void 0===r&&(r=!1);var n=t.key,i=r?this._alignedPosMatrixCache:this._posMatrixCache;if(i[n])return i[n];var a=t.canonical,o=this.worldSize/this.zoomScale(a.z),s=a.x+Math.pow(2,a.z)*t.wrap,u=e.identity(new Float64Array(16));return e.translate(u,u,[s*o,a.y*o,0]),e.scale(u,u,[o/e.EXTENT,o/e.EXTENT,1]),e.multiply(u,r?this.alignedProjMatrix:this.projMatrix,u),i[n]=new Float32Array(u),i[n]},mn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},mn.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,r,n,i,a=-90,o=90,s=-180,u=180,c=this.size,l=this._unmodified;if(this.latRange){var p=this.latRange;a=e.mercatorYfromLat(p[1])*this.worldSize,t=(o=e.mercatorYfromLat(p[0])*this.worldSize)-a<c.y?c.y/(o-a):0}if(this.lngRange){var h=this.lngRange;s=e.mercatorXfromLng(h[0])*this.worldSize,r=(u=e.mercatorXfromLng(h[1])*this.worldSize)-s<c.x?c.x/(u-s):0}var f=this.point,d=Math.max(r||0,t||0);if(d)return this.center=this.unproject(new e.Point(r?(u+s)/2:f.x,t?(o+a)/2:f.y)),this.zoom+=this.scaleZoom(d),this._unmodified=l,void(this._constraining=!1);if(this.latRange){var m=f.y,g=c.y/2;m-g<a&&(i=a+g),m+g>o&&(i=o-g)}if(this.lngRange){var v=f.x,y=c.x/2;v-y<s&&(n=s+y),v+y>u&&(n=u-y)}void 0===n&&void 0===i||(this.center=this.unproject(new e.Point(void 0!==n?n:f.x,void 0!==i?i:f.y))),this._unmodified=l,this._constraining=!1}},mn.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,r=Math.PI/2+this._pitch,n=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-r-t),i=this.point,a=i.x,o=i.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance),u=this.height/50,c=new Float64Array(16);e.perspective(c,this._fov,this.width/this.height,u,s),e.scale(c,c,[1,-1,1]),e.translate(c,c,[0,0,-this.cameraToCenterDistance]),e.rotateX(c,c,this._pitch),e.rotateZ(c,c,this.angle),e.translate(c,c,[-a,-o,0]),this.mercatorMatrix=e.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),e.scale(c,c,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c;var l=this.width%2/2,p=this.height%2/2,h=Math.cos(this.angle),f=Math.sin(this.angle),d=a-Math.round(a)+h*l+f*p,m=o-Math.round(o)+h*p+f*l,g=new Float64Array(c);if(e.translate(g,g,[d>.5?d-1:d,m>.5?m-1:m,0]),this.alignedProjMatrix=g,c=e.create(),e.scale(c,c,[this.width/2,-this.height/2,1]),e.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=e.create(),e.scale(c,c,[1,-1,1]),e.translate(c,c,[-1,-1,0]),e.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},mn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix)[3]/this.cameraToCenterDistance},mn.prototype.getCameraPoint=function(){var t=this._pitch,r=Math.tan(t)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,r))},mn.prototype.getCameraQueryGeometry=function(t){var r=this.getCameraPoint();if(1===t.length)return[t[0],r];for(var n=r.x,i=r.y,a=r.x,o=r.y,s=0,u=t;s<u.length;s+=1){var c=u[s];n=Math.min(n,c.x),i=Math.min(i,c.y),a=Math.max(a,c.x),o=Math.max(o,c.y)}return[new e.Point(n,i),new e.Point(a,i),new e.Point(a,o),new e.Point(n,o),new e.Point(n,i)]},Object.defineProperties(mn.prototype,gn);var vn=function(t){var r,n,i,a;this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(r=this._updateHashUnthrottled.bind(this),n=!1,i=null,a=function(){i=null,n&&(r(),i=setTimeout(a,300),n=!1)},function(){return n=!0,i||a(),i})};vn.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},vn.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},vn.prototype.getHashString=function(t){var r=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,i=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.pow(10,i),o=Math.round(r.lng*a)/a,s=Math.round(r.lat*a)/a,u=this._map.getBearing(),c=this._map.getPitch(),l="";if(l+=t?"/"+o+"/"+s+"/"+n:n+"/"+s+"/"+o,(u||c)&&(l+="/"+Math.round(10*u)/10),c&&(l+="/"+Math.round(c)),this._hashName){var p=this._hashName,h=!1,f=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===p?(h=!0,t+"="+l):e})).filter((function(e){return e}));return h||f.push(p+"="+l),"#"+f.join("&")}return"#"+l},vn.prototype._getCurrentHash=function(){var t,r=this,n=e.window.location.hash.replace("#","");return this._hashName?(n.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===r._hashName&&(t=e)})),(t&&t[1]||"").split("/")):n.split("/")},vn.prototype._onHashChange=function(){var e=this._getCurrentHash();return e.length>=3&&!e.some((function(e){return isNaN(e)}))&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},vn.prototype._updateHashUnthrottled=function(){var t=this.getHashString();try{e.window.history.replaceState(e.window.history.state,"",t)}catch(e){}};var yn=function(t){function n(n,i,a,o){void 0===o&&(o={});var s=r.mousePos(i.getCanvasContainer(),a),u=i.unproject(s);t.call(this,n,e.extend({point:s,lngLat:u,originalEvent:a},o)),this._defaultPrevented=!1,this.target=i}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var i={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,i),n}(e.Event),bn=function(t){function n(n,i,a){var o=r.touchPos(i.getCanvasContainer(),a),s=o.map((function(e){return i.unproject(e)})),u=o.reduce((function(e,t,r,n){return e.add(t.div(n.length))}),new e.Point(0,0)),c=i.unproject(u);t.call(this,n,{points:o,point:u,lngLats:s,lngLat:c,originalEvent:a}),this._defaultPrevented=!1}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var i={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,i),n}(e.Event),_n=function(e){function t(t,r,n){e.call(this,t,{originalEvent:n}),this._defaultPrevented=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,r),t}(e.Event),xn=function(t){this._map=t,this._el=t.getCanvasContainer(),this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,e.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};xn.prototype.setZoomRate=function(e){this._defaultZoomRate=e},xn.prototype.setWheelZoomRate=function(e){this._wheelZoomRate=e},xn.prototype.isEnabled=function(){return!!this._enabled},xn.prototype.isActive=function(){return!!this._active},xn.prototype.isZooming=function(){return!!this._zooming},xn.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},xn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},xn.prototype.onWheel=function(t){if(this.isEnabled()){var r=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,n=e.browser.now(),i=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==r&&r%4.000244140625==0?this._type="wheel":0!==r&&Math.abs(r)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),t.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=t,this._delta-=r,this.isActive()||this._start(t)),t.preventDefault()}},xn.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(e)},xn.prototype._start=function(t){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0,this._map.fire(new e.Event("movestart",{originalEvent:t})),this._map.fire(new e.Event("zoomstart",{originalEvent:t}))),this._finishTimeout&&clearTimeout(this._finishTimeout);var n=r.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},xn.prototype._onScrollFrame=function(){var t=this;if(this._frameId=null,this.isActive()){var r=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==i&&(i=1/i);var a="number"==typeof this._targetZoom?r.zoomScale(this._targetZoom):r.scale;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(a*i))),"wheel"===this._type&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var o="number"==typeof this._targetZoom?this._targetZoom:r.zoom,s=this._startZoom,u=this._easing,c=!1;if("wheel"===this._type&&s&&u){var l=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),p=u(l);r.zoom=e.number(s,o,p),l<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):c=!0}else r.zoom=o,c=!0;r.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new e.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new e.Event("zoom",{originalEvent:this._lastWheelEvent})),c&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._map.fire(new e.Event("zoomend",{originalEvent:t._lastWheelEvent})),t._map.fire(new e.Event("moveend",{originalEvent:t._lastWheelEvent})),delete t._targetZoom}),200))}},xn.prototype._smoothOutEasing=function(t){var r=e.ease;if(this._prevEase){var n=this._prevEase,i=(e.browser.now()-n.start)/n.duration,a=n.easing(i+.01)-n.easing(i),o=.27/Math.sqrt(a*a+1e-4)*.01,s=Math.sqrt(.0729-o*o);r=e.bezier(o,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:r},r};var wn=function(t,r){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=r.clickTolerance||1,e.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};wn.prototype.isEnabled=function(){return!!this._enabled},wn.prototype.isActive=function(){return!!this._active},wn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},wn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},wn.prototype.onMouseDown=function(t){this.isEnabled()&&t.shiftKey&&0===t.button&&(e.window.document.addEventListener("mousemove",this._onMouseMove,!1),e.window.document.addEventListener("keydown",this._onKeyDown,!1),e.window.document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=this._lastPos=r.mousePos(this._el,t),this._active=!0)},wn.prototype._onMouseMove=function(e){var t=r.mousePos(this._el,e);if(!(this._lastPos.equals(t)||!this._box&&t.dist(this._startPos)<this._clickTolerance)){var n=this._startPos;this._lastPos=t,this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var i=Math.min(n.x,t.x),a=Math.max(n.x,t.x),o=Math.min(n.y,t.y),s=Math.max(n.y,t.y);r.setTransform(this._box,"translate("+i+"px,"+o+"px)"),this._box.style.width=a-i+"px",this._box.style.height=s-o+"px"}},wn.prototype._onMouseUp=function(t){if(0===t.button){var n=this._startPos,i=r.mousePos(this._el,t);this._finish(),r.suppressClick(),n.x===i.x&&n.y===i.y?this._fireEvent("boxzoomcancel",t):this._map.fitScreenCoordinates(n,i,this._map.getBearing(),{linear:!0}).fire(new e.Event("boxzoomend",{originalEvent:t}))}},wn.prototype._onKeyDown=function(e){27===e.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",e))},wn.prototype._finish=function(){this._active=!1,e.window.document.removeEventListener("mousemove",this._onMouseMove,!1),e.window.document.removeEventListener("keydown",this._onKeyDown,!1),e.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(r.remove(this._box),this._box=null),r.enableDrag(),delete this._startPos,delete this._lastPos},wn.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,{originalEvent:r}))};var On=e.bezier(0,0,.25,1),kn=function(t,r){this._map=t,this._el=r.element||t.getCanvasContainer(),this._state="disabled",this._button=r.button||"right",this._bearingSnap=r.bearingSnap||0,this._pitchWithRotate=!1!==r.pitchWithRotate,e.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};kn.prototype.isEnabled=function(){return"disabled"!==this._state},kn.prototype.isActive=function(){return"active"===this._state},kn.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},kn.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},kn.prototype.onMouseDown=function(t){if("enabled"===this._state){var n="touchstart"===t.type;if(n)this._startTime=Date.now();else if("right"===this._button){if(this._eventButton=r.mouseButton(t),this._eventButton!==(t.ctrlKey?0:2))return}else{if(t.ctrlKey||0!==r.mouseButton(t))return;this._eventButton=0}r.disableDrag(),n?(e.window.document.addEventListener("touchmove",this._onMouseMove,{capture:!0}),e.window.document.addEventListener("touchend",this._onMouseUp)):(e.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),e.window.document.addEventListener("mouseup",this._onMouseUp)),e.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[e.browser.now(),this._map.getBearing()]],this._startPos=this._prevPos=this._lastPos=r.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},kn.prototype._onMouseMove=function(e){var t=r.mousePos(this._el,e);this._lastPos.equals(t)||(this._lastMoveEvent=e,this._lastPos=t,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",e),this._fireEvent("movestart",e),this._pitchWithRotate&&this._fireEvent("pitchstart",e)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},kn.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var r=this._map.transform,n=this._prevPos,i=this._lastPos,a=.8*(n.x-i.x),o=-.5*(n.y-i.y),s=r.bearing-a,u=r.pitch-o,c=this._inertia,l=c[c.length-1];this._drainInertiaBuffer(),c.push([e.browser.now(),this._map._normalizeBearing(s,l[1])]);var p=r.bearing;if(r.bearing=s,this._pitchWithRotate){var h=r.pitch;r.pitch=u,r.pitch!==h&&this._fireEvent("pitch",t)}r.bearing!==p&&this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._prevPos=this._lastPos}},kn.prototype._onMouseUp=function(e){if("touchend"===e.type&&this._startPos===this._lastPos&&Date.now()-this._startTime<300&&this._el.click(),r.mouseButton(e)===this._eventButton)switch(this._state){case"active":this._state="enabled",r.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(e);break;case"pending":this._state="enabled",this._unbind()}},kn.prototype._onBlur=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",e),this._pitchWithRotate&&this._fireEvent("pitchend",e),this._fireEvent("moveend",e);break;case"pending":this._state="enabled",this._unbind()}},kn.prototype._unbind=function(){e.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),e.window.document.removeEventListener("mouseup",this._onMouseUp),e.window.document.removeEventListener("touchmove",this._onMouseMove,{capture:!0}),e.window.document.removeEventListener("touchend",this._onMouseUp),e.window.removeEventListener("blur",this._onBlur),r.enableDrag()},kn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._lastPos},kn.prototype._inertialRotate=function(e){var t=this;this._fireEvent("rotateend",e),this._drainInertiaBuffer();var r=this._map,n=r.getBearing(),i=this._inertia,a=function(){Math.abs(n)<t._bearingSnap?r.resetNorth({noMoveStart:!0},{originalEvent:e}):t._fireEvent("moveend",e),t._pitchWithRotate&&t._fireEvent("pitchend",e)};if(i.length<2)a();else{var o=i[0],s=i[i.length-1],u=i[i.length-2],c=r._normalizeBearing(n,u[1]),l=s[1]-o[1],p=l<0?-1:1,h=(s[0]-o[0])/1e3;if(0!==l&&0!==h){var f=Math.abs(l*(.25/h));f>180&&(f=180);var d=f/180;c+=p*f*(d/2),Math.abs(r._normalizeBearing(c,0))<this._bearingSnap&&(c=r._normalizeBearing(0,c)),r.rotateTo(c,{duration:1e3*d,easing:On,noMoveStart:!0},{originalEvent:e})}else a()}},kn.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))},kn.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>0&&r-t[0][0]>160;)t.shift()};var En={linearity:.3,easing:e.bezier(0,0,.3,1),maxSpeed:1400,deceleration:2500},Tn=function(t,r){this._map=t,this._el=t.getCanvasContainer(),this._state="disabled",this._clickTolerance=r.clickTolerance||1,this._inertiaOptions=En,e.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};Tn.prototype.isEnabled=function(){return"disabled"!==this._state},Tn.prototype.isActive=function(){return"active"===this._state},Tn.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled",this._inertiaOptions=e.extend(En,t))},Tn.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Tn.prototype.onMouseDown=function(t){"enabled"===this._state&&(t.ctrlKey||0!==r.mouseButton(t)||(r.addEventListener(e.window.document,"mousemove",this._onMove,{capture:!0}),r.addEventListener(e.window.document,"mouseup",this._onMouseUp),this._start(t)))},Tn.prototype.onTouchStart=function(t){this.isEnabled()&&(t.touches&&t.touches.length>1&&("pending"===this._state||"active"===this._state)||(r.addEventListener(e.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),r.addEventListener(e.window.document,"touchend",this._onTouchEnd),this._start(t)))},Tn.prototype._start=function(t){e.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._prevPos=this._lastPos=r.mousePos(this._el,t),this._startTouch=this._lastTouch=e.window.TouchEvent&&t instanceof e.window.TouchEvent?r.touchPos(this._el,t):null,this._inertia=[[e.browser.now(),this._startPos]]},Tn.prototype._touchesMatch=function(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,r){return t[r]===e}))},Tn.prototype._onMove=function(t){t.preventDefault();var n=e.window.TouchEvent&&t instanceof e.window.TouchEvent?r.touchPos(this._el,t):null,i=r.mousePos(this._el,t);(n?this._touchesMatch(this._lastTouch,n):this._lastPos.equals(i))||"pending"===this._state&&i.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=t,this._lastPos=i,this._lastTouch=n,this._drainInertiaBuffer(),this._inertia.push([e.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._shouldStart=!0),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},Tn.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e)if(this._map.touchZoomRotate.isActive())this._abort(e);else if(this._shouldStart&&(this._fireEvent("dragstart",e),this._fireEvent("movestart",e),this._shouldStart=!1),this.isActive()){var t=this._map.transform;t.setLocationAtPoint(t.pointLocation(this._prevPos),this._lastPos),this._fireEvent("drag",e),this._fireEvent("move",e),this._prevPos=this._lastPos,delete this._lastMoveEvent}},Tn.prototype._onMouseUp=function(e){if(0===r.mouseButton(e))switch(this._state){case"active":this._state="enabled",r.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind()}},Tn.prototype._onTouchEnd=function(e){if(e.touches&&0!==e.touches.length)switch(this._state){case"pending":case"active":break;case"enabled":this.onTouchStart(e)}else switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},Tn.prototype._abort=function(t){switch(this._state){case"active":this._state="enabled",this._shouldStart||(this._fireEvent("dragend",t),this._fireEvent("moveend",t)),this._unbind(),this._deactivate(),e.window.TouchEvent&&t instanceof e.window.TouchEvent&&t.touches.length>1&&r.addEventListener(e.window.document,"touchend",this._onTouchEnd);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},Tn.prototype._onBlur=function(e){this._abort(e)},Tn.prototype._unbind=function(){r.removeEventListener(e.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),r.removeEventListener(e.window.document,"touchend",this._onTouchEnd),r.removeEventListener(e.window.document,"mousemove",this._onMove,{capture:!0}),r.removeEventListener(e.window.document,"mouseup",this._onMouseUp),r.removeEventListener(e.window,"blur",this._onBlur)},Tn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._mouseDownPos,delete this._lastPos,delete this._startTouch,delete this._lastTouch,delete this._shouldStart},Tn.prototype._inertialPan=function(e){this._fireEvent("dragend",e),this._drainInertiaBuffer();var t=this._inertia;if(t.length<2)this._fireEvent("moveend",e);else{var r=t[t.length-1],n=t[0],i=r[1].sub(n[1]),a=(r[0]-n[0])/1e3;if(0===a||r[1].equals(n[1]))this._fireEvent("moveend",e);else{var o=this._inertiaOptions,s=o.linearity,u=o.easing,c=o.maxSpeed,l=o.deceleration,p=i.mult(s/a),h=p.mag();h>c&&(h=c,p._unit()._mult(h));var f=h/(l*s),d=p.mult(-f/2);this._map.panBy(d,{duration:1e3*f,easing:u,noMoveStart:!0},{originalEvent:e})}}},Tn.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))},Tn.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>0&&r-t[0][0]>160;)t.shift()};var Sn=function(t){this._map=t,this._el=t.getCanvasContainer(),e.bindAll(["_onKeyDown"],this)};function jn(e){return e*(2-e)}Sn.prototype.isEnabled=function(){return!!this._enabled},Sn.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},Sn.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},Sn.prototype._onKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=0,r=0,n=0,i=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?n=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?n=-1:(a=1,e.preventDefault());break;default:return}var o=this._map,s=o.getZoom(),u={duration:300,delayEndEvents:500,easing:jn,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:o.getBearing()+15*r,pitch:o.getPitch()+10*n,offset:[100*-i,100*-a],center:o.getCenter()};o.easeTo(u,{originalEvent:e})}};var Pn=function(t){this._map=t,e.bindAll(["_onDblClick","_onZoomEnd"],this)};Pn.prototype.isEnabled=function(){return!!this._enabled},Pn.prototype.isActive=function(){return!!this._active},Pn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Pn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Pn.prototype.onTouchStart=function(e){var t=this;if(this.isEnabled()&&!(e.points.length>1))if(this._tapped){var r=e.points[0],n=this._tappedPoint;if(n&&n.dist(r)<=30){e.originalEvent.preventDefault();var i=function(){t._tapped&&t._zoom(e),t._map.off("touchcancel",a),t._resetTapped()},a=function(){t._map.off("touchend",i),t._resetTapped()};this._map.once("touchend",i),this._map.once("touchcancel",a)}else this._resetTapped()}else this._tappedPoint=e.points[0],this._tapped=setTimeout((function(){t._tapped=null,t._tappedPoint=null}),300)},Pn.prototype._resetTapped=function(){clearTimeout(this._tapped),this._tapped=null,this._tappedPoint=null},Pn.prototype.onDblClick=function(e){this.isEnabled()&&(e.originalEvent.preventDefault(),this._zoom(e))},Pn.prototype._zoom=function(e){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(e.originalEvent.shiftKey?-1:1),{around:e.lngLat},e)},Pn.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var Cn=e.bezier(0,0,.15,1),An=function(t){this._map=t,this._el=t.getCanvasContainer(),e.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};An.prototype.isEnabled=function(){return!!this._enabled},An.prototype.enable=function(e){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around)},An.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},An.prototype.disableRotation=function(){this._rotationDisabled=!0},An.prototype.enableRotation=function(){this._rotationDisabled=!1},An.prototype.isActive=function(){return this.isEnabled()&&!!this._gestureIntent},An.prototype.onStart=function(t){if(this.isEnabled()&&2===t.touches.length){var n=r.mousePos(this._el,t.touches[0]),i=r.mousePos(this._el,t.touches[1]),a=n.add(i).div(2);this._startVec=n.sub(i),this._startAround=this._map.transform.pointLocation(a),this._gestureIntent=void 0,this._inertia=[],r.addEventListener(e.window.document,"touchmove",this._onMove,{passive:!1}),r.addEventListener(e.window.document,"touchend",this._onEnd)}},An.prototype._getTouchEventData=function(e){var t=r.mousePos(this._el,e.touches[0]),n=r.mousePos(this._el,e.touches[1]),i=t.sub(n);return{vec:i,center:t.add(n).div(2),scale:i.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*i.angleWith(this._startVec)/Math.PI}},An.prototype._onMove=function(t){if(2===t.touches.length){var r=this._getTouchEventData(t),n=r.vec,i=r.scale,a=r.bearing;if(!this._gestureIntent){var o=this._rotationDisabled&&1!==i||Math.abs(1-i)>.15;Math.abs(a)>10?this._gestureIntent="rotate":o&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new e.Event(this._gestureIntent+"start",{originalEvent:t})),this._map.fire(new e.Event("movestart",{originalEvent:t})),this._startVec=n)}this._lastTouchEvent=t,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),t.preventDefault()}},An.prototype._onTouchFrame=function(){this._frameId=null;var t=this._gestureIntent;if(t){var r=this._map.transform;this._startScale||(this._startScale=r.scale,this._startBearing=r.bearing);var n=this._getTouchEventData(this._lastTouchEvent),i=n.center,a=n.bearing,o=n.scale,s=r.pointLocation(i),u=r.locationPoint(s);"rotate"===t&&(r.bearing=this._startBearing+a),r.zoom=r.scaleZoom(this._startScale*o),r.setLocationAtPoint(this._startAround,u),this._map.fire(new e.Event(t,{originalEvent:this._lastTouchEvent})),this._map.fire(new e.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([e.browser.now(),o,i])}},An.prototype._onEnd=function(t){r.removeEventListener(e.window.document,"touchmove",this._onMove,{passive:!1}),r.removeEventListener(e.window.document,"touchend",this._onEnd);var n=this._gestureIntent,i=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,n){this._map.fire(new e.Event(n+"end",{originalEvent:t})),this._drainInertiaBuffer();var a=this._inertia,o=this._map;if(a.length<2)o.snapToNorth({},{originalEvent:t});else{var s=a[a.length-1],u=a[0],c=o.transform.scaleZoom(i*s[1]),l=o.transform.scaleZoom(i*u[1]),p=c-l,h=(s[0]-u[0])/1e3,f=s[2];if(0!==h&&c!==l){var d=.15*p/h;Math.abs(d)>2.5&&(d=d>0?2.5:-2.5);var m=1e3*Math.abs(d/(12*.15)),g=c+d*m/2e3;o.easeTo({zoom:g,duration:m,easing:Cn,around:this._aroundCenter?o.getCenter():o.unproject(f),noMoveStart:!0},{originalEvent:t})}else o.snapToNorth({},{originalEvent:t})}}},An.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>2&&r-t[0][0]>160;)t.shift()};var Mn={scrollZoom:xn,boxZoom:wn,dragRotate:kn,dragPan:Tn,keyboard:Sn,doubleClickZoom:Pn,touchZoomRotate:An},In=function(t){function r(r,n){t.call(this),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=n.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},r.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},r.prototype.panBy=function(t,r,n){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},r),n)},r.prototype.panTo=function(t,r,n){return this.easeTo(e.extend({center:t},r),n)},r.prototype.getZoom=function(){return this.transform.zoom},r.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},r.prototype.zoomTo=function(t,r,n){return this.easeTo(e.extend({zoom:t},r),n)},r.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},r.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},r.prototype.getBearing=function(){return this.transform.bearing},r.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},r.prototype.rotateTo=function(t,r,n){return this.easeTo(e.extend({bearing:t},r),n)},r.prototype.resetNorth=function(t,r){return this.rotateTo(0,e.extend({duration:1e3},t),r),this},r.prototype.resetNorthPitch=function(t,r){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),r),this},r.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},r.prototype.getPitch=function(){return this.transform.pitch},r.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},r.prototype.cameraForBounds=function(t,r){return t=e.LngLatBounds.convert(t),this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),0,r)},r.prototype._cameraForBoxAndBearing=function(t,r,n,i){if("number"==typeof(i=e.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var a=i.padding;i.padding={top:a,bottom:a,right:a,left:a}}if(e.deepEqual(Object.keys(i.padding).sort((function(e,t){return e<t?-1:e>t?1:0})),["bottom","left","right","top"])){var o=this.transform,s=o.project(e.LngLat.convert(t)),u=o.project(e.LngLat.convert(r)),c=s.rotate(-n*Math.PI/180),l=u.rotate(-n*Math.PI/180),p=new e.Point(Math.max(c.x,l.x),Math.max(c.y,l.y)),h=new e.Point(Math.min(c.x,l.x),Math.min(c.y,l.y)),f=p.sub(h),d=(o.width-i.padding.left-i.padding.right)/f.x,m=(o.height-i.padding.top-i.padding.bottom)/f.y;if(!(m<0||d<0)){var g=Math.min(o.scaleZoom(o.scale*Math.min(d,m)),i.maxZoom),v=e.Point.convert(i.offset),y=(i.padding.left-i.padding.right)/2,b=(i.padding.top-i.padding.bottom)/2,_=new e.Point(v.x+y,v.y+b).mult(o.scale/o.zoomScale(g));return{center:o.unproject(s.add(u).div(2).sub(_)),zoom:g,bearing:n}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else e.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},r.prototype.fitBounds=function(e,t,r){return this._fitInternal(this.cameraForBounds(e,t),t,r)},r.prototype.fitScreenCoordinates=function(t,r,n,i,a){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(r)),n,i),i,a)},r.prototype._fitInternal=function(t,r,n){return t?(r=e.extend(t,r)).linear?this.easeTo(r,n):this.flyTo(r,n):this},r.prototype.jumpTo=function(t,r){this.stop();var n=this.transform,i=!1,a=!1,o=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(i=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(a=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(o=!0,n.pitch=+t.pitch),this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),i&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),a&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),o&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r))},r.prototype.easeTo=function(t,r){var n=this;this.stop(),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);var i=this.transform,a=this.getZoom(),o=this.getBearing(),s=this.getPitch(),u="zoom"in t?+t.zoom:a,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,l="pitch"in t?+t.pitch:s,p=i.centerPoint.add(e.Point.convert(t.offset)),h=i.pointLocation(p),f=e.LngLat.convert(t.center||h);this._normalizeCenter(f);var d,m,g=i.project(h),v=i.project(f).sub(g),y=i.zoomScale(u-a);return t.around&&(d=e.LngLat.convert(t.around),m=i.locationPoint(d)),this._zooming=u!==a,this._rotating=o!==c,this._pitching=l!==s,this._prepareEase(r,t.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease((function(t){if(n._zooming&&(i.zoom=e.number(a,u,t)),n._rotating&&(i.bearing=e.number(o,c,t)),n._pitching&&(i.pitch=e.number(s,l,t)),d)i.setLocationAtPoint(d,m);else{var h=i.zoomScale(i.zoom-a),f=u>a?Math.min(2,y):Math.max(.5,y),b=Math.pow(f,1-t),_=i.unproject(g.add(v.mult(t*b)).mult(h));i.setLocationAtPoint(i.renderWorldCopies?_.wrap():_,p)}n._fireMoveEvents(r)}),(function(){t.delayEndEvents?n._easeEndTimeoutID=setTimeout((function(){return n._afterEase(r)}),t.delayEndEvents):n._afterEase(r)}),t),this},r.prototype._prepareEase=function(t,r){this._moving=!0,r||this.fire(new e.Event("movestart",t)),this._zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&this.fire(new e.Event("pitchstart",t))},r.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},r.prototype._afterEase=function(t){var r=this._zooming,n=this._rotating,i=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,r&&this.fire(new e.Event("zoomend",t)),n&&this.fire(new e.Event("rotateend",t)),i&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))},r.prototype.flyTo=function(t,r){var n=this;if(!t.essential&&e.browser.prefersReducedMotion){var i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,r)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var a=this.transform,o=this.getZoom(),s=this.getBearing(),u=this.getPitch(),c="zoom"in t?e.clamp(+t.zoom,a.minZoom,a.maxZoom):o,l="bearing"in t?this._normalizeBearing(t.bearing,s):s,p="pitch"in t?+t.pitch:u,h=a.zoomScale(c-o),f=a.centerPoint.add(e.Point.convert(t.offset)),d=a.pointLocation(f),m=e.LngLat.convert(t.center||d);this._normalizeCenter(m);var g=a.project(d),v=a.project(m).sub(g),y=t.curve,b=Math.max(a.width,a.height),_=b/h,x=v.mag();if("minZoom"in t){var w=e.clamp(Math.min(t.minZoom,o,c),a.minZoom,a.maxZoom),O=b/a.zoomScale(w-o);y=Math.sqrt(O/x*2)}var k=y*y;function E(e){var t=(_*_-b*b+(e?-1:1)*k*k*x*x)/(2*(e?_:b)*k*x);return Math.log(Math.sqrt(t*t+1)-t)}function T(e){return(Math.exp(e)-Math.exp(-e))/2}function S(e){return(Math.exp(e)+Math.exp(-e))/2}var j=E(0),P=function(e){return S(j)/S(j+y*e)},C=function(e){return b*((S(j)*(T(t=j+y*e)/S(t))-T(j))/k)/x;var t},A=(E(1)-j)/y;if(Math.abs(x)<1e-6||!isFinite(A)){if(Math.abs(b-_)<1e-6)return this.easeTo(t,r);var M=_<b?-1:1;A=Math.abs(Math.log(_/b))/y,C=function(){return 0},P=function(e){return Math.exp(M*y*e)}}if("duration"in t)t.duration=+t.duration;else{var I="screenSpeed"in t?+t.screenSpeed/y:+t.speed;t.duration=1e3*A/I}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==l,this._pitching=p!==u,this._prepareEase(r,!1),this._ease((function(t){var i=t*A,h=1/P(i);a.zoom=1===t?c:o+a.scaleZoom(h),n._rotating&&(a.bearing=e.number(s,l,t)),n._pitching&&(a.pitch=e.number(u,p,t));var d=1===t?m:a.unproject(g.add(v.mult(C(i))).mult(h));a.setLocationAtPoint(a.renderWorldCopies?d.wrap():d,f),n._fireMoveEvents(r)}),(function(){return n._afterEase(r)}),t),this},r.prototype.isEasing=function(){return!!this._easeFrameId},r.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var e=this._onEaseEnd;delete this._onEaseEnd,e.call(this)}return this},r.prototype._ease=function(t,r,n){!1===n.animate||0===n.duration?(t(1),r()):(this._easeStart=e.browser.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},r.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},r.prototype._normalizeBearing=function(t,r){t=e.wrap(t,-180,180);var n=Math.abs(t-r);return Math.abs(t-360-r)<n&&(t-=360),Math.abs(t+360-r)<n&&(t+=360),t},r.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var r=e.lng-t.center.lng;e.lng+=r>180?-360:r<-180?360:0}},r}(e.Evented),Rn=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Rn.prototype.getDefaultPosition=function(){return"bottom-right"},Rn.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=r.create("div","mapboxgl-ctrl-attrib-inner",this._container),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Rn.prototype.onRemove=function(){r.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Rn.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var r=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var n=r.reduce((function(e,t,n){return t.value&&(e+=t.key+"="+t.value+(n<r.length-1?"&":"")),e}),"?");t.href=e.config.FEEDBACK_URL+"/"+n+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener nofollow"}},Rn.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},Rn.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var r=this._map.style.sourceCaches;for(var n in r){var i=r[n];if(i.used){var a=i.getSource();a.attribution&&e.indexOf(a.attribution)<0&&e.push(a.attribution)}}e.sort((function(e,t){return e.length-t.length}));var o=(e=e.filter((function(t,r){for(var n=r+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0}))).join(" | ");o!==this._attribHTML&&(this._attribHTML=o,e.length?(this._innerContainer.innerHTML=o,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Rn.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Ln=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};Ln.prototype.onAdd=function(e){this._map=e,this._container=r.create("div","mapboxgl-ctrl");var t=r.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ln.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ln.prototype.getDefaultPosition=function(){return"bottom-left"},Ln.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Ln.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},Ln.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var zn=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};zn.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},zn.prototype.remove=function(e){for(var t=this._currentlyRunning,r=0,n=t?this._queue.concat(t):this._queue;r<n.length;r+=1){var i=n[r];if(i.id===e)return void(i.cancelled=!0)}},zn.prototype.run=function(){var e=this._currentlyRunning=this._queue;this._queue=[];for(var t=0,r=e;t<r.length;t+=1){var n=r[t];if(!n.cancelled&&(n.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},zn.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Dn={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Fn=e.window.HTMLImageElement,Bn=e.window.HTMLElement,Nn=0,qn=60,Un={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:Nn,maxPitch:qn,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Vn=function(n){function i(t){var i=this;if(null!=(t=e.extend({},Un,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<Nn)throw new Error("minPitch must be greater than or equal to "+Nn);if(null!=t.maxPitch&&t.maxPitch>qn)throw new Error("maxPitch must be less than or equal to "+qn);var a=new mn(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(n.call(this,a,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new zn,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},Dn,t.locale),this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Bn))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return i._update(!1)})),this.on("moveend",(function(){return i._update(!1)})),this.on("zoom",(function(){return i._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1)),function(e,t){var n=e.getCanvasContainer(),i=null,a=!1,o=null;for(var s in Mn)e[s]=new Mn[s](e,t),t.interactive&&t[s]&&e[s].enable(t[s]);r.addEventListener(n,"mouseout",(function(t){e.fire(new yn("mouseout",e,t))})),r.addEventListener(n,"mousedown",(function(i){a=!0,o=r.mousePos(n,i);var s=new yn("mousedown",e,i);e.fire(s),s.defaultPrevented||(t.interactive&&!e.doubleClickZoom.isActive()&&e.stop(),e.boxZoom.onMouseDown(i),e.boxZoom.isActive()||e.dragPan.isActive()||e.dragRotate.onMouseDown(i),e.boxZoom.isActive()||e.dragRotate.isActive()||e.dragPan.onMouseDown(i))})),r.addEventListener(n,"mouseup",(function(t){var r=e.dragRotate.isActive();i&&!r&&e.fire(new yn("contextmenu",e,i)),i=null,a=!1,e.fire(new yn("mouseup",e,t))})),r.addEventListener(n,"mousemove",(function(t){if(!e.dragPan.isActive()&&!e.dragRotate.isActive()){for(var r=t.target;r&&r!==n;)r=r.parentNode;r===n&&e.fire(new yn("mousemove",e,t))}})),r.addEventListener(n,"mouseover",(function(t){for(var r=t.target;r&&r!==n;)r=r.parentNode;r===n&&e.fire(new yn("mouseover",e,t))})),r.addEventListener(n,"touchstart",(function(r){var n=new bn("touchstart",e,r);e.fire(n),n.defaultPrevented||(t.interactive&&e.stop(),e.boxZoom.isActive()||e.dragRotate.isActive()||e.dragPan.onTouchStart(r),e.touchZoomRotate.onStart(r),e.doubleClickZoom.onTouchStart(n))}),{passive:!1}),r.addEventListener(n,"touchmove",(function(t){e.fire(new bn("touchmove",e,t))}),{passive:!1}),r.addEventListener(n,"touchend",(function(t){e.fire(new bn("touchend",e,t))})),r.addEventListener(n,"touchcancel",(function(t){e.fire(new bn("touchcancel",e,t))})),r.addEventListener(n,"click",(function(i){var a=r.mousePos(n,i);(!o||a.equals(o)||a.dist(o)<t.clickTolerance)&&e.fire(new yn("click",e,i))})),r.addEventListener(n,"dblclick",(function(t){var r=new yn("dblclick",e,t);e.fire(r),r.defaultPrevented||e.doubleClickZoom.onDblClick(r)})),r.addEventListener(n,"contextmenu",(function(t){var r=e.dragRotate.isActive();a||r?a&&(i=t):e.fire(new yn("contextmenu",e,t)),(e.dragRotate.isEnabled()||e.listens("contextmenu"))&&t.preventDefault()})),r.addEventListener(n,"wheel",(function(r){t.interactive&&e.stop();var n=new _n("wheel",e,r);e.fire(n),n.defaultPrevented||e.scrollZoom.onWheel(r)}),{passive:!1})}(this,t);var o="string"==typeof t.hash&&t.hash||void 0;this._hash=t.hash&&new vn(o).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new Rn({customAttribution:t.customAttribution})),this.addControl(new Ln,t.logoPosition),this.on("style.load",(function(){i.transform.unmodified&&i.jumpTo(i.style.stylesheet)})),this.on("data",(function(t){i._update("style"===t.dataType),i.fire(new e.Event(t.dataType+"data",t))})),this.on("dataloading",(function(t){i.fire(new e.Event(t.dataType+"dataloading",t))}))}n&&(i.__proto__=n),i.prototype=Object.create(n&&n.prototype),i.prototype.constructor=i;var a={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(t,r){if(void 0===r&&t.getDefaultPosition&&(r=t.getDefaultPosition()),void 0===r&&(r="top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var n=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[r];return-1!==r.indexOf("bottom")?i.insertBefore(n,i.firstChild):i.appendChild(n),this},i.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var r=this._controls.indexOf(t);return r>-1&&this._controls.splice(r,1),t.onRemove(this),this},i.prototype.resize=function(t){var r=this._containerDimensions(),n=r[0],i=r[1];return this._resizeCanvas(n,i),this.transform.resize(n,i),this.painter.resize(n,i),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)).fire(new e.Event("resize",t)).fire(new e.Event("moveend",t)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},i.prototype.setMinZoom=function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(e){if((e=null==e?Nn:e)<Nn)throw new Error("minPitch must be greater than or equal to "+Nn);if(e>=Nn&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between "+Nn+" and the current maxPitch, inclusive")},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(e){if((e=null==e?qn:e)>qn)throw new Error("maxPitch must be less than or equal to "+qn);if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},i.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},i.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},i.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},i.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},i.prototype.on=function(e,t,r){var i=this;if(void 0===r)return n.prototype.on.call(this,e,t);var a=function(){var n;if("mouseenter"===e||"mouseover"===e){var a=!1;return{layer:t,listener:r,delegates:{mousemove:function(n){var o=i.getLayer(t)?i.queryRenderedFeatures(n.point,{layers:[t]}):[];o.length?a||(a=!0,r.call(i,new yn(e,i,n.originalEvent,{features:o}))):a=!1},mouseout:function(){a=!1}}}}if("mouseleave"===e||"mouseout"===e){var o=!1;return{layer:t,listener:r,delegates:{mousemove:function(n){(i.getLayer(t)?i.queryRenderedFeatures(n.point,{layers:[t]}):[]).length?o=!0:o&&(o=!1,r.call(i,new yn(e,i,n.originalEvent)))},mouseout:function(t){o&&(o=!1,r.call(i,new yn(e,i,t.originalEvent)))}}}}return{layer:t,listener:r,delegates:(n={},n[e]=function(e){var n=i.getLayer(t)?i.queryRenderedFeatures(e.point,{layers:[t]}):[];n.length&&(e.features=n,r.call(i,e),delete e.features)},n)}}();for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(a),a.delegates)this.on(o,a.delegates[o]);return this},i.prototype.off=function(e,t,r){if(void 0===r)return n.prototype.off.call(this,e,t);if(this._delegatedListeners&&this._delegatedListeners[e])for(var i=this._delegatedListeners[e],a=0;a<i.length;a++){var o=i[a];if(o.layer===t&&o.listener===r){for(var s in o.delegates)this.off(s,o.delegates[s]);return i.splice(a,1),this}}return this},i.prototype.queryRenderedFeatures=function(t,r){if(!this.style)return[];var n;if(void 0!==r||void 0===t||t instanceof e.Point||Array.isArray(t)||(r=t,t=void 0),r=r||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])n=[e.Point.convert(t)];else{var i=e.Point.convert(t[0]),a=e.Point.convert(t[1]);n=[i,new e.Point(a.x,i.y),a,new e.Point(i.x,a.y),i]}return this.style.queryRenderedFeatures(n,r,this.transform)},i.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},i.prototype.setStyle=function(t,r){return!1!==(r=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},r)).diff&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(t,r))},i.prototype._getUIString=function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '"+e+"'");return t},i.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Ft(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},i.prototype._diffStyle=function(t,r){var n=this;if("string"==typeof t){var i=this._requestManager.normalizeStyleURL(t),a=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(a,(function(t,i){t?n.fire(new e.ErrorEvent(t)):i&&n._updateDiff(i,r)}))}else"object"==typeof t&&this._updateDiff(t,r)},i.prototype._updateDiff=function(t,r){try{this.style.setState(t)&&this._update(!0)}catch(n){e.warnOnce("Unable to perform style diff: "+(n.message||n.error||n)+".  Rebuilding the style from scratch."),this._updateStyle(t,r)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(e,t){return this.style.addSource(e,t),this._update(!0)},i.prototype.isSourceLoaded=function(t){var r=this.style&&this.style.sourceCaches[t];if(void 0!==r)return r.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},i.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var r=e[t]._tiles;for(var n in r){var i=r[n];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(e,t,r){return this.style.addSourceType(e,t,r)},i.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},i.prototype.getSource=function(e){return this.style.getSource(e)},i.prototype.addImage=function(t,r,n){void 0===n&&(n={});var i=n.pixelRatio;void 0===i&&(i=1);var a=n.sdf;void 0===a&&(a=!1);var o=n.stretchX,s=n.stretchY,u=n.content;if(r instanceof Fn){var c=e.browser.getImageData(r),l=c.width,p=c.height,h=c.data;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:p},h),pixelRatio:i,stretchX:o,stretchY:s,content:u,sdf:a,version:0})}else{if(void 0===r.width||void 0===r.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var f=r.width,d=r.height,m=r.data,g=r;this.style.addImage(t,{data:new e.RGBAImage({width:f,height:d},new Uint8Array(m)),pixelRatio:i,stretchX:o,stretchY:s,content:u,sdf:a,version:0,userImage:g}),g.onAdd&&g.onAdd(this,t)}},i.prototype.updateImage=function(t,r){var n=this.style.getImage(t);if(!n)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=r instanceof Fn?e.browser.getImageData(r):r,a=i.width,o=i.height,s=i.data;if(void 0===a||void 0===o)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(a!==n.data.width||o!==n.data.height)return this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var u=!(r instanceof Fn);n.data.replace(s,u),this.style.updateImage(t,n)},i.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(e){this.style.removeImage(e)},i.prototype.loadImage=function(t,r){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),r)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(e,t){return this.style.addLayer(e,t),this._update(!0)},i.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},i.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},i.prototype.getLayer=function(e){return this.style.getLayer(e)},i.prototype.setLayerZoomRange=function(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0)},i.prototype.setFilter=function(e,t,r){return void 0===r&&(r={}),this.style.setFilter(e,t,r),this._update(!0)},i.prototype.getFilter=function(e){return this.style.getFilter(e)},i.prototype.setPaintProperty=function(e,t,r,n){return void 0===n&&(n={}),this.style.setPaintProperty(e,t,r,n),this._update(!0)},i.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},i.prototype.setLayoutProperty=function(e,t,r,n){return void 0===n&&(n={}),this.style.setLayoutProperty(e,t,r,n),this._update(!0)},i.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},i.prototype.setLight=function(e,t){return void 0===t&&(t={}),this.style.setLight(e,t),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},i.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},i.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=r.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=r.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=r.create("canvas","mapboxgl-canvas",t),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var i=this._controlContainer=r.create("div","mapboxgl-control-container",e),a=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){a[e]=r.create("div","mapboxgl-ctrl-"+e,i)}))},i.prototype._resizeCanvas=function(t,r){var n=e.window.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*r,this._canvas.style.width=t+"px",this._canvas.style.height=r+"px"},i.prototype._setupPainter=function(){var r=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",r)||this._canvas.getContext("experimental-webgl",r);n?(this.painter=new pn(n,this.transform),e.webpSupported.testSupport(n)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},i.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},i.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},i.prototype._render=function(){var t,r=this,n=0,i=this.painter.context.extTimerQuery;this.listens("gpu-timing-frame")&&(t=i.createQueryEXT(),i.beginQueryEXT(i.TIME_ELAPSED_EXT,t),n=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var o=this.transform.zoom,s=e.browser.now();this.style.zoomHistory.update(o,s);var u=new e.EvaluationParameters(o,{now:s,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=u.crossFadingFactor();1===c&&c===this._crossFadingFactor||(a=!0,this._crossFadingFactor=c),this.style.update(u)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),gpuTiming:!!this.listens("gpu-timing-layer"),fadeDuration:this._fadeDuration}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var l=e.browser.now()-n;i.endQueryEXT(i.TIME_ELAPSED_EXT,t),setTimeout((function(){var n=i.getQueryObjectEXT(t,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(t),r.fire(new e.Event("gpu-timing-frame",{cpuTime:l,gpuTime:n}))}),50)}if(this.listens("gpu-timing-layer")){var p=this.painter.collectGpuTimers();setTimeout((function(){var t=r.painter.queryGpuTimers(p);r.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}return this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),this},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,r=this._controls;t<r.length;t+=1)r[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),Gn(this._canvasContainer),Gn(this._controlContainer),Gn(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new e.Event("remove"))},i.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame((function(){t._frame=null,t._render()})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(e){this._trackResize&&this.resize({originalEvent:e})._update()},a.showTileBoundaries.get=function(){return!!this._showTileBoundaries},a.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},a.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},a.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},a.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},a.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},a.repaint.get=function(){return!!this._repaint},a.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},a.vertices.get=function(){return!!this._vertices},a.vertices.set=function(e){this._vertices=e,this._update()},i.prototype._setCacheLimits=function(t,r){e.setCacheLimits(t,r)},a.version.get=function(){return e.version},Object.defineProperties(i.prototype,a),i}(In);function Gn(e){e.parentNode&&e.parentNode.removeChild(e)}var Wn={showCompass:!0,showZoom:!0,visualizePitch:!1},Hn=function(t){var n=this;this.options=e.extend({},Wn,t),this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){return n._map.zoomIn({},{originalEvent:e})})),r.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){return n._map.zoomOut({},{originalEvent:e})})),r.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){n.options.visualizePitch?n._map.resetNorthPitch({},{originalEvent:e}):n._map.resetNorth({},{originalEvent:e})})),this._compassIcon=r.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};function Zn(t,r,n){if(t=new e.LngLat(t.lng,t.lat),r){var i=new e.LngLat(t.lng-360,t.lat),a=new e.LngLat(t.lng+360,t.lat),o=n.locationPoint(t).distSqr(r);n.locationPoint(i).distSqr(r)<o?t=i:n.locationPoint(a).distSqr(r)<o&&(t=a)}for(;Math.abs(t.lng-n.center.lng)>180;){var s=n.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}Hn.prototype._updateZoomButtons=function(){var e=this._map.getZoom();this._zoomInButton.disabled=e===this._map.getMaxZoom(),this._zoomOutButton.disabled=e===this._map.getMinZoom()},Hn.prototype._rotateCompassArrow=function(){var e=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=e},Hn.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new kn(e,{button:"left",element:this._compass}),r.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),r.addEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.enable()),this._container},Hn.prototype.onRemove=function(){r.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),r.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),r.removeEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.disable(),delete this._handler),delete this._map},Hn.prototype._createButton=function(e,t){var n=r.create("button",e,this._container);return n.type="button",n.addEventListener("click",t),n},Hn.prototype._setButtonTitle=function(e,t){var r=this._map._getUIString("NavigationControl."+t);e.title=r,e.setAttribute("aria-label",r)};var Xn={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Kn(e,t,r){var n=e.classList;for(var i in Xn)n.remove("mapboxgl-"+r+"-anchor-"+i);n.add("mapboxgl-"+r+"-anchor-"+t)}var Yn,$n=function(t){function n(n,i){var a=this;if(t.call(this),(n instanceof e.window.HTMLElement||i)&&(n=e.extend({element:n},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._draggable=n&&n.draggable||!1,this._state="inactive",this._rotation=n&&n.rotation||0,this._rotationAlignment=n&&n.rotationAlignment||"auto",this._pitchAlignment=n&&n.pitchAlignment&&"auto"!==n.pitchAlignment?n.pitchAlignment:this._rotationAlignment,n&&n.element)this._element=n.element,this._offset=e.Point.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=r.create("div"),this._element.setAttribute("aria-label","Map marker");var o=r.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var s=r.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"stroke","none"),s.setAttributeNS(null,"stroke-width","1"),s.setAttributeNS(null,"fill","none"),s.setAttributeNS(null,"fill-rule","evenodd");var u=r.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"fill-rule","nonzero");var c=r.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"transform","translate(3.0, 29.0)"),c.setAttributeNS(null,"fill","#000000");for(var l=0,p=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<p.length;l+=1){var h=p[l],f=r.createNS("http://www.w3.org/2000/svg","ellipse");f.setAttributeNS(null,"opacity","0.04"),f.setAttributeNS(null,"cx","10.5"),f.setAttributeNS(null,"cy","5.80029008"),f.setAttributeNS(null,"rx",h.rx),f.setAttributeNS(null,"ry",h.ry),c.appendChild(f)}var d=r.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill",this._color);var m=r.createNS("http://www.w3.org/2000/svg","path");m.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),d.appendChild(m);var g=r.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"fill","#000000");var v=r.createNS("http://www.w3.org/2000/svg","path");v.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),g.appendChild(v);var y=r.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var b=r.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=r.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var x=r.createNS("http://www.w3.org/2000/svg","circle");x.setAttributeNS(null,"fill","#FFFFFF"),x.setAttributeNS(null,"cx","5.5"),x.setAttributeNS(null,"cy","5.5"),x.setAttributeNS(null,"r","5.4999962"),b.appendChild(_),b.appendChild(x),u.appendChild(c),u.appendChild(d),u.appendChild(g),u.appendChild(y),u.appendChild(b),o.appendChild(u),this._element.appendChild(o),this._offset=e.Point.convert(n&&n.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(e){e.preventDefault()})),this._element.addEventListener("mousedown",(function(e){e.preventDefault()})),this._element.addEventListener("focus",(function(){var e=a._map.getContainer();e.scrollTop=0,e.scrollLeft=0})),Kn(this._element,this._anchor,"marker"),this._popup=null}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},n.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),r.remove(this._element),this._popup&&this._popup.remove(),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},n.prototype.getElement=function(){return this._element},n.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},n.prototype._onKeyPress=function(e){var t=e.code,r=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==r&&13!==r||this.togglePopup()},n.prototype._onMapClick=function(e){var t=e.originalEvent.target,r=this._element;this._popup&&(t===r||r.contains(t))&&this.togglePopup()},n.prototype.getPopup=function(){return this._popup},n.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},n.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Zn(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(t="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var n="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n="rotateX("+this._map.getPitch()+"deg)"),e&&"moveend"!==e.type||(this._pos=this._pos.round()),r.setTransform(this._element,Xn[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+n+" "+t)}},n.prototype.getOffset=function(){return this._offset},n.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},n.prototype._onMove=function(t){this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))},n.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},n.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},n.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},n.prototype.isDraggable=function(){return this._draggable},n.prototype.setRotation=function(e){return this._rotation=e||0,this._update(),this},n.prototype.getRotation=function(){return this._rotation},n.prototype.setRotationAlignment=function(e){return this._rotationAlignment=e||"auto",this._update(),this},n.prototype.getRotationAlignment=function(){return this._rotationAlignment},n.prototype.setPitchAlignment=function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this},n.prototype.getPitchAlignment=function(){return this._pitchAlignment},n}(e.Evented),Jn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},Qn=function(t){function n(r){t.call(this),this.options=e.extend({},Jn,r),e.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.onAdd=function(t){var n;return this._map=t,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==Yn?n(Yn):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){Yn="denied"!==e.state,n(Yn)})):(Yn=!!e.window.navigator.geolocation,n(Yn)),this._container},n.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),r.remove(this._container),this._map=void 0},n.prototype._isOutOfMapMaxBounds=function(e){var t=this._map.getMaxBounds(),r=e.coords;return t&&(r.longitude<t.getWest()||r.longitude>t.getEast()||r.latitude<t.getSouth()||r.latitude>t.getNorth())},n.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},n.prototype._onSuccess=function(t){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()},n.prototype._updateCamera=function(t){var r=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,i=this._map.getBearing(),a=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(n),a,{geolocateSource:!0})},n.prototype._updateMarker=function(e){e?this._userLocationDotMarker.setLngLat([e.coords.longitude,e.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},n.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r),void 0!==this._geolocationWatchID&&this._clearWatch()}else this._setErrorState();"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()},n.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},n.prototype._setupUI=function(t){var n=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=r.create("button","mapboxgl-ctrl-geolocate",this._container),r.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{var a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=r.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new $n(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){var r=t.originalEvent&&"resize"===t.originalEvent.type;t.geolocateSource||"ACTIVE_LOCK"!==n._watchState||r||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new e.Event("trackuserlocationend")))}))},n.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},n.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},n}(e.Evented),ei={maxWidth:100,unit:"metric"},ti=function(t){this.options=e.extend({},ei,t),e.bindAll(["_onMove","setUnit"],this)};function ri(e,t,r){var n,i,a,o,s,u,c=r&&r.maxWidth||100,l=e._container.clientHeight/2,p=(n=e.unproject([0,l]),i=e.unproject([c,l]),a=Math.PI/180,o=n.lat*a,s=i.lat*a,u=Math.sin(o)*Math.sin(s)+Math.cos(o)*Math.cos(s)*Math.cos((i.lng-n.lng)*a),6371e3*Math.acos(Math.min(u,1)));if(r&&"imperial"===r.unit){var h=3.2808*p;h>5280?ni(t,c,h/5280,e._getUIString("ScaleControl.Miles")):ni(t,c,h,e._getUIString("ScaleControl.Feet"))}else r&&"nautical"===r.unit?ni(t,c,p/1852,e._getUIString("ScaleControl.NauticalMiles")):p>=1e3?ni(t,c,p/1e3,e._getUIString("ScaleControl.Kilometers")):ni(t,c,p,e._getUIString("ScaleControl.Meters"))}function ni(e,t,r,n){var i,a,o,s=(i=r,(a=Math.pow(10,(""+Math.floor(i)).length-1))*(o=(o=i/a)>=10?10:o>=5?5:o>=3?3:o>=2?2:o>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(o))),u=s/r;e.style.width=t*u+"px",e.innerHTML=s+n}ti.prototype.getDefaultPosition=function(){return"bottom-left"},ti.prototype._onMove=function(){ri(this._map,this._container,this.options)},ti.prototype.onAdd=function(e){return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},ti.prototype.onRemove=function(){r.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},ti.prototype.setUnit=function(e){this.options.unit=e,ri(this._map,this._container,this.options)};var ii=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange")};ii.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},ii.prototype.onRemove=function(){r.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},ii.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},ii.prototype._setupUI=function(){var t=this._fullscreenButton=r.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);r.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},ii.prototype._updateTitle=function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},ii.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},ii.prototype._isFullscreen=function(){return this._fullscreen},ii.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},ii.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var ai={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},oi=function(t){function n(r){t.call(this),this.options=e.extend(Object.create(ai),r),e.bindAll(["_update","_onClickClose","remove"],this)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.addTo=function(t){var r=this;return this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",(function(e){r._update(e.point)})),this._map.on("mouseup",(function(e){r._update(e.point)})),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this},n.prototype.isOpen=function(){return!!this._map},n.prototype.remove=function(){return this._content&&r.remove(this._content),this._container&&(r.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),this._map.off("remove",this.remove),this._map.off("mousemove"),delete this._map),this.fire(new e.Event("close")),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove"),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},n.prototype.trackPointer=function(){var e=this;return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",(function(t){e._update(t.point)})),this._map.on("drag",(function(t){e._update(t.point)})),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},n.prototype.getElement=function(){return this._container},n.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},n.prototype.setHTML=function(t){var r,n=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");for(i.innerHTML=t;r=i.firstChild;)n.appendChild(r);return this.setDOMContent(n)},n.prototype.getMaxWidth=function(){return this._container.style.maxWidth},n.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},n.prototype.setDOMContent=function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},n.prototype.addClassName=function(e){this._container.classList.add(e)},n.prototype.removeClassName=function(e){this._container.classList.remove(e)},n.prototype.toggleClassName=function(e){return this._container.classList.toggle(e)},n.prototype._createContent=function(){this._content&&r.remove(this._content),this._content=r.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=r.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},n.prototype._update=function(t){var n=this,i=this._lngLat||this._trackPointer;if(this._map&&i&&this._content&&(this._container||(this._container=r.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=r.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(e){return n._container.classList.add(e)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Zn(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t)){var a=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),o=this.options.anchor,s=function t(r){if(r){if("number"==typeof r){var n=Math.round(Math.sqrt(.5*Math.pow(r,2)));return{center:new e.Point(0,0),top:new e.Point(0,r),"top-left":new e.Point(n,n),"top-right":new e.Point(-n,n),bottom:new e.Point(0,-r),"bottom-left":new e.Point(n,-n),"bottom-right":new e.Point(-n,-n),left:new e.Point(r,0),right:new e.Point(-r,0)}}if(r instanceof e.Point||Array.isArray(r)){var i=e.Point.convert(r);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:e.Point.convert(r.center||[0,0]),top:e.Point.convert(r.top||[0,0]),"top-left":e.Point.convert(r["top-left"]||[0,0]),"top-right":e.Point.convert(r["top-right"]||[0,0]),bottom:e.Point.convert(r.bottom||[0,0]),"bottom-left":e.Point.convert(r["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(r["bottom-right"]||[0,0]),left:e.Point.convert(r.left||[0,0]),right:e.Point.convert(r.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!o){var u,c=this._container.offsetWidth,l=this._container.offsetHeight;u=a.y+s.bottom.y<l?["top"]:a.y>this._map.transform.height-l?["bottom"]:[],a.x<c/2?u.push("left"):a.x>this._map.transform.width-c/2&&u.push("right"),o=0===u.length?"bottom":u.join("-")}var p=a.add(s[o]).round();r.setTransform(this._container,Xn[o]+" translate("+p.x+"px,"+p.y+"px)"),Kn(this._container,o,"popup")}},n.prototype._onClickClose=function(){this.remove()},n}(e.Evented),si={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:Vn,NavigationControl:Hn,GeolocateControl:Qn,AttributionControl:Rn,ScaleControl:ti,FullscreenControl:ii,Popup:oi,Marker:$n,Style:Ft,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Re.workerCount},set workerCount(e){Re.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:""};return si})),r}()},function(e,t,r){"use strict";var n=r(121);t.a={name:"project32",dependencies:[n.a],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"}},function(e,t,r){"use strict";(function(e){var t=r(17),n=r(142);function i(e,r){var i=r.extension,a=r.target,o=r.target2,s=n.b[i];Object(t.a)(s);for(var u=s.meta,c=(void 0===u?{}:u).suffix,l=void 0===c?"":c,p=e.getExtension(i),h=function(){var t=d[f],r="".concat(t).concat(l),n=null;"meta"===t||"function"===typeof e[t]||(p&&"function"===typeof p[r]?n=function(){return p[r].apply(p,arguments)}:"function"===typeof s[t]&&(n=s[t].bind(a))),n&&(a[t]=n,o[t]=n)},f=0,d=Object.keys(s);f<d.length;f++)h()}("undefined"!==typeof e?e:window).polyfillContext=function(e){return e.luma=e.luma||{},function(e){e.luma.extensions={};var t=e.getSupportedExtensions()||[],r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;e.luma[s]=e.getExtension(s)}}catch(u){n=!0,i=u}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}(e),e.luma.polyfilled||(!function(e,t){var r=!0,n=!1,a=void 0;try{for(var o,s=Object.getOwnPropertyNames(t)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;"overrides"!==u&&i(e,{extension:u,target:e.luma,target2:e})}}catch(c){n=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}}(e,n.b),function(e,t){var r=t.target,i=t.target2;Object.keys(n.a).forEach((function(t){if("function"===typeof n.a[t]){var a=e[t]?e[t].bind(e):function(){},o=n.a[t].bind(null,e,a);r[t]=o,i[t]=o}}))}(e,{target:e.luma,target2:e}),e.luma.polyfilled=!0),e}}).call(this,r(61))},function(e,t,r){"use strict";(function(e,n){var i=r(147);Object.defineProperty(t,"__esModule",{value:!0}),t.console=t.process=t.document=t.global=t.window=t.self=void 0;var a=i(r(167)),o={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof e&&e,document:"undefined"!==typeof document&&document,process:"object"===("undefined"===typeof n?"undefined":(0,a.default)(n))&&n},s=o.self||o.window||o.global;t.self=s;var u=o.window||o.self||o.global;t.window=u;var c=o.global||o.self||o.window;t.global=c;var l=o.document||{};t.document=l;var p=o.process||{};t.process=p;var h=console;t.console=h}).call(this,r(61),r(85))},function(e,t,r){"use strict";(function(e){var n=r(147);Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,t.isBrowserMainThread=function(){return o()&&"undefined"!==typeof document};var i=n(r(167)),a=n(r(192));function o(){return!("object"===("undefined"===typeof e?"undefined":(0,i.default)(e))&&"[object process]"===String(e)&&!e.browser)||(0,a.default)()}}).call(this,r(85))},function(e,t,r){"use strict";(function(e){var n=r(20),i=r(233);r.d(t,"b",(function(){return i.a}));var a=r(231);r.d(t,"a",(function(){return a.a}));var o=r(32);r.d(t,"d",(function(){return o.b})),r.d(t,"e",(function(){return o.c})),r.d(t,"c",(function(){return o.a})),r.d(t,"f",(function(){return o.f}));var s={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof e&&e};(s.global||s.self||s.window).mathgl={config:n.d}}).call(this,r(61))},function(e,t,r){"use strict";r.r(t);var n=r(219);r.d(t,"default",(function(){return n.a}))},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=r(34),l=o.a.forwardRef((function(e,t){var r=e.children,a=e.classes,u=e.className,l=e.color,p=void 0===l?"inherit":l,h=e.component,f=void 0===h?"svg":h,d=e.fontSize,m=void 0===d?"default":d,g=e.htmlColor,v=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,_=Object(i.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.a.createElement(f,Object(n.a)({className:Object(s.a)(a.root,u,"inherit"!==p&&a["color".concat(Object(c.a)(p))],"default"!==m&&a["fontSize".concat(Object(c.a)(m))]),focusable:"false",viewBox:b,color:g,"aria-hidden":v?"false":"true",role:v?"img":"presentation",ref:t},_),r,v?o.a.createElement("title",null,v):null)}));l.muiName="SvgIcon",t.a=Object(u.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(l)},function(e,t,r){e.exports=function(e){var t=n.bind(null,e||[]);return t.plugin=i.bind(null,e||[]),t};var n=r(308),i=r(326)},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){var n=r(316),i=r(194);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?i(e):t}},function(e,t,r){var n=r(196);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){var n=r(195),i=r(196),a=r(317),o=r(318);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return o(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},function(e,t){e.exports=function(e){return btoa(e)}},function(e,t,r){var n=r(221);e.exports=function(e,t){var r=t.headers,a=e.request.endpoint(t).url;return n({},Symbol.asyncIterator,(function(){return{next:function(){return a?e.request({url:a,headers:r}).then((function(t){return i(e,a,t),a=((t.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:t}})):Promise.resolve({done:!0})}}}))};var i=r(340)},function(e,t,r){var n=r(170);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=r(95),a=r(97),o=r(77),s=r(87),u=r(96),c=r(44),l=r(184),p=r(32),h=function(e){function t(){return Object(i.a)(this,t),Object(a.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"toString",value:function(){var e="[";if(p.b.printRowMajor){e+="row-major:";for(var t=0;t<this.RANK;++t)for(var r=0;r<this.RANK;++r)e+=" ".concat(this[r*this.RANK+t])}else{e+="column-major:";for(var n=0;n<this.ELEMENTS;++n)e+=" ".concat(this[n])}return e+="]"}},{key:"getElementIndex",value:function(e,t){return t*this.RANK+e}},{key:"getElement",value:function(e,t){return this[t*this.RANK+e]}},{key:"setElement",value:function(e,t,r){return this[t*this.RANK+e]=Object(c.a)(r),this}},{key:"getColumn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),r=e*this.RANK,n=0;n<this.RANK;++n)t[n]=this[r+n];return t}},{key:"setColumn",value:function(e,t){for(var r=e*this.RANK,n=0;n<this.RANK;++n)this[r+n]=t[n];return this}}]),t}(l.a),f=r(140),d=r(14),m=r(36),g=r(59),v=r(78);r.d(t,"a",(function(){return w}));var y=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),b=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),_=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),x={},w=function(e){function t(e){var r;return Object(i.a)(this,t),r=Object(a.a)(this,Object(o.a)(t).call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0)),1===arguments.length&&Array.isArray(e)?r.copy(e):r.identity(),r}return Object(u.a)(t,e),Object(s.a)(t,[{key:"INDICES",get:function(){return _}},{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}}],[{key:"IDENTITY",get:function(){return x.IDENTITY=x.IDENTITY||Object.freeze(new t(y)),x.IDENTITY}},{key:"ZERO",get:function(){return x.ZERO=x.ZERO||Object.freeze(new t(b)),x.ZERO}}]),Object(s.a)(t,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}},{key:"set",value:function(e,t,r,n,i,a,o,s,u,c,l,p,h,f,d,m){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=i,this[5]=a,this[6]=o,this[7]=s,this[8]=u,this[9]=c,this[10]=l,this[11]=p,this[12]=h,this[13]=f,this[14]=d,this[15]=m,this.check()}},{key:"setRowMajor",value:function(e,t,r,n,i,a,o,s,u,c,l,p,h,f,d,m){return this[0]=e,this[1]=i,this[2]=u,this[3]=h,this[4]=t,this[5]=a,this[6]=c,this[7]=f,this[8]=r,this[9]=o,this[10]=l,this[11]=d,this[12]=n,this[13]=s,this[14]=p,this[15]=m,this.check()}},{key:"toRowMajor",value:function(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}},{key:"identity",value:function(){return this.copy(y)}},{key:"fromQuaternion",value:function(e){return d.c(this,e),this.check()}},{key:"frustum",value:function(e){var r=e.left,n=e.right,i=e.bottom,a=e.top,o=e.near,s=e.far;return s===1/0?t._computeInfinitePerspectiveOffCenter(this,r,n,i,a,o):d.d(this,r,n,i,a,o,s),this.check()}},{key:"lookAt",value:function(e,t,r){if(1===arguments.length){var n=e;e=n.eye,t=n.center,r=n.up}return t=t||[0,0,0],r=r||[0,1,0],d.f(this,e,t,r),this.check()}},{key:"ortho",value:function(e){var t=e.left,r=e.right,n=e.bottom,i=e.top,a=e.near,o=void 0===a?.1:a,s=e.far,u=void 0===s?500:s;return d.h(this,t,r,n,i,o,u),this.check()}},{key:"orthographic",value:function(e){var r=e.fovy,n=void 0===r?45*Math.PI/180:r,i=e.aspect,a=void 0===i?1:i,o=e.focalDistance,s=void 0===o?1:o,u=e.near,c=void 0===u?.1:u,l=e.far,p=void 0===l?500:l;if(n>2*Math.PI)throw Error("radians");var h=n/2,f=s*Math.tan(h),d=f*a;return(new t).ortho({left:-d,right:d,bottom:-f,top:f,near:c,far:p})}},{key:"perspective",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fovy,r=e.fov,n=void 0===r?45*Math.PI/180:r,i=e.aspect,a=void 0===i?1:i,o=e.near,s=void 0===o?.1:o,u=e.far,c=void 0===u?500:u;if((t=t||n)>2*Math.PI)throw Error("radians");return d.i(this,t,a,s,c),this.check()}},{key:"determinant",value:function(){return d.a(this)}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}},{key:"getTranslation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}},{key:"getRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getScale(t||[-0,-0,-0]),n=1/r[0],i=1/r[1],a=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*a,e[3]=0,e[4]=this[4]*n,e[5]=this[5]*i,e[6]=this[6]*a,e[7]=0,e[8]=this[8]*n,e[9]=this[9]*i,e[10]=this[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"getRotationMatrix3",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getScale(t||[-0,-0,-0]),n=1/r[0],i=1/r[1],a=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*a,e[3]=this[4]*n,e[4]=this[5]*i,e[5]=this[6]*a,e[6]=this[8]*n,e[7]=this[9]*i,e[8]=this[10]*a,e}},{key:"transpose",value:function(){return d.p(this,this),this.check()}},{key:"invert",value:function(){return d.e(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return d.g(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return d.g(this,this,e),this.check()}},{key:"rotateX",value:function(e){return d.k(this,this,e),this.check()}},{key:"rotateY",value:function(e){return d.l(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return d.m(this,this,e),this.check()}},{key:"rotateXYZ",value:function(e){var t=n(e,3),r=t[0],i=t[1],a=t[2];return this.rotateX(r).rotateY(i).rotateZ(a)}},{key:"rotateAxis",value:function(e,t){return d.j(this,this,e,t),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?d.n(this,this,e):d.n(this,this,[e,e,e]),this.check()}},{key:"translate",value:function(e){return d.o(this,this,e),this.check()}},{key:"transform",value:function(e,t){return 4===e.length?(t=v.b(t||[-0,-0,-0,-0],e,this),Object(c.b)(t,4),t):this.transformAsPoint(e,t)}},{key:"transformAsPoint",value:function(e,t){switch(e.length){case 2:t=m.g(t||[-0,-0],e,this);break;case 3:t=g.i(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(t,e.length),t}},{key:"transformAsVector",value:function(e,t){switch(e.length){case 2:t=Object(f.a)(t||[-0,-0],e,this);break;case 3:t=Object(f.c)(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(c.b)(t,e.length),t}},{key:"makeRotationX",value:function(e){return this.identity().rotateX(e)}},{key:"makeTranslation",value:function(e,t,r){return this.identity().translate([e,t,r])}},{key:"transformPoint",value:function(e,t){return Object(c.c)("Matrix4.transformPoint","3.0"),this.transformAsPoint(e,t)}},{key:"transformVector",value:function(e,t){return Object(c.c)("Matrix4.transformVector","3.0"),this.transformAsPoint(e,t)}},{key:"transformDirection",value:function(e,t){return Object(c.c)("Matrix4.transformDirection","3.0"),this.transformAsVector(e,t)}}],[{key:"_computeInfinitePerspectiveOffCenter",value:function(e,t,r,n,i,a){var o=2*a/(r-t),s=2*a/(i-n),u=(r+t)/(r-t),c=(i+n)/(i-n),l=-2*a;return e[0]=o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=u,e[9]=c,e[10]=-1,e[11]=-1,e[12]=0,e[13]=0,e[14]=l,e[15]=0,e}}]),t}(h)},function(e,t,r){"use strict";var n={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1};var i={name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t={};if(void 0!==e.pickingSelectedColor)if(e.pickingSelectedColor){var r=e.pickingSelectedColor.slice(0,3);t.picking_uSelectedColorValid=1,t.picking_uSelectedColor=r}else t.picking_uSelectedColorValid=0;return e.pickingHighlightColor&&(t.picking_uHighlightColor=e.pickingHighlightColor.map((function(e){return e/255}))),void 0!==e.pickingActive&&(t.picking_uActive=Boolean(e.pickingActive),t.picking_uAttribute=Boolean(e.pickingAttribute)),t}};t.a=Object.assign({inject:{"vs:DECKGL_FILTER_COLOR":"\n    picking_setPickingColor(geometry.pickingColor);\n    // for picking depth values\n    picking_setPickingAttribute(geometry.position.z);\n    ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n    // use highlight color if this fragment belongs to the selected object.\n    color = picking_filterHighlightColor(color);\n\n    // use picking color if rendering to picking FBO.\n    color = picking_filterPickingColor(color);\n      "}}},i)},function(e,t,r){"use strict";var n=r(95),i=r(87),a=r(97),o=r(77),s=r(96),u=r(184),c=r(44),l=r(120),p=function(e){function t(){return Object(n.a)(this,t),Object(a.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var e=0,t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){for(var t=0,r=0;r<this.ELEMENTS;++r){var n=this[r]-e[r];t+=n*n}return Object(c.a)(t)}},{key:"dot",value:function(e){for(var t=0,r=0;r<this.ELEMENTS;++r)t+=this[r]*e[r];return Object(c.a)(t)}},{key:"normalize",value:function(){var e=this.magnitude();if(0!==e)for(var t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}},{key:"multiply",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var a=i[n],o=0;o<this.ELEMENTS;++o)this[o]*=a[o];return this.check()}},{key:"divide",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var a=i[n],o=0;o<this.ELEMENTS;++o)this[o]/=a[o];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(e){return this.distance(e)}},{key:"distanceToSquared",value:function(e){return this.distanceSquared(e)}},{key:"getComponent",value:function(e){return Object(l.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),Object(c.a)(this[e])}},{key:"setComponent",value:function(e,t){return Object(l.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}},{key:"addVectors",value:function(e,t){return this.copy(e).add(t)}},{key:"subVectors",value:function(e,t){return this.copy(e).subtract(t)}},{key:"multiplyVectors",value:function(e,t){return this.copy(e).multiply(t)}},{key:"addScaledVector",value:function(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}},{key:"x",get:function(){return this[0]},set:function(e){return this[0]=Object(c.a)(e)}},{key:"y",get:function(){return this[1]},set:function(e){return this[1]=Object(c.a)(e)}}]),t}(u.a),h=r(32),f=r(59),d=r(140);r.d(t,"a",(function(){return g}));var m=[0,0,0],g=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(n.a)(this,t),e=Object(a.a)(this,Object(o.a)(t).call(this,-0,-0,-0)),1===arguments.length&&Object(h.e)(r)?e.copy(r):(h.b.debug&&(Object(c.a)(r),Object(c.a)(i),Object(c.a)(s)),e[0]=r,e[1]=i,e[2]=s),e}return Object(s.a)(t,e),Object(i.a)(t,[{key:"set",value:function(e,t,r){return this[0]=e,this[1]=t,this[2]=r,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}},{key:"fromObject",value:function(e){return h.b.debug&&(Object(c.a)(e.x),Object(c.a)(e.y),Object(c.a)(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}},{key:"angle",value:function(e){return f.a(this,e)}},{key:"cross",value:function(e){return f.b(this,this,e),this.check()}},{key:"rotateX",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?m:r;return f.d(this,this,n,t),this.check()}},{key:"rotateY",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?m:r;return f.e(this,this,n,t),this.check()}},{key:"rotateZ",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?m:r;return f.f(this,this,n,t),this.check()}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return f.i(this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return Object(d.c)(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return f.h(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return Object(d.b)(this,this,e),this.check()}},{key:"transformByQuaternion",value:function(e){return f.j(this,this,e),this.check()}},{key:"ELEMENTS",get:function(){return 3}},{key:"z",get:function(){return this[2]},set:function(e){return this[2]=Object(c.a)(e)}}]),t}(p)},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"===typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},function(e,t,r){var n;"undefined"!==typeof self&&self,n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,r){"use strict";r.d(t,"j",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"h",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"k",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"g",(function(){return p})),r.d(t,"i",(function(){return h})),r.d(t,"a",(function(){return f})),r.d(t,"f",(function(){return d}));var n=r(1),i=c((function(e,t){var r=t.length;return c((function(n){for(var i=0;i<n.length;i++)t[r+i]=n[i];return t.length=r+n.length,e.apply(this,t)}))}));function a(e,t){return function(){return e.call(this,t.apply(this,arguments))}}function o(e){return function(t){return t[e]}}c((function(e){var t=Object(n.c)(e);function r(e,t){return[u(e,t)]}return c((function(e){return Object(n.f)(r,e,t)[0]}))}));var s=c((function(e){return c((function(t){for(var r,n=0;n<o("length")(e);n++)if(r=u(t,e[n]))return r}))}));function u(e,t){return t.apply(void 0,e)}function c(e){var t=e.length-1,r=Array.prototype.slice;if(0===t)return function(){return e.call(this,r.call(arguments))};if(1===t)return function(){return e.call(this,arguments[0],r.call(arguments,1))};var n=Array(e.length);return function(){for(var i=0;i<t;i++)n[i]=arguments[i];return n[t]=r.call(arguments,t),e.apply(this,n)}}function l(e){return function(t,r){return e(r,t)}}function p(e,t){return function(r){return e(r)&&t(r)}}function h(){}function f(){return!0}function d(e){return function(){return e}}},function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"g",(function(){return o})),r.d(t,"l",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"h",(function(){return c})),r.d(t,"i",(function(){return l})),r.d(t,"j",(function(){return p})),r.d(t,"f",(function(){return h})),r.d(t,"m",(function(){return f})),r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return m})),r.d(t,"k",(function(){return g})),r.d(t,"e",(function(){return v}));var n=r(0);function i(e,t){return[e,t]}var a=null,o=Object(n.c)(0),s=Object(n.c)(1);function u(e){return g(e.reduce(Object(n.e)(i),a))}var c=Object(n.k)(u);function l(e){return h((function(e,t){return e.unshift(t),e}),[],e)}function p(e,t){return t?i(e(o(t)),p(e,s(t))):a}function h(e,t,r){return r?e(h(e,t,s(r)),o(r)):t}function f(e,t,r){return function e(r,n){return r?t(o(r))?(n(o(r)),s(r)):i(o(r),e(s(r),n)):a}(e,r||n.i)}function d(e,t){return!t||e(o(t))&&d(e,s(t))}function m(e,t){e&&(o(e).apply(null,t),m(s(e),t))}function g(e){return function e(t,r){return t?e(s(t),i(o(t),r)):r}(e,a)}function v(e,t){return t&&(e(o(t))?o(t):v(e,s(t)))}},function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"e",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c}));var n=r(1),i=r(0);function a(e,t){return t&&t.constructor===e}var o=Object(i.c)("length"),s=Object(i.j)(a,String);function u(e){return void 0!==e}function c(e,t){return t instanceof Object&&Object(n.a)((function(e){return e in t}),e)}},function(e,t,r){"use strict";r.d(t,"f",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"g",(function(){return o})),r.d(t,"e",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"h",(function(){return c})),r.d(t,"i",(function(){return l})),r.d(t,"c",(function(){return p})),r.d(t,"m",(function(){return h})),r.d(t,"n",(function(){return f})),r.d(t,"a",(function(){return d})),r.d(t,"j",(function(){return m})),r.d(t,"l",(function(){return g})),r.d(t,"k",(function(){return v})),r.d(t,"o",(function(){return y}));var n=1,i=n++,a=n++,o=n++,s=n++,u="fail",c=n++,l=n++,p="start",h="data",f="end",d=n++,m=n++,g=n++,v=n++;function y(e,t,r){try{var n=JSON.parse(t)}catch(i){}return{statusCode:e,body:t,jsonBody:n,thrown:r}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return o}));var n=r(0);function i(e,t){return{key:e,node:t}}var a=Object(n.c)("key"),o=Object(n.c)("node")},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(1),i=r(0),a=r(2),o=r(8),s=r(9);function u(e){var t=Object(n.h)("resume","pause","pipe"),r=Object(i.j)(a.b,t);return e?r(e)||Object(a.d)(e)?Object(o.a)(s.a,e):Object(o.a)(s.a,e.url,e.method,e.body,e.headers,e.withCredentials,e.cached):Object(s.a)()}u.drop=function(){return u.drop}},function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return s}));var n=r(3),i=r(4),a=r(2),o=r(1),s={};function u(e){var t=e(n.f).emit,r=e(n.d).emit,u=e(n.i).emit,c=e(n.h).emit;function l(e,t,r){Object(i.c)(Object(o.g)(e))[t]=r}function p(e,r,n){e&&l(e,r,n);var a=Object(o.d)(Object(i.b)(r,n),e);return t(a),a}var h={};return h[n.l]=function(e,t){if(!e)return u(t),p(e,s,t);var r=function(e,t){var r=Object(i.c)(Object(o.g)(e));return Object(a.c)(Array,r)?p(e,Object(a.e)(r),t):e}(e,t),n=Object(o.l)(r),c=Object(i.a)(Object(o.g)(r));return l(n,c,t),Object(o.d)(Object(i.b)(c,t),n)},h[n.k]=function(e){return r(e),Object(o.l)(e)||c(Object(i.c)(Object(o.g)(e)))},h[n.j]=p,h}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5);t.default=n.a},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(2);function i(e,t,r,i,a,o,s){return a=a?JSON.parse(JSON.stringify(a)):{},i?(Object(n.d)(i)||(i=JSON.stringify(i),a["Content-Type"]=a["Content-Type"]||"application/json"),a["Content-Length"]=a["Content-Length"]||i.length):i=null,e(r||"GET",function(e,t){return!1===t&&(-1===e.indexOf("?")?e+="?":e+="&",e+="_="+(new Date).getTime()),e}(t,s),i,a,o||!1)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(10),i=r(12),a=r(6),o=r(13),s=r(14),u=r(16),c=r(17),l=r(18);function p(e,t,r,p,h){var f=Object(n.a)();return t&&Object(l.b)(f,Object(l.a)(),e,t,r,p,h),Object(c.a)(f),Object(i.a)(f,Object(a.b)(f)),Object(o.a)(f,s.a),Object(u.a)(f,t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(11),i=r(0);function a(){var e={},t=a("newListener"),r=a("removeListener");function a(i){return e[i]=Object(n.a)(i,t,r),e[i]}function o(t){return e[t]||a(t)}return["emit","on","un"].forEach((function(e){o[e]=Object(i.k)((function(t,r){Object(i.b)(r,o(t)[e])}))})),o}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(1),i=r(2),a=r(0);function o(e,t,r){var o,s;function u(e){return function(t){return t.id===e}}return{on:function(r,i){var a={listener:r,id:i||r};return t&&t.emit(e,r,a.id),o=Object(n.d)(a,o),s=Object(n.d)(r,s),this},emit:function(){Object(n.b)(s,arguments)},un:function(t){var i;o=Object(n.m)(o,u(t),(function(e){i=e})),i&&(s=Object(n.m)(s,(function(e){return e===i.listener})),r&&r.emit(e,i.listener,i.id))},listeners:function(){return s},hasListener:function(e){var t=e?u(e):a.a;return Object(i.a)(Object(n.e)(t,o))}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(4),i=r(3),a=r(1);function o(e,t){var r,o={};function s(e){return function(t){r=e(r,t)}}for(var u in t)e(u).on(s(t[u]),o);e(i.g).on((function(e){var t=Object(a.g)(r),i=Object(n.a)(t),o=Object(a.l)(r);o&&(Object(n.c)(Object(a.g)(o))[i]=e)})),e(i.e).on((function(){var e=Object(a.g)(r),t=Object(n.a)(e),i=Object(a.l)(r);i&&delete Object(n.c)(Object(a.g)(i))[t]})),e(i.a).on((function(){for(var r in t)e(r).un(o)}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(3),i=r(1),a=r(4);function o(e,t){var r={node:e(n.d),path:e(n.f)};function o(t,r,n){var o=e(t).emit;r.on((function(e){var t=n(e);!1!==t&&function(e,t,r){var n=Object(i.k)(r);e(t,Object(i.i)(Object(i.l)(Object(i.j)(a.a,n))),Object(i.i)(Object(i.j)(a.c,n)))}(o,Object(a.c)(t),e)}),t),e("removeListener").on((function(n){n===t&&(e(n).listeners()||r.un(t))}))}e("newListener").on((function(e){var n=/(node|path):(.*)/.exec(e);if(n){var i=r[n[1]];i.hasListener(e)||o(e,i,t(n[2]))}}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0),i=r(1),a=r(4),o=r(2),s=r(6),u=r(15),c=Object(u.a)((function(e,t,r,u,c){var l=1,p=2,h=3,f=Object(n.d)(a.a,i.g),d=Object(n.d)(a.c,i.g);function m(e,t){return t[l]?Object(n.g)(e,i.g):e}function g(e){return e===n.a?n.a:Object(n.g)((function(e){return f(e)!==s.a}),Object(n.d)(e,i.l))}function v(){return function(e){return f(e)===s.a}}function y(e,t,r,n,a){var s=e(r);if(s){var u=function(e,t,r){return Object(i.f)((function(e,t){return t(e,r)}),t,e)}(t,n,s);return a(r.substr(Object(o.e)(s[0])),u)}}function b(e,t){return Object(n.j)(y,e,t)}var _=Object(n.h)(b(e,Object(i.h)(m,(function(e,t){var r=t[h];if(!r)return e;var a=Object(n.j)(o.b,Object(i.c)(r.split(/\W+/))),s=Object(n.d)(a,d);return Object(n.g)(s,e)}),(function(e,t){var r=t[p],i=r&&"*"!==r?function(e){return String(f(e))===r}:n.a;return Object(n.g)(i,e)}),g)),b(t,Object(i.h)((function(e){if(e===n.a)return n.a;var t=v(),r=e,i=g((function(e){return a(e)})),a=Object(n.h)(t,r,i);return a}))),b(r,Object(i.h)()),b(u,Object(i.h)(m,v)),b(c,Object(i.h)((function(e){return function(t){var r=e(t);return!0===r?Object(i.g)(t):r}}))),(function(e){throw Error('"'+e+'" could not be tokenised')}));function x(e,t){return t}function w(e,t){return _(e,t,e?w:x)}return function(e){try{return w(e,n.a)}catch(t){throw Error('Could not compile "'+e+'" because '+t.message)}}}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0),i=function(){var e=Object(n.k)((function(e){return e.unshift(/^/),(t=RegExp(e.map(Object(n.c)("source")).join(""))).exec.bind(t);var t})),t=/(\$?)/,r=/(?:{([\w ]*?)})?/,i=e(t,/([\w-_]+|\*)/,r),a=e(t,/\["([^"]+)"\]/,r),o=e(t,/\[(\d+|\*)\]/,r),s=e(t,/()/,/{([\w ]*?)}/),u=e(/\.\./),c=e(/\./),l=e(t,/!/),p=e(/$/);return function(e){return e(Object(n.h)(i,a,o,s),u,c,l,p)}}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(3),i=r(0),a=r(2),o=r(5);function s(e,t){var r,s=/^(node|path):./,u=e(n.h),c=e(n.e).emit,l=e(n.g).emit,p=Object(i.k)((function(t,n){if(r[t])Object(i.b)(n,r[t]);else{var a=e(t),o=n[0];s.test(t)?h(a,d(o)):a.on(o)}return r}));function h(e,t,n){n=n||t;var a=f(t);return e.on((function(){var t=!1;r.forget=function(){t=!0},Object(i.b)(arguments,a),delete r.forget,t&&e.un(n)}),n),r}function f(e){return function(){try{return e.apply(r,arguments)}catch(t){setTimeout((function(){throw new Error(t.message)}))}}}function d(e){return function(){var t=e.apply(this,arguments);Object(a.a)(t)&&(t===o.a.drop?c():l(t))}}function m(t,r,n){var i;i="node"===t?d(n):n,h(function(t,r){return e(t+":"+r)}(t,r),i,n)}function g(e,t,n){return Object(a.d)(t)?m(e,t,n):function(e,t){for(var r in t)m(e,r,t[r])}(e,t),r}return e(n.i).on((function(e){r.root=Object(i.f)(e)})),e(n.c).on((function(e,t){r.header=function(e){return e?t[e]:t}})),r={on:p,addListener:p,removeListener:function(t,n,i){if("done"===t)u.un(n);else if("node"===t||"path"===t)e.un(t+":"+n,i);else{var a=n;e(t).un(a)}return r},emit:e.emit,node:Object(i.j)(g,"node"),path:Object(i.j)(g,"path"),done:Object(i.j)(h,u),start:Object(i.j)((function(t,n){return e(t).on(f(n),n),r}),n.c),fail:e(n.b).on,abort:e(n.a).emit,header:i.i,root:i.i,source:t}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(3);function i(e){var t,r,i,a,o=e(n.j).emit,s=e(n.l).emit,u=e(n.k).emit,c=e(n.b).emit,l=65536,p=/[\\"\n]/g,h=0,f=h++,d=h++,m=h++,g=h++,v=h++,y=h++,b=h++,_=h++,x=h++,w=h++,O=h++,k=h++,E=h++,T=h++,S=h++,j=h++,P=h++,C=h++,A=h++,M=h++,I=20,R=l,L="",z=!1,D=!1,F=f,B=[],N=null,q=0,U=0,V=0,G=0,W=1;function H(e){void 0!==a&&(s(a),u(),a=void 0),t=Error(e+"\nLn: "+W+"\nCol: "+G+"\nChr: "+r),c(Object(n.o)(void 0,void 0,t))}function Z(e){return"\r"===e||"\n"===e||" "===e||"\t"===e}e(n.m).on((function(e){if(!t){if(D)return H("Cannot write after close");var n=0;for(r=e[0];r&&(n>0&&(i=r),r=e[n++]);)switch(V++,"\n"===r?(W++,G=0):G++,F){case f:if("{"===r)F=m;else if("["===r)F=v;else if(!Z(r))return H("Non-whitespace before {[.");continue;case _:case m:if(Z(r))continue;if(F===_)B.push(x);else{if("}"===r){s({}),u(),F=B.pop()||d;continue}B.push(g)}if('"'!==r)return H('Malformed object key should start with " ');F=b;continue;case x:case g:if(Z(r))continue;if(":"===r)F===g?(B.push(g),void 0!==a&&(s({}),o(a),a=void 0),U++):void 0!==a&&(o(a),a=void 0),F=d;else if("}"===r)void 0!==a&&(s(a),u(),a=void 0),u(),U--,F=B.pop()||d;else{if(","!==r)return H("Bad object");F===g&&B.push(g),void 0!==a&&(s(a),u(),a=void 0),F=_}continue;case v:case d:if(Z(r))continue;if(F===v){if(s([]),U++,F=d,"]"===r){u(),U--,F=B.pop()||d;continue}B.push(y)}if('"'===r)F=b;else if("{"===r)F=m;else if("["===r)F=v;else if("t"===r)F=w;else if("f"===r)F=E;else if("n"===r)F=P;else if("-"===r)L+=r;else if("0"===r)L+=r,F=I;else{if(-1==="123456789".indexOf(r))return H("Bad value");L+=r,F=I}continue;case y:if(","===r)B.push(y),void 0!==a&&(s(a),u(),a=void 0),F=d;else{if("]"!==r){if(Z(r))continue;return H("Bad array")}void 0!==a&&(s(a),u(),a=void 0),u(),U--,F=B.pop()||d}continue;case b:void 0===a&&(a="");var c=n-1;e:for(;;){for(;q>0;)if(N+=r,r=e.charAt(n++),4===q?(a+=String.fromCharCode(parseInt(N,16)),q=0,c=n-1):q++,!r)break e;if('"'===r&&!z){F=B.pop()||d,a+=e.substring(c,n-1);break}if("\\"===r&&!z&&(z=!0,a+=e.substring(c,n-1),!(r=e.charAt(n++))))break;if(z){if(z=!1,"n"===r?a+="\n":"r"===r?a+="\r":"t"===r?a+="\t":"f"===r?a+="\f":"b"===r?a+="\b":"u"===r?(q=1,N=""):a+=r,r=e.charAt(n++),c=n-1,r)continue;break}p.lastIndex=n;var h=p.exec(e);if(!h){n=e.length+1,a+=e.substring(c,n-1);break}if(n=h.index+1,!(r=e.charAt(h.index))){a+=e.substring(c,n-1);break}}continue;case w:if(!r)continue;if("r"!==r)return H("Invalid true started with t"+r);F=O;continue;case O:if(!r)continue;if("u"!==r)return H("Invalid true started with tr"+r);F=k;continue;case k:if(!r)continue;if("e"!==r)return H("Invalid true started with tru"+r);s(!0),u(),F=B.pop()||d;continue;case E:if(!r)continue;if("a"!==r)return H("Invalid false started with f"+r);F=T;continue;case T:if(!r)continue;if("l"!==r)return H("Invalid false started with fa"+r);F=S;continue;case S:if(!r)continue;if("s"!==r)return H("Invalid false started with fal"+r);F=j;continue;case j:if(!r)continue;if("e"!==r)return H("Invalid false started with fals"+r);s(!1),u(),F=B.pop()||d;continue;case P:if(!r)continue;if("u"!==r)return H("Invalid null started with n"+r);F=C;continue;case C:if(!r)continue;if("l"!==r)return H("Invalid null started with nu"+r);F=A;continue;case A:if(!r)continue;if("l"!==r)return H("Invalid null started with nul"+r);s(null),u(),F=B.pop()||d;continue;case M:if("."!==r)return H("Leading zero not followed by .");L+=r,F=I;continue;case I:if(-1!=="0123456789".indexOf(r))L+=r;else if("."===r){if(-1!==L.indexOf("."))return H("Invalid number has two dots");L+=r}else if("e"===r||"E"===r){if(-1!==L.indexOf("e")||-1!==L.indexOf("E"))return H("Invalid number has two exponential");L+=r}else if("+"===r||"-"===r){if("e"!==i&&"E"!==i)return H("Invalid symbol in number");L+=r}else L&&(s(parseFloat(L)),u(),L=""),n--,F=B.pop()||d;continue;default:return H("Unknown state: "+F)}V>=R&&function(){var e=0;void 0!==a&&a.length>l&&(H("Max buffer length exceeded: textNode"),e=Math.max(e,a.length)),L.length>l&&(H("Max buffer length exceeded: numberNode"),e=Math.max(e,L.length)),R=l-e+V}()}})),e(n.n).on((function(){if(F===f)return s({}),u(),void(D=!0);F===d&&0===U||H("Unexpected end"),void 0!==a&&(s(a),u(),a=void 0),D=!0}))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c}));var n=r(19),i=r(3),a=r(2),o=r(20),s=r(0);function u(){return new XMLHttpRequest}function c(e,t,r,u,c,l,p){var h=e(i.m).emit,f=e(i.b).emit,d=0,m=!0;function g(){if("2"===String(t.status)[0]){var e=t.responseText,r=(" "+e.substr(d)).substr(1);r&&h(r),d=Object(a.e)(e)}}function v(t){try{m&&e(i.c).emit(t.status,Object(o.a)(t.getAllResponseHeaders())),m=!1}catch(r){}}e(i.a).on((function(){t.onreadystatechange=null,t.abort()})),"onprogress"in t&&(t.onprogress=g),t.onreadystatechange=function(){switch(t.readyState){case 2:case 3:return v(t);case 4:v(t),"2"===String(t.status)[0]?(g(),e(i.n).emit()):f(Object(i.o)(t.status,t.responseText))}};try{for(var y in t.open(r,u,!0),l)t.setRequestHeader(y,l[y]);Object(n.a)(window.location,Object(n.b)(u))||t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.withCredentials=p,t.send(c)}catch(b){window.setTimeout(Object(s.j)(f,Object(i.o)(void 0,void 0,b)),0)}}},function(e,t,r){"use strict";function n(e,t){function r(t){return String(t.port||{"http:":80,"https:":443}[t.protocol||e.protocol])}return!!(t.protocol&&t.protocol!==e.protocol||t.host&&t.host!==e.host||t.host&&r(t)!==r(e))}function i(e){var t=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(e)||[];return{protocol:t[1]||"",host:t[2]||"",port:t[3]||""}}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},function(e,t,r){"use strict";function n(e){var t={};return e&&e.split("\r\n").forEach((function(e){var r=e.indexOf(": ");t[e.substring(0,r)]=e.substring(r+2)})),t}r.d(t,"a",(function(){return n}))}]).default},e.exports=n()},function(e,t,r){"use strict";var n=r(92).compose;t.__esModule=!0,t.composeWithDevTools="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?n:n.apply(null,arguments)},t.devToolsEnhancer="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(2),o=r(8),s=r(0),u=function(){function e(t,r){var n=r.location,i=void 0===n?0:n,a=r.distance,s=void 0===a?100:a,u=r.threshold,c=void 0===u?.6:u,l=r.maxPatternLength,p=void 0===l?32:l,h=r.caseSensitive,f=void 0!==h&&h,d=r.tokenSeparator,m=void 0===d?/ +/g:d,g=r.findAllMatches,v=void 0!==g&&g,y=r.minMatchCharLength,b=void 0===y?1:y,_=r.id,x=void 0===_?null:_,w=r.keys,O=void 0===w?[]:w,k=r.shouldSort,E=void 0===k||k,T=r.getFn,S=void 0===T?o:T,j=r.sortFn,P=void 0===j?function(e,t){return e.score-t.score}:j,C=r.tokenize,A=void 0!==C&&C,M=r.matchAllTokens,I=void 0!==M&&M,R=r.includeMatches,L=void 0!==R&&R,z=r.includeScore,D=void 0!==z&&z,F=r.verbose,B=void 0!==F&&F;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:i,distance:s,threshold:c,maxPatternLength:p,isCaseSensitive:f,tokenSeparator:m,findAllMatches:v,minMatchCharLength:b,id:x,keys:O,includeMatches:L,includeScore:D,shouldSort:E,getFn:S,sortFn:P,verbose:B,tokenize:A,matchAllTokens:I},this.setCollection(t)}var t,r;return t=e,(r=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var r=this._prepareSearchers(e),n=r.tokenSearchers,i=r.fullSearcher,a=this._search(n,i),o=a.weights,s=a.results;return this._computeScore(o,s),this.options.shouldSort&&this._sort(s),t.limit&&"number"==typeof t.limit&&(s=s.slice(0,t.limit)),this._format(s)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var r=e.split(this.options.tokenSeparator),n=0,i=r.length;n<i;n+=1)t.push(new a(r[n],this.options));return{tokenSearchers:t,fullSearcher:new a(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=this.list,n={},i=[];if("string"==typeof r[0]){for(var a=0,o=r.length;a<o;a+=1)this._analyze({key:"",value:r[a],record:a,index:a},{resultMap:n,results:i,tokenSearchers:e,fullSearcher:t});return{weights:null,results:i}}for(var s={},u=0,c=r.length;u<c;u+=1)for(var l=r[u],p=0,h=this.options.keys.length;p<h;p+=1){var f=this.options.keys[p];if("string"!=typeof f){if(s[f.name]={weight:1-f.weight||1},f.weight<=0||f.weight>1)throw new Error("Key weight has to be > 0 and <= 1");f=f.name}else s[f]={weight:1};this._analyze({key:f,value:this.options.getFn(l,f),record:l,index:u},{resultMap:n,results:i,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:i}}},{key:"_analyze",value:function(e,t){var r=e.key,n=e.arrayIndex,i=void 0===n?-1:n,a=e.value,o=e.record,u=e.index,c=t.tokenSearchers,l=void 0===c?[]:c,p=t.fullSearcher,h=void 0===p?[]:p,f=t.resultMap,d=void 0===f?{}:f,m=t.results,g=void 0===m?[]:m;if(null!=a){var v=!1,y=-1,b=0;if("string"==typeof a){this._log("\nKey: ".concat(""===r?"-":r));var _=h.search(a);if(this._log('Full text: "'.concat(a,'", score: ').concat(_.score)),this.options.tokenize){for(var x=a.split(this.options.tokenSeparator),w=[],O=0;O<l.length;O+=1){var k=l[O];this._log('\nPattern: "'.concat(k.pattern,'"'));for(var E=!1,T=0;T<x.length;T+=1){var S=x[T],j=k.search(S),P={};j.isMatch?(P[S]=j.score,v=!0,E=!0,w.push(j.score)):(P[S]=1,this.options.matchAllTokens||w.push(1)),this._log('Token: "'.concat(S,'", score: ').concat(P[S]))}E&&(b+=1)}y=w[0];for(var C=w.length,A=1;A<C;A+=1)y+=w[A];y/=C,this._log("Token score average:",y)}var M=_.score;y>-1&&(M=(M+y)/2),this._log("Score average:",M);var I=!this.options.tokenize||!this.options.matchAllTokens||b>=l.length;if(this._log("\nCheck Matches: ".concat(I)),(v||_.isMatch)&&I){var R=d[u];R?R.output.push({key:r,arrayIndex:i,value:a,score:M,matchedIndices:_.matchedIndices}):(d[u]={item:o,output:[{key:r,arrayIndex:i,value:a,score:M,matchedIndices:_.matchedIndices}]},g.push(d[u]))}}else if(s(a))for(var L=0,z=a.length;L<z;L+=1)this._analyze({key:r,arrayIndex:L,value:a[L],record:o,index:u},{resultMap:d,results:g,tokenSearchers:l,fullSearcher:h})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var r=0,n=t.length;r<n;r+=1){for(var i=t[r].output,a=i.length,o=1,s=1,u=0;u<a;u+=1){var c=e?e[i[u].key].weight:1,l=(1===c?i[u].score:i[u].score||.001)*c;1!==c?s=Math.min(s,l):(i[u].nScore=l,o*=l)}t[r].score=1===s?o:s,this._log(t[r])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var r=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,(function(e,t){if("object"===n(t)&&null!==t){if(-1!==r.indexOf(t))return;r.push(t)}return t}))),r=null}var i=[];this.options.includeMatches&&i.push((function(e,t){var r=e.output;t.matches=[];for(var n=0,i=r.length;n<i;n+=1){var a=r[n];if(0!==a.matchedIndices.length){var o={indices:a.matchedIndices,value:a.value};a.key&&(o.key=a.key),a.hasOwnProperty("arrayIndex")&&a.arrayIndex>-1&&(o.arrayIndex=a.arrayIndex),t.matches.push(o)}}})),this.options.includeScore&&i.push((function(e,t){t.score=e.score}));for(var a=0,o=e.length;a<o;a+=1){var s=e[a];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),i.length){for(var u={item:s.item},c=0,l=i.length;c<l;c+=1)i[c](s,u);t.push(u)}else t.push(s.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&i(t.prototype,r),e}();e.exports=u},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(3),a=r(4),o=r(7),s=function(){function e(t,r){var n=r.location,i=void 0===n?0:n,a=r.distance,s=void 0===a?100:a,u=r.threshold,c=void 0===u?.6:u,l=r.maxPatternLength,p=void 0===l?32:l,h=r.isCaseSensitive,f=void 0!==h&&h,d=r.tokenSeparator,m=void 0===d?/ +/g:d,g=r.findAllMatches,v=void 0!==g&&g,y=r.minMatchCharLength,b=void 0===y?1:y;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:i,distance:s,threshold:c,maxPatternLength:p,isCaseSensitive:f,tokenSeparator:m,findAllMatches:v,minMatchCharLength:b},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=p&&(this.patternAlphabet=o(this.pattern))}var t,r;return t=e,(r=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,r=t.maxPatternLength,n=t.tokenSeparator;if(this.pattern.length>r)return i(e,this.pattern,n);var o=this.options,s=o.location,u=o.distance,c=o.threshold,l=o.findAllMatches,p=o.minMatchCharLength;return a(e,this.pattern,this.patternAlphabet,{location:s,distance:u,threshold:c,findAllMatches:l,minMatchCharLength:p})}}])&&n(t.prototype,r),e}();e.exports=s},function(e,t){var r=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,i=new RegExp(t.replace(r,"\\$&").replace(n,"|")),a=e.match(i),o=!!a,s=[];if(o)for(var u=0,c=a.length;u<c;u+=1){var l=a[u];s.push([e.indexOf(l),l.length-1])}return{score:o?.5:1,isMatch:o,matchedIndices:s}}},function(e,t,r){var n=r(5),i=r(6);e.exports=function(e,t,r,a){for(var o=a.location,s=void 0===o?0:o,u=a.distance,c=void 0===u?100:u,l=a.threshold,p=void 0===l?.6:l,h=a.findAllMatches,f=void 0!==h&&h,d=a.minMatchCharLength,m=void 0===d?1:d,g=s,v=e.length,y=p,b=e.indexOf(t,g),_=t.length,x=[],w=0;w<v;w+=1)x[w]=0;if(-1!==b){var O=n(t,{errors:0,currentLocation:b,expectedLocation:g,distance:c});if(y=Math.min(O,y),-1!==(b=e.lastIndexOf(t,g+_))){var k=n(t,{errors:0,currentLocation:b,expectedLocation:g,distance:c});y=Math.min(k,y)}}b=-1;for(var E=[],T=1,S=_+v,j=1<<(_<=31?_-1:30),P=0;P<_;P+=1){for(var C=0,A=S;C<A;)n(t,{errors:P,currentLocation:g+A,expectedLocation:g,distance:c})<=y?C=A:S=A,A=Math.floor((S-C)/2+C);S=A;var M=Math.max(1,g-A+1),I=f?v:Math.min(g+A,v)+_,R=Array(I+2);R[I+1]=(1<<P)-1;for(var L=I;L>=M;L-=1){var z=L-1,D=r[e.charAt(z)];if(D&&(x[z]=1),R[L]=(R[L+1]<<1|1)&D,0!==P&&(R[L]|=(E[L+1]|E[L])<<1|1|E[L+1]),R[L]&j&&(T=n(t,{errors:P,currentLocation:z,expectedLocation:g,distance:c}))<=y){if(y=T,(b=z)<=g)break;M=Math.max(1,2*g-b)}}if(n(t,{errors:P+1,currentLocation:g,expectedLocation:g,distance:c})>y)break;E=R}return{isMatch:b>=0,score:0===T?.001:T,matchedIndices:i(x,m)}}},function(e,t){e.exports=function(e,t){var r=t.errors,n=void 0===r?0:r,i=t.currentLocation,a=void 0===i?0:i,o=t.expectedLocation,s=void 0===o?0:o,u=t.distance,c=void 0===u?100:u,l=n/e.length,p=Math.abs(s-a);return c?l+p/c:p?1:l}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[],n=-1,i=-1,a=0,o=e.length;a<o;a+=1){var s=e[a];s&&-1===n?n=a:s||-1===n||((i=a-1)-n+1>=t&&r.push([n,i]),n=-1)}return e[a-1]&&a-n>=t&&r.push([n,a-1]),r}},function(e,t){e.exports=function(e){for(var t={},r=e.length,n=0;n<r;n+=1)t[e.charAt(n)]=0;for(var i=0;i<r;i+=1)t[e.charAt(i)]|=1<<r-i-1;return t}},function(e,t,r){var n=r(0);e.exports=function(e,t){return function e(t,r,i){if(r){var a=r.indexOf("."),o=r,s=null;-1!==a&&(o=r.slice(0,a),s=r.slice(a+1));var u=t[o];if(null!=u)if(s||"string"!=typeof u&&"number"!=typeof u)if(n(u))for(var c=0,l=u.length;c<l;c+=1)e(u[c],s,i);else s&&e(u,s,i);else i.push(u.toString())}else i.push(t);return i}(e,t,[])}}])},function(e,t,r){(function(e){!function(e){"use strict";t.loadCSS=function(t,r,n,i){var a,o=e.document,s=o.createElement("link");if(r)a=r;else{var u=(o.body||o.getElementsByTagName("head")[0]).childNodes;a=u[u.length-1]}var c=o.styleSheets;if(i)for(var l in i)i.hasOwnProperty(l)&&s.setAttribute(l,i[l]);s.rel="stylesheet",s.href=t,s.media="only x",function e(t){if(o.body)return t();setTimeout((function(){e(t)}))}((function(){a.parentNode.insertBefore(s,r?a:a.nextSibling)}));var p=function e(t){for(var r=s.href,n=c.length;n--;)if(c[n].href===r)return t();setTimeout((function(){e(t)}))};function h(){s.addEventListener&&s.removeEventListener("load",h),s.media=n||"all"}return s.addEventListener&&s.addEventListener("load",h),s.onloadcssdefined=p,p(h),s}}("undefined"!==typeof e?e:this)}).call(this,r(61))},function(e,t,r){"use strict";var n=r(2),i=r(373),a=r(113);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(e,Object(n.a)({defaultTheme:a.a},t))}},function(e,t,r){"use strict";function n(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";(function(e){var n=r(0);function i(t){var r;r="undefined"!==typeof window?window:"undefined"!==typeof self?self:e;var n="undefined"!==typeof document&&document.attachEvent;if(!n){var i=function(){var e=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(e){return r.setTimeout(e,20)};return function(t){return e(t)}}(),a=function(){var e=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.clearTimeout;return function(t){return e(t)}}(),o=function(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,i=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,i.style.width=r.offsetWidth+1+"px",i.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},s=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;o(this),this.__resizeRAF__&&a(this.__resizeRAF__),this.__resizeRAF__=i((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(r){r.call(t,e)})))}))}},u=!1,c="",l="animationstart",p="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f=document.createElement("fakeelement");if(void 0!==f.style.animationName&&(u=!0),!1===u)for(var d=0;d<p.length;d++)if(void 0!==f.style[p[d]+"AnimationName"]){c="-"+p[d].toLowerCase()+"-",l=h[d],u=!0;break}var m="resizeanim",g="@"+c+"keyframes "+m+" { from { opacity: 0; } to { opacity: 0; } } ",v=c+"animation: 1ms "+m+"; "}return{addResizeListener:function(e,i){if(n)e.attachEvent("onresize",i);else{if(!e.__resizeTriggers__){var a=e.ownerDocument,u=r.getComputedStyle(e);u&&"static"==u.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var r=(g||"")+".resize-triggers { "+(v||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="detectElementResize",i.type="text/css",null!=t&&i.setAttribute("nonce",t),i.styleSheet?i.styleSheet.cssText=r:i.appendChild(e.createTextNode(r)),n.appendChild(i)}}(a),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=a.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),o(e),e.addEventListener("scroll",s,!0),l&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==m&&o(e)},e.__resizeTriggers__.addEventListener(l,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(i)}},removeResizeListener:function(e,t){if(n)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(l,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(r){}}}}}var a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},c=function(e){function t(){var e,r,n;a(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={height:n.props.defaultHeight||0,width:n.props.defaultWidth||0},n._onResize=function(){var e=n.props,t=e.disableHeight,r=e.disableWidth,i=e.onResize;if(n._parentNode){var a=n._parentNode.offsetHeight||0,o=n._parentNode.offsetWidth||0,s=window.getComputedStyle(n._parentNode)||{},u=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,l=parseInt(s.paddingTop,10)||0,p=parseInt(s.paddingBottom,10)||0,h=a-l-p,f=o-u-c;(!t&&n.state.height!==h||!r&&n.state.width!==f)&&(n.setState({height:a-l-p,width:o-u-c}),i({height:a,width:o}))}},n._setRef=function(e){n._autoSizer=e},u(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=i(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,i=e.disableHeight,a=e.disableWidth,o=e.style,u=this.state,c=u.height,l=u.width,p={overflow:"visible"},h={},f=!1;return i||(0===c&&(f=!0),p.height=0,h.height=c),a||(0===l&&(f=!0),p.width=0,h.width=l),Object(n.createElement)("div",{className:r,ref:this._setRef,style:s({},p,o)},!f&&t(h))}}]),t}(n.PureComponent);c.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},t.a=c}).call(this,r(61))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(104),i=[];function a(e){e=Array.isArray(e)?e:[e];var t=!0,r=!1,a=void 0;try{for(var o,s=function(){var e=o.value,t=Object(n.b)(e);i.find((function(e){return t===e}))||i.unshift(t)},u=e[Symbol.iterator]();!(t=(o=u.next()).done);t=!0)s()}catch(c){r=!0,a=c}finally{try{t||null==u.return||u.return()}finally{if(r)throw a}}}function o(){return i}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(11);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t){if(!t)return e;var r=Object.assign({},e,t);if("defines"in t&&(r.defines=Object.assign({},e.defines,t.defines)),"modules"in t&&(r.modules=(e.modules||[]).concat(t.modules),t.modules.some((function(e){return"project64"===e.name})))){var a=r.modules.findIndex((function(e){return"project32"===e.name}));a>=0&&r.modules.splice(a,1)}if("inject"in t)if(e.inject){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.inject);for(var s in t.inject)o[s]=(o[s]||"")+t.inject[s];r.inject=o}else r.inject=t.inject;return r}},function(e,t,r){"use strict";var n=r(90);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(0)),a=(0,n(r(119)).default)(i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=a},function(e,t,r){"use strict";var n=r(90);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(0)),a=(0,n(r(119)).default)(i.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=a},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}r.d(t,"a",(function(){return i}))},function(e,t){function r(e,t,r){var n,i,a,o,s;function u(){var c=Date.now()-o;c<t&&c>=0?n=setTimeout(u,t-c):(n=null,r||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var c=function(){a=this,i=arguments,o=Date.now();var c=r&&!n;return n||(n=setTimeout(u,t)),c&&(s=e.apply(a,i),a=i=null),s};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(s=e.apply(a,i),a=i=null,clearTimeout(n),n=null)},c}r.debounce=r,e.exports=r},function(e,t,r){"use strict";var n=r(90);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(0)),a=(0,n(r(119)).default)(i.default.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.default=a},function(e,t,r){"use strict";(function(t){var r="__global_unique_id__";e.exports=function(){return t[r]=(t[r]||0)+1}}).call(this,r(61))},function(e,t,r){var n=r(307),i=[r(327),r(328),r(333),r(339),r(342),r(344),r(346),r(350)];e.exports=n.plugin(i)},function(e,t,r){"use strict";var n=r(90);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(0)),a=(0,n(r(119)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("circle",{cx:"11",cy:"6",r:"2",opacity:".3"}),i.default.createElement("circle",{cx:"16.6",cy:"17.6",r:"2",opacity:".3"}),i.default.createElement("circle",{cx:"7",cy:"14",r:"2",opacity:".3"}),i.default.createElement("path",{d:"M7 10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm8-10c0-2.21-1.79-4-4-4S7 3.79 7 6s1.79 4 4 4 4-1.79 4-4zm-4 2c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.6 5.6c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})),"ScatterPlotTwoTone");t.default=a},function(e,t,r){"use strict";var n=r(90);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(0)),a=(0,n(r(119)).default)(i.default.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.default=a},function(e,t,r){"use strict";var n=r(90);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(0)),a=(0,n(r(119)).default)(i.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.default=a},function(e,t,r){"use strict";var n=r(90);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(0)),a=(0,n(r(119)).default)(i.default.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.default=a},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=r(27);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"===typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?s(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r(25);function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}var f=r(5),d=r(0),m=r.n(d),g=r(3),v=r.n(g);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function x(e){if(!e)return null;if("string"===typeof e)return e;e.toJS&&(e=e.toJS());var t={},r=!0,n=!1,i=void 0;try{for(var a,o=e.layers[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;t[s.id]=s}}catch(c){n=!0,i=c}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}var u=e.layers.map((function(e){var r=t[e.ref],n=null;if("interactive"in e&&delete(n=b({},e)).interactive,r){delete(n=n||b({},e)).ref;var i=!0,a=!1,o=void 0;try{for(var s,u=_[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;l in r&&(n[l]=r[l])}}catch(c){a=!0,o=c}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}}return n||e}));return b({},e,{layers:u})}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t,r){return t&&O(e.prototype,t),r&&O(e,r),e}function E(e){return(E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e){return(T="function"===typeof Symbol&&"symbol"===E(Symbol.iterator)?function(e){return E(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":E(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var A=r(78);function M(e,t){var r=A.b([],t,e);return A.a(r,r,1/r[3]),r}function I(e,t){var r=e%t;return r<0?t+r:r}var R=r(14),L=r(36),z=r(59);function D(e,t){if(!e)throw new Error(t||"viewport-mercator-project: assertion failed.")}var F=Math.PI,B=F/4,N=F/180,q=180/F,U=512,V=4003e4,G=1.5;function W(e){return Math.pow(2,e)}function H(e){return Math.log2(e)}function Z(e,t){var r=C(e,2),n=r[0],i=r[1];D(Number.isFinite(n)&&Number.isFinite(t)),D(Number.isFinite(i)&&i>=-90&&i<=90,"invalid latitude");var a=i*N;return[(t*=U)*(n*N+F)/(2*F),t*(F-Math.log(Math.tan(B+.5*a)))/(2*F)]}function X(e,t){var r=C(e,2),n=r[0],i=r[1],a=n/(t*=U)*(2*F)-F,o=2*(Math.atan(Math.exp(F-i/t*(2*F)))-B);return[a*q,o*q]}function K(e){var t=e.latitude,r=e.longitude,n=e.zoom,i=e.scale,a=e.highPrecision,o=void 0!==a&&a;i=void 0!==i?i:W(n),D(Number.isFinite(t)&&Number.isFinite(r)&&Number.isFinite(i));var s={},u=U*i,c=Math.cos(t*N),l=u/360,p=l/c,h=u/V/c;if(s.pixelsPerMeter=[h,-h,h],s.metersPerPixel=[1/h,-1/h,1/h],s.pixelsPerDegree=[l,-p,h],s.degreesPerPixel=[1/l,-1/p,1/h],o){var f=N*Math.tan(t*N)/c,d=l*f/2,m=u/V*f,g=m/p*h;s.pixelsPerDegree2=[0,-d,m],s.pixelsPerMeter2=[g,0,g]}return s}function Y(e){var t=e.width,r=e.height,n=e.pitch,i=function(e){var t=e.width,r=e.height,n=e.altitude,i=void 0===n?G:n,a=e.pitch,o=void 0===a?0:a,s=e.nearZMultiplier,u=void 0===s?1:s,c=e.farZMultiplier,l=void 0===c?1:c,p=o*N,h=Math.atan(.5/i),f=Math.sin(h)*i/Math.sin(Math.PI/2-p-h),d=Math.cos(Math.PI/2-p)*f+i;return{fov:2*Math.atan(r/2/i),aspect:t/r,focalDistance:i,near:u,far:d*l}}({width:t,height:r,altitude:e.altitude,pitch:n,nearZMultiplier:e.nearZMultiplier,farZMultiplier:e.farZMultiplier}),a=i.fov,o=i.aspect,s=i.near,u=i.far;return R.i([],a,o,s,u)}function $(e,t){var r=C(e,3),n=r[0],i=r[1],a=r[2],o=void 0===a?0:a;return D(Number.isFinite(n)&&Number.isFinite(i)&&Number.isFinite(o)),M(t,[n,i,o,1])}function J(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=C(e,3),i=n[0],a=n[1],o=n[2];if(D(Number.isFinite(i)&&Number.isFinite(a),"invalid pixel coordinate"),Number.isFinite(o))return M(t,[i,a,o,1]);var s=M(t,[i,a,0,1]),u=M(t,[i,a,1,1]),c=s[2],l=u[2],p=c===l?0:((r||0)-c)/(l-c);return L.c([],s,u,p)}var Q=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function ee(e){var t=e.width,r=e.height,n=e.bounds,i=e.minExtent,a=void 0===i?0:i,o=e.maxZoom,s=void 0===o?24:o,u=e.padding,c=void 0===u?0:u,l=e.offset,p=void 0===l?[0,0]:l,h=C(n,2),f=C(h[0],2),d=f[0],m=f[1],g=C(h[1],2),v=g[0],y=g[1];if(Number.isFinite(c)){c={top:c,bottom:c,left:c,right:c}}else D(Number.isFinite(c.top)&&Number.isFinite(c.bottom)&&Number.isFinite(c.left)&&Number.isFinite(c.right));var b=new te({width:t,height:r,longitude:0,latitude:0,zoom:0}),_=b.project([d,y]),x=b.project([v,m]),w=[Math.max(Math.abs(x[0]-_[0]),a),Math.max(Math.abs(x[1]-_[1]),a)],O=[t-c.left-c.right-2*Math.abs(p[0]),r-c.top-c.bottom-2*Math.abs(p[1])];D(O[0]>0&&O[1]>0);var k=O[0]/w[0],E=O[1]/w[1],T=(c.right-c.left)/2/k,S=(c.bottom-c.top)/2/E,j=[(x[0]+_[0])/2+T,(x[1]+_[1])/2+S],P=b.unproject(j),A=b.zoom+Math.log2(Math.abs(Math.min(k,E)));return{longitude:P[0],latitude:P[1],zoom:Math.min(A,s)}}var te=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.width,i=r.height,a=r.latitude,o=void 0===a?0:a,s=r.longitude,u=void 0===s?0:s,c=r.zoom,l=void 0===c?0:c,p=r.pitch,h=void 0===p?0:p,f=r.bearing,d=void 0===f?0:f,m=r.altitude,g=void 0===m?1.5:m,v=r.nearZMultiplier,y=r.farZMultiplier;w(this,t),n=n||1,i=i||1;var b=W(l);g=Math.max(.75,g);var _=Z([u,o],b);_[2]=0;var x=Y({width:n,height:i,pitch:h,bearing:d,altitude:g,nearZMultiplier:v||1/i,farZMultiplier:y||1.01}),O=function(e){var t=e.height,r=e.pitch,n=e.bearing,i=e.altitude,a=e.center,o=void 0===a?null:a,s=e.flipY,u=void 0!==s&&s,c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return R.o(c,c,[0,0,-i]),R.n(c,c,[1,1,1/t]),R.k(c,c,-r*N),R.m(c,c,n*N),u&&R.n(c,c,[1,-1,1]),o&&R.o(c,c,z.c([],o)),c}({height:i,center:_,pitch:h,bearing:d,altitude:g,flipY:!0});return(e=function(e,t){return!t||"object"!==T(t)&&"function"!==typeof t?S(e):t}(this,j(t).call(this,{width:n,height:i,viewMatrix:O,projectionMatrix:x}))).latitude=o,e.longitude=u,e.zoom=l,e.pitch=h,e.bearing=d,e.altitude=g,e.scale=b,e.center=_,e.pixelsPerMeter=K(S(S(e))).pixelsPerMeter[2],Object.freeze(S(S(e))),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),k(t,[{key:"projectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return Z(e,t)}},{key:"unprojectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return X(e,t)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,r=J(e.pos,this.pixelUnprojectionMatrix),n=Z(t,this.scale),i=L.a([],n,L.d([],r));return X(L.a([],this.center,i),this.scale)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,r=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:r})}},{key:"fitBounds",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.width,i=this.height,a=ee(Object.assign({width:n,height:i,bounds:e},r)),o=a.longitude,s=a.latitude,u=a.zoom;return new t({width:n,height:i,longitude:o,latitude:s,zoom:u})}}]),t}(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width,n=t.height,i=t.viewMatrix,a=void 0===i?Q:i,o=t.projectionMatrix,s=void 0===o?Q:o;w(this,e),this.width=r||1,this.height=n||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=a,this.projectionMatrix=s;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];R.g(u,u,this.projectionMatrix),R.g(u,u,this.viewMatrix),this.viewProjectionMatrix=u;var c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];R.n(c,c,[this.width/2,-this.height/2,1]),R.o(c,c,[1,-1,0]),R.g(c,c,this.viewProjectionMatrix);var l=R.e([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c);if(!l)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=c,this.pixelUnprojectionMatrix=l,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return k(e,[{key:"equals",value:function(t){return t instanceof e&&(t.width===this.width&&t.height===this.height&&R.b(t.projectionMatrix,this.projectionMatrix)&&R.b(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.topLeft,n=void 0===r||r,i=this.projectPosition(e),a=$(i,this.pixelProjectionMatrix),o=C(a,2),s=o[0],u=o[1],c=n?u:this.height-u;return 2===e.length?[s,c]:[s,c,a[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.topLeft,n=void 0===r||r,i=t.targetZ,a=C(e,3),o=a[0],s=a[1],u=a[2],c=n?s:this.height-s,l=i&&i*this.pixelsPerMeter,p=J([o,c,u],this.pixelUnprojectionMatrix,l),h=this.unprojectPosition(p),f=C(h,3),d=f[0],m=f[1],g=f[2];return Number.isFinite(u)?[d,m,g]:Number.isFinite(i)?[d,m,i]:[d,m]}},{key:"projectPosition",value:function(e){var t=C(this.projectFlat(e),2);return[t[0],t[1],(e[2]||0)*this.pixelsPerMeter]}},{key:"unprojectPosition",value:function(e){var t=C(this.unprojectFlat(e),2);return[t[0],t[1],(e[2]||0)/this.pixelsPerMeter]}},{key:"projectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return e}},{key:"unprojectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return e}}]),e}()),re=r(241),ne=r(187),ie=r(212),ae=r.n(ie);function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var se=85.05113,ue=-85.05113;var ce=1e-7;function le(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function pe(e,t){if(e===t)return!0;if(le(e)&&le(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!pe(e[r],t[r]))return!1;return!0}return Math.abs(e-t)<=ce}function he(e,t,r){return Math.max(t,Math.min(r,e))}function fe(e,t,r){return le(e)?e.map((function(e,n){return fe(e,t[n],r)})):r*t+(1-r)*e}function de(e,t){if(!e)throw new Error(t||"react-map-gl: assertion failed.")}var me=function(){function e(){Object(i.a)(this,e),Object(f.a)(this,"propNames",[])}return Object(l.a)(e,[{key:"arePropsEqual",value:function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=(this.propNames||[])[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(!pe(e[s],t[s]))return!1}}catch(u){n=!0,i=u}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!0}},{key:"initializeProps",value:function(e,t){return{start:e,end:t}}},{key:"interpolateProps",value:function(e,t,r){de(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(e,t){return t.transitionDuration}}]),e}(),ge=.01,ve=["longitude","latitude","zoom"],ye={curve:1.414,speed:1.2};function be(e,t,r){var n=(r=Object.assign({},ye,r)).curve,i=e.zoom,a=[e.longitude,e.latitude],o=W(i),s=t.zoom,u=[t.longitude,t.latitude],c=W(s-i),l=Z(a,o),p=Z(u,o),h=L.f([],p,l),f=Math.max(e.width,e.height),d=f/c,m=L.b(h),g=n*n,v=(d*d-f*f+g*g*m*m)/(2*f*g*m),y=(d*d-f*f-g*g*m*m)/(2*d*g*m),b=Math.log(Math.sqrt(v*v+1)-v),_=Math.log(Math.sqrt(y*y+1)-y);return{startZoom:i,startCenterXY:l,uDelta:h,w0:f,u1:m,S:(_-b)/n,rho:n,rho2:g,r0:b,r1:_}}var _e={longitude:1,bearing:1};function xe(e){return Number.isFinite(e)||Array.isArray(e)}function we(e,t,r){return function(e){return e in _e}(e)&&Math.abs(r-t)>180&&(r=r<0?r+360:r-360),r}var Oe=["longitude","latitude","zoom","bearing","pitch"],ke=["latitude","longitude","zoom","width","height"],Ee=["bearing","pitch"],Te={speed:1.2,curve:1.414},Se=(function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(this,t),e=u(this,c(t).call(this)),Object(f.a)(s(e),"speed",void 0),Object(f.a)(s(e),"propNames",Oe),Object(f.a)(s(e),"props",void 0),e.props=Object.assign({},Te,r),e}h(t,e),Object(l.a)(t,[{key:"initializeProps",value:function(e,t){var r={},n={},i=!0,a=!1,o=void 0;try{for(var s,u=ke[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=e[c],p=t[c];de(xe(l)&&xe(p),"".concat(c," must be supplied for transition")),r[c]=l,n[c]=we(c,l,p)}}catch(_){a=!0,o=_}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}var h=!0,f=!1,d=void 0;try{for(var m,g=Ee[Symbol.iterator]();!(h=(m=g.next()).done);h=!0){var v=m.value,y=e[v]||0,b=t[v]||0;r[v]=y,n[v]=we(v,y,b)}}catch(_){f=!0,d=_}finally{try{h||null==g.return||g.return()}finally{if(f)throw d}}return{start:r,end:n}}},{key:"interpolateProps",value:function(e,t,r){var n=function(e,t,r){var n,i={},a=be(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),o=a.startZoom,s=a.startCenterXY,u=a.uDelta,c=a.w0,l=a.u1,p=a.S,h=a.rho,f=a.rho2,d=a.r0;if(Math.abs(l)<ge){for(var m=0;m<ve.length;m++){var g=ve[m],v=e[g],y=t[g];i[g]=(n=r)*y+(1-n)*v}return i}var b=r*p,_=Math.cosh(d)/Math.cosh(d+h*b),x=c*((Math.cosh(d)*Math.tanh(d+h*b)-Math.sinh(d))/f)/l,w=1/_,O=o+H(w),k=L.e([],u,x);L.a(k,k,s),L.e(k,k,w);var E=X(k,W(O));return i.longitude=E[0],i.latitude=E[1],i.zoom=O,i}(e,t,r,this.props),i=!0,a=!1,o=void 0;try{for(var s,u=Ee[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n[c]=fe(e[c],t[c],r)}}catch(l){a=!0,o=l}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return n}},{key:"getDuration",value:function(e,t){var r=t.transitionDuration;return"auto"===r&&(r=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n=Object.assign({},ye,n),a=i.screenSpeed,o=i.speed,s=i.maxDuration,u=be(e,t,n),c=u.S,l=u.rho,p=1e3*c;return r=Number.isFinite(a)?p/(a/l):p/o,Number.isFinite(s)&&r>s?0:r}(e,t,this.props)),r}}])}(me),["longitude","latitude","zoom","bearing","pitch"]),je=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(this,t),e=u(this,c(t).call(this)),Object(f.a)(s(e),"around",void 0),Array.isArray(r)&&(r={transitionProps:r}),e.propNames=r.transitionProps||Se,r.around&&(e.around=r.around),e}return h(t,e),Object(l.a)(t,[{key:"initializeProps",value:function(e,t){var r={},n={};if(this.around){r.around=this.around;var i=new te(e).unproject(this.around);Object.assign(n,t,{around:new te(t).project(i),aroundLngLat:i})}var a=!0,o=!1,s=void 0;try{for(var u,c=this.propNames[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value,p=e[l],h=t[l];de(xe(p)&&xe(h),"".concat(l," must be supplied for transition")),r[l]=p,n[l]=we(l,p,h)}}catch(f){o=!0,s=f}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return{start:r,end:n}}},{key:"interpolateProps",value:function(e,t,r){var n={},i=!0,a=!1,o=void 0;try{for(var s,u=this.propNames[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n[c]=fe(e[c],t[c],r)}}catch(f){a=!0,o=f}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}if(t.around){var l=oe(new te(Object.assign({},t,n)).getMapCenterByLngLatPosition({lngLat:t.aroundLngLat,pos:fe(e.around,t.around,r)}),2),p=l[0],h=l[1];n.longitude=p,n.latitude=h}return n}}]),t}(me),Pe={minZoom:0,maxZoom:24,minPitch:0,maxPitch:60},Ce={pitch:0,bearing:0,altitude:1.5},Ae=function(){function e(t){var r=t.width,n=t.height,a=t.latitude,o=t.longitude,s=t.zoom,u=t.bearing,c=void 0===u?Ce.bearing:u,l=t.pitch,p=void 0===l?Ce.pitch:l,h=t.altitude,d=void 0===h?Ce.altitude:h,m=t.maxZoom,g=void 0===m?Pe.maxZoom:m,v=t.minZoom,y=void 0===v?Pe.minZoom:v,b=t.maxPitch,_=void 0===b?Pe.maxPitch:b,x=t.minPitch,w=void 0===x?Pe.minPitch:x,O=t.transitionDuration,k=t.transitionEasing,E=t.transitionInterpolator,T=t.transitionInterruption,S=t.startPanLngLat,j=t.startZoomLngLat,P=t.startBearing,C=t.startPitch,A=t.startZoom;Object(i.a)(this,e),Object(f.a)(this,"_viewportProps",void 0),Object(f.a)(this,"_interactiveState",void 0),de(Number.isFinite(r),"`width` must be supplied"),de(Number.isFinite(n),"`height` must be supplied"),de(Number.isFinite(o),"`longitude` must be supplied"),de(Number.isFinite(a),"`latitude` must be supplied"),de(Number.isFinite(s),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:r,height:n,latitude:a,longitude:o,zoom:s,bearing:c,pitch:p,altitude:d,maxZoom:g,minZoom:y,maxPitch:_,minPitch:w,transitionDuration:O,transitionEasing:k,transitionInterpolator:E,transitionInterruption:T}),this._interactiveState={startPanLngLat:S,startZoomLngLat:j,startBearing:P,startPitch:C,startZoom:A}}return Object(l.a)(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,r=e.startPos,n=this._interactiveState.startPanLngLat||this._unproject(r);if(!n)return this;var i=oe(this._calculateNewLngLat({startPanLngLat:n,pos:t}),2),a=i[0],o=i[1];return this._getUpdatedMapState({longitude:a,latitude:o})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){e.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(e){var t=e.deltaScaleX,r=void 0===t?0:t,n=e.deltaScaleY,i=void 0===n?0:n,a=this._interactiveState,o=a.startBearing,s=a.startPitch;if(!Number.isFinite(o)||!Number.isFinite(s))return this;var u=this._calculateNewPitchAndBearing({deltaScaleX:r,deltaScaleY:i,startBearing:o||0,startPitch:s||0}),c=u.pitch,l=u.bearing;return this._getUpdatedMapState({bearing:l,pitch:c})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(t),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t=e.pos,r=e.startPos,n=e.scale;de(n>0,"`scale` must be a positive number");var i=this._interactiveState,a=i.startZoom,o=i.startZoomLngLat;Number.isFinite(a)||(a=this._viewportProps.zoom,o=this._unproject(r)||this._unproject(t)),de(o,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:n,startZoom:a||0}),u=oe(new te(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:o,pos:t}),2),c=u[0],l=u[1];return this._getUpdatedMapState({zoom:s,longitude:c,latitude:l})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(t){return new e(Object.assign({},this._viewportProps,this._interactiveState,t))}},{key:"_applyConstraints",value:function(e){var t=e.maxZoom,r=e.minZoom,n=e.zoom;e.zoom=he(n,r,t);var i=e.maxPitch,a=e.minPitch,o=e.pitch;return e.pitch=he(o,a,i),Object.assign(e,function(e){var t=e.width,r=e.height,n=e.longitude,i=e.latitude,a=e.zoom,o=e.pitch,s=void 0===o?0:o,u=e.bearing,c=void 0===u?0:u;(n<-180||n>180)&&(n=I(n+180,360)-180),(c<-180||c>180)&&(c=I(c+180,360)-180);var l=new te({width:t,height:r,longitude:n,latitude:i,zoom:a}),p=l.project([n,se])[1],h=l.project([n,ue])[1],f=0;return h-p<r&&(a+=Math.log2(r/(h-p)),p=(l=new te({width:t,height:r,longitude:n,latitude:i,zoom:a})).project([n,se])[1],h=l.project([n,ue])[1]),p>0?f=p:h<r&&(f=h-r),f&&(i=l.unproject([t/2,r/2+f])[1]),{width:t,height:r,longitude:n,latitude:i,zoom:a,pitch:s,bearing:c}}(e)),e}},{key:"_unproject",value:function(e){var t=new te(this._viewportProps);return e&&t.unproject(e)}},{key:"_calculateNewLngLat",value:function(e){var t=e.startPanLngLat,r=e.pos;return new te(this._viewportProps).getMapCenterByLngLatPosition({lngLat:t,pos:r})}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,r=e.startZoom,n=this._viewportProps,i=n.maxZoom,a=n.minZoom;return he(r+Math.log2(t),a,i)}},{key:"_calculateNewPitchAndBearing",value:function(e){var t=e.deltaScaleX,r=e.deltaScaleY,n=e.startBearing,i=e.startPitch;r=he(r,-1,1);var a=this._viewportProps,o=a.minPitch,s=a.maxPitch,u=i;return r>0?u=i+r*(s-i):r<0&&(u=i-r*(o-i)),{pitch:u,bearing:n+180*t}}}]),e}();var Me=Object(d.createContext)({viewport:null,map:null,mapContainer:null,onViewportChange:null,onViewStateChange:null,eventManager:null,isDragging:!1});function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Le="A valid API access token is required to use Mapbox data";var ze=401,De={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},Fe=Object.assign({},ne.a.propTypes,{width:v.a.oneOfType([v.a.number,v.a.string]),height:v.a.oneOfType([v.a.number,v.a.string]),onResize:v.a.func,preventStyleDiffing:v.a.bool,disableTokenWarning:v.a.bool,visible:v.a.bool,className:v.a.string,style:v.a.object,visibilityConstraints:v.a.object}),Be=Object.assign({},ne.a.defaultProps,{preventStyleDiffing:!1,disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:Pe}),Ne=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=u(this,(e=c(t)).call.apply(e,[this].concat(a))),Object(f.a)(s(r),"state",{accessTokenInvalid:!1}),Object(f.a)(s(r),"_mapbox",null),Object(f.a)(s(r),"_map",null),Object(f.a)(s(r),"_mapboxMapRef",Object(d.createRef)()),Object(f.a)(s(r),"_mapContainerRef",Object(d.createRef)()),Object(f.a)(s(r),"_queryParams",{}),Object(f.a)(s(r),"_width",0),Object(f.a)(s(r),"_height",0),Object(f.a)(s(r),"getMap",(function(){return r._map})),Object(f.a)(s(r),"queryRenderedFeatures",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r._map.queryRenderedFeatures(e,t)})),Object(f.a)(s(r),"_mapboxMapError",(function(e){(e.error&&e.error.status||e.status)!==ze||r.state.accessTokenInvalid||(console.error(Le),r.setState({accessTokenInvalid:!0})),r.props.onError(e)})),r}return h(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(t.supported()){var e=this.props.mapStyle;this._mapbox=new ne.a(Object.assign({},this.props,{mapboxgl:ae.a,width:this._width,height:this._height,container:this._mapboxMapRef.current,onError:this._mapboxMapError,mapStyle:x(e)})),this._map=this._mapbox.getMap()}}},{key:"componentDidUpdate",value:function(e){this._mapbox&&(this._updateMapStyle(e,this.props),this._updateMapProps(this.props))}},{key:"componentWillUnmount",value:function(){this._mapbox&&(this._mapbox.finalize(),this._mapbox=null,this._map=null)}},{key:"_updateMapSize",value:function(e,t){this._width===e&&this._height===t||(this._width=e,this._height=t,this._updateMapProps(this.props))}},{key:"_updateMapStyle",value:function(e,t){var r=t.mapStyle;r!==e.mapStyle&&r&&this._map.setStyle(x(r),{diff:!this.props.preventStyleDiffing})}},{key:"_updateMapProps",value:function(e){this._mapbox&&this._mapbox.setProps(Object.assign({},e,{width:this._width,height:this._height}))}},{key:"_renderNoTokenWarning",value:function(){if(this.state.accessTokenInvalid&&!this.props.disableTokenWarning){return m.a.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},m.a.createElement("h3",{key:"header"},"NO_TOKEN_WARNING"),m.a.createElement("div",{key:"text"},"For information on setting up your basemap, read"),m.a.createElement("a",{key:"link",href:"https://uber.github.io/react-map-gl/#/Documentation/getting-started/about-mapbox-tokens"},"Note on Map Tokens"))}return null}},{key:"_renderOverlays",value:function(e){var t=this,r=e.width,n=void 0===r?Number(this.props.width):r,i=e.height,a=void 0===i?Number(this.props.height):i;return this._updateMapSize(n,a),m.a.createElement(Me.Consumer,null,(function(e){var r=Re({},e,{viewport:new te(Re({},t.props,{},t.props.viewState,{width:n,height:a})),map:t._map,mapContainer:e.mapContainer||t._mapContainerRef.current});return m.a.createElement(Me.Provider,{value:r},m.a.createElement("div",{key:"map-overlays",className:"overlays",style:De},t.props.children))}))}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.width,n=e.height,i=e.style,a=e.visibilityConstraints,o=Object.assign({position:"relative"},i,{width:r,height:n}),s=this.props.visible&&function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe;for(var n in r){var i=n.slice(0,3),a=(t=n.slice(3))[0].toLowerCase()+t.slice(1);if("min"===i&&e[a]<r[n])return!1;if("max"===i&&e[a]>r[n])return!1}return!0}(this.props.viewState||this.props,a),u=Object.assign({},De,{visibility:s?"inherit":"hidden"});return m.a.createElement("div",{key:"map-container",style:o,ref:this._mapContainerRef},m.a.createElement("div",{key:"map-mapbox",ref:this._mapboxMapRef,style:u,className:t}),m.a.createElement(re.a,{key:"autosizer",disableWidth:Number.isFinite(r),disableHeight:Number.isFinite(n),onResize:this.props.onResize},this._renderOverlays.bind(this)),this._renderNoTokenWarning())}}],[{key:"supported",value:function(){return ae.a&&ae.a.supported()}}]),t}(d.PureComponent);Object(f.a)(Ne,"propTypes",Fe),Object(f.a)(Ne,"defaultProps",Be);var qe=function(){};var Ue=1,Ve=2,Ge=3,We=4,He={transitionDuration:0,transitionEasing:function(e){return e},transitionInterpolator:new je,transitionInterruption:Ue,onTransitionStart:qe,onTransitionInterrupt:qe,onTransitionEnd:qe,onViewportChange:qe,onStateChange:qe},Ze=function(){function e(t,r){var n=this;Object(i.a)(this,e),Object(f.a)(this,"props",void 0),Object(f.a)(this,"state",void 0),Object(f.a)(this,"time",void 0),Object(f.a)(this,"_animationFrame",null),Object(f.a)(this,"_onTransitionFrame",(function(){n._animationFrame=requestAnimationFrame(n._onTransitionFrame),n._updateViewport()})),t&&(this.props=t),this.time=r||Date.now}return Object(l.a)(e,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(e){var t=this.props;if(this.props=e,this._shouldIgnoreViewportChange(t,e))return!1;if(this._isTransitionEnabled(e)){var r=Object.assign({},t),n=Object.assign({},e);if(this._isTransitionInProgress()&&(t.onTransitionInterrupt(),this.state.interruption===Ve?Object.assign(r,this.state.endProps):Object.assign(r,this.state.propsInTransition),this.state.interruption===We)){var i=this.time(),a=(i-this.state.startTime)/this.state.duration;n.transitionDuration=this.state.duration-(i-this.state.startTime),n.transitionEasing=function(e,t){var r=e(t);return function(n){return 1/(1-r)*(e(n*(1-t)+t)-r)}}(this.state.easing,a),n.transitionInterpolator=r.transitionInterpolator}return n.onTransitionStart(),this._triggerTransition(r,n),!0}return this._isTransitionInProgress()&&(t.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(e){var t=e.transitionDuration,r=e.transitionInterpolator;return(t>0||"auto"===t)&&Boolean(r)}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(e,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return!e||(this._isTransitionInProgress()?this.state.interruption===Ge||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t))}},{key:"_triggerTransition",value:function(e,t){de(this._isTransitionEnabled(t),"Transition is not enabled"),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var r=t.transitionInterpolator,n=r.getDuration?r.getDuration(e,t):t.transitionDuration,i=t.transitionInterpolator.initializeProps(e,t),a={inTransition:!0,isZooming:e.zoom!==t.zoom,isPanning:e.longitude!==t.longitude||e.latitude!==t.latitude,isRotating:e.bearing!==t.bearing||e.pitch!==t.pitch};this.state={duration:n,easing:t.transitionEasing,interpolator:t.transitionInterpolator,interruption:t.transitionInterruption,startTime:this.time(),startProps:i.start,endProps:i.end,animation:null,propsInTransition:{},interactionState:a},this._onTransitionFrame(),this.props.onStateChange(a)}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.props.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var e=this.time(),t=this.state,r=t.startTime,n=t.duration,i=t.easing,a=t.interpolator,o=t.startProps,s=t.endProps,u=!1,c=(e-r)/n;c>=1&&(c=1,u=!0),c=i(c);var l=a.interpolateProps(o,s,c),p=new Ae(Object.assign({},this.props,l));this.state.propsInTransition=p.getViewportProps(),this.props.onViewportChange(this.state.propsInTransition,this.state.interactionState,this.props),u&&(this._endTransition(),this.props.onTransitionEnd())}}]),e}();Object(f.a)(Ze,"defaultProps",He);var Xe=r(182);var Ke={transitionDuration:0},Ye={transitionDuration:300,transitionEasing:function(e){return e},transitionInterpolator:new je,transitionInterruption:Ue},$e=["wheel"],Je=["panstart","panmove","panend"],Qe=["pinchstart","pinchmove","pinchend","pinchcancel"],et=["doubletap"],tt=["keydown"],rt=function(){function e(){var t=this;Object(i.a)(this,e),Object(f.a)(this,"events",[]),Object(f.a)(this,"mapState",void 0),Object(f.a)(this,"onViewportChange",void 0),Object(f.a)(this,"onStateChange",void 0),Object(f.a)(this,"mapStateProps",void 0),Object(f.a)(this,"eventManager",void 0),Object(f.a)(this,"scrollZoom",!0),Object(f.a)(this,"dragPan",!0),Object(f.a)(this,"dragRotate",!0),Object(f.a)(this,"doubleClickZoom",!0),Object(f.a)(this,"touchZoom",!0),Object(f.a)(this,"touchRotate",!1),Object(f.a)(this,"keyboard",!0),Object(f.a)(this,"_state",{isDragging:!1}),Object(f.a)(this,"_events",{}),Object(f.a)(this,"_transitionManager",new Ze),Object(f.a)(this,"setState",(function(e){Object.assign(t._state,e),t.onStateChange&&t.onStateChange(t._state)})),this.handleEvent=this.handleEvent.bind(this),this._onWheelEnd=function(e,t){var r,n,i,a=function(){return i=null,e.apply(r,n)};return function(){r=this,n=arguments,i&&clearTimeout(i),i=setTimeout(a,t)}}(this._onWheelEnd,100)}return Object(l.a)(e,[{key:"handleEvent",value:function(e){switch(this.mapState=this.getMapState(),e.type){case"panstart":return this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchcancel":case"pinchend":return this._onPinchEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"getCenter",value:function(e){var t=e.offsetCenter;return[t.x,t.y]}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"updateViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.mapState?this.mapState.getViewportProps():{},i=Object.assign({},e.getViewportProps(),t),a=Object.keys(i).some((function(e){return n[e]!==i[e]}));a&&this.onViewportChange(i,r,n),this.setState(Object.assign({},e.getInteractiveState(),r))}},{key:"getMapState",value:function(e){return new Ae(Object.assign({},this.mapStateProps,this._state,e))}},{key:"setOptions",value:function(e){var t=e.onViewportChange,r=e.onStateChange,n=e.eventManager,i=void 0===n?this.eventManager:n,a=e.isInteractive,o=void 0===a||a,s=e.scrollZoom,u=void 0===s?this.scrollZoom:s,c=e.dragPan,l=void 0===c?this.dragPan:c,p=e.dragRotate,h=void 0===p?this.dragRotate:p,f=e.doubleClickZoom,d=void 0===f?this.doubleClickZoom:f,m=e.touchZoom,g=void 0===m?this.touchZoom:m,v=e.touchRotate,y=void 0===v?this.touchRotate:v,b=e.keyboard,_=void 0===b?this.keyboard:b;this.onViewportChange=t,this.onStateChange=r,this.mapStateProps&&this.mapStateProps.height===e.height||this.updateViewport(new Ae(e)),this.mapStateProps=e,this._transitionManager.processViewportChange(Object.assign({},e,{onStateChange:this.setState})),this.eventManager!==i&&(this.eventManager=i,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents($e,o&&u),this.toggleEvents(Je,o&&(l||h)),this.toggleEvents(Qe,o&&(g||y)),this.toggleEvents(et,o&&d),this.toggleEvents(tt,o&&_),this.scrollZoom=u,this.dragPan=l,this.dragRotate=h,this.doubleClickZoom=d,this.touchZoom=g,this.touchRotate=y,this.keyboard=_}},{key:"toggleEvents",value:function(e,t){var r=this;this.eventManager&&e.forEach((function(e){r._events[e]!==t&&(r._events[e]=t,t?r.eventManager.on(e,r.handleEvent):r.eventManager.off(e,r.handleEvent))}))}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e),r=this.mapState.panStart({pos:t}).rotateStart({pos:t});return this.updateViewport(r,Ke,{isDragging:!0}),!0}},{key:"_onPan",value:function(e){return this.isFunctionKeyPressed(e)||e.rightButton?this._onPanRotate(e):this._onPanMove(e)}},{key:"_onPanEnd",value:function(e){var t=this.mapState.panEnd().rotateEnd();return this.updateViewport(t,null,{isDragging:!1,isPanning:!1,isRotating:!1}),!0}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e),r=this.mapState.pan({pos:t});return this.updateViewport(r,Ke,{isPanning:!0}),!0}},{key:"_onPanRotate",value:function(e){if(!this.dragRotate)return!1;var t=e.deltaX,r=e.deltaY,n=oe(this.getCenter(e),2)[1],i=n-r,a=this.mapState.getViewportProps(),o=a.width,s=a.height,u=t/o,c=0;r>0?Math.abs(s-i)>5&&(c=r/(i-s)*1.2):r<0&&i>5&&(c=1-n/i),c=Math.min(1,Math.max(-1,c));var l=this.mapState.rotate({deltaScaleX:u,deltaScaleY:c});return this.updateViewport(l,Ke,{isRotating:!0}),!0}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;e.preventDefault();var t=this.getCenter(e),r=e.delta,n=2/(1+Math.exp(-Math.abs(.01*r)));r<0&&0!==n&&(n=1/n);var i=this.mapState.zoom({pos:t,scale:n});return this.updateViewport(i,Ke,{isZooming:!0}),this._onWheelEnd(),!0}},{key:"_onWheelEnd",value:function(){this.setState({isZooming:!1})}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e),r=this.mapState.zoomStart({pos:t}).rotateStart({pos:t});return this._state.startPinchRotation=e.rotation,this.updateViewport(r,Ke,{isDragging:!0}),!0}},{key:"_onPinch",value:function(e){if(!this.touchZoom&&!this.touchRotate)return!1;var t=this.mapState;if(this.touchZoom){var r=e.scale,n=this.getCenter(e);t=t.zoom({pos:n,scale:r})}if(this.touchRotate){var i=e.rotation,a=this._state.startPinchRotation;t=t.rotate({deltaScaleX:-(i-a)/180})}return this.updateViewport(t,Ke,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),!0}},{key:"_onPinchEnd",value:function(e){var t=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(t,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e),r=this.isFunctionKeyPressed(e),n=this.mapState.zoom({pos:t,scale:r?.5:2});return this.updateViewport(n,Object.assign({},Ye,{transitionInterpolator:new je({around:t})})),!0}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t,r=this.isFunctionKeyPressed(e),n=this.mapStateProps;switch(e.srcEvent.keyCode){case 189:t=r?this.getMapState({zoom:n.zoom-2}):this.getMapState({zoom:n.zoom-1});break;case 187:t=r?this.getMapState({zoom:n.zoom+2}):this.getMapState({zoom:n.zoom+1});break;case 37:t=r?this.getMapState({bearing:n.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:t=r?this.getMapState({bearing:n.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:t=r?this.getMapState({pitch:n.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:t=r?this.getMapState({pitch:n.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(t,Ye)}}]),e}(),nt=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"},{old:"mapControls",new:"controller"}];function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};nt.forEach((function(t){if(e.hasOwnProperty(t.old)){var r=(n=t.old,"react-map-gl: `".concat(n,"` is removed."));t.new&&(r="".concat(r," ").concat(function(e){return"Use `".concat(e,"` instead.")}(t.new))),console.warn(r)}var n}))}var at=Object.assign({},Ne.propTypes,{maxZoom:v.a.number,minZoom:v.a.number,maxPitch:v.a.number,minPitch:v.a.number,onViewStateChange:v.a.func,onViewportChange:v.a.func,onInteractionStateChange:v.a.func,transitionDuration:v.a.oneOfType([v.a.number,v.a.string]),transitionInterpolator:v.a.object,transitionInterruption:v.a.number,transitionEasing:v.a.func,onTransitionStart:v.a.func,onTransitionInterrupt:v.a.func,onTransitionEnd:v.a.func,scrollZoom:v.a.bool,dragPan:v.a.bool,dragRotate:v.a.bool,doubleClickZoom:v.a.bool,touchZoom:v.a.bool,touchRotate:v.a.bool,keyboard:v.a.bool,onHover:v.a.func,onClick:v.a.func,onDblClick:v.a.func,onContextMenu:v.a.func,onMouseDown:v.a.func,onMouseMove:v.a.func,onMouseUp:v.a.func,onTouchStart:v.a.func,onTouchMove:v.a.func,onTouchEnd:v.a.func,onMouseEnter:v.a.func,onMouseLeave:v.a.func,onMouseOut:v.a.func,onWheel:v.a.func,touchAction:v.a.string,clickRadius:v.a.number,interactiveLayerIds:v.a.array,getCursor:v.a.func,controller:v.a.instanceOf(rt)}),ot=Object.assign({},Ne.defaultProps,Pe,Ze.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(e){return e.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",clickRadius:0,getCursor:function(e){var t=e.isDragging,r=e.isHovering;return t?"grabbing":r?"pointer":"grab"}}),st=function(e){function t(e){var r;return Object(i.a)(this,t),r=u(this,c(t).call(this,e)),Object(f.a)(s(r),"state",{isLoaded:!1,isDragging:!1,isHovering:!1}),Object(f.a)(s(r),"_controller",void 0),Object(f.a)(s(r),"_eventManager",void 0),Object(f.a)(s(r),"_interactiveContext",void 0),Object(f.a)(s(r),"_width",0),Object(f.a)(s(r),"_height",0),Object(f.a)(s(r),"_eventCanvasRef",Object(d.createRef)()),Object(f.a)(s(r),"_staticMapRef",Object(d.createRef)()),Object(f.a)(s(r),"getMap",(function(){return r._staticMapRef.current?r._staticMapRef.current.getMap():null})),Object(f.a)(s(r),"queryRenderedFeatures",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.getMap();return n&&n.queryRenderedFeatures(e,t)})),Object(f.a)(s(r),"_onInteractionStateChange",(function(e){var t=e.isDragging,n=void 0!==t&&t;n!==r.state.isDragging&&(r._updateInteractiveContext({isDragging:n}),r.setState({isDragging:n}));var i=r.props.onInteractionStateChange;i&&i(e)})),Object(f.a)(s(r),"_onResize",(function(e){var t=e.width,n=e.height;r._width=t,r._height=n,r._setControllerProps(r.props),r.props.onResize({width:t,height:n})})),Object(f.a)(s(r),"_onViewportChange",(function(e,t,n){var i=r.props,a=i.onViewStateChange,o=i.onViewportChange;a&&a({viewState:e,interactionState:t,oldViewState:n}),o&&o(e,t,n)})),Object(f.a)(s(r),"_onLoad",(function(e){r.setState({isLoaded:!0}),r.props.onLoad(e)})),Object(f.a)(s(r),"_onEvent",(function(e,t){var n=r.props[e];n&&n(r._normalizeEvent(t))})),Object(f.a)(s(r),"_onPointerDown",(function(e){switch(e.pointerType){case"touch":r._onEvent("onTouchStart",e);break;default:r._onEvent("onMouseDown",e)}})),Object(f.a)(s(r),"_onPointerUp",(function(e){switch(e.pointerType){case"touch":r._onEvent("onTouchEnd",e);break;default:r._onEvent("onMouseUp",e)}})),Object(f.a)(s(r),"_onPointerMove",(function(e){switch(e.pointerType){case"touch":r._onEvent("onTouchMove",e);break;default:r._onEvent("onMouseMove",e)}if(!r.state.isDragging){var t,n=r.props,i=n.onHover,a=n.interactiveLayerIds;e=r._normalizeEvent(e),r.state.isLoaded&&(a||i)&&(t=r._getFeatures({pos:e.point,radius:r.props.clickRadius})),i&&(e.features=t,i(e));var o=Boolean(a&&t&&t.length>0),s=o&&!r.state.isHovering,u=!o&&r.state.isHovering;s&&r._onEvent("onMouseEnter",e),u&&r._onEvent("onMouseLeave",e),(s||u)&&r.setState({isHovering:o})}})),Object(f.a)(s(r),"_onClick",(function(e){var t=r.props,n=t.onClick,i=t.onNativeClick,a=t.onDblClick,o=t.doubleClickZoom,s=[],u=a||o;switch(e.type){case"anyclick":s.push(i),u||s.push(n);break;case"click":u&&s.push(n)}(s=s.filter(Boolean)).length&&((e=r._normalizeEvent(e)).features=r._getFeatures({pos:e.point,radius:r.props.clickRadius}),s.forEach((function(t){return t(e)})))})),it(e),r._controller=e.controller||new rt,r._eventManager=new Xe.a(null,{touchAction:e.touchAction}),r._updateInteractiveContext({isDragging:!1,eventManager:r._eventManager}),r}return h(t,e),Object(l.a)(t,null,[{key:"supported",value:function(){return Ne.supported()}}]),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this._eventManager,t=this._eventCanvasRef.current;e.setElement(t),e.on({pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerup:this._onPointerUp,pointerleave:this._onEvent.bind(this,"onMouseOut"),click:this._onClick,anyclick:this._onClick,dblclick:this._onEvent.bind(this,"onDblClick"),wheel:this._onEvent.bind(this,"onWheel"),contextmenu:this._onEvent.bind(this,"onContextMenu")}),this._setControllerProps(this.props),this._updateInteractiveContext({mapContainer:t})}},{key:"componentWillUnmount",value:function(){this._eventManager.destroy()}},{key:"_setControllerProps",value:function(e){e=Object.assign({},e,e.viewState,{isInteractive:Boolean(e.onViewStateChange||e.onViewportChange),onViewportChange:this._onViewportChange,onStateChange:this._onInteractionStateChange,eventManager:this._eventManager,width:this._width,height:this._height}),this._controller.setOptions(e);var t=this._interactiveContext;t.onViewportChange=e.onViewportChange,t.onViewStateChange=e.onViewStateChange}},{key:"_getFeatures",value:function(e){var t,r=e.pos,n=e.radius,i={},a=this.getMap();if(this.props.interactiveLayerIds&&(i.layers=this.props.interactiveLayerIds),n){var o=n,s=[[r[0]-o,r[1]+o],[r[0]+o,r[1]-o]];t=a&&a.queryRenderedFeatures(s,i)}else t=a&&a.queryRenderedFeatures(r,i);return t}},{key:"_updateInteractiveContext",value:function(e){this._interactiveContext=Object.assign({},this._interactiveContext,e)}},{key:"_normalizeEvent",value:function(e){if(e.lngLat)return e;var t=e.offsetCenter,r=[t.x,t.y],n=new te(Object.assign({},this.props,{width:this._width,height:this._height}));return e.point=r,e.lngLat=n.unproject(r),e}},{key:"render",value:function(){this._setControllerProps(this.props);var e=this.props,t=e.width,r=e.height,i=e.style,a=e.getCursor,o=Object.assign({position:"relative"},i,{width:t,height:r,cursor:a(this.state)});return m.a.createElement(Me.Provider,{value:this._interactiveContext},m.a.createElement("div",{key:"event-canvas",ref:this._eventCanvasRef,style:o},m.a.createElement(Ne,n({},this.props,{width:"100%",height:"100%",style:null,onResize:this._onResize,onLoad:this._onLoad,ref:this._staticMapRef}),this.props.children)))}}]),t}(d.PureComponent);Object(f.a)(st,"propTypes",at),Object(f.a)(st,"defaultProps",ot);var ut={type:v.a.string.isRequired,id:v.a.string},ct=0,lt=function(e){function t(e){var r;return Object(i.a)(this,t),r=u(this,c(t).call(this,e)),Object(f.a)(s(r),"id",void 0),Object(f.a)(s(r),"type",void 0),Object(f.a)(s(r),"_map",null),Object(f.a)(s(r),"_sourceOptions",{}),Object(f.a)(s(r),"_updateSource",(function(){var e=s(r),t=e.type,n=e._map;if(n){var i=s(r),a=i._sourceOptions,o=i.props;de(!o.id||o.id===r.id,"source id changed"),de(o.type===t,"source type changed");var u=null,c=0;for(var l in o)"children"!==l&&"id"!==l&&a[l]!==o[l]&&(a[l]=o[l],u=l,c++);var p=r.getSource();p?c&&("geojson"===t?p.setData(a.data):"image"===t?p.updateImage({url:a.url,coordinates:a.coordinates}):"canvas"!==t&&"video"!==t||1!==c||"coordinates"!==u?(n.removeSource(r.id),n.addSource(r.id,a)):p.setCoordinates(a.coordinates)):r._createSource(a)}})),r.id=e.id||"jsx-source-".concat(ct++),r.type=e.type,r}return h(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){var e=this,t=this._map;t&&(t.off("styledata",this._updateSource),t.style&&requestAnimationFrame((function(){return t.removeSource(e.id)})))}},{key:"getSource",value:function(){var e=this._map;return e&&e.style&&e.getSource(this.id)}},{key:"_createSource",value:function(e){var t=this._map;t.style&&t.style._loaded&&t.addSource(this.id,e)}},{key:"_render",value:function(e){var t=this;return this._map||(this._map=e.map,this._map.on("styledata",this._updateSource)),this._updateSource(),m.a.Children.map(this.props.children,(function(e){return Object(d.cloneElement)(e,{source:t.id})}))}},{key:"render",value:function(){return m.a.createElement(Me.Consumer,null,this._render.bind(this))}}]),t}(d.PureComponent);function pt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ht(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!ht(e[r],t[r]))return!1;return!0}if(Array.isArray(t))return!1;if("object"===o(e)&&"object"===o(t)){var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0,s=n;a<s.length;a++){var u=s[a];if(!t.hasOwnProperty(u))return!1;if(!ht(e[u],t[u]))return!1}return!0}return!1}Object(f.a)(lt,"propTypes",ut);var ft={type:v.a.string.isRequired,id:v.a.string,source:v.a.string,beforeId:v.a.string};var dt=0,mt=function(e){function t(e){var r;return Object(i.a)(this,t),r=u(this,c(t).call(this,e)),Object(f.a)(s(r),"id",void 0),Object(f.a)(s(r),"type",void 0),Object(f.a)(s(r),"_map",null),Object(f.a)(s(r),"_layerOptions",{}),Object(f.a)(s(r),"_updateLayer",(function(){var e=r._map;if(e){var t=s(r),n=t.props,i=t._layerOptions;if(de(!n.id||n.id===r.id,"layer id changed"),de(n.type===r.type,"layer type changed"),r.getLayer())try{!function(e,t,r,n){var i=r.layout,a=void 0===i?{}:i,o=r.paint,s=void 0===o?{}:o,u=r.filter,c=r.minzoom,l=r.maxzoom,p=r.beforeId,h=pt(r,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(p!==n.beforeId&&e.moveLayer(t,p),a!==n.layout)for(var f in a)ht(a[f],n.layout[f])||e.setLayoutProperty(t,f,a[f]);if(s!==n.paint)for(var d in s)ht(s[d],n.paint[d])||e.setPaintProperty(t,d,s[d]);for(var m in ht(u,n.filter)||e.setFilter(t,u),c===n.minzoom&&l===n.maxzoom||e.setLayerZoomRange(t,c,l),h)ht(h[m],n[m])||e.setLayerProperty(t,m,h[m])}(e,r.id,n,i),Object.assign(i,n)}catch(a){console.warn(a)}else r._createLayer()}})),r.id=e.id||"jsx-layer-".concat(dt++),r.type=e.type,r}return h(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._updateLayer()}},{key:"componentDidUpdate",value:function(){this._updateLayer()}},{key:"componentWillUnmount",value:function(){var e=this._map;e&&(e.off("styledata",this._updateLayer),e.style&&e.removeLayer(this.id))}},{key:"getLayer",value:function(){var e=this._map;return e&&e.style&&e.getLayer(this.id)}},{key:"_createLayer",value:function(){var e=this._map;if(e.style&&e.style._loaded){var t=Object.assign({},this.props);t.id=this.id,delete t.beforeId,e.addLayer(t,this.props.beforeId),this._layerOptions=t}}},{key:"_render",value:function(e){return this._map||(this._map=e.map,this._map.on("styledata",this._updateLayer)),null}},{key:"render",value:function(){return m.a.createElement(Me.Consumer,null,this._render.bind(this))}}]),t}(d.PureComponent);Object(f.a)(mt,"propTypes",ft);var gt={captureScroll:v.a.bool,captureDrag:v.a.bool,captureClick:v.a.bool,captureDoubleClick:v.a.bool},vt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=u(this,(e=c(t)).call.apply(e,[this].concat(a))),Object(f.a)(s(r),"_context",{}),Object(f.a)(s(r),"_events",null),Object(f.a)(s(r),"_containerRef",Object(d.createRef)()),Object(f.a)(s(r),"_onScroll",(function(e){r.props.captureScroll&&e.stopPropagation()})),Object(f.a)(s(r),"_onDragStart",(function(e){r.props.captureDrag&&e.stopPropagation()})),Object(f.a)(s(r),"_onDblClick",(function(e){r.props.captureDoubleClick&&e.stopPropagation()})),Object(f.a)(s(r),"_onClick",(function(e){r.props.captureClick&&e.stopPropagation()})),r}return h(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this._containerRef.current;if(e){var t=this._context.eventManager;t&&(this._events={wheel:this._onScroll,panstart:this._onDragStart,anyclick:this._onClick,click:this._onClick,dblclick:this._onDblClick},t.on(this._events,e))}}},{key:"componentWillUnmount",value:function(){var e=this._context.eventManager;e&&this._events&&e.off(this._events)}},{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){var e=this;return m.a.createElement(Me.Consumer,null,(function(t){return e._context=t,e._render()}))}}]),t}(d.PureComponent);function yt(e,t,r){return(yt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}Object(f.a)(vt,"propTypes",gt),Object(f.a)(vt,"defaultProps",{captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0});var bt=Object.assign({},vt.propTypes,{draggable:v.a.bool,onDrag:v.a.func,onDragEnd:v.a.func,onDragStart:v.a.func,offsetLeft:v.a.number,offsetTop:v.a.number}),_t=Object.assign({},vt.defaultProps,{draggable:!1,offsetLeft:0,offsetTop:0}),xt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=u(this,(e=c(t)).call.apply(e,[this].concat(a))),Object(f.a)(s(r),"state",{dragPos:null,dragOffset:null}),Object(f.a)(s(r),"_dragEvents",null),Object(f.a)(s(r),"_onDragStart",(function(e){var t=r.props,n=t.draggable,i=t.captureDrag;if((n||i)&&e.stopPropagation(),n){var a=r._getDragEventPosition(e),o=r._getDragEventOffset(e);r.setState({dragPos:a,dragOffset:o}),r._setupDragEvents();var s=r.props.onDragStart;if(s&&o){var u=Object.assign({},e);u.lngLat=r._getDragLngLat(a,o),s(u)}}})),Object(f.a)(s(r),"_onDrag",(function(e){e.stopPropagation();var t=r._getDragEventPosition(e);r.setState({dragPos:t});var n=r.props.onDrag,i=r.state.dragOffset;if(n&&i){var a=Object.assign({},e);a.lngLat=r._getDragLngLat(t,i),n(a)}})),Object(f.a)(s(r),"_onDragEnd",(function(e){var t=r.state,n=t.dragPos,i=t.dragOffset;e.stopPropagation(),r.setState({dragPos:null,dragOffset:null}),r._removeDragEvents();var a=r.props.onDragEnd;if(a&&n&&i){var o=Object.assign({},e);o.lngLat=r._getDragLngLat(n,i),a(o)}})),Object(f.a)(s(r),"_onDragCancel",(function(e){e.stopPropagation(),r.setState({dragPos:null,dragOffset:null}),r._removeDragEvents()})),r}return h(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){yt(c(t.prototype),"componentWillUnmount",this).call(this),this._removeDragEvents()}},{key:"_setupDragEvents",value:function(){var e=this._context.eventManager;e&&(this._dragEvents={panmove:this._onDrag,panend:this._onDragEnd,pancancel:this._onDragCancel},e.on(this._dragEvents))}},{key:"_removeDragEvents",value:function(){var e=this._context.eventManager;e&&this._dragEvents&&(e.off(this._dragEvents),this._dragEvents=null)}},{key:"_getDragEventPosition",value:function(e){var t=e.offsetCenter;return[t.x,t.y]}},{key:"_getDragEventOffset",value:function(e){var t=e.center,r=t.x,n=t.y,i=this._containerRef.current;if(i){var a=i.getBoundingClientRect();return[a.left-r,a.top-n]}return null}},{key:"_getDraggedPosition",value:function(e,t){return[e[0]+t[0],e[1]+t[1]]}},{key:"_getDragLngLat",value:function(e,t){var r=this.props,n=r.offsetLeft,i=r.offsetTop,a=oe(this._getDraggedPosition(e,t),2),o=a[0],s=a[1];return this._context.viewport.unproject([o-n,s-i])}}]),t}(vt);Object(f.a)(xt,"propTypes",bt),Object(f.a)(xt,"defaultProps",_t);var wt=Object.assign({},xt.propTypes,{className:v.a.string,longitude:v.a.number.isRequired,latitude:v.a.number.isRequired}),Ot=Object.assign({},xt.defaultProps,{className:""}),kt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=u(this,(e=c(t)).call.apply(e,[this].concat(a))),Object(f.a)(s(r),"_control",null),r}return h(t,e),Object(l.a)(t,[{key:"_getPosition",value:function(){var e=this.props,t=e.longitude,r=e.latitude,n=e.offsetLeft,i=e.offsetTop,a=this.state,o=a.dragPos,s=a.dragOffset;if(o&&s)return this._getDraggedPosition(o,s);var u=oe(this._context.viewport.project([t,r]),2),c=u[0],l=u[1];return[c+=n,l+=i]}},{key:"_render",value:function(){var e=oe(this._getPosition(),2),t=e[0],r=e[1],n="translate(".concat(t,"px, ").concat(r,"px)"),i=this._containerRef.current;if(this._control&&i)i.style.transform=n;else{var a=this.props,o=a.className,s=a.draggable,u=this.state.dragPos,c={position:"absolute",left:0,top:0,transform:n,cursor:s?u?"grabbing":"grab":"auto"};this._control=m.a.createElement("div",{className:"mapboxgl-marker ".concat(o),ref:this._containerRef,style:c},this.props.children)}return this._control}},{key:"render",value:function(){return this._control=null,yt(c(t.prototype),"render",this).call(this)}}]),t}(xt);Object(f.a)(kt,"propTypes",wt),Object(f.a)(kt,"defaultProps",Ot);var Et={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},Tt=Object.keys(Et);var St=Object.assign({},vt.propTypes,{className:v.a.string,longitude:v.a.number.isRequired,latitude:v.a.number.isRequired,altitude:v.a.number,offsetLeft:v.a.number,offsetTop:v.a.number,tipSize:v.a.number,closeButton:v.a.bool,closeOnClick:v.a.bool,anchor:v.a.oneOf(Object.keys(Et)),dynamicPosition:v.a.bool,sortByDepth:v.a.bool,onClose:v.a.func}),jt=Object.assign({},vt.defaultProps,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}}),Pt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=u(this,(e=c(t)).call.apply(e,[this].concat(a))),Object(f.a)(s(r),"_closeOnClick",!1),Object(f.a)(s(r),"_contentRef",Object(d.createRef)()),Object(f.a)(s(r),"_onClick",(function(e){if(r.props.captureClick&&e.stopPropagation(),r.props.closeOnClick||"mapboxgl-popup-close-button"===e.target.className){r.props.onClose();var t=r._context.eventManager;t&&t.once("click",(function(e){return e.stopPropagation()}),e.target)}})),r}return h(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){yt(c(t.prototype),"componentDidMount",this).call(this),this.forceUpdate()}},{key:"_getPosition",value:function(e,t){var r=this._context.viewport,n=this.props,i=n.anchor,a=n.dynamicPosition,o=n.tipSize,s=this._contentRef.current;return s&&a?function(e){var t=e.x,r=e.y,n=e.width,i=e.height,a=e.selfWidth,o=e.selfHeight,s=e.anchor,u=e.padding,c=void 0===u?0:u,l=Et[s],p=l.x,h=l.y,f=r-h*o,d=f+o;if(f<c)for(;f<c&&h>=.5;)h-=.5,f+=.5*o;else if(d>i-c)for(;d>i-c&&h<=.5;)h+=.5,d-=.5*o;var m=t-p*a,g=m+a,v=.5;if(.5===h&&(p=Math.floor(p),v=1),m<c)for(;m<c&&p>=v;)p-=v,m+=v*a;else if(g>n-c)for(;g>n-c&&p<=1-v;)p+=v,g-=v*a;return Tt.find((function(e){var t=Et[e];return t.x===p&&t.y===h}))||s}({x:e,y:t,anchor:i,padding:o,width:r.width,height:r.height,selfWidth:s.clientWidth,selfHeight:s.clientHeight}):i}},{key:"_getContainerStyle",value:function(e,t,r,n){var i=this._context.viewport,a=this.props,o=a.offsetLeft,s=a.offsetTop,u=a.sortByDepth,c=Et[n],l=e+o,p=t+s,h={position:"absolute",transform:"\n        translate(".concat(100*-c.x,"%, ").concat(100*-c.y,"%)\n        translate(").concat(l,"px, ").concat(p,"px)\n      "),display:void 0,zIndex:void 0};return u?(r>1||r<-1||e<0||e>i.width||t<0||t>i.height?h.display="none":h.zIndex=Math.floor((1-r)/2*1e5),h):h}},{key:"_renderTip",value:function(e){var t=this.props.tipSize;return m.a.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:t}})}},{key:"_renderContent",value:function(){var e=this.props,t=e.closeButton,r=e.children,n=this._context.eventManager?null:this._onClick;return m.a.createElement("div",{key:"content",ref:this._contentRef,className:"mapboxgl-popup-content",onClick:n},t&&m.a.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"\xd7"),r)}},{key:"_render",value:function(){var e=this.props,t=e.className,r=e.longitude,n=e.latitude,i=e.altitude,a=oe(this._context.viewport.project([r,n,i]),3),o=a[0],s=a[1],u=a[2],c=this._getPosition(o,s),l=this._getContainerStyle(o,s,u,c);return m.a.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(c," ").concat(t),style:l,ref:this._containerRef},this._renderTip(c),this._renderContent())}}]),t}(vt);Object(f.a)(Pt,"propTypes",St),Object(f.a)(Pt,"defaultProps",jt);var Ct,At=r(74),Mt=Object.assign({},vt.propTypes,{className:v.a.string,container:v.a.object}),It=Object.assign({},vt.defaultProps,{className:"",container:null}),Rt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=u(this,(e=c(t)).call.apply(e,[this].concat(a))),Object(f.a)(s(r),"state",{isFullscreen:!1,showButton:!1}),Object(f.a)(s(r),"_mapboxFullscreenControl",null),Object(f.a)(s(r),"_onFullscreenChange",(function(){var e=!r._mapboxFullscreenControl._fullscreen;r._mapboxFullscreenControl._fullscreen=e,r.setState({isFullscreen:e})})),Object(f.a)(s(r),"_onClickFullscreen",(function(){r._mapboxFullscreenControl._onClickFullscreen()})),r}return h(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.container||this._context.mapContainer;this._mapboxFullscreenControl=new ae.a.FullscreenControl({container:e}),this.setState({showButton:this._mapboxFullscreenControl._checkFullscreenSupport()}),At.a.addEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"componentWillUnmount",value:function(){At.a.removeEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"_renderButton",value:function(e,t,r){return m.a.createElement("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),type:"button",title:t,onClick:r})}},{key:"_render",value:function(){if(!this.state.showButton)return null;var e=this.props.className,t=this.state.isFullscreen?"shrink":"fullscreen";return m.a.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef},this._renderButton(t,"Toggle fullscreen",this._onClickFullscreen))}}]),t}(vt);Object(f.a)(Rt,"propTypes",Mt),Object(f.a)(Rt,"defaultProps",It);var Lt=Object.assign({},Ze.defaultProps,{transitionDuration:500}),zt=function(){},Dt=Object.assign({},vt.propTypes,{className:v.a.string,style:v.a.object,label:v.a.string,positionOptions:v.a.object,fitBoundsOptions:v.a.object,trackUserLocation:v.a.bool,showUserLocation:v.a.bool,onViewStateChange:v.a.func,onViewportChange:v.a.func}),Ft=Object.assign({},vt.defaultProps,{className:"",style:{},label:"Geolocate",positionOptions:null,fitBoundsOptions:null,trackUserLocation:!1,showUserLocation:!0}),Bt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=u(this,(e=c(t)).call.apply(e,[this].concat(a))),Object(f.a)(s(r),"state",{supportsGeolocation:!1,markerPosition:null}),Object(f.a)(s(r),"_mapboxGeolocateControl",null),Object(f.a)(s(r),"_geolocateButtonRef",Object(d.createRef)()),Object(f.a)(s(r),"_setupMapboxGeolocateControl",(function(e){if(e){var t={showUserLocation:!1};["positionOptions","fitBoundsOptions","trackUserLocation"].forEach((function(e){e in r.props&&null!==r.props[e]&&(t[e]=r.props[e])})),r._mapboxGeolocateControl=new ae.a.GeolocateControl(t),r._mapboxGeolocateControl._watchState="OFF",r._mapboxGeolocateControl._geolocateButton=r._geolocateButtonRef.current,r._mapboxGeolocateControl._updateMarker=r._updateMarker,r._mapboxGeolocateControl._updateCamera=r._updateCamera,r._mapboxGeolocateControl._setup=!0}else console.warn("Geolocation support is not available, the GeolocateControl will not be visible.")})),Object(f.a)(s(r),"_onClickGeolocate",(function(){return r._mapboxGeolocateControl._map=r._context.map,r.props.showUserLocation&&(r._mapboxGeolocateControl.on("geolocate",r._updateMarker),r._mapboxGeolocateControl.on("trackuserlocationend",r._updateMarker)),r._mapboxGeolocateControl.trigger()})),Object(f.a)(s(r),"_updateMarker",(function(e){e&&r.setState({markerPosition:e.coords})})),Object(f.a)(s(r),"_getBounds",(function(e){var t=new ae.a.LngLat(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy,n=t.toBounds(r);return[[n._ne.lng,n._ne.lat],[n._sw.lng,n._sw.lat]]})),Object(f.a)(s(r),"_updateCamera",(function(e){var t=r._context.viewport,n=r._getBounds(e),i=new te(t).fitBounds(n),a=i.longitude,o=i.latitude,s=i.zoom,u=Object.assign({},t,{longitude:a,latitude:o,zoom:s}),c=new Ae(u),l=Object.assign({},c.getViewportProps(),Lt),p=r.props.onViewportChange||r._context.onViewportChange||zt;(r.props.onViewStateChange||r._context.onViewStateChange||zt)({viewState:l}),p(l)})),Object(f.a)(s(r),"_renderButton",(function(e,t,n){return m.a.createElement("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),ref:r._geolocateButtonRef,type:"button",title:t,onClick:n})})),Object(f.a)(s(r),"_renderMarker",(function(){var e=r.state.markerPosition,t=r.props.showUserLocation;return e&&t?m.a.createElement(kt,{key:"location-maker",className:"mapboxgl-user-location-dot",longitude:e.longitude,latitude:e.latitude,onContextMenu:function(e){return e.preventDefault()},captureDrag:!1,captureDoubleClick:!1}):null})),r}return h(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;(void 0!==Ct?Promise.resolve(Ct):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(e){return Ct="denied"!==e.state})):(Ct=Boolean(window.navigator.geolocation),Promise.resolve(Ct))).then((function(t){e.setState({supportsGeolocation:t}),e._setupMapboxGeolocateControl(t)}))}},{key:"componentWillUnmount",value:function(){if(this._mapboxGeolocateControl){var e=this._mapboxGeolocateControl._geolocationWatchID;void 0!==e&&(window.navigator.geolocation.clearWatch(e),this._mapboxGeolocateControl._geolocationWatchID=void 0)}}},{key:"_render",value:function(){if(!this.state.supportsGeolocation)return null;var e=this.props,t=e.className,r=e.style,n=e.label;return m.a.createElement("div",null,this._renderMarker(),m.a.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(t),ref:this._containerRef,style:r,onContextMenu:function(e){return e.preventDefault()}},this._renderButton("geolocate",n,this._onClickGeolocate)))}}]),t}(vt);Object(f.a)(Bt,"propTypes",Dt),Object(f.a)(Bt,"defaultProps",Ft);var Nt=function(){},qt=Object.assign({},vt.propTypes,{className:v.a.string,onViewStateChange:v.a.func,onViewportChange:v.a.func,showCompass:v.a.bool,showZoom:v.a.bool,zoomInLabel:v.a.string,zoomOutLabel:v.a.string,compassLabel:v.a.string}),Ut=Object.assign({},vt.defaultProps,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"}),Vt=function(e){function t(e){var r;return Object(i.a)(this,t),r=u(this,c(t).call(this,e)),Object(f.a)(s(r),"_onZoomIn",(function(){r._updateViewport({zoom:r._context.viewport.zoom+1})})),Object(f.a)(s(r),"_onZoomOut",(function(){r._updateViewport({zoom:r._context.viewport.zoom-1})})),Object(f.a)(s(r),"_onResetNorth",(function(){r._updateViewport({bearing:0,pitch:0})})),it(e),r}return h(t,e),Object(l.a)(t,[{key:"_updateViewport",value:function(e){var t=this._context.viewport,r=new Ae(Object.assign({},t,e)),n=Object.assign({},r.getViewportProps(),Ye),i=this.props.onViewportChange||this._context.onViewportChange||Nt;(this.props.onViewStateChange||this._context.onViewStateChange||Nt)({viewState:n}),i(n)}},{key:"_renderCompass",value:function(){var e=this._context.viewport.bearing;return m.a.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:{transform:"rotate(".concat(-e,"deg)")}})}},{key:"_renderButton",value:function(e,t,r,n){return m.a.createElement("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),type:"button",title:t,onClick:r},n)}},{key:"_render",value:function(){var e=this.props,t=e.className,r=e.showCompass,n=e.showZoom,i=e.zoomInLabel,a=e.zoomOutLabel,o=e.compassLabel;return m.a.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(t),ref:this._containerRef},n&&this._renderButton("zoom-in",i,this._onZoomIn),n&&this._renderButton("zoom-out",a,this._onZoomOut),r&&this._renderButton("compass",o,this._onResetNorth,this._renderCompass()))}}]),t}(vt);Object(f.a)(Vt,"propTypes",qt),Object(f.a)(Vt,"defaultProps",Ut);var Gt=Object.assign({},vt.propTypes,{redraw:v.a.func.isRequired}),Wt=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=u(this,(e=c(t)).call.apply(e,[this].concat(a))),Object(f.a)(s(r),"_canvas",void 0),Object(f.a)(s(r),"_ctx",void 0),Object(f.a)(s(r),"_redraw",(function(){var e=r._ctx;if(e){var t=At.b.devicePixelRatio||1;e.save(),e.scale(t,t);var n=r._context,i=n.viewport,a=n.isDragging;r.props.redraw({width:i.width,height:i.height,ctx:e,isDragging:a,project:i.project.bind(i),unproject:i.unproject.bind(i)}),e.restore()}})),r}return h(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this._containerRef.current;e&&(this._canvas=e,this._ctx=e.getContext("2d")),this._redraw()}},{key:"_render",value:function(){var e=At.b.devicePixelRatio||1,t=this._context.viewport,r=t.width,n=t.height;return this._redraw(),m.a.createElement("canvas",{ref:this._containerRef,width:r*e,height:n*e,style:{width:"".concat(r,"px"),height:"".concat(n,"px"),position:"absolute",left:0,top:0}})}}]),t}(vt);Object(f.a)(Wt,"propTypes",Gt),Object(f.a)(Wt,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1});var Ht=Object.assign({},vt.propTypes,{redraw:v.a.func.isRequired,style:v.a.object}),Zt=function(e){function t(){return Object(i.a)(this,t),u(this,c(t).apply(this,arguments))}return h(t,e),Object(l.a)(t,[{key:"_render",value:function(){var e=this._context,t=e.viewport,r=e.isDragging,n=Object.assign({position:"absolute",left:0,top:0,width:t.width,height:t.height},this.props.style);return m.a.createElement("div",{ref:this._containerRef,style:n},this.props.redraw({width:t.width,height:t.height,isDragging:r,project:t.project.bind(t),unproject:t.unproject.bind(t)}))}}]),t}(vt);Object(f.a)(Zt,"propTypes",Ht),Object(f.a)(Zt,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1});var Xt=Object.assign({},vt.propTypes,{redraw:v.a.func.isRequired,style:v.a.object}),Kt=function(e){function t(){return Object(i.a)(this,t),u(this,c(t).apply(this,arguments))}return h(t,e),Object(l.a)(t,[{key:"_render",value:function(){var e=this._context,t=e.viewport,r=e.isDragging,n=Object.assign({position:"absolute",left:0,top:0},this.props.style);return m.a.createElement("svg",{width:t.width,height:t.height,ref:this._containerRef,style:n},this.props.redraw({width:t.width,height:t.height,isDragging:r,project:t.project.bind(t),unproject:t.unproject.bind(t)}))}}]),t}(vt);Object(f.a)(Kt,"propTypes",Xt),Object(f.a)(Kt,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1}),r.d(t,"a",(function(){return Ne}))},function(e,t,r){"use strict";var n=r(62),i=r(55),a=r(183),o=r(139),s=r(100);function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){switch(t){case 300:return r?function(e){return e.replace(/attribute\s+/g,"in ").replace(/varying\s+/g,"out ").replace(/texture2D\(/g,"texture(").replace(/textureCube\(+/g,"texture(").replace(/texture2DLodEXT\(/g,"textureLod(").replace(/textureCubeLodEXT\(/g,"textureLod(")}(e):function(e){return e.replace(/varying\s+/g,"in ").replace(/texture2D\(/g,"texture(").replace(/textureCube\(/g,"texture(").replace(/texture2DLodEXT\(/g,"textureLod(").replace(/textureCubeLodEXT\(/g,"textureLod(")}(e);case 100:return r?function(e){return e.replace(/^in\s+/gm,"attribute ").replace(/^out\s+/gm,"varying ").replace(/texture\(/g,"texture2D(")}(e):function(e){return e.replace(/^in\s+/gm,"varying ").replace(/texture\(/g,"texture2D(")}(e);default:throw new Error("unknown GLSL version ".concat(t))}}var l=r(188);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return(h="function"===typeof Symbol&&"symbol"===p(Symbol.iterator)?function(e){return p(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":p(e)})(e)}var f={number:{validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},array:{validate:function(e,t){return Array.isArray(e)||ArrayBuffer.isView(e)}}};function d(e){var t=m(e);return"object"===t?e?"type"in e?Object.assign({},e,f[e.type]):"value"in e?(t=m(e.value),Object.assign({type:t},e,f[t])):{type:"object",value:e}:{type:"object",value:null}:Object.assign({type:t,value:e},f[t])}function m(e){return Array.isArray(e)||ArrayBuffer.isView(e)?"array":h(e)}var g=function(){function e(t){var r=t.name,n=t.vs,i=t.fs,a=t.dependencies,o=void 0===a?[]:a,s=t.uniforms,u=t.getUniforms,c=t.deprecations,p=void 0===c?[]:c,h=t.defines,f=void 0===h?{}:h,m=t.inject,g=void 0===m?{}:m,v=t.vertexShader,y=t.fragmentShader;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(l.a)("string"===typeof r),this.name=r,this.vs=n||v,this.fs=i||y,this.getModuleUniforms=u,this.dependencies=o,this.deprecations=this._parseDeprecationDefinitions(p),this.defines=f,this.injections=function(e){var t={vs:{},fs:{}};for(var r in e){var n=e[r],i=r.slice(0,2);"string"===typeof n&&(n={injection:n}),t[i][r]=n}return t}(g),s&&(this.uniforms=function(e){var t={};for(var r in e){var n=d(e[r]);t[r]=n}return t}(s))}var t,r,n;return t=e,(r=[{key:"getModuleSource",value:function(e,t){var r;switch(e){case"vs":r=c(this.vs||"",t,!0);break;case"fs":r=c(this.fs||"",t,!1);break;default:Object(l.a)(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(r,"// END MODULE_").concat(this.name,"\n\n")}},{key:"getUniforms",value:function(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}}},{key:"getDefines",value:function(){return this.defines}},{key:"checkDeprecations",value:function(e,t){this.deprecations.forEach((function(r){r.regex.test(e)&&(r.deprecated?t.deprecated(r.old,r.new)():t.removed(r.old,r.new)())}))}},{key:"_parseDeprecationDefinitions",value:function(e){return e.forEach((function(e){switch(e.type){case"function":e.regex=new RegExp("\\b".concat(e.old,"\\("));break;default:e.regex=new RegExp("".concat(e.type," ").concat(e.old,";"))}})),e}},{key:"_defaultGetUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},r=this.uniforms;for(var n in r){var i=r[n];n in e&&!i.private?(i.validate&&Object(l.a)(i.validate(e[n],i),"".concat(this.name,": invalid ").concat(n)),t[n]=e[n]):t[n]=i.value}return t}}])&&u(t.prototype,r),n&&u(t,n),e}();function v(e){return y(function e(t,r){return t.map((function(t){return t instanceof g?t:(Object(l.a)("string"!==typeof t,"Shader module use by name is deprecated. Import shader module '".concat(t,"' and use it directly.")),Object(l.a)(t.name,"shader module has no name"),(t=new g(t)).dependencies=e(t.dependencies),t)}))}(e))}function y(e){var t={},r={};return b({modules:e,level:0,moduleMap:t,moduleDepth:r}),Object.keys(r).sort((function(e,t){return r[t]-r[e]})).map((function(e){return t[e]}))}function b(e){var t=e.modules,r=e.level,n=e.moduleMap,i=e.moduleDepth;if(r>=5)throw new Error("Possible loop in shader dependency graph");var a=!0,o=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;n[l.name]=l,(void 0===i[l.name]||i[l.name]<r)&&(i[l.name]=r)}}catch(v){o=!0,s=v}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}var p=!0,h=!1,f=void 0;try{for(var d,m=t[Symbol.iterator]();!(p=(d=m.next()).done);p=!0){var g=d.value;g.dependencies&&b({modules:g.dependencies,level:r+1,moduleMap:n,moduleDepth:i})}}catch(v){h=!0,f=v}finally{try{p||null==m.return||m.return()}finally{if(h)throw f}}}var _=7936,x=7937,w=7938,O=35724,k={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},E={};Object.keys(k).forEach((function(e){E[e]=e}));var T={};function S(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=k[t];if(Object(l.a)(n,t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="undefined"!==typeof window&&window.navigator||{},r=e.userAgent||t.userAgent||"",n=-1!==r.indexOf("MSIE "),i=-1!==r.indexOf("Trident/");return n||i}(r))return!0;if(t in T)return T[t];var i=n[0],a=r.behavior||"enable",o="#extension GL_".concat(i," : ").concat(a,"\nvoid main(void) {}"),s=e.createShader(35633);e.shaderSource(s,o),e.compileShader(s);var u=e.getShaderParameter(s,35713);return e.deleteShader(s),T[t]=u,u}function j(e,t){var r=k[t];Object(l.a)(r,t);var n=function(e){return Boolean(e&&2===e._version)}(e)&&r[1]||r[0],i="string"===typeof n?Boolean(e.getExtension(n)):n;return Object(l.a)(!1===i||!0===i),i}function P(e,t){return(t=Array.isArray(t)?t:[t]).every((function(t){return j(e,t)}))}function C(e){switch(function(e){var t=e.getExtension("WEBGL_debug_renderer_info"),r=e.getParameter(t&&t.UNMASKED_VENDOR_WEBGL||_),n=e.getParameter(t&&t.UNMASKED_RENDERER_WEBGL||x);return{gpuVendor:function(e,t){if(e.match(/NVIDIA/i)||t.match(/NVIDIA/i))return"NVIDIA";if(e.match(/INTEL/i)||t.match(/INTEL/i))return"INTEL";if(e.match(/AMD/i)||t.match(/AMD/i)||e.match(/ATI/i)||t.match(/ATI/i))return"AMD";return"UNKNOWN GPU"}(r,n),vendor:r,renderer:n,version:e.getParameter(w),shadingLanguageVersion:e.getParameter(O)}}(e).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}var A,M=r(206),I="\n\n".concat(M.a,"\n\n"),R=(A={},Object(o.a)(A,s.b,"vertex"),Object(o.a)(A,s.a,"fragment"),A),L="precision highp float;\n\n";function z(e,t){var r=t.vs,n=t.fs,i=v(t.modules||[]);return{gl:e,vs:D(e,Object.assign({},t,{source:r,type:s.b,modules:i})),fs:D(e,Object.assign({},t,{source:n,type:s.a,modules:i})),getUniforms:F(i)}}function D(e,t){var r=t.id,n=t.source,i=t.type,o=t.modules,u=t.defines,c=void 0===u?{}:u,p=t.hookFunctions,h=void 0===p?[]:p,f=t.inject,d=void 0===f?{}:f,m=t.prologue,g=void 0===m||m,v=t.log;Object(l.a)("string"===typeof n,"shader source must be a string");var y=i===s.b,b=n.split("\n"),_=100,x="",w=n;0===b[0].indexOf("#version ")?(_=300,x=b[0],w=b.slice(1).join("\n")):x="#version ".concat(_);var O={};o.forEach((function(e){Object.assign(O,e.getDefines())})),Object.assign(O,c);var k=g?"".concat(x,"\n").concat(function(e){var t=e.id,r=e.source,n=e.type;return t&&"string"===typeof t&&-1===r.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(t,"_").concat(R[n],"\n\n"):""}({id:r,source:n,type:i}),"\n").concat(function(e){var t=e.type;return"\n#define SHADER_TYPE_".concat(R[t].toUpperCase(),"\n")}({type:i}),"\n").concat(C(e),"\n").concat(function(e,t,r){var n="#if (__VERSION__ > 120)\n\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return P(e,E.GLSL_FRAG_DEPTH)&&(n+="// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),P(e,E.GLSL_DERIVATIVES)&&S(e,E.GLSL_DERIVATIVES)&&(n+="// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define DERIVATIVES\n#endif\n"),P(e,E.GLSL_FRAG_DATA)&&S(e,E.GLSL_FRAG_DATA,{behavior:"require"})&&(n+="// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define DRAW_BUFFERS\n#endif\n"),P(e,E.GLSL_TEXTURE_LOD)&&(n+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n# define TEXTURE_LOD\n#define texture2DLod texture2DLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define textureCubeLod textureCubeLodEXT\n#define texture2DGrad texture2DGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define textureCubeGrad textureCubeGradEXT\n#endif\n"),n}(e),"\n").concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,r="";for(var n in e){0===t&&(r+="\n// APPLICATION DEFINES\n"),t++;var i=e[n];(i||Number.isFinite(i))&&(r+="#define ".concat(n.toUpperCase()," ").concat(e[n],"\n"))}0===t&&(r+="\n");return r}(O),"\n").concat(y?"":L,"\n"):"".concat(x,"\n");h=function(e){var t={vs:{},fs:{}};return e.forEach((function(e){var r;"string"!==typeof e?e=(r=e).hook:r={};var n=(e=e.trim()).split(":"),i=Object(a.a)(n,2),o=i[0],s=i[1],u=e.replace(/\(.+/,"");t[o][u]=Object.assign(r,{signature:s})})),t}(h);var T={},j={};for(var A in d){var z="string"===typeof d[A]?{injection:d[A],order:0}:d[A];A.match(/^(v|f)s:/)?"#"===A[3]?j[A]=[z]:T[A]=[z]:j[A]=[z]}var D=!0,F=!1,B=void 0;try{for(var N,q=o[Symbol.iterator]();!(D=(N=q.next()).done);D=!0){var U=N.value;v&&U.checkDeprecations(w,v),k+=U.getModuleSource(i,_);var V=U.injections[i];for(var G in V)G.match(/^(v|f)s:#/)?(j[G]=j[G]||[],j[G].push(V[G])):(T[G]=T[G]||[],T[G].push(V[G]))}}catch(W){F=!0,B=W}finally{try{D||null==q.return||q.return()}finally{if(F)throw B}}return k+=I,k+=function(e,t){var r="";for(var n in e){var i=e[n];if(r+="void ".concat(i.signature," {\n"),i.header&&(r+="  ".concat(i.header)),t[n]){var a=t[n];a.sort((function(e,t){return e.order-t.order}));var o=!0,s=!1,u=void 0;try{for(var c,l=a[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var p=c.value;r+="  ".concat(p.injection,"\n")}}catch(W){s=!0,u=W}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}}i.footer&&(r+="  ".concat(i.footer)),r+="}\n"}return r}(h[i],T),k+=w,k=Object(M.c)(k,i,j)}function F(e){return function(t){var r={},n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value.getUniforms(t,r);Object.assign(r,u)}}catch(c){i=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}var B=r(435);r.d(t,"a",(function(){return N}));var N=function(){function e(t){Object(n.a)(this,e),this.gl=t,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}return Object(i.a)(e,null,[{key:"getDefaultProgramManager",value:function(t){return t.luma=t.luma||{},t.luma.defaultProgramManager=t.luma.defaultProgramManager||new e(t),t.luma.defaultProgramManager}}]),Object(i.a)(e,[{key:"addDefaultModule",value:function(e){this._defaultModules.find((function(t){return t.name===e.name}))||this._defaultModules.push(e),this.stateHash++}},{key:"removeDefaultModule",value:function(e){var t="string"===typeof e?e:e.name;this._defaultModules=this._defaultModules.filter((function(e){return e.name!==t})),this.stateHash++}},{key:"addShaderHook",value:function(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++}},{key:"get",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.vs,n=void 0===r?"":r,i=t.fs,a=void 0===i?"":i,o=t.defines,s=void 0===o?{}:o,u=t.inject,c=void 0===u?{}:u,l=t.varyings,p=void 0===l?[]:l,h=t.bufferMode,f=void 0===h?35981:h,d=this._getModuleList(t.modules),m=this._getHash(n),g=this._getHash(a),v=d.map((function(t){return e._getHash(t.name)})).sort(),y=p.map((function(t){return e._getHash(t)})),b=Object.keys(s).sort(),_=Object.keys(c).sort(),x=[],w=[],O=!0,k=!1,E=void 0;try{for(var T,S=b[Symbol.iterator]();!(O=(T=S.next()).done);O=!0){var j=T.value;x.push(this._getHash(j)),x.push(this._getHash(s[j]))}}catch(F){k=!0,E=F}finally{try{O||null==S.return||S.return()}finally{if(k)throw E}}var P=!0,C=!1,A=void 0;try{for(var M,I=_[Symbol.iterator]();!(P=(M=I.next()).done);P=!0){var R=M.value;w.push(this._getHash(R)),w.push(this._getHash(c[R]))}}catch(F){C=!0,A=F}finally{try{P||null==I.return||I.return()}finally{if(C)throw A}}var L="".concat(m,"/").concat(g,"D").concat(x.join("/"),"M").concat(v.join("/"),"I").concat(w.join("/"),"V").concat(y.join("/"),"H").concat(this.stateHash,"B").concat(f);if(!this._programCache[L]){var D=z(this.gl,{vs:n,fs:a,modules:d,inject:c,defines:s,hookFunctions:this._hookFunctions});this._programCache[L]=new B.a(this.gl,{hash:L,vs:D.vs,fs:D.fs,varyings:p,bufferMode:f}),this._getUniforms[L]=D.getUniforms||function(e){},this._useCounts[L]=0}return this._useCounts[L]++,this._programCache[L]}},{key:"getUniforms",value:function(e){return this._getUniforms[e.hash]||null}},{key:"release",value:function(e){var t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t].delete(),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])}},{key:"_getHash",value:function(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}},{key:"_getModuleList",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Array(this._defaultModules.length+e.length),r={},n=0,i=0,a=this._defaultModules.length;i<a;++i){var o=this._defaultModules[i],s=o.name;t[n++]=o,r[s]=!0}for(var u=0,c=e.length;u<c;++u){var l=e[u],p=l.name;r[p]||(t[n++]=l,r[p]=!0)}return t.length=n,t}}]),e}()},function(e,t,r){"use strict";var n=r(65),i=r(62),a=r(55),o=r(9),s=r(260),u=r(143),c=r(29),l=r(199),p=r(435),h=r(30),f=r(21),d=r(82),m=r(53),g=r(41),v=r(50),y=r(35),b=r(137),_=r(40),x=r(56),w=null;function O(e,t){var r;return new e((r=e.BYTES_PER_ELEMENT*t,(!w||w.byteLength<r)&&(w=new ArrayBuffer(r)),w),0,t)}var k=r(76),E=r(176),T=r(177);function S(e){if(!e&&!Object(E.a)())return"Node";if(Object(T.a)(e))return"Electron";var t="undefined"!==typeof navigator?navigator:{},r=e||t.userAgent||"";if(r.indexOf("Edge")>-1)return"Edge";var n=-1!==r.indexOf("MSIE "),i=-1!==r.indexOf("Trident/");return n||i?"IE":k.b.chrome?"Chrome":k.b.safari?"Safari":k.b.mozInnerScreenX?"Firefox":"Unknown"}var j="elements must be GL.ELEMENT_ARRAY_BUFFER",P=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(h.a)(this,t);var i=n.id||n.program&&n.program.id;return(r=Object(g.a)(this,Object(y.a)(t).call(this,e,Object.assign({},n,{id:i})))).hasVertexArrays=t.isSupported(e),r.buffer=null,r.bufferValue=null,r.initialize(n),Object.seal(Object(v.a)(r)),r}return Object(_.a)(t,e),Object(f.a)(t,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.constantAttributeZero?Object(o.g)(e)||"Chrome"===S():Object(o.g)(e)||e.getExtension("OES_vertex_array_object")}},{key:"getDefaultArray",value:function(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new t(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}},{key:"getMaxAttributes",value:function(e){return t.MAX_ATTRIBUTES=t.MAX_ATTRIBUTES||e.getParameter(34921),t.MAX_ATTRIBUTES}},{key:"setConstant",value:function(e,r,n){switch(n.constructor){case Float32Array:t._setConstantFloatArray(e,r,n);break;case Int32Array:t._setConstantIntArray(e,r,n);break;case Uint32Array:t._setConstantUintArray(e,r,n);break;default:Object(c.a)(!1)}}}]),Object(f.a)(t,[{key:"delete",value:function(){Object(b.a)(Object(y.a)(t.prototype),"delete",this).call(this),this.buffer&&this.buffer.delete()}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(e)}},{key:"setProps",value:function(e){return this}},{key:"setElementBuffer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(c.a)(!t||34963===t.target,j),this.bind((function(){e.gl.bindBuffer(34963,t?t.handle:null)})),this}},{key:"setBuffer",value:function(e,t,r){if(34963===t.target)return this.setElementBuffer(t,r);var n=r.size,i=r.type,a=r.stride,s=r.offset,u=r.normalized,l=r.integer,p=r.divisor,h=this.gl;return e=Number(e),this.bind((function(){h.bindBuffer(34962,t.handle),l?(Object(c.a)(Object(o.g)(h)),h.vertexAttribIPointer(e,n,i,a,s)):h.vertexAttribPointer(e,n,i,u,a,s),h.enableVertexAttribArray(e),h.vertexAttribDivisor(e,p||0)})),this}},{key:"enable",value:function(e){var r=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!n&&0===e&&!t.isSupported(this.gl,{constantAttributeZero:!0});return i||(e=Number(e),this.bind((function(){return n?r.gl.enableVertexAttribArray(e):r.gl.disableVertexAttribArray(e)}))),this}},{key:"getConstantBuffer",value:function(e,t,r){var n=this._normalizeConstantArrayValue(t,r),i=n.byteLength*e,a=n.length*e,o=!this.buffer;if(this.buffer=this.buffer||new m.a(this.gl,i),o=(o=o||this.buffer.reallocate(i))||!this._compareConstantArrayValues(n,this.bufferValue)){var s=O(t.constructor,a);!function(e){for(var t=e.target,r=e.source,n=e.start,i=void 0===n?0:n,a=e.count,o=void 0===a?1:a,s=r.length,u=o*s,c=0,l=i;c<s;c++)t[l++]=r[c];for(;c<u;)c<u-c?(t.copyWithin(i+c,i,i+c),c*=2):(t.copyWithin(i+c,i,i+u-c),c=u)}({target:s,source:n,start:0,count:a}),this.buffer.subData(s),this.bufferValue=t}return this.buffer}},{key:"_normalizeConstantArrayValue",value:function(e,t){return Array.isArray(e)?new Float32Array(e):e}},{key:"_compareConstantArrayValues",value:function(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}},{key:"_createHandle",value:function(){return this.hasVertexArrays=t.isSupported(this.gl),this.hasVertexArrays?this.gl.createVertexArray():null}},{key:"_deleteHandle",value:function(e){return this.hasVertexArrays&&this.gl.deleteVertexArray(e),[this.elements]}},{key:"_bindHandle",value:function(e){this.hasVertexArrays&&this.gl.bindVertexArray(e)}},{key:"_getParameter",value:function(e,t){var r=this,n=t.location;return Object(c.a)(Number.isFinite(n)),this.bind((function(){switch(e){case 34373:return r.gl.getVertexAttribOffset(n,e);default:return r.gl.getVertexAttrib(n,e)}}))}},{key:"MAX_ATTRIBUTES",get:function(){return t.getMaxAttributes(this.gl)}}],[{key:"_setConstantFloatArray",value:function(e,t,r){switch(r.length){case 1:e.vertexAttrib1fv(t,r);break;case 2:e.vertexAttrib2fv(t,r);break;case 3:e.vertexAttrib3fv(t,r);break;case 4:e.vertexAttrib4fv(t,r);break;default:Object(c.a)(!1)}}},{key:"_setConstantIntArray",value:function(e,t,r){switch(Object(c.a)(Object(o.g)(e)),r.length){case 1:e.vertexAttribI1iv(t,r);break;case 2:e.vertexAttribI2iv(t,r);break;case 3:e.vertexAttribI3iv(t,r);break;case 4:e.vertexAttribI4iv(t,r);break;default:Object(c.a)(!1)}}},{key:"_setConstantUintArray",value:function(e,t,r){switch(Object(c.a)(Object(o.g)(e)),r.length){case 1:e.vertexAttribI1uiv(t,r);break;case 2:e.vertexAttribI2uiv(t,r);break;case 3:e.vertexAttribI3uiv(t,r);break;case 4:e.vertexAttribI4uiv(t,r);break;default:Object(c.a)(!1)}}}]),t}(x.a),C=r(370),A=/^(.+)__LOCATION_([0-9]+)$/,M=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"],I=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(h.a)(this,e);var n=r.id||r.program&&r.program.id;this.id=n,this.gl=t,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=P.isSupported(t)?new P(t):P.getDefaultArray(t),Object(C.a)(this,"VertexArray","v6.0",M),this.initialize(r),Object.seal(this)}return Object(f.a)(e,[{key:"delete",value:function(){this.buffer&&this.buffer.delete()}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}},{key:"reset",value:function(){this.elements=null,this.elementsAccessor=null;var e=this.vertexArrayObject.MAX_ATTRIBUTES;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}},{key:"setProps",value:function(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}},{key:"clearDrawParams",value:function(){this.drawParams=null}},{key:"getDrawParams",value:function(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}},{key:"setAttributes",value:function(e){var t=this;return Object.assign(this.attributes,e),this.vertexArrayObject.bind((function(){for(var r in e){var n=e[r];t._setAttribute(r,n)}t.gl.bindBuffer(34962,null)})),this}},{key:"setElementBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.isDefaultArray||this.vertexArrayObject.setElementBuffer(e,t),this}},{key:"setBuffer",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===t.target)return this.setElementBuffer(t,r);var n=this._resolveLocationAndAccessor(e,t,t.accessor,r),i=n.location,a=n.accessor;return i>=0&&(this.values[i]=t,this.accessors[i]=a,this.clearDrawParams(),this.vertexArrayObject.isDefaultArray||this.vertexArrayObject.setBuffer(i,t,a)),this}},{key:"setConstant",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},r)),i=n.location,a=n.accessor;return i>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t,a),this.values[i]=t,this.accessors[i]=a,this.clearDrawParams(),this.vertexArrayObject.isDefaultArray||this.vertexArrayObject.enable(i,!1)),this}},{key:"unbindBuffers",value:function(){var e=this;return this.vertexArrayObject.bind((function(){e.elements&&(e.vertexArrayObject.isDefaultArray||e.vertexArrayObject.setElementBuffer(null)),e.buffer=e.buffer||new m.a(e.gl,{accessor:{size:4}});for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++)e.values[t]instanceof m.a&&(e.gl.disableVertexAttribArray(t),e.gl.bindBuffer(34962,e.buffer.handle),e.gl.vertexAttribPointer(t,1,5126,!1,0,0))})),this}},{key:"bindBuffers",value:function(){var e=this;return this.vertexArrayObject.bind((function(){e.elements&&e.setElementBuffer(e.elements);for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++){var r=e.values[t];r instanceof m.a&&e.setBuffer(t,r)}})),this}},{key:"bindForDraw",value:function(e,t,r){var n,i=this;return this.vertexArrayObject.bind((function(){i._setConstantAttributes(e,t),i.vertexArrayObject.hasVertexArrays||i.bindBuffers(),n=r(),i.vertexArrayObject.hasVertexArrays||i.unbindBuffers()})),n}},{key:"_resolveLocationAndAccessor",value:function(e,t,r,n){var i=this,a=this._getAttributeIndex(e),s=a.location,u=a.name;if(!Number.isFinite(s)||s<0)return this.unused[e]=t,o.h.once(3,(function(){return"unused value ".concat(e," in ").concat(i.id)}))(),this;var l=this._getAttributeInfo(u||s);if(!l)return{location:-1,accessor:null};var p=this.accessors[s]||{},h=d.a.resolve(l.accessor,p,r,n),f=h.size,m=h.type;return Object(c.a)(Number.isFinite(f)&&Number.isFinite(m)),{location:s,accessor:h}}},{key:"_getAttributeInfo",value:function(e){return this.configuration&&this.configuration.getAttributeInfo(e)}},{key:"_getAttributeIndex",value:function(e){var t=Number(e);if(Number.isFinite(t))return{location:t};var r=A.exec(e),n=r?r[1]:e,i=r?Number(r[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(n)+i,name:n}:{location:-1}}},{key:"_setAttribute",value:function(e,t){if(t instanceof m.a)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof m.a){var r=t[0],n=t[1];this.setBuffer(e,r,n)}else if(ArrayBuffer.isView(t)||Array.isArray(t)){var i=t;this.setConstant(e,i)}else{if(!(t.buffer instanceof m.a))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");var a=t;this.setBuffer(e,a.buffer,a)}}},{key:"_setConstantAttributes",value:function(e,t){var r=Math.max(0|e,0|t),n=this.values[0];ArrayBuffer.isView(n)&&this._setConstantAttributeZero(n,r);for(var i=1;i<this.vertexArrayObject.MAX_ATTRIBUTES;i++)n=this.values[i],ArrayBuffer.isView(n)&&this._setConstantAttribute(i,n)}},{key:"_setConstantAttributeZero",value:function(e,t){if(P.isSupported(this.gl,{constantAttributeZero:!0}))this._setConstantAttribute(0,e);else{var r=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,r,this.accessors[0])}}},{key:"_setConstantAttribute",value:function(e,t){P.setConstant(this.gl,e,t),this.vertexArrayObject.isDefaultArray&&this.vertexArrayObject.enable(e,!1)}},{key:"_updateDrawParams",value:function(){for(var e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0},t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}},{key:"_updateDrawParamsForLocation",value:function(e,t){var r=this.values[t],n=this.accessors[t];if(r){var i=n.divisor>0;if(e.isInstanced=e.isInstanced||i,r instanceof m.a){var a=r;if(i){var o=a.getVertexCount(n);e.instanceCount=Math.min(e.instanceCount,o)}else{var s=a.getVertexCount(n);e.vertexCount=Math.min(e.vertexCount,s)}}}}},{key:"setElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.h.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)}}]),e}(),R=r(409),L=r(4),z=r(118),D=r(103);function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.isInteger,n=void 0!==r&&r;if(Array.isArray(e)||ArrayBuffer.isView(e))return function(e,t){for(var r=t.maxElts,n=void 0===r?16:r,i=t.size,a=void 0===i?1:i,o="[",s=0;s<e.length&&s<n;++s)s>0&&(o+=",".concat(s%a===0?" ":"")),o+=F(e[s],t);var u=e.length>n?"...":"]";return"".concat(o).concat(u)}(e,t);if(!Number.isFinite(e))return String(e);if(Math.abs(e)<1e-16)return n?"0":"0.";if(n)return e.toFixed(0);if(Math.abs(e)>100&&Math.abs(e)<1e4)return e.toFixed(0);var i=e.toPrecision(2);return i.indexOf(".0")===i.length-2?i.slice(0,-1):i}function B(e,t,r,n){var i,a,o=e.gl;if(!t)return a={},Object(L.a)(a,n,"null"),Object(L.a)(a,"Format ","N/A"),a;var s,u,c,l="NOT PROVIDED",p="N/A",h="N/A",f="N/A";if(r&&(l=r.type,p=r.size,s=-1!==(l=String(l).replace("Array","")).indexOf("nt")),t instanceof m.a){var d,g,v=t,y=v.getDebugData(),b=y.data;if(u=y.modified?"*":"",c=b,h=(f=v.byteLength)/b.BYTES_PER_ELEMENT/p,r){var _=r.divisor>0;g="".concat(_?"I ":"P "," ").concat(h," (x").concat(p,"=").concat(f," bytes ").concat(Object(z.a)(o,l),")")}else s=!0,g="".concat(f," bytes");return d={},Object(L.a)(d,n,"".concat(u).concat(F(c,{size:p,isInteger:s}))),Object(L.a)(d,"Format ",g),d}return c=t,p=t.length,s=-1!==(l=String(t.constructor.name).replace("Array","")).indexOf("nt"),i={},Object(L.a)(i,n,"".concat(F(c,{size:p,isInteger:s})," (constant)")),Object(L.a)(i,"Format ","".concat(p,"x").concat(l," (constant)")),i}function N(e,t){var r=t.type,n=t.size,i=Object(D.b)(r,n);return i?"".concat(e," (").concat(i.name,")"):e}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.header,r=void 0===t?"Uniforms":t,n=e.program,i=e.uniforms,a=e.undefinedOnly,o=void 0!==a&&a;Object(c.a)(n);var s=n._uniformSetters,u={},l=Object.keys(s).sort(),p=0,h=!0,f=!1,d=void 0;try{for(var m,g=l[Symbol.iterator]();!(h=(m=g.next()).done);h=!0){var v=m.value;v.match(".*_.*")||v.match(".*Matrix")||U({table:u,header:r,uniforms:i,uniformName:v,undefinedOnly:o})&&p++}}catch(R){f=!0,d=R}finally{try{h||null==g.return||g.return()}finally{if(f)throw d}}var y=!0,b=!1,_=void 0;try{for(var x,w=l[Symbol.iterator]();!(y=(x=w.next()).done);y=!0){var O=x.value;O.match(".*Matrix")&&U({table:u,header:r,uniforms:i,uniformName:O,undefinedOnly:o})&&p++}}catch(R){b=!0,_=R}finally{try{y||null==w.return||w.return()}finally{if(b)throw _}}var k=!0,E=!1,T=void 0;try{for(var S,j=l[Symbol.iterator]();!(k=(S=j.next()).done);k=!0){var P=S.value;u[P]||U({table:u,header:r,uniforms:i,uniformName:P,undefinedOnly:o})&&p++}}catch(R){E=!0,T=R}finally{try{k||null==j.return||j.return()}finally{if(E)throw T}}var C=0,A={};if(!o)for(var M in i){var I=i[M];u[M]||(C++,A[M]=Object(L.a)({Type:"NOT USED: ".concat(I)},r,F(I)))}return{table:u,count:p,unusedTable:A,unusedCount:C}}function U(e){var t,r=e.table,n=e.header,i=e.uniforms,a=e.uniformName,o=e.undefinedOnly,s=i[a],u=function(e){return void 0!==e&&null!==e}(s);return(!o||!u)&&(r[a]=(t={},Object(L.a)(t,n,u?F(s):"N/A"),Object(L.a)(t,"Uniform Type",u?s:"NOT PROVIDED"),t),!0)}function V(e){var t=e.accessor,r=t.type,n=t.size,i=Object(D.b)(r,n);return i?"".concat(i.name," ").concat(e.name):e.name}var G=r(179),W={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function H(e,t){var r=(t||{}).attributeMap,n=void 0===r?W:r;return n&&n[e]||e}function Z(e,t){var r;switch(e){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":r="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":r="vectors"}switch(r){case"vectors":t.size=t.size||3;break;case"uvs":t.size=t.size||2}Object(c.a)(Number.isFinite(t.size),"attribute ".concat(e," needs size"))}r.d(t,"a",(function(){return Y}));var X=function(){},K={},Y=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,e);var n=r.id,a=void 0===n?Object(u.c)("model"):n;Object(c.a)(Object(o.f)(t)),this.id=a,this.gl=t,this.id=r.id||Object(u.c)("Model"),this.debug=r.debug||!1,this.lastLogTime=0,this.initialize(r)}return Object(a.a)(e,[{key:"initialize",value:function(e){this.props={},this.programManager=e.programManager||s.a.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;var t=e.program,r=void 0===t?null:t,n=e.vs,i=e.fs,a=e.modules,o=e.defines,u=e.inject,l=e.varyings,p=e.bufferMode;this.programProps={program:r,vs:n,fs:i,modules:a,defines:o,inject:u,varyings:l,bufferMode:p},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},Object(c.a)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}},{key:"setProps",value:function(e){this._setModelProps(e)}},{key:"delete",value:function(){for(var e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&this.programManager.release(this.program),this.vertexArray.delete(),this._deleteGeometryBuffers()}},{key:"getDrawMode",value:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getInstanceCount",value:function(){return this.instanceCount}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getProgram",value:function(){return this.program}},{key:"setProgram",value:function(e){var t=e.program,r=e.vs,n=e.fs,i=e.modules,a=e.defines,o=e.inject,s=e.varyings,u=e.bufferMode;this.programProps={program:t,vs:r,fs:n,modules:i,defines:a,inject:o,varyings:s,bufferMode:u},this._programDirty=!0}},{key:"getUniforms",value:function(){return this.uniforms}},{key:"setDrawMode",value:function(e){return this.drawMode=e,this}},{key:"setVertexCount",value:function(e){return Object(c.a)(Number.isFinite(e)),this.vertexCount=e,this}},{key:"setInstanceCount",value:function(e){return Object(c.a)(Number.isFinite(e)),this.instanceCount=e,this}},{key:"setGeometry",value:function(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(e,t,r){var n={},i=t.indices;for(var a in t.attributes){var o=t.attributes[a],s=H(a,r);if("indices"===a)i=o;else if(o.constant)n[s]=o.value;else{var u=o.value,l=Object(G.a)({},o);delete l.value,n[s]=[new m.a(e,u),l],Z(a,l)}}if(i){var p=i.value||i;Object(c.a)(p instanceof Uint16Array||p instanceof Uint32Array,'attribute array for "indices" must be of integer type');var h={size:1,isIndexed:void 0===i.isIndexed||i.isIndexed};n.indices=[new m.a(e,{data:p,target:34963}),h]}return n}(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}},{key:"setAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.a)(e))return this;var t={};for(var r in e){var n=e[r];t[r]=n.getValue?n.getValue():n}return this.vertexArray.setAttributes(t),this}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,e),this}},{key:"getModuleUniforms",value:function(e){this._checkProgram();var t=this.programManager.getUniforms(this.program);return t?t(e):{}}},{key:"updateModuleSettings",value:function(e){var t=this.getModuleUniforms(e||{});return this.setUniforms(t)}},{key:"clear",value:function(e){return Object(l.a)(this.program.gl,e),this}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();var t,r=e.moduleSettings,n=void 0===r?null:r,i=e.framebuffer,a=e.uniforms,s=void 0===a?{}:a,u=e.attributes,c=void 0===u?{}:u,l=e.transformFeedback,p=void 0===l?this.transformFeedback:l,h=e.parameters,f=void 0===h?{}:h,d=e.vertexArray,m=void 0===d?this.vertexArray:d;this.setAttributes(c),this.updateModuleSettings(n),this.setUniforms(s),this.debug&&(t=this._logDrawCallStart(2));var g=this.vertexArray.getDrawParams(),v=this.props,y=v.isIndexed,b=void 0===y?g.isIndexed:y,_=v.indexType,x=void 0===_?g.indexType:_,w=v.indexOffset,O=void 0===w?g.indexOffset:w,k=v.vertexArrayInstanced,E=void 0===k?g.isInstanced:k;E&&!this.isInstanced&&o.h.warn("Found instanced attributes on non-instanced model",this.id)();var T=this.isInstanced,S=this.instanceCount,j=this.props,P=j.onBeforeRender,C=void 0===P?X:P,A=j.onAfterRender,M=void 0===A?X:A;C(),this.program.setUniforms(this.uniforms);var I=this.program.draw(Object.assign(K,e,{logPriority:t,uniforms:null,framebuffer:i,parameters:f,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:m,transformFeedback:p,isIndexed:b,indexType:x,isInstanced:T,instanceCount:S,offset:b?O:0}));return M(),this.debug&&this._logDrawCallEnd(t,m,i),I}},{key:"transform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.discard,r=void 0===t||t,i=e.feedbackBuffers,a=e.unbindModels,o=void 0===a?[]:a,s=e.parameters;i&&this._setFeedbackBuffers(i),r&&(s=Object.assign({},s,Object(n.a)({},35977,r))),o.forEach((function(e){return e.vertexArray.unbindBuffers()}));try{this.draw(Object.assign({},e,{parameters:s}))}finally{o.forEach((function(e){return e.vertexArray.bindBuffers()}))}return this}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.h.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}},{key:"_setModelProps",value:function(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}},{key:"_checkProgram",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._programDirty||this.programManager.stateHash!==this._programManagerState;if(e){var t=this.programProps.program;if(t)this._managedProgram=!1;else{var r=this.programProps,n=r.vs,i=r.fs,a=r.modules,o=r.inject,s=r.defines,u=r.varyings,l=r.bufferMode;t=this.programManager.get({vs:n,fs:i,modules:a,inject:o,defines:s,varyings:u,bufferMode:l}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}Object(c.a)(t instanceof p.a,"Model needs a program"),this._programDirty=!1,t!==this.program&&(this.program=t,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new I(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}}},{key:"_deleteGeometryBuffers",value:function(){for(var e in this.geometryBuffers){var t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof m.a&&t.delete()}}},{key:"_setAnimationProps",value:function(e){if(this.animated){Object(c.a)(e,"Model.draw(): animated uniforms but no animationProps");var t=this._evaluateAnimateUniforms(e);Object.assign(this.uniforms,t)}}},{key:"_setFeedbackBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.a)(e))return this;var t=this.program.gl;return this.transformFeedback=this.transformFeedback||new R.a(t,{program:this.program}),this.transformFeedback.setBuffers(e),this}},{key:"_logDrawCallStart",value:function(e){var t=e>3?0:1e4;if(!(o.h.level<e||Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),o.h.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:o.h.level<=2})(),e}},{key:"_logDrawCallEnd",value:function(e,t,r,n){if(void 0!==e){var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.vertexArray,r=e.header,n=void 0===r?"Attributes":r;if(!t.configuration)return{};var i={};t.elements&&(i.ELEMENT_ARRAY_BUFFER=B(t,t.elements,null,n));var a=t.values;for(var o in a){var s=t._getAttributeInfo(o);if(s){var u="".concat(o,": ").concat(s.name),c=t.accessors[s.location];c&&(u="".concat(o,": ").concat(N(s.name,c))),i[u]=B(t,a[o],c,n)}}return i}({vertexArray:t,header:"".concat(this.id," attributes"),attributes:this._attributes}),a=q({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,r)}),s=a.table,u=a.unusedTable,c=a.unusedCount,l=q({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,r),undefinedOnly:!0}),p=l.table;l.count>0&&o.h.log("MISSING UNIFORMS",Object.keys(p))(),c>0&&o.h.log("UNUSED UNIFORMS",Object.keys(u))();var h=function(e){var t={},r="Accessors for ".concat(e.id),n=!0,i=!1,a=void 0;try{for(var o,s=e.attributeInfos[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;if(u){var c=V(u);t["in ".concat(c)]=Object(L.a)({},r,JSON.stringify(u.accessor))}}}catch(v){i=!0,a=v}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}var l=!0,p=!1,h=void 0;try{for(var f,d=e.varyingInfos[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var m=f.value;if(m){var g=V(m);t["out ".concat(g)]=Object(L.a)({},r,JSON.stringify(m.accessor))}}}catch(v){p=!0,h=v}finally{try{l||null==d.return||d.return()}finally{if(p)throw h}}return t}(this.vertexArray.configuration);o.h.table(e,i)(),o.h.table(e,s)(),o.h.table(e+1,h)(),n&&n.log({logLevel:2,message:"Rendered to ".concat(n.id)}),o.h.groupEnd(2,">>> DRAWING MODEL ".concat(this.id))()}}}]),e}()},function(e,t,r){"use strict";var n=r(7),i=r(6),a=r(11),o=r(26),s=r(18),u=r(13),c=r(33),l=r(19),p=r(371),h=r(200),f=r(53);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var m=function(){function e(t,r){Object(n.a)(this,e),this.opts=r,this.source=t}return Object(i.a)(e,[{key:"getValue",value:function(){var e=this.source.getBuffer(),t=this.getAccessor();if(e)return[e,t];var r=this.source.value,n=t.size,i=r;if(r&&r.length!==n){i=new Float32Array(n);for(var a=t.elementOffset||0,o=0;o<n;++o)i[o]=r[a+o]}return i}},{key:"getAccessor",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.source.getAccessor(),{},this.opts)}},{key:"value",get:function(){return this.source.value}}]),e}();var g=r(123),v=r(83),y=r(22);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(r,!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e){return e.stride||e.size*e.bytesPerElement}function w(e,t){t.offset&&y.a.removed("shaderAttribute.offset","vertexOffset, elementOffset")();var r=x(e);return _({},t,{offset:("vertexOffset"in t?t.vertexOffset:e.vertexOffset||0)*r+(t.elementOffset||0)*e.bytesPerElement+(e.offset||0),stride:r})}var O=function(){function e(t,r){Object(n.a)(this,e),this.gl=t,this.id=r.id,this.size=r.size;var i=r.logicalType||r.type,a=5130===i,o=r.defaultValue;o=Number.isFinite(o)?[o]:o||new Array(this.size).fill(0),r.defaultValue=o;var s=i;a?s=5126:!s&&r.isIndexed?s=t&&Object(p.b)(t,h.a.ELEMENT_INDEX_UINT32)?5125:5123:s||(s=5126),r.logicalType=i,r.type=s;var u=function(e){switch(e){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(i||s||5126);this.shaderAttributes={},this.doublePrecision=a,a&&!1===r.fp64&&(u=Float32Array),r.bytesPerElement=u.BYTES_PER_ELEMENT,this.defaultType=u,this.value=null,this.settings=r,this.state={externalBuffer:null,bufferAccessor:r,allocatedValue:null,constant:!1},this._buffer=null,this.setData(r)}return Object(i.a)(e,[{key:"delete",value:function(){this._buffer&&(this._buffer.delete(),this._buffer=null),g.a.release(this.state.allocatedValue)}},{key:"getShaderAttributes",value:function(e,t){if(this.doublePrecision){var r={},n=this.value instanceof Float64Array,i=function(e,t){var r=w(e,t);return{high:r,low:_({},r,{offset:r.offset+4*e.size})}}(this.getAccessor(),t||{});return r[e]=new m(this,i.high),r["".concat(e,"64Low")]=n?new m(this,i.low):new Float32Array(this.size),r}if(t){var o=w(this.getAccessor(),t);return Object(a.a)({},e,new m(this,o))}return Object(a.a)({},e,this)}},{key:"getBuffer",value:function(){return this.state.constant?null:this.state.externalBuffer||this._buffer}},{key:"getValue",value:function(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}},{key:"getAccessor",value:function(){return this.state.bufferAccessor}},{key:"setData",value:function(e){var t=this.state;ArrayBuffer.isView(e)?e={value:e}:e instanceof f.a&&(e={buffer:e});var r=_({},this.settings,{},e);if(t.bufferAccessor=r,e.constant){var n=e.value;if(n=this._normalizeValue(n,[],0),this.settings.normalized&&(n=this._normalizeConstant(n)),!(!t.constant||!this._areValuesEqual(n,this.value)))return!1;t.externalBuffer=null,t.constant=!0,this.value=n}else if(e.buffer){var i=e.buffer;t.externalBuffer=i,t.constant=!1,this.value=e.value,r.type=i.accessor.type,r.bytesPerElement=i.accessor.BYTES_PER_ELEMENT,r.stride=x(r)}else if(e.value){this._checkExternalBuffer(e);var a=e.value;t.externalBuffer=null,t.constant=!1,this.value=a,r.bytesPerElement=a.BYTES_PER_ELEMENT,r.stride=x(r);var o=this.buffer,s=this.byteOffset;this.doublePrecision&&a instanceof Float64Array&&(a=Object(v.d)(a,r)),o.byteLength<a.byteLength+s&&o.reallocate(2*(a.byteLength+s)),o.setAccessor(null),o.subData({data:a,offset:s}),r.type=o.accessor.type}return!0}},{key:"updateSubBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.value,r=e.startOffset,n=void 0===r?0:r,i=e.endOffset;this.buffer.subData({data:this.doublePrecision&&t instanceof Float64Array?Object(v.d)(t,{size:this.size,startIndex:n,endIndex:i}):t.subarray(n,i),offset:n*t.BYTES_PER_ELEMENT+this.byteOffset})}},{key:"allocate",value:function(e){var t=e.numInstances,r=e.copy,n=void 0!==r&&r,i=this.state,a=i.allocatedValue,o=g.a.allocate(a,t+1,{size:this.size,type:this.defaultType,copy:n});this.value=o;var s=this.buffer,u=this.byteOffset;return s.byteLength<o.byteLength+u&&(s.reallocate(o.byteLength+u),n&&a&&s.subData({data:a instanceof Float64Array?Object(v.d)(a,this):a,offset:u})),i.allocatedValue=o,i.constant=!1,i.externalBuffer=null,i.bufferAccessor=this.settings,!0}},{key:"_checkExternalBuffer",value:function(e){var t=e.value;if(!e.constant&&t){var r=this.defaultType,n=!1;if(this.doublePrecision&&(n=t.BYTES_PER_ELEMENT<4),n)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));t instanceof r||!this.settings.normalized||"normalized"in e||y.a.warn("Attribute ".concat(this.id," is normalized"))()}}},{key:"_normalizeConstant",value:function(e){switch(this.settings.type){case 5120:return new Float32Array(e).map((function(e){return(e+128)/255*2-1}));case 5122:return new Float32Array(e).map((function(e){return(e+32768)/65535*2-1}));case 5121:return new Float32Array(e).map((function(e){return e/255}));case 5123:return new Float32Array(e).map((function(e){return e/65535}));default:return e}}},{key:"_normalizeValue",value:function(e,t,r){var n=this.settings,i=n.defaultValue,a=n.size;if(Number.isFinite(e))return t[r]=e,t;if(!e)return t[r]=i[0],t;switch(a){case 4:t[r+3]=Number.isFinite(e[3])?e[3]:i[3];case 3:t[r+2]=Number.isFinite(e[2])?e[2]:i[2];case 2:t[r+1]=Number.isFinite(e[1])?e[1]:i[1];case 1:t[r+0]=Number.isFinite(e[0])?e[0]:i[0];break;default:for(var o=a;--o>=0;)t[r+o]=Number.isFinite(e[o])?e[o]:i[o]}return t}},{key:"_areValuesEqual",value:function(e,t){if(!e||!t)return!1;for(var r=this.size,n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}},{key:"buffer",get:function(){if(!this._buffer){var e=this.settings,t=e.isIndexed,r=e.type;this._buffer=new f.a(this.gl,{id:this.id,target:t?34963:34962,accessor:{type:r}})}return this._buffer}},{key:"byteOffset",get:function(){var e=this.getAccessor();return e.vertexOffset?e.vertexOffset*x(e):0}}]),e}(),k=r(31),E=r(122),T=r(111),S=[],j=[[0,1/0]];function P(e,t){if(e===j)return e;if(t[0]<0&&(t[0]=0),t[0]>=t[1])return e;for(var r=[],n=e.length,i=0,a=0;a<n;a++){var o=e[a];o[1]<t[0]?(r.push(o),i=a+1):o[0]>t[1]?r.push(o):t=[Math.min(o[0],t[0]),Math.max(o[1],t[1])]}return r.splice(i,0,t),r}var C=r(64),A=function(e){function t(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.a)(this,t),r=Object(s.a)(this,Object(u.a)(t).call(this,e,i));var a=i.transition,o=void 0!==a&&a,c=i.noAlloc,l=void 0!==c&&c,p=i.update,h=void 0===p?null:p,f=i.accessor,d=void 0===f?null:f,m=i.transform,g=void 0===m?null:m,v=i.startIndices,y=void 0===v?null:v;return Object.assign(r.settings,{transition:o,noAlloc:l,update:h||d&&r._autoUpdater,accessor:d,transform:g}),Object.assign(r.state,{lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:j,startIndices:y}),Object.seal(r.settings),Object.seal(r.state),r._validateAttributeUpdaters(),r}return Object(l.a)(t,e),Object(i.a)(t,[{key:"needsUpdate",value:function(){return this.state.needsUpdate}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearChangedFlags,r=void 0!==t&&t,n=this.state.needsRedraw;return this.state.needsRedraw=n&&!r,n}},{key:"getUpdateTriggers",value:function(){var e=this.settings.accessor;return[this.id].concat("function"!==typeof e&&e||[])}},{key:"supportsTransition",value:function(){return Boolean(this.settings.transition)}},{key:"getTransitionSetting",value:function(e){var t=this.settings.accessor,r=this.settings.transition;if(!this.supportsTransition())return null;var n=Array.isArray(t)?e[t.find((function(t){return e[t]}))]:e[t];return Object(C.e)(n,r)}},{key:"setNeedsUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id,t=arguments.length>1?arguments[1]:void 0;if(this.state.needsUpdate=this.state.needsUpdate||e,t){var r=t.startRow,n=void 0===r?0:r,i=t.endRow,a=void 0===i?1/0:i;this.state.updateRanges=P(this.state.updateRanges,[n,a])}else this.state.updateRanges=j}},{key:"clearNeedsUpdate",value:function(){this.state.needsUpdate=!1,this.state.updateRanges=S}},{key:"setNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;this.state.needsRedraw=this.state.needsRedraw||e}},{key:"update",value:function(e){this.setData(e)}},{key:"allocate",value:function(e){var r=this.state,n=this.settings;return!n.noAlloc&&(!!n.update&&(Object(k.a)(Number.isFinite(e)),Object(c.a)(Object(u.a)(t.prototype),"allocate",this).call(this,{numInstances:e,copy:r.updateRanges!==j}),!0))}},{key:"updateBuffer",value:function(e){var r=e.numInstances,n=e.data,i=e.props,a=e.context;if(!this.needsUpdate())return!1;var s=this.state.updateRanges,l=this.settings,p=l.update,h=l.noAlloc,f=!0;if(p){var d=!0,m=!1,g=void 0;try{for(var v,y=s[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var b=Object(o.a)(v.value,2),_=b[0],x=b[1];p.call(a,this,{data:n,startRow:_,endRow:x,props:i,numInstances:r})}}catch(C){m=!0,g=C}finally{try{d||null==y.return||y.return()}finally{if(m)throw g}}if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength)this.setData({value:this.value,constant:this.constant});else{var w=!0,O=!1,k=void 0;try{for(var E,T=s[Symbol.iterator]();!(w=(E=T.next()).done);w=!0){var S=Object(o.a)(E.value,2),j=(_=S[0],x=S[1],Number.isFinite(_)?this.getVertexOffset(_):0),P=Number.isFinite(x)?this.getVertexOffset(x):h||!Number.isFinite(r)?this.value.length:r*this.size;Object(c.a)(Object(u.a)(t.prototype),"updateSubBuffer",this).call(this,{startOffset:j,endOffset:P})}}catch(C){O=!0,k=C}finally{try{w||null==T.return||T.return()}finally{if(O)throw k}}}else;this._checkAttributeArray()}else f=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),f}},{key:"setConstantValue",value:function(e){return void 0!==e&&"function"!==typeof e&&(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}},{key:"setExternalBuffer",value:function(e){var t=this.state;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e),!0)):(t.lastExternalBuffer=null,!1)}},{key:"setBinaryValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.state,n=this.settings;if(!e)return r.binaryValue=null,r.binaryAccessor=null,!1;if(n.noAlloc)return!1;if(r.binaryValue===e)return this.clearNeedsUpdate(),!0;r.binaryValue=e,this.setNeedsRedraw(),ArrayBuffer.isView(e)&&(e={value:e}),Object(k.a)(ArrayBuffer.isView(e.value),"invalid ".concat(n.accessor));var i=n.transform||t!==this.startIndices;if(i){var a=e.size&&e.size!==this.size;return r.binaryAccessor=Object(E.b)(e.value,{size:e.size||this.size,stride:e.stride,offset:e.offset,startIndices:t,nested:a}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}},{key:"getVertexOffset",value:function(e){var t=this.startIndices;return(t?t[e]:e)*this.size}},{key:"getShaderAttributes",value:function(){var e=this.settings.shaderAttributes||Object(a.a)({},this.id,null),r={};for(var n in e)Object.assign(r,Object(c.a)(Object(u.a)(t.prototype),"getShaderAttributes",this).call(this,n,e[n]));return r}},{key:"_autoUpdater",value:function(e,t){var r=t.data,n=t.startRow,i=t.endRow,a=t.props,o=t.numInstances,s=e.settings,u=e.state,c=e.value,l=e.size,p=e.startIndices,h=s.accessor,f=s.transform,d=u.binaryAccessor||("function"===typeof h?h:a[h]);Object(k.a)("function"===typeof d,'accessor "'.concat(h,'" is not a function'));var m=e.getVertexOffset(n),g=Object(E.a)(r,n,i),v=g.iterable,y=g.objectInfo,b=!0,_=!1,x=void 0;try{for(var w,O=v[Symbol.iterator]();!(b=(w=O.next()).done);b=!0){var S=w.value;y.index++;var j=d(S,y);if(f&&(j=f.call(this,j)),p){var P=(p[y.index+1]||o)-p[y.index];if(j&&Array.isArray(j[0])){var C=m,A=!0,M=!1,I=void 0;try{for(var R,L=j[Symbol.iterator]();!(A=(R=L.next()).done);A=!0){var z=R.value;e._normalizeValue(z,c,C),C+=l}}catch(D){M=!0,I=D}finally{try{A||null==L.return||L.return()}finally{if(M)throw I}}}else j&&j.length>l?c.set(j,m):(e._normalizeValue(j,y.target,0),Object(T.a)({target:c,source:y.target,start:m,count:P}));m+=P*l}else e._normalizeValue(j,c,m),m+=l}}catch(D){_=!0,x=D}finally{try{b||null==O.return||O.return()}finally{if(_)throw x}}e.constant=!1}},{key:"_validateAttributeUpdaters",value:function(){var e=this.settings;if(!(e.noAlloc||"function"===typeof e.update))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}},{key:"_checkAttributeArray",value:function(){var e=this.value;if(e&&e.length>=4&&!(Number.isFinite(e[0])&&Number.isFinite(e[1])&&Number.isFinite(e[2])&&Number.isFinite(e[3])))throw new Error("Illegal attribute generated for ".concat(this.id))}},{key:"startIndices",get:function(){return this.state.startIndices},set:function(e){this.state.startIndices=e}}]),t}(O),M=r(48),I=r(436),R=r(94);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(r,!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=function(){function e(t){var r=t.gl,i=t.attribute,a=t.timeline;Object(n.a)(this,e),this.gl=r,this.type="interpolation",this.transition=new R.a(a),this.attribute=i,this.attributeInTransition=new A(r,i.settings),this.currentStartIndices=i.startIndices,this.currentLength=0,this.transform=function(e,t){var r=Object(C.c)(t.size);return new I.a(e,{vs:F,defines:{ATTRIBUTE_TYPE:r},varyings:["vCurrent"]})}(r,i);var o={byteLength:0,usage:35050};this.buffers=[new f.a(r,o),new f.a(r,o)]}return Object(i.a)(e,[{key:"start",value:function(e,t){if(e.duration<=0)this.transition.cancel();else{var r=this.gl,n=this.buffers,i=this.attribute;Object(C.a)(n);var a={numInstances:t,attribute:i,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter},o=!0,s=!1,u=void 0;try{for(var c,l=n[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var p=c.value;Object(C.f)(z({buffer:p},a))}}catch(h){s=!0,u=h}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}this.currentStartIndices=i.startIndices,this.currentLength=Object(C.b)(i,t),this.attributeInTransition.update({buffer:n[1],value:i.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/i.size),sourceBuffers:{aFrom:n[0],aTo:Object(C.d)(r,i)},feedbackBuffers:{vCurrent:n[1]}})}}},{key:"update",value:function(){var e=this.transition.update();if(e){var t=this.transition,r=t.time,n=t.settings,i=n.duration,a=(0,n.easing)(r/i);this.transform.run({uniforms:{time:a}})}return e}},{key:"cancel",value:function(){for(this.transition.cancel(),this.transform.delete();this.buffers.length;)this.buffers.pop().delete()}},{key:"inProgress",get:function(){return this.transition.inProgress}}]),e}(),F="\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n";var B=r(207),N=r(136),q=r(93);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(r,!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G={interpolation:D,spring:function(){function e(t){var r=t.gl,i=t.attribute,o=t.timeline;Object(n.a)(this,e),this.gl=r,this.type="spring",this.transition=new R.a(o),this.attribute=i,this.attributeInTransition=new A(r,Object.assign({},i.settings,{normalized:!1})),this.currentStartIndices=i.startIndices,this.currentLength=0,this.texture=function(e){return new N.a(e,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(r),this.framebuffer=function(e,t){return new q.a(e,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:Object(a.a)({},36064,t)})}(r,this.texture),this.transform=function(e,t,r){var n=Object(C.c)(t.size);return new I.a(e,{framebuffer:r,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:n},varyings:["vNext"]})}(r,i,this.framebuffer);var s={byteLength:0,usage:35050};this.buffers=[new f.a(r,s),new f.a(r,s),new f.a(r,s)]}return Object(i.a)(e,[{key:"start",value:function(e,t){var r=this.gl,n=this.buffers,i=this.attribute,a={numInstances:t,attribute:i,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter},o=!0,s=!1,u=void 0;try{for(var c,l=n[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var p=c.value;Object(C.f)(V({buffer:p},a))}}catch(h){s=!0,u=h}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}this.currentStartIndices=i.startIndices,this.currentLength=Object(C.b)(i,t),this.attributeInTransition.update({buffer:n[1],value:i.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/i.size),sourceBuffers:{aTo:Object(C.d)(r,i)}})}},{key:"update",value:function(){var e=this.buffers,t=this.transform,r=this.framebuffer,n=this.transition;return!!n.update()&&(t.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),t.run({framebuffer:r,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:n.settings.stiffness,damping:n.settings.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),Object(C.a)(e),this.attributeInTransition.update({buffer:e[1]}),Object(B.c)(r)[0]>0||n.end(),!0)}},{key:"cancel",value:function(){for(this.transition.cancel(),this.transform.delete();this.buffers.length;)this.buffers.pop().delete();this.texture.delete(),this.texture=null,this.framebuffer.delete(),this.framebuffer=null}},{key:"inProgress",get:function(){return this.transition.inProgress}}]),e}()},W=function(){function e(t,r){var i=r.id,a=r.timeline;Object(n.a)(this,e),this.id=i,this.gl=t,this.timeline=a,this.transitions={},this.needsRedraw=!1,this.numInstances=1,I.a.isSupported(t)?this.isSupported=!0:t&&y.a.warn("WebGL2 not supported by this browser. Transition animation is disabled.")()}return Object(i.a)(e,[{key:"finalize",value:function(){for(var e in this.transitions)this._removeTransition(e)}},{key:"update",value:function(e){var t=e.attributes,r=e.transitions,n=void 0===r?{}:r,i=e.numInstances;if(this.numInstances=i||1,this.isSupported){for(var a in t){var o=t[a],s=o.getTransitionSetting(n);s&&this._updateAttribute(a,o,s)}for(var u in this.transitions){var c=t[u];c&&c.getTransitionSetting(n)||this._removeTransition(u)}}}},{key:"hasAttribute",value:function(e){var t=this.transitions[e];return t&&t.inProgress}},{key:"getAttributes",value:function(){var e={};for(var t in this.transitions){var r=this.transitions[t];r.inProgress&&(e[t]=r.attributeInTransition)}return e}},{key:"run",value:function(){if(!this.isSupported||0===this.numInstances)return!1;for(var e in this.transitions){this.transitions[e].update()&&(this.needsRedraw=!0)}var t=this.needsRedraw;return this.needsRedraw=!1,t}},{key:"_removeTransition",value:function(e){this.transitions[e].cancel(),delete this.transitions[e]}},{key:"_updateAttribute",value:function(e,t,r){var n=this.transitions[e],i=!n||n.type!==r.type;if(i){n&&this._removeTransition(e);var a=G[r.type];a?this.transitions[e]=new a({attribute:t,timeline:this.timeline,gl:this.gl}):(y.a.error("unsupported transition type '".concat(r.type,"'"))(),i=!1)}(i||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(r,this.numInstances))}}]),e}();r.d(t,"a",(function(){return H}));var H=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.id,a=void 0===i?"attribute-manager":i,o=r.stats,s=r.timeline;Object(n.a)(this,e),this.id=a,this.gl=t,this.attributes={},this.updateTriggers={},this.accessors={},this.needsRedraw=!0,this.userData={},this.stats=o,this.attributeTransitionManager=new W(t,{id:"".concat(a,"-transitions"),timeline:s}),Object.seal(this)}return Object(i.a)(e,[{key:"finalize",value:function(){for(var e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}},{key:"getNeedsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}},{key:"setNeedsRedraw",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.needsRedraw=!0,this}},{key:"add",value:function(e,t){this._add(e,t)}},{key:"addInstanced",value:function(e,t){this._add(e,t,{instanced:1})}},{key:"remove",value:function(e){for(var t=0;t<e.length;t++){var r=e[t];void 0!==this.attributes[r]&&(this.attributes[r].delete(),delete this.attributes[r])}}},{key:"invalidate",value:function(e,t){var r=this._invalidateTrigger(e,t);Object(M.a)("attributeManager.invalidate",this,e,r)}},{key:"invalidateAll",value:function(e){for(var t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);Object(M.a)("attributeManager.invalidate",this,"all")}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=e.numInstances,n=e.startIndices,i=void 0===n?null:n,a=e.transitions,o=e.props,s=void 0===o?{}:o,u=e.buffers,c=void 0===u?{}:u,l=e.context,p=void 0===l?{}:l,h=!1;for(var f in Object(M.a)("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart(),this.attributes){var d=this.attributes[f],m=d.settings.accessor;d.startIndices=i,s[f]&&y.a.removed("props.".concat(f),"data.attributes.".concat(f))(),d.setExternalBuffer(c[f])||d.setBinaryValue(c[m],t.startIndices)||!c[m]&&d.setConstantValue(s[m])||d.needsUpdate()&&(h=!0,this._updateAttribute({attribute:d,numInstances:r,data:t,props:s,context:p})),this.needsRedraw|=d.needsRedraw()}h&&Object(M.a)("attributeManager.updateEnd",this,r),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:r,transitions:a})}},{key:"updateTransition",value:function(){var e=this.attributeTransitionManager.run();return this.needsRedraw=this.needsRedraw||e,e}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getChangedAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearChangedFlags:!1},t=this.attributes,r=this.attributeTransitionManager,n=Object.assign({},r.getAttributes());for(var i in t){var a=t[i];a.needsRedraw(e)&&!r.hasAttribute(i)&&(n[i]=a)}return n}},{key:"getShaderAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(e=this.getAttributes());var r={};for(var n in e)t[n]||Object.assign(r,e[n].getShaderAttributes());return r}},{key:"getAccessors",value:function(){return this.updateTriggers}},{key:"_add",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t&&y.a.warn("AttributeManager.add({updaters}) - updater map no longer supported")();var n={};for(var i in e){var a=e[i],o=this._createAttribute(i,a,r);n[i]=o}Object.assign(this.attributes,n),this._mapUpdateTriggersToAttributes()}},{key:"_createAttribute",value:function(e,t,r){var n={id:e,constant:t.constant||!1,isIndexed:t.isIndexed||t.elements,size:t.elements?1:t.size,value:t.value||null,divisor:t.instanced||r.instanced?1:t.divisor};return new A(this.gl,Object.assign({},t,n))}},{key:"_mapUpdateTriggersToAttributes",value:function(){var e=this,t={},r=function(r){e.attributes[r].getUpdateTriggers().forEach((function(e){t[e]||(t[e]=[]),t[e].push(r)}))};for(var n in this.attributes)r(n);this.updateTriggers=t}},{key:"_invalidateTrigger",value:function(e,t){var r=this.attributes,n=this.updateTriggers[e];return n&&n.forEach((function(e){var n=r[e];n&&n.setNeedsUpdate(n.id,t)})),n}},{key:"_updateAttribute",value:function(e){var t=e.attribute,r=e.numInstances;Object(M.a)("attribute.updateStart",t),t.allocate(r)&&Object(M.a)("attribute.allocate",t,r),t.updateBuffer(e)&&(this.needsRedraw=!0,Object(M.a)("attribute.updateEnd",t,r))}}]),e}()},function(e,t,r){"use strict";var n=r(66),i=r(110),a=r(131);function o(e,t,r,n,i,a){if(!(i-n<=r)){var u=n+i>>1;!function e(t,r,n,i,a,o){for(;a>i;){if(a-i>600){var u=a-i+1,c=n-i+1,l=Math.log(u),p=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*p*(u-p)/u)*(c-u/2<0?-1:1),f=Math.max(i,Math.floor(n-c*p/u+h)),d=Math.min(a,Math.floor(n+(u-c)*p/u+h));e(t,r,n,f,d,o)}var m=r[2*n+o],g=i,v=a;for(s(t,r,i,n),r[2*a+o]>m&&s(t,r,i,a);g<v;){for(s(t,r,g,v),g++,v--;r[2*g+o]<m;)g++;for(;r[2*v+o]>m;)v--}r[2*i+o]===m?s(t,r,i,v):(v++,s(t,r,v,a)),v<=n&&(i=v+1),n<=v&&(a=v-1)}}(e,t,u,n,i,a%2),o(e,t,r,n,u-1,a+1),o(e,t,r,u+1,i,a+1)}}function s(e,t,r,n){u(e,r,n),u(t,2*r,2*n),u(t,2*r+1,2*n+1)}function u(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function c(e,t,r,n){var i=e-r,a=t-n;return i*i+a*a}var l=function(e){return e[0]},p=function(e){return e[1]},h=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Float64Array;Object(i.a)(this,e),this.nodeSize=a,this.points=t;for(var u=t.length<65536?Uint16Array:Uint32Array,c=this.ids=new u(t.length),h=this.coords=new s(2*t.length),f=0;f<t.length;f++)c[f]=f,h[2*f]=r(t[f]),h[2*f+1]=n(t[f]);o(c,h,a,0,c.length-1,0)}return Object(a.a)(e,[{key:"range",value:function(e,t,r,n){return function(e,t,r,n,i,a,o){for(var s,u,c=[0,e.length-1,0],l=[];c.length;){var p=c.pop(),h=c.pop(),f=c.pop();if(h-f<=o)for(var d=f;d<=h;d++)s=t[2*d],u=t[2*d+1],s>=r&&s<=i&&u>=n&&u<=a&&l.push(e[d]);else{var m=Math.floor((f+h)/2);s=t[2*m],u=t[2*m+1],s>=r&&s<=i&&u>=n&&u<=a&&l.push(e[m]);var g=(p+1)%2;(0===p?r<=s:n<=u)&&(c.push(f),c.push(m-1),c.push(g)),(0===p?i>=s:a>=u)&&(c.push(m+1),c.push(h),c.push(g))}}return l}(this.ids,this.coords,e,t,r,n,this.nodeSize)}},{key:"within",value:function(e,t,r){return function(e,t,r,n,i,a){for(var o=[0,e.length-1,0],s=[],u=i*i;o.length;){var l=o.pop(),p=o.pop(),h=o.pop();if(p-h<=a)for(var f=h;f<=p;f++)c(t[2*f],t[2*f+1],r,n)<=u&&s.push(e[f]);else{var d=Math.floor((h+p)/2),m=t[2*d],g=t[2*d+1];c(m,g,r,n)<=u&&s.push(e[d]);var v=(l+1)%2;(0===l?r-i<=m:n-i<=g)&&(o.push(h),o.push(d-1),o.push(v)),(0===l?r+i>=m:n+i>=g)&&(o.push(d+1),o.push(p),o.push(v))}}return s}(this.ids,this.coords,e,t,r,this.nodeSize)}}]),e}();r.d(t,"a",(function(){return d}));var f={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},d=function(){function e(t){Object(i.a)(this,e),this.options=w(Object.create(f),t),this.trees=new Array(this.options.maxZoom+1)}return Object(a.a)(e,[{key:"load",value:function(e){var t=this.options,r=t.log,n=t.minZoom,i=t.maxZoom,a=t.nodeSize;r&&console.time("total time");var o="prepare ".concat(e.length," points");r&&console.time(o),this.points=e;for(var s=[],u=0;u<e.length;u++)e[u].geometry&&s.push(g(e[u],u));this.trees[i+1]=new h(s,O,k,a,Float32Array),r&&console.timeEnd(o);for(var c=i;c>=n;c--){var l=+Date.now();s=this._cluster(s,c),this.trees[c]=new h(s,O,k,a,Float32Array),r&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-l)}return r&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var r=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var o=this.getClusters([r,n,180,a],t),s=this.getClusters([-180,n,i,a],t);return o.concat(s)}var u=this.trees[this._limitZoom(t)],c=u.range(b(r),_(a),b(i),_(n)),l=[],p=!0,h=!1,f=void 0;try{for(var d,m=c[Symbol.iterator]();!(p=(d=m.next()).done);p=!0){var g=d.value,y=u.points[g];l.push(y.numPoints?v(y):this.points[y.index])}}catch(x){h=!0,f=x}finally{try{p||null==m.return||m.return()}finally{if(h)throw f}}return l}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(n);var a=i.points[t];if(!a)throw new Error(n);var o=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=i.within(a.x,a.y,o),u=[],c=!0,l=!1,p=void 0;try{for(var h,f=s[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var d=h.value,m=i.points[d];m.parentId===e&&u.push(m.numPoints?v(m):this.points[m.index])}}catch(g){l=!0,p=g}finally{try{c||null==f.return||f.return()}finally{if(l)throw p}}if(0===u.length)throw new Error(n);return u}},{key:"getLeaves",value:function(e,t,r){t=t||10,r=r||0;var n=[];return this._appendLeaves(n,e,t,r,0),n}},{key:"getTile",value:function(e,t,r){var n=this.trees[this._limitZoom(e)],i=Math.pow(2,e),a=this.options,o=a.extent,s=a.radius/o,u=(r-s)/i,c=(r+1+s)/i,l={features:[]};return this._addTileFeatures(n.range((t-s)/i,u,(t+1+s)/i,c),n.points,t,r,i,l),0===t&&this._addTileFeatures(n.range(1-s/i,u,1,c),n.points,i,r,i,l),t===i-1&&this._addTileFeatures(n.range(0,u,s/i,c),n.points,-1,r,i,l),l.features.length?l:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,r,n,i){var a=this.getChildren(t),o=!0,s=!1,u=void 0;try{for(var c,l=a[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var p=c.value,h=p.properties;if(h&&h.cluster?i+h.point_count<=n?i+=h.point_count:i=this._appendLeaves(e,h.cluster_id,r,n,i):i<n?i++:e.push(p),e.length===r)break}}catch(f){s=!0,u=f}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return i}},{key:"_addTileFeatures",value:function(e,t,r,n,i,a){var o=!0,s=!1,u=void 0;try{for(var c,l=e[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var p=t[c.value],h=p.numPoints,f={type:1,geometry:[[Math.round(this.options.extent*(p.x*i-r)),Math.round(this.options.extent*(p.y*i-n))]],tags:h?y(p):this.points[p.index].properties},d=void 0;h?d=p.id:this.options.generateId?d=p.index:this.points[p.index].id&&(d=this.points[p.index].id),void 0!==d&&(f.id=d),a.features.push(f)}}catch(m){s=!0,u=m}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var r=[],n=this.options,i=n.radius,a=n.extent,o=n.reduce,s=i/(a*Math.pow(2,t)),u=0;u<e.length;u++){var c=e[u];if(!(c.zoom<=t)){c.zoom=t;var l=this.trees[t+1],p=l.within(c.x,c.y,s),h=c.numPoints||1,f=c.x*h,d=c.y*h,g=o&&h>1?this._map(c,!0):null,v=(u<<5)+(t+1)+this.points.length,y=!0,b=!1,_=void 0;try{for(var x,w=p[Symbol.iterator]();!(y=(x=w.next()).done);y=!0){var O=x.value,k=l.points[O];if(!(k.zoom<=t)){k.zoom=t;var E=k.numPoints||1;f+=k.x*E,d+=k.y*E,h+=E,k.parentId=v,o&&(g||(g=this._map(c,!0)),o(g,this._map(k)))}}}catch(T){b=!0,_=T}finally{try{y||null==w.return||w.return()}finally{if(b)throw _}}1===h?r.push(c):(c.parentId=v,r.push(m(f/h,d/h,v,h,g)))}}return r}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t){if(e.numPoints)return t?w({},e.properties):e.properties;var r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?w({},n):n}}]),e}();function m(e,t,r,n,i){return{x:e,y:t,zoom:1/0,id:r,parentId:-1,numPoints:n,properties:i}}function g(e,t){var r=Object(n.a)(e.geometry.coordinates,2),i=r[0],a=r[1];return{x:b(i),y:_(a),zoom:1/0,index:t,parentId:-1}}function v(e){return{type:"Feature",id:e.id,properties:y(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),x(e.y)]}};var t}function y(e){var t=e.numPoints,r=t>=1e4?"".concat(Math.round(t/1e3),"k"):t>=1e3?"".concat(Math.round(t/100)/10,"k"):t;return w(w({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function b(e){return e/360+.5}function _(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function x(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function w(e,t){for(var r in t)e[r]=t[r];return e}function O(e){return e.x}function k(e){return e.y}},function(e,t,r){"use strict";var n=r(4),i=r(136),a=r(198),o=r.n(a);function s(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}var u=r(30),c=r(21),l=r(41),p=r(35),h=r(50),f=r(40),d=r(9),m=r(72),g=r(107),v=[34069,34070,34071,34072,34073,34074],y=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(u.a)(this,t),Object(g.b)(e),(r=Object(l.a)(this,Object(p.a)(t).call(this,e,Object.assign({},n,{target:34067})))).initialize(n),Object.seal(Object(h.a)(r)),r}return Object(f.a)(t,e),Object(c.a)(t,[{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.mipmaps,n=void 0===r||r,i=t.parameters,a=void 0===i?{}:i;this.opts=t,this.setCubeMapImageData(t).then((function(){e.loaded=!0,n&&e.generateMipmap(t),e.setParameters(a)}))}},{key:"subImage",value:function(e){var t=e.face,r=e.data,n=e.x,i=void 0===n?0:n,a=e.y,o=void 0===a?0:a,s=e.mipmapLevel,u=void 0===s?0:s;return this._subImage({target:t,data:r,x:i,y:o,mipmapLevel:u})}},{key:"setCubeMapImageData",value:function(){var e,t=(e=o.a.mark((function e(t){var r,n,i,a,s,u,c,l,p,h,f,m,g,y=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.width,n=t.height,i=t.pixels,a=t.data,s=t.border,u=void 0===s?0:s,c=t.format,l=void 0===c?6408:c,p=t.type,h=void 0===p?5121:p,f=this.gl,m=i||a,e.next=5,Promise.all(v.map((function(e){var t=m[e];return Promise.all(Array.isArray(t)?t:[t])})));case 5:g=e.sent,this.bind(),v.forEach((function(e,t){g[t].length>1&&!1!==y.opts.mipmaps&&d.h.warn("".concat(y.id," has mipmap and multiple LODs."))(),g[t].forEach((function(t,i){r&&n?f.texImage2D(e,i,l,r,n,u,l,h,t):f.texImage2D(e,i,l,l,h,t)}))})),this.unbind();case 9:case"end":return e.stop()}}),e,this)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){s(a,n,i,o,u,"next",e)}function u(e){s(a,n,i,o,u,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}()},{key:"setImageDataForFace",value:function(e){var t=this,r=e.face,n=e.width,i=e.height,a=e.pixels,o=e.data,s=e.border,u=void 0===s?0:s,c=e.format,l=void 0===c?6408:c,p=e.type,h=void 0===p?5121:p,f=this.gl,d=a||o;return this.bind(),d instanceof Promise?d.then((function(n){return t.setImageDataForFace(Object.assign({},e,{face:r,data:n,pixels:n}))})):this.width||this.height?f.texImage2D(r,0,l,n,i,u,l,h,d):f.texImage2D(r,0,l,l,h,d),this}}]),t}(m.a);y.FACES=v;var b=r(105),_=r(53),x=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(u.a)(this,t),Object(g.a)(e),n=Object.assign({depth:1},n,{target:32879,unpackFlipY:!1}),(r=Object(l.a)(this,Object(p.a)(t).call(this,e,n))).initialize(n),Object.seal(Object(h.a)(r)),r}return Object(f.a)(t,e),Object(c.a)(t,null,[{key:"isSupported",value:function(e){return Object(d.g)(e)}}]),Object(c.a)(t,[{key:"setImageData",value:function(e){var t=this,r=e.level,n=void 0===r?0:r,i=e.dataFormat,a=void 0===i?6408:i,o=e.width,s=e.height,u=e.depth,c=void 0===u?1:u,l=e.border,p=void 0===l?0:l,h=e.format,f=e.type,m=void 0===f?5121:f,g=e.offset,v=void 0===g?0:g,y=e.data,x=e.parameters,w=void 0===x?{}:x;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),Object(d.l)(this.gl,w,(function(){ArrayBuffer.isView(y)&&t.gl.texImage3D(t.target,n,a,o,s,c,p,h,m,y),y instanceof _.a&&(t.gl.bindBuffer(35052,y.handle),t.gl.texImage3D(t.target,n,a,o,s,c,p,h,m,v))})),y&&y.byteLength)this._trackAllocatedMemory(y.byteLength,"Texture");else{var O=b.a[this.dataFormat]||4,k=b.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*O*k,"Texture")}return this.loaded=!0,this}}]),t}(m.a),w=r(93),O=r(29);function k(e,t){Object(O.a)(e instanceof i.a||e instanceof y||e instanceof x);var r=e.constructor,n=e.gl,a=e.width,o=e.height,s=e.format,u=e.type,c=e.dataFormat,l=e.border,p=e.mipmaps;return new r(n,Object.assign({width:a,height:o,format:s,type:u,dataFormat:c,border:l,mipmaps:p},t))}function E(e,t){var r=e.gl,i=e.width,a=e.height,o=e.id;return new w.a(r,Object.assign({},t,{id:"framebuffer-for-".concat(o),width:i,height:a,attachments:Object(n.a)({},36064,e)}))}r.d(t,"a",(function(){return k})),r.d(t,"b",(function(){return E}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(9);function i(e,t,r){var i=r.removedProps,a=void 0===i?{}:i,o=r.deprecatedProps,s=void 0===o?{}:o,u=r.replacedProps,c=void 0===u?{}:u;for(var l in a)if(l in t){var p=a[l]?"".concat(e,".").concat(a[l]):"N/A";n.h.removed("".concat(e,".").concat(l),p)()}for(var h in s)if(h in t){var f=s[h];n.h.deprecated("".concat(e,".").concat(h),"".concat(e,".").concat(f))()}var d=null;for(var m in c)if(m in t){var g=c[m];n.h.deprecated("".concat(e,".").concat(m),"".concat(e,".").concat(g))(),(d=d||Object.assign({},t))[g]=t[m],delete d[m]}return d||t}},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(42)),u=r.n(s),c=r(8),l=r(37),p=r(67),h=r(15),f="undefined"!==typeof window?o.a.useLayoutEffect:o.a.useEffect;var d=function(e){var t=e.children,r=e.defer,n=void 0!==r&&r,i=e.fallback,a=void 0===i?null:i,s=o.a.useState(!1),u=s[0],c=s[1];return f((function(){n||c(!0)}),[n]),o.a.useEffect((function(){n&&c(!0)}),[n]),o.a.createElement(o.a.Fragment,null,u?t:a)},m=!0,g=!1,v=null,y={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function b(e){e.metaKey||e.altKey||e.ctrlKey||(m=!0)}function _(){m=!1}function x(){"hidden"===this.visibilityState&&g&&(m=!0)}function w(e){var t=e.target;try{return t.matches(":focus-visible")}catch(r){}return m||function(e){var t=e.type,r=e.tagName;return!("INPUT"!==r||!y[t]||e.readOnly)||("TEXTAREA"===r&&!e.readOnly||!!e.isContentEditable)}(t)}function O(){g=!0,window.clearTimeout(v),v=window.setTimeout((function(){g=!1}),100)}function k(){return{isFocusVisible:w,onBlurVisible:O,ref:o.a.useCallback((function(e){var t,r=u.a.findDOMNode(e);null!=r&&((t=r.ownerDocument).addEventListener("keydown",b,!0),t.addEventListener("mousedown",_,!0),t.addEventListener("pointerdown",_,!0),t.addEventListener("touchstart",_,!0),t.addEventListener("visibilitychange",x,!0))}),[])}}var E=r(38),T=r(51),S=r(58),j=r(68),P=r(125);function C(e,t){var r=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&Object(a.isValidElement)(e)?t(e):e}(e)})),r}function A(e,t,r){return null!=r[t]?r[t]:e.props[t]}function M(e,t,r){var n=C(e.children),i=function(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var u in t){if(i[u])for(n=0;n<i[u].length;n++){var c=i[u][n];s[i[u][n]]=r(c)}s[u]=r(u)}for(n=0;n<a.length;n++)s[a[n]]=r(a[n]);return s}(t,n);return Object.keys(i).forEach((function(o){var s=i[o];if(Object(a.isValidElement)(s)){var u=o in t,c=o in n,l=t[o],p=Object(a.isValidElement)(l)&&!l.props.in;!c||u&&!p?c||!u||p?c&&u&&Object(a.isValidElement)(l)&&(i[o]=Object(a.cloneElement)(s,{onExited:r.bind(null,s),in:l.props.in,exit:A(s,"exit",e),enter:A(s,"enter",e)})):i[o]=Object(a.cloneElement)(s,{in:!1}):i[o]=Object(a.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:A(s,"exit",e),enter:A(s,"enter",e)})}})),i}var I=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},R=function(e){function t(t,r){var n,i=(n=e.call(this,t,r)||this).handleExited.bind(Object(j.a)(Object(j.a)(n)));return n.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},n}Object(S.a)(t,e);var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var r,n,i=t.children,o=t.handleExited;return{children:t.firstRender?(r=e,n=o,C(r.children,(function(e){return Object(a.cloneElement)(e,{onExited:n.bind(null,e),in:!0,appear:A(e,"appear",r),enter:A(e,"enter",r),exit:A(e,"exit",r)})}))):M(e,i,o),firstRender:!1}},r.handleExited=function(e,t){var r=C(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=Object(n.a)({},t.children);return delete r[e.key],{children:r}})))},r.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=Object(T.a)(e,["component","childFactory"]),i=this.state.contextValue,a=I(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===t?o.a.createElement(P.a.Provider,{value:i},a):o.a.createElement(P.a.Provider,{value:i},o.a.createElement(t,n,a))},t}(o.a.Component);R.propTypes={},R.defaultProps={component:"div",childFactory:function(e){return e}};var L=R,z="undefined"===typeof window?o.a.useEffect:o.a.useLayoutEffect;var D=function(e){var t=e.classes,r=e.pulsate,n=void 0!==r&&r,i=e.rippleX,a=e.rippleY,s=e.rippleSize,u=e.in,l=e.onExited,h=void 0===l?function(){}:l,f=e.timeout,d=o.a.useState(!1),m=d[0],g=d[1],v=Object(c.a)(t.ripple,t.rippleVisible,n&&t.ripplePulsate),y={width:s,height:s,top:-s/2+a,left:-s/2+i},b=Object(c.a)(t.child,m&&t.childLeaving,n&&t.childPulsate),_=Object(p.a)(h);return z((function(){if(!u){g(!0);var e=setTimeout(_,f);return function(){clearTimeout(e)}}}),[_,u,f]),o.a.createElement("span",{className:v,style:y},o.a.createElement("span",{className:b}))},F=o.a.forwardRef((function(e,t){var r=e.center,a=void 0!==r&&r,s=e.classes,u=e.className,l=Object(i.a)(e,["center","classes","className"]),p=o.a.useState([]),h=p[0],f=p[1],d=o.a.useRef(0),m=o.a.useRef(null);o.a.useEffect((function(){m.current&&(m.current(),m.current=null)}),[h]);var g=o.a.useRef(!1),v=o.a.useRef(null),y=o.a.useRef(null),b=o.a.useRef(null);o.a.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var _=o.a.useCallback((function(e){var t=e.pulsate,r=e.rippleX,n=e.rippleY,i=e.rippleSize,a=e.cb;f((function(e){return[].concat(Object(E.a)(e),[o.a.createElement(D,{key:d.current,classes:s,timeout:550,pulsate:t,rippleX:r,rippleY:n,rippleSize:i})])})),d.current+=1,m.current=a}),[s]),x=o.a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=t.pulsate,i=void 0!==n&&n,o=t.center,s=void 0===o?a||t.pulsate:o,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&g.current)g.current=!1;else{"touchstart"===e.type&&(g.current=!0);var l,p,h,f=c?null:b.current,d=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(d.width/2),p=Math.round(d.height/2);else{var m=e.clientX?e.clientX:e.touches[0].clientX,x=e.clientY?e.clientY:e.touches[0].clientY;l=Math.round(m-d.left),p=Math.round(x-d.top)}if(s)(h=Math.sqrt((2*Math.pow(d.width,2)+Math.pow(d.height,2))/3))%2===0&&(h+=1);else{var w=2*Math.max(Math.abs((f?f.clientWidth:0)-l),l)+2,O=2*Math.max(Math.abs((f?f.clientHeight:0)-p),p)+2;h=Math.sqrt(Math.pow(w,2)+Math.pow(O,2))}e.touches?(y.current=function(){_({pulsate:i,rippleX:l,rippleY:p,rippleSize:h,cb:r})},v.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):_({pulsate:i,rippleX:l,rippleY:p,rippleSize:h,cb:r})}}),[a,_]),w=o.a.useCallback((function(){x({},{pulsate:!0})}),[x]),O=o.a.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===e.type&&y.current)return e.persist(),y.current(),y.current=null,void(v.current=setTimeout((function(){O(e,t)})));y.current=null,f((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[]);return o.a.useImperativeHandle(t,(function(){return{pulsate:w,start:x,stop:O}}),[w,x,O]),o.a.createElement("span",Object(n.a)({className:Object(c.a)(s.root,u),ref:b},l),o.a.createElement(L,{component:null,exit:!0},h))}));var B,N=Object(h.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(((B=o.a.memo(F)).muiName="MuiTouchRipple",B)),q=o.a.forwardRef((function(e,t){var r=e.action,a=e.buttonRef,s=e.centerRipple,h=void 0!==s&&s,f=e.children,m=e.classes,g=e.className,v=e.component,y=void 0===v?"button":v,b=e.disabled,_=void 0!==b&&b,x=e.disableRipple,w=void 0!==x&&x,O=e.disableTouchRipple,E=void 0!==O&&O,T=e.focusRipple,S=void 0!==T&&T,j=e.focusVisibleClassName,P=e.onBlur,C=e.onClick,A=e.onFocus,M=e.onFocusVisible,I=e.onKeyDown,R=e.onKeyUp,L=e.onMouseDown,z=e.onMouseLeave,D=e.onMouseUp,F=e.onTouchEnd,B=e.onTouchMove,q=e.onTouchStart,U=e.onDragLeave,V=e.tabIndex,G=void 0===V?0:V,W=e.TouchRippleProps,H=e.type,Z=void 0===H?"button":H,X=Object(i.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),K=o.a.useRef(null);var Y=o.a.useRef(null),$=o.a.useState(!1),J=$[0],Q=$[1];_&&J&&Q(!1);var ee=k(),te=ee.isFocusVisible,re=ee.onBlurVisible,ne=ee.ref;function ie(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;return Object(p.a)((function(n){return t&&t(n),!r&&Y.current&&Y.current[e](n),!0}))}o.a.useImperativeHandle(r,(function(){return{focusVisible:function(){Q(!0),K.current.focus()}}}),[]),o.a.useEffect((function(){J&&S&&!w&&Y.current.pulsate()}),[w,S,J]);var ae=ie("start",L),oe=ie("stop",U),se=ie("stop",D),ue=ie("stop",(function(e){J&&e.preventDefault(),z&&z(e)})),ce=ie("start",q),le=ie("stop",F),pe=ie("stop",B),he=ie("stop",(function(e){J&&(re(e),Q(!1)),P&&P(e)}),!1),fe=Object(p.a)((function(e){_||(K.current||(K.current=e.currentTarget),te(e)&&(Q(!0),M&&M(e)),A&&A(e))})),de=function(){var e=u.a.findDOMNode(K.current);return y&&"button"!==y&&!("A"===e.tagName&&e.href)},me=o.a.useRef(!1),ge=Object(p.a)((function(e){S&&!me.current&&J&&Y.current&&" "===e.key&&(me.current=!0,e.persist(),Y.current.stop(e,(function(){Y.current.start(e)}))),I&&I(e),e.target===e.currentTarget&&de()&&"Enter"===e.key&&(e.preventDefault(),C&&C(e))})),ve=Object(p.a)((function(e){S&&" "===e.key&&Y.current&&J&&!e.defaultPrevented&&(me.current=!1,e.persist(),Y.current.stop(e,(function(){Y.current.pulsate(e)}))),R&&R(e),e.target===e.currentTarget&&de()&&" "===e.key&&!e.defaultPrevented&&(e.preventDefault(),C&&C(e))})),ye=y;"button"===ye&&X.href&&(ye="a");var be={};"button"===ye?(be.type=Z,be.disabled=_):("a"===ye&&X.href||(be.role="button"),be["aria-disabled"]=_);var _e=Object(l.a)(a,t),xe=Object(l.a)(ne,K),we=Object(l.a)(_e,xe);return o.a.createElement(ye,Object(n.a)({className:Object(c.a)(m.root,g,J&&[m.focusVisible,j],_&&m.disabled),onBlur:he,onClick:C,onFocus:fe,onKeyDown:ge,onKeyUp:ve,onMouseDown:ae,onMouseLeave:ue,onMouseUp:se,onDragLeave:oe,onTouchEnd:le,onTouchMove:pe,onTouchStart:ce,ref:we,tabIndex:_?-1:G},be,X),f,w||_?null:o.a.createElement(d,null,o.a.createElement(N,Object(n.a)({ref:Y,center:h},W))))}));t.a=Object(h.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(q)},,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(211),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,p=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var d=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var g="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||y}function x(){}function w(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||y}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=_.prototype;var O=w.prototype=new x;O.constructor=w,n(O,_.prototype),O.isPureReactComponent=!0;var k={current:null},E={current:null},T=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var n,i={},o=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,n)&&!S.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(n in u=e.defaultProps)void 0===i[n]&&(i[n]=u[n]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:E.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var C=/\/+/g,A=[];function M(e,t,r,n){if(A.length){var i=A.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function R(e,t,r){return null==e?0:function e(t,r,n,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case a:case o:u=!0}}if(u)return n(i,t,""===r?"."+L(t,0):r),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=r+L(s=t[c],c);u+=e(s,l,n,i)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=g&&t[g]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=r+L(s,c++),n,i);else if("object"===s)throw n=""+t,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return u}(e,"",t,r)}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function z(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,n,r,(function(e){return e})):null!=e&&(P(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(C,"$&/")+"/")+r)),n.push(e))}function F(e,t,r,n,i){var a="";null!=r&&(a=(""+r).replace(C,"$&/")+"/"),R(e,D,t=M(t,a,n,i)),I(t)}function B(){var e=k.current;if(null===e)throw Error(v(321));return e}var N={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return F(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;R(e,z,t=M(null,null,t,r)),I(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!P(e))throw Error(v(143));return e}},createRef:function(){return{current:null}},Component:_,PureComponent:w,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return B().useCallback(e,t)},useContext:function(e,t){return B().useContext(e,t)},useEffect:function(e,t){return B().useEffect(e,t)},useImperativeHandle:function(e,t,r){return B().useImperativeHandle(e,t,r)},useDebugValue:function(){},useLayoutEffect:function(e,t){return B().useLayoutEffect(e,t)},useMemo:function(e,t){return B().useMemo(e,t)},useReducer:function(e,t,r){return B().useReducer(e,t,r)},useRef:function(e){return B().useRef(e)},useState:function(e){return B().useState(e)},Fragment:s,Profiler:c,StrictMode:u,Suspense:f,createElement:j,cloneElement:function(e,t,r){if(null===e||void 0===e)throw Error(v(267,e));var i=n({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)T.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var p=0;p<l;p++)c[p]=arguments[p+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:u}},createFactory:function(e){var t=j.bind(null,e);return t.type=e,t},isValidElement:P,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:k,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:n}},q={default:N},U=q&&N||q;e.exports=U.default||U},function(e,t,r){"use strict";var n=r(0),i=r(211),a=r(290);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));var s=null,u={};function c(){if(s)for(var e in u){var t=u[e],r=s.indexOf(e);if(!(-1<r))throw Error(o(96,e));if(!p[r]){if(!t.extractEvents)throw Error(o(97,e));for(var n in p[r]=t,r=t.eventTypes){var i=void 0,a=r[n],c=t,f=n;if(h.hasOwnProperty(f))throw Error(o(99,f));h[f]=a;var d=a.phasedRegistrationNames;if(d){for(i in d)d.hasOwnProperty(i)&&l(d[i],c,f);i=!0}else a.registrationName?(l(a.registrationName,c,f),i=!0):i=!1;if(!i)throw Error(o(98,n,e))}}}}function l(e,t,r){if(f[e])throw Error(o(100,e));f[e]=t,d[e]=t.eventTypes[r].dependencies}var p=[],h={},f={},d={};function m(e,t,r,n,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(l){this.onError(l)}}var g=!1,v=null,y=!1,b=null,_={onError:function(e){g=!0,v=e}};function x(e,t,r,n,i,a,o,s,u){g=!1,v=null,m.apply(_,arguments)}var w=null,O=null,k=null;function E(e,t,r){var n=e.type||"unknown-event";e.currentTarget=k(r),function(e,t,r,n,i,a,s,u,c){if(x.apply(this,arguments),g){if(!g)throw Error(o(198));var l=v;g=!1,v=null,y||(y=!0,b=l)}}(n,t,void 0,e),e.currentTarget=null}function T(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function S(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var j=null;function P(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)E(e,t[n],r[n]);else t&&E(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function C(e){if(null!==e&&(j=T(j,e)),e=j,j=null,e){if(S(e,P),j)throw Error(o(95));if(y)throw e=b,y=!1,b=null,e}}var A={injectEventPluginOrder:function(e){if(s)throw Error(o(101));s=Array.prototype.slice.call(e),c()},injectEventPluginsByName:function(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!u.hasOwnProperty(t)||u[t]!==n){if(u[t])throw Error(o(102,t));u[t]=n,r=!0}}r&&c()}};function M(e,t){var r=e.stateNode;if(!r)return null;var n=w(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;I.hasOwnProperty("ReactCurrentDispatcher")||(I.ReactCurrentDispatcher={current:null}),I.hasOwnProperty("ReactCurrentBatchConfig")||(I.ReactCurrentBatchConfig={suspense:null});var R=/^(.*)[\\\/]/,L="function"===typeof Symbol&&Symbol.for,z=L?Symbol.for("react.element"):60103,D=L?Symbol.for("react.portal"):60106,F=L?Symbol.for("react.fragment"):60107,B=L?Symbol.for("react.strict_mode"):60108,N=L?Symbol.for("react.profiler"):60114,q=L?Symbol.for("react.provider"):60109,U=L?Symbol.for("react.context"):60110,V=L?Symbol.for("react.concurrent_mode"):60111,G=L?Symbol.for("react.forward_ref"):60112,W=L?Symbol.for("react.suspense"):60113,H=L?Symbol.for("react.suspense_list"):60120,Z=L?Symbol.for("react.memo"):60115,X=L?Symbol.for("react.lazy"):60116;L&&Symbol.for("react.fundamental"),L&&Symbol.for("react.responder"),L&&Symbol.for("react.scope");var K="function"===typeof Symbol&&Symbol.iterator;function Y(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=K&&e[K]||e["@@iterator"])?e:null}function $(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case F:return"Fragment";case D:return"Portal";case N:return"Profiler";case B:return"StrictMode";case W:return"Suspense";case H:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case U:return"Context.Consumer";case q:return"Context.Provider";case G:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Z:return $(e.type);case X:if(e=1===e._status?e._result:null)return $(e)}return null}function J(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,a=$(e.type);r=null,n&&(r=$(n.type)),n=a,a="",i?a=" (at "+i.fileName.replace(R,"")+":"+i.lineNumber+")":r&&(a=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+a}t+=r,e=e.return}while(e);return t}var Q=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),ee=null,te=null,re=null;function ne(e){if(e=O(e)){if("function"!==typeof ee)throw Error(o(280));var t=w(e.stateNode);ee(e.stateNode,e.type,t)}}function ie(e){te?re?re.push(e):re=[e]:te=e}function ae(){if(te){var e=te,t=re;if(re=te=null,ne(e),t)for(e=0;e<t.length;e++)ne(t[e])}}function oe(e,t){return e(t)}function se(e,t,r,n){return e(t,r,n)}function ue(){}var ce=oe,le=!1,pe=!1;function he(){null===te&&null===re||(ue(),ae())}new Map;var fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,de=Object.prototype.hasOwnProperty,me={},ge={};function ve(e,t,r,n,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ye[e]=new ve(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ye[t]=new ve(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ye[e]=new ve(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ye[e]=new ve(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ye[e]=new ve(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ye[e]=new ve(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){ye[e]=new ve(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){ye[e]=new ve(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){ye[e]=new ve(e,5,!1,e.toLowerCase(),null,!1)}));var be=/[\-:]([a-z])/g;function _e(e){return e[1].toUpperCase()}function xe(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function we(e,t,r,n){var i=ye.hasOwnProperty(t)?ye[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!de.call(ge,e)||!de.call(me,e)&&(fe.test(e)?ge[e]=!0:(me[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}function Oe(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ke(e){e._valueTracker||(e._valueTracker=function(e){var t=Oe(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Oe(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Te(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Se(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=xe(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function je(e,t){null!=(t=t.checked)&&we(e,"checked",t,!1)}function Pe(e,t){je(e,t);var r=xe(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ae(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ae(e,t.type,xe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Ae(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function Me(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ie(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+xe(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Le(e,t){var r=t.value;if(null==r){if(r=t.defaultValue,null!=(t=t.children)){if(null!=r)throw Error(o(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(o(93));t=t[0]}r=t}null==r&&(r="")}e._wrapperState={initialValue:xe(r)}}function ze(e,t){var r=xe(t.value),n=xe(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(be,_e);ye[t]=new ve(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(be,_e);ye[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(be,_e);ye[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){ye[e]=new ve(e,1,!1,e.toLowerCase(),null,!1)})),ye.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){ye[e]=new ve(e,1,!1,e.toLowerCase(),null,!0)}));var Fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Be(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var qe,Ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if(e.namespaceURI!==Fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((qe=qe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ve(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function Ge(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var We={animationend:Ge("Animation","AnimationEnd"),animationiteration:Ge("Animation","AnimationIteration"),animationstart:Ge("Animation","AnimationStart"),transitionend:Ge("Transition","TransitionEnd")},He={},Ze={};function Xe(e){if(He[e])return He[e];if(!We[e])return e;var t,r=We[e];for(t in r)if(r.hasOwnProperty(t)&&t in Ze)return He[e]=r[t];return e}Q&&(Ze=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);var Ke=Xe("animationend"),Ye=Xe("animationiteration"),$e=Xe("animationstart"),Je=Xe("transitionend"),Qe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function et(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function rt(e){if(et(e)!==e)throw Error(o(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return rt(i),e;if(a===n)return rt(i),t;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0,r=i,n=a;break}if(u===n){s=!0,n=i,r=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===r){s=!0,r=a,n=i;break}if(u===n){s=!0,n=a,r=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var it,at,ot,st=!1,ut=[],ct=null,lt=null,pt=null,ht=new Map,ft=new Map,dt=[],mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),gt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function vt(e,t,r,n){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:n}}function yt(e,t){switch(e){case"focus":case"blur":ct=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":pt=null;break;case"pointerover":case"pointerout":ht.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function bt(e,t,r,n,i){return null===e||e.nativeEvent!==i?(e=vt(t,r,n,i),null!==t&&(null!==(t=fn(t))&&at(t)),e):(e.eventSystemFlags|=n,e)}function _t(e){var t=hn(e.target);if(null!==t){var r=et(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=tt(r)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){ot(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function xt(e){if(null!==e.blockedOn)return!1;var t=Cr(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var r=fn(t);return null!==r&&at(r),e.blockedOn=t,!1}return!0}function wt(e,t,r){xt(e)&&r.delete(t)}function Ot(){for(st=!1;0<ut.length;){var e=ut[0];if(null!==e.blockedOn){null!==(e=fn(e.blockedOn))&&it(e);break}var t=Cr(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:ut.shift()}null!==ct&&xt(ct)&&(ct=null),null!==lt&&xt(lt)&&(lt=null),null!==pt&&xt(pt)&&(pt=null),ht.forEach(wt),ft.forEach(wt)}function kt(e,t){e.blockedOn===t&&(e.blockedOn=null,st||(st=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ot)))}function Et(e){function t(t){return kt(t,e)}if(0<ut.length){kt(ut[0],e);for(var r=1;r<ut.length;r++){var n=ut[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==ct&&kt(ct,e),null!==lt&&kt(lt,e),null!==pt&&kt(pt,e),ht.forEach(t),ft.forEach(t),r=0;r<dt.length;r++)(n=dt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<dt.length&&null===(r=dt[0]).blockedOn;)_t(r),null===r.blockedOn&&dt.shift()}function Tt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function St(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function jt(e,t,r){(t=M(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=T(r._dispatchListeners,t),r._dispatchInstances=T(r._dispatchInstances,e))}function Pt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=St(t);for(t=r.length;0<t--;)jt(r[t],"captured",e);for(t=0;t<r.length;t++)jt(r[t],"bubbled",e)}}function Ct(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=M(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=T(r._dispatchListeners,t),r._dispatchInstances=T(r._dispatchInstances,e))}function At(e){e&&e.dispatchConfig.registrationName&&Ct(e._targetInst,null,e)}function Mt(e){S(e,Pt)}function It(){return!0}function Rt(){return!1}function Lt(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?It:Rt,this.isPropagationStopped=Rt,this}function zt(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function Dt(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Ft(e){e.eventPool=[],e.getPooled=zt,e.release=Dt}i(Lt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=It)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=It)},persist:function(){this.isPersistent=It},isPersistent:Rt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Rt,this._dispatchInstances=this._dispatchListeners=null}}),Lt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Lt.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var a=new t;return i(a,r.prototype),r.prototype=a,r.prototype.constructor=r,r.Interface=i({},n.Interface,e),r.extend=n.extend,Ft(r),r},Ft(Lt);var Bt=Lt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Nt=Lt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qt=Lt.extend({view:null,detail:null}),Ut=qt.extend({relatedTarget:null});function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Gt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ht={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ht[e])&&!!t[e]}function Xt(){return Zt}for(var Kt=qt.extend({key:function(e){if(e.key){var t=Gt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Wt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Xt,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Yt=0,$t=0,Jt=!1,Qt=!1,er=qt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Xt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Yt;return Yt=e.screenX,Jt?"mousemove"===e.type?e.screenX-t:0:(Jt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=$t;return $t=e.screenY,Qt?"mousemove"===e.type?e.screenY-t:0:(Qt=!0,0)}}),tr=er.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),rr=er.extend({dataTransfer:null}),nr=qt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Xt}),ir=Lt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ar=er.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),or=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ke,"animationEnd",2],[Ye,"animationIteration",2],[$e,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],sr={},ur={},cr=0;cr<or.length;cr++){var lr=or[cr],pr=lr[0],hr=lr[1],fr=lr[2],dr="on"+(hr[0].toUpperCase()+hr.slice(1)),mr={phasedRegistrationNames:{bubbled:dr,captured:dr+"Capture"},dependencies:[pr],eventPriority:fr};sr[hr]=mr,ur[pr]=mr}var gr={eventTypes:sr,getEventPriority:function(e){return void 0!==(e=ur[e])?e.eventPriority:2},extractEvents:function(e,t,r,n){var i=ur[e];if(!i)return null;switch(e){case"keypress":if(0===Vt(r))return null;case"keydown":case"keyup":e=Kt;break;case"blur":case"focus":e=Ut;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=er;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=rr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=nr;break;case Ke:case Ye:case $e:e=Bt;break;case Je:e=ir;break;case"scroll":e=qt;break;case"wheel":e=ar;break;case"copy":case"cut":case"paste":e=Nt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=tr;break;default:e=Lt}return Mt(t=e.getPooled(i,t,r,n)),t}},vr=a.unstable_UserBlockingPriority,yr=a.unstable_runWithPriority,br=gr.getEventPriority,_r=10,xr=[];function wr(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=r.tag)&&6!==t||e.ancestors.push(r),r=hn(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=Tt(e.nativeEvent);n=e.topLevelType;for(var a=e.nativeEvent,o=e.eventSystemFlags,s=null,u=0;u<p.length;u++){var c=p[u];c&&(c=c.extractEvents(n,t,a,i,o))&&(s=T(s,c))}C(s)}}var Or=!0;function kr(e,t){Er(t,e,!1)}function Er(e,t,r){switch(br(t)){case 0:var n=Tr.bind(null,t,1);break;case 1:n=Sr.bind(null,t,1);break;default:n=Pr.bind(null,t,1)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function Tr(e,t,r){le||ue();var n=Pr,i=le;le=!0;try{se(n,e,t,r)}finally{(le=i)||he()}}function Sr(e,t,r){yr(vr,Pr.bind(null,e,t,r))}function jr(e,t,r,n){if(xr.length){var i=xr.pop();i.topLevelType=e,i.eventSystemFlags=t,i.nativeEvent=r,i.targetInst=n,e=i}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:r,targetInst:n,ancestors:[]};try{if(t=wr,r=e,pe)t(r,void 0);else{pe=!0;try{ce(t,r,void 0)}finally{pe=!1,he()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,xr.length<_r&&xr.push(e)}}function Pr(e,t,r){if(Or)if(0<ut.length&&-1<mt.indexOf(e))e=vt(null,e,t,r),ut.push(e);else{var n=Cr(e,t,r);null===n?yt(e,r):-1<mt.indexOf(e)?(e=vt(n,e,t,r),ut.push(e)):function(e,t,r,n){switch(t){case"focus":return ct=bt(ct,e,t,r,n),!0;case"dragenter":return lt=bt(lt,e,t,r,n),!0;case"mouseover":return pt=bt(pt,e,t,r,n),!0;case"pointerover":var i=n.pointerId;return ht.set(i,bt(ht.get(i)||null,e,t,r,n)),!0;case"gotpointercapture":return i=n.pointerId,ft.set(i,bt(ft.get(i)||null,e,t,r,n)),!0}return!1}(n,e,t,r)||(yt(e,r),jr(e,t,r,null))}}function Cr(e,t,r){var n=Tt(r);if(null!==(n=hn(n))){var i=et(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=tt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return jr(e,t,r,n),null}function Ar(e){if(!Q)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var Mr=new("function"===typeof WeakMap?WeakMap:Map);function Ir(e){var t=Mr.get(e);return void 0===t&&(t=new Set,Mr.set(e,t)),t}function Rr(e,t,r){if(!r.has(e)){switch(e){case"scroll":Er(t,"scroll",!0);break;case"focus":case"blur":Er(t,"focus",!0),Er(t,"blur",!0),r.add("blur"),r.add("focus");break;case"cancel":case"close":Ar(e)&&Er(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qe.indexOf(e)&&kr(e,t)}r.add(e)}}var Lr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zr=["Webkit","ms","Moz","O"];function Dr(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||Lr.hasOwnProperty(e)&&Lr[e]?(""+t).trim():t+"px"}function Fr(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=Dr(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(Lr).forEach((function(e){zr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lr[t]=Lr[e]}))}));var Br=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nr(e,t){if(t){if(Br[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function qr(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ur(e,t){var r=Ir(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=d[t];for(var n=0;n<t.length;n++)Rr(t[n],e,r)}function Vr(){}function Gr(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Wr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hr(e,t){var r,n=Wr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wr(n)}}function Zr(){for(var e=window,t=Gr();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Gr((e=t.contentWindow).document)}return t}function Xr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Kr="$",Yr="/$",$r="$?",Jr="$!",Qr=null,en=null;function tn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function rn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var nn="function"===typeof setTimeout?setTimeout:void 0,an="function"===typeof clearTimeout?clearTimeout:void 0;function on(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if(r===Kr||r===Jr||r===$r){if(0===t)return e;t--}else r===Yr&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),cn="__reactInternalInstance$"+un,ln="__reactEventHandlers$"+un,pn="__reactContainere$"+un;function hn(e){var t=e[cn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pn]||r[cn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=sn(e);null!==e;){if(r=e[cn])return r;e=sn(e)}return t}r=(e=r).parentNode}return null}function fn(e){return!(e=e[cn]||e[pn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function dn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function mn(e){return e[ln]||null}var gn=null,vn=null,yn=null;function bn(){if(yn)return yn;var e,t,r=vn,n=r.length,i="value"in gn?gn.value:gn.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[a-t];t++);return yn=i.slice(e,1<t?1-t:void 0)}var _n=Lt.extend({data:null}),xn=Lt.extend({data:null}),wn=[9,13,27,32],On=Q&&"CompositionEvent"in window,kn=null;Q&&"documentMode"in document&&(kn=document.documentMode);var En=Q&&"TextEvent"in window&&!kn,Tn=Q&&(!On||kn&&8<kn&&11>=kn),Sn=String.fromCharCode(32),jn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Pn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var In={eventTypes:jn,extractEvents:function(e,t,r,n){var i;if(On)e:{switch(e){case"compositionstart":var a=jn.compositionStart;break e;case"compositionend":a=jn.compositionEnd;break e;case"compositionupdate":a=jn.compositionUpdate;break e}a=void 0}else Mn?Cn(e,r)&&(a=jn.compositionEnd):"keydown"===e&&229===r.keyCode&&(a=jn.compositionStart);return a?(Tn&&"ko"!==r.locale&&(Mn||a!==jn.compositionStart?a===jn.compositionEnd&&Mn&&(i=bn()):(vn="value"in(gn=n)?gn.value:gn.textContent,Mn=!0)),a=_n.getPooled(a,t,r,n),i?a.data=i:null!==(i=An(r))&&(a.data=i),Mt(a),i=a):i=null,(e=En?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Pn=!0,Sn);case"textInput":return(e=t.data)===Sn&&Pn?null:e;default:return null}}(e,r):function(e,t){if(Mn)return"compositionend"===e||!On&&Cn(e,t)?(e=bn(),yn=vn=gn=null,Mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=xn.getPooled(jn.beforeInput,t,r,n)).data=e,Mt(t)):t=null,null===i?t:null===t?i:[i,t]}},Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}var zn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Dn(e,t,r){return(e=Lt.getPooled(zn.change,e,t,r)).type="change",ie(r),Mt(e),e}var Fn=null,Bn=null;function Nn(e){C(e)}function qn(e){if(Ee(dn(e)))return e}function Un(e,t){if("change"===e)return t}var Vn=!1;function Gn(){Fn&&(Fn.detachEvent("onpropertychange",Wn),Bn=Fn=null)}function Wn(e){if("value"===e.propertyName&&qn(Bn))if(e=Dn(Bn,e,Tt(e)),le)C(e);else{le=!0;try{oe(Nn,e)}finally{le=!1,he()}}}function Hn(e,t,r){"focus"===e?(Gn(),Bn=r,(Fn=t).attachEvent("onpropertychange",Wn)):"blur"===e&&Gn()}function Zn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Bn)}function Xn(e,t){if("click"===e)return qn(t)}function Kn(e,t){if("input"===e||"change"===e)return qn(t)}Q&&(Vn=Ar("input")&&(!document.documentMode||9<document.documentMode));var Yn,$n={eventTypes:zn,_isInputEventSupported:Vn,extractEvents:function(e,t,r,n){var i=t?dn(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=Un;else if(Ln(i))if(Vn)o=Kn;else{o=Zn;var s=Hn}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Xn);if(o&&(o=o(e,t)))return Dn(o,r,n);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ae(i,"number",i.value)}},Jn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qn={eventTypes:Jn,extractEvents:function(e,t,r,n,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(r.relatedTarget||r.fromElement)||!o&&!a)return null;if(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,null!==(t=(t=r.relatedTarget||r.toElement)?hn(t):null)&&(t!==(a=et(t))||5!==t.tag&&6!==t.tag)&&(t=null)):o=null,o===t)return null;if("mouseout"===e||"mouseover"===e)var s=er,u=Jn.mouseLeave,c=Jn.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=tr,u=Jn.pointerLeave,c=Jn.pointerEnter,l="pointer");if(e=null==o?i:dn(o),i=null==t?i:dn(t),(u=s.getPooled(u,o,r,n)).type=l+"leave",u.target=e,u.relatedTarget=i,(n=s.getPooled(c,t,r,n)).type=l+"enter",n.target=i,n.relatedTarget=e,l=t,(s=o)&&l)e:{for(e=l,o=0,t=c=s;t;t=St(t))o++;for(t=0,i=e;i;i=St(i))t++;for(;0<o-t;)c=St(c),o--;for(;0<t-o;)e=St(e),t--;for(;o--;){if(c===e||c===e.alternate)break e;c=St(c),e=St(e)}c=null}else c=null;for(e=c,c=[];s&&s!==e&&(null===(o=s.alternate)||o!==e);)c.push(s),s=St(s);for(s=[];l&&l!==e&&(null===(o=l.alternate)||o!==e);)s.push(l),l=St(l);for(l=0;l<c.length;l++)Ct(c[l],"bubbled",u);for(l=s.length;0<l--;)Ct(s[l],"captured",n);return r===Yn?(Yn=null,[u]):(Yn=r,[u,n])}};var ei="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ti=Object.prototype.hasOwnProperty;function ri(e,t){if(ei(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!ti.call(t,r[n])||!ei(e[r[n]],t[r[n]]))return!1;return!0}var ni=Q&&"documentMode"in document&&11>=document.documentMode,ii={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ai=null,oi=null,si=null,ui=!1;function ci(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ui||null==ai||ai!==Gr(r)?null:("selectionStart"in(r=ai)&&Xr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},si&&ri(si,r)?null:(si=r,(e=Lt.getPooled(ii.select,oi,e,t)).type="select",e.target=ai,Mt(e),e))}var li={eventTypes:ii,extractEvents:function(e,t,r,n){var i,a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(i=!a)){e:{a=Ir(a),i=d.onSelect;for(var o=0;o<i.length;o++)if(!a.has(i[o])){a=!1;break e}a=!0}i=!a}if(i)return null;switch(a=t?dn(t):window,e){case"focus":(Ln(a)||"true"===a.contentEditable)&&(ai=a,oi=t,si=null);break;case"blur":si=oi=ai=null;break;case"mousedown":ui=!0;break;case"contextmenu":case"mouseup":case"dragend":return ui=!1,ci(r,n);case"selectionchange":if(ni)break;case"keydown":case"keyup":return ci(r,n)}return null}};A.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=mn,O=fn,k=dn,A.injectEventPluginsByName({SimpleEventPlugin:gr,EnterLeaveEventPlugin:Qn,ChangeEventPlugin:$n,SelectEventPlugin:li,BeforeInputEventPlugin:In}),new Set;var pi=[],hi=-1;function fi(e){0>hi||(e.current=pi[hi],pi[hi]=null,hi--)}function di(e,t){hi++,pi[hi]=e.current,e.current=t}var mi={},gi={current:mi},vi={current:!1},yi=mi;function bi(e,t){var r=e.type.contextTypes;if(!r)return mi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function _i(e){return null!==(e=e.childContextTypes)&&void 0!==e}function xi(e){fi(vi),fi(gi)}function wi(e){fi(vi),fi(gi)}function Oi(e,t,r){if(gi.current!==mi)throw Error(o(168));di(gi,t),di(vi,r)}function ki(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in e))throw Error(o(108,$(t)||"Unknown",a));return i({},r,{},n)}function Ei(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||mi,yi=gi.current,di(gi,t),di(vi,vi.current),!0}function Ti(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(t=ki(e,t,yi),n.__reactInternalMemoizedMergedChildContext=t,fi(vi),fi(gi),di(gi,t)):fi(vi),di(vi,r)}var Si=a.unstable_runWithPriority,ji=a.unstable_scheduleCallback,Pi=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Mi=a.unstable_now,Ii=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Li=a.unstable_UserBlockingPriority,zi=a.unstable_NormalPriority,Di=a.unstable_LowPriority,Fi=a.unstable_IdlePriority,Bi={},Ni=void 0!==Ai?Ai:function(){},qi=null,Ui=null,Vi=!1,Gi=Mi(),Wi=1e4>Gi?Mi:function(){return Mi()-Gi};function Hi(){switch(Ii()){case Ri:return 99;case Li:return 98;case zi:return 97;case Di:return 96;case Fi:return 95;default:throw Error(o(332))}}function Zi(e){switch(e){case 99:return Ri;case 98:return Li;case 97:return zi;case 96:return Di;case 95:return Fi;default:throw Error(o(332))}}function Xi(e,t){return e=Zi(e),Si(e,t)}function Ki(e,t,r){return e=Zi(e),ji(e,t,r)}function Yi(e){return null===qi?(qi=[e],Ui=ji(Ri,Ji)):qi.push(e),Bi}function $i(){if(null!==Ui){var e=Ui;Ui=null,Pi(e)}Ji()}function Ji(){if(!Vi&&null!==qi){Vi=!0;var e=0;try{var t=qi;Xi(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),qi=null}catch(r){throw null!==qi&&(qi=qi.slice(e+1)),ji(Ri,$i),r}finally{Vi=!1}}}var Qi=3;function ea(e,t,r){return 1073741821-(1+((1073741821-e+t/10)/(r/=10)|0))*r}function ta(e,t){if(e&&e.defaultProps)for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var ra={current:null},na=null,ia=null,aa=null;function oa(){aa=ia=na=null}function sa(e,t){var r=e.type._context;di(ra,r._currentValue),r._currentValue=t}function ua(e){var t=ra.current;fi(ra),e.type._context._currentValue=t}function ca(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function la(e,t){na=e,aa=ia=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Wo=!0),e.firstContext=null)}function pa(e,t){if(aa!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(aa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ia){if(null===na)throw Error(o(308));ia=t,na.dependencies={expirationTime:0,firstContext:t,responders:null}}else ia=ia.next=t;return e._currentValue}var ha=!1;function fa(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function da(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ma(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function ga(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function va(e,t){var r=e.alternate;if(null===r){var n=e.updateQueue,i=null;null===n&&(n=e.updateQueue=fa(e.memoizedState))}else n=e.updateQueue,i=r.updateQueue,null===n?null===i?(n=e.updateQueue=fa(e.memoizedState),i=r.updateQueue=fa(r.memoizedState)):n=e.updateQueue=da(i):null===i&&(i=r.updateQueue=da(n));null===i||n===i?ga(n,t):null===n.lastUpdate||null===i.lastUpdate?(ga(n,t),ga(i,t)):(ga(n,t),i.lastUpdate=t)}function ya(e,t){var r=e.updateQueue;null===(r=null===r?e.updateQueue=fa(e.memoizedState):ba(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t)}function ba(e,t){var r=e.alternate;return null!==r&&t===r.updateQueue&&(t=e.updateQueue=da(t)),t}function _a(e,t,r,n,a,o){switch(r.tag){case 1:return"function"===typeof(e=r.payload)?e.call(o,n,a):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null===(a="function"===typeof(e=r.payload)?e.call(o,n,a):e)||void 0===a)break;return i({},n,a);case 2:ha=!0}return n}function xa(e,t,r,n,i){ha=!1;for(var a=(t=ba(e,t)).baseState,o=null,s=0,u=t.firstUpdate,c=a;null!==u;){var l=u.expirationTime;l<i?(null===o&&(o=u,a=c),s<l&&(s=l)):(Su(l,u.suspenseConfig),c=_a(e,0,u,c,r,n),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var p=u.expirationTime;p<i?(null===l&&(l=u,null===o&&(a=c)),s<p&&(s=p)):(c=_a(e,0,u,c,r,n),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===o&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===l&&(a=c),t.baseState=a,t.firstUpdate=o,t.firstCapturedUpdate=l,ju(s),e.expirationTime=s,e.memoizedState=c}function wa(e,t,r){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Oa(t.firstEffect,r),t.firstEffect=t.lastEffect=null,Oa(t.firstCapturedEffect,r),t.firstCapturedEffect=t.lastCapturedEffect=null}function Oa(e,t){for(;null!==e;){var r=e.callback;if(null!==r){e.callback=null;var n=t;if("function"!==typeof r)throw Error(o(191,r));r.call(n)}e=e.nextEffect}}var ka=I.ReactCurrentBatchConfig,Ea=(new n.Component).refs;function Ta(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:i({},t,r),e.memoizedState=r,null!==(n=e.updateQueue)&&0===e.expirationTime&&(n.baseState=r)}var Sa={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=du(),i=ka.suspense;(i=ma(n=mu(n,e,i),i)).payload=t,void 0!==r&&null!==r&&(i.callback=r),va(e,i),gu(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=du(),i=ka.suspense;(i=ma(n=mu(n,e,i),i)).tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),va(e,i),gu(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=du(),n=ka.suspense;(n=ma(r=mu(r,e,n),n)).tag=2,void 0!==t&&null!==t&&(n.callback=t),va(e,n),gu(e,r)}};function ja(e,t,r,n,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ri(r,n)||!ri(i,a))}function Pa(e,t,r){var n=!1,i=mi,a=t.contextType;return"object"===typeof a&&null!==a?a=pa(a):(i=_i(t)?yi:gi.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?bi(e,i):mi),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Sa,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ca(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Sa.enqueueReplaceState(t,t.state,null)}function Aa(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Ea;var a=t.contextType;"object"===typeof a&&null!==a?i.context=pa(a):(a=_i(t)?yi:gi.current,i.context=bi(e,a)),null!==(a=e.updateQueue)&&(xa(e,a,r,i,n),i.state=e.memoizedState),"function"===typeof(a=t.getDerivedStateFromProps)&&(Ta(e,t,a,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Sa.enqueueReplaceState(i,i.state,null),null!==(a=e.updateQueue)&&(xa(e,a,r,i,n),i.state=e.memoizedState)),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Ma=Array.isArray;function Ia(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===Ea&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function Ra(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function La(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,r){return(e=Xu(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,r,n){return null===t||6!==t.tag?((t=$u(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function c(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=Ia(e,t,r),n.return=e,n):((n=Ku(r.type,r.key,r.props,null,e.mode,n)).ref=Ia(e,t,r),n.return=e,n)}function l(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Ju(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function p(e,t,r,n,a){return null===t||7!==t.tag?((t=Yu(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=$u(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case z:return(r=Ku(t.type,t.key,t.props,null,e.mode,r)).ref=Ia(e,null,t),r.return=e,r;case D:return(t=Ju(t,e.mode,r)).return=e,t}if(Ma(t)||Y(t))return(t=Yu(t,e.mode,r,null)).return=e,t;Ra(e,t)}return null}function f(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:u(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case z:return r.key===i?r.type===F?p(e,t,r.props.children,n,i):c(e,t,r,n):null;case D:return r.key===i?l(e,t,r,n):null}if(Ma(r)||Y(r))return null!==i?null:p(e,t,r,n,null);Ra(e,r)}return null}function d(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return u(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case z:return e=e.get(null===n.key?r:n.key)||null,n.type===F?p(t,e,n.props.children,i,n.key):c(t,e,n,i);case D:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(Ma(n)||Y(n))return p(t,e=e.get(r)||null,n,i,null);Ra(t,n)}return null}function m(i,o,s,u){for(var c=null,l=null,p=o,m=o=0,g=null;null!==p&&m<s.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var v=f(i,p,s[m],u);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),o=a(v,o,m),null===l?c=v:l.sibling=v,l=v,p=g}if(m===s.length)return r(i,p),c;if(null===p){for(;m<s.length;m++)null!==(p=h(i,s[m],u))&&(o=a(p,o,m),null===l?c=p:l.sibling=p,l=p);return c}for(p=n(i,p);m<s.length;m++)null!==(g=d(p,i,m,s[m],u))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),o=a(g,o,m),null===l?c=g:l.sibling=g,l=g);return e&&p.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=Y(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var p=l=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===p?l=b:p.sibling=b,p=b,m=v}if(y.done)return r(i,m),l;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===p?l=y:p.sibling=y,p=y);return l}for(m=n(i,m);!y.done;g++,y=u.next())null!==(y=d(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===p?l=y:p.sibling=y,p=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,n,a,u){var c="object"===typeof a&&null!==a&&a.type===F&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case z:e:{for(l=a.key,c=n;null!==c;){if(c.key===l){if(7===c.tag?a.type===F:c.elementType===a.type){r(e,c.sibling),(n=i(c,a.type===F?a.props.children:a.props)).ref=Ia(e,c,a),n.return=e,e=n;break e}r(e,c);break}t(e,c),c=c.sibling}a.type===F?((n=Yu(a.props.children,e.mode,u,a.key)).return=e,e=n):((u=Ku(a.type,a.key,a.props,null,e.mode,u)).ref=Ia(e,n,a),u.return=e,e=u)}return s(e);case D:e:{for(c=a.key;null!==n;){if(n.key===c){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){r(e,n.sibling),(n=i(n,a.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Ju(a,e.mode,u)).return=e,e=n}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,a)).return=e,e=n):(r(e,n),(n=$u(a,e.mode,u)).return=e,e=n),s(e);if(Ma(a))return m(e,n,a,u);if(Y(a))return g(e,n,a,u);if(l&&Ra(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return r(e,n)}}var za=La(!0),Da=La(!1),Fa={},Ba={current:Fa},Na={current:Fa},qa={current:Fa};function Ua(e){if(e===Fa)throw Error(o(174));return e}function Va(e,t){di(qa,t),di(Na,e),di(Ba,Fa);var r=t.nodeType;switch(r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ne(null,"");break;default:t=Ne(t=(r=8===r?t.parentNode:t).namespaceURI||null,r=r.tagName)}fi(Ba),di(Ba,t)}function Ga(e){fi(Ba),fi(Na),fi(qa)}function Wa(e){Ua(qa.current);var t=Ua(Ba.current),r=Ne(t,e.type);t!==r&&(di(Na,e),di(Ba,r))}function Ha(e){Na.current===e&&(fi(Ba),fi(Na))}var Za={current:0};function Xa(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||r.data===$r||r.data===Jr))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ka(e,t){return{responder:e,props:t}}var Ya=I.ReactCurrentDispatcher,$a=I.ReactCurrentBatchConfig,Ja=0,Qa=null,eo=null,to=null,ro=null,no=null,io=null,ao=0,oo=null,so=0,uo=!1,co=null,lo=0;function po(){throw Error(o(321))}function ho(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ei(e[r],t[r]))return!1;return!0}function fo(e,t,r,n,i,a){if(Ja=a,Qa=t,to=null!==e?e.memoizedState:null,Ya.current=null===to?Io:Ro,t=r(n,i),uo){do{uo=!1,lo+=1,to=null!==e?e.memoizedState:null,io=ro,oo=no=eo=null,Ya.current=Ro,t=r(n,i)}while(uo);co=null,lo=0}if(Ya.current=Mo,(e=Qa).memoizedState=ro,e.expirationTime=ao,e.updateQueue=oo,e.effectTag|=so,e=null!==eo&&null!==eo.next,Ja=0,io=no=ro=to=eo=Qa=null,ao=0,oo=null,so=0,e)throw Error(o(300));return t}function mo(){Ya.current=Mo,Ja=0,io=no=ro=to=eo=Qa=null,ao=0,oo=null,so=0,uo=!1,co=null,lo=0}function go(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===no?ro=no=e:no=no.next=e,no}function vo(){if(null!==io)io=(no=io).next,to=null!==(eo=to)?eo.next:null;else{if(null===to)throw Error(o(310));var e={memoizedState:(eo=to).memoizedState,baseState:eo.baseState,queue:eo.queue,baseUpdate:eo.baseUpdate,next:null};no=null===no?ro=e:no.next=e,to=eo.next}return no}function yo(e,t){return"function"===typeof t?t(e):t}function bo(e){var t=vo(),r=t.queue;if(null===r)throw Error(o(311));if(r.lastRenderedReducer=e,0<lo){var n=r.dispatch;if(null!==co){var i=co.get(r);if(void 0!==i){co.delete(r);var a=t.memoizedState;do{a=e(a,i.action),i=i.next}while(null!==i);return ei(a,t.memoizedState)||(Wo=!0),t.memoizedState=a,t.baseUpdate===r.last&&(t.baseState=a),r.lastRenderedState=a,[a,n]}}return[t.memoizedState,n]}n=r.last;var s=t.baseUpdate;if(a=t.baseState,null!==s?(null!==n&&(n.next=null),n=s.next):n=null!==n?n.next:null,null!==n){var u=i=null,c=n,l=!1;do{var p=c.expirationTime;p<Ja?(l||(l=!0,u=s,i=a),p>ao&&ju(ao=p)):(Su(p,c.suspenseConfig),a=c.eagerReducer===e?c.eagerState:e(a,c.action)),s=c,c=c.next}while(null!==c&&c!==n);l||(u=s,i=a),ei(a,t.memoizedState)||(Wo=!0),t.memoizedState=a,t.baseUpdate=u,t.baseState=i,r.lastRenderedState=a}return[t.memoizedState,r.dispatch]}function _o(e){var t=go();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:yo,lastRenderedState:e}).dispatch=Ao.bind(null,Qa,e),[t.memoizedState,e]}function xo(e){return bo(yo)}function wo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===oo?(oo={lastEffect:null}).lastEffect=e.next=e:null===(t=oo.lastEffect)?oo.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,oo.lastEffect=e),e}function Oo(e,t,r,n){var i=go();so|=e,i.memoizedState=wo(t,r,void 0,void 0===n?null:n)}function ko(e,t,r,n){var i=vo();n=void 0===n?null:n;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==n&&ho(n,o.deps))return void wo(0,r,a,n)}so|=e,i.memoizedState=wo(t,r,a,n)}function Eo(e,t){return Oo(516,192,e,t)}function To(e,t){return ko(516,192,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(){}function Po(e,t){return go().memoizedState=[e,void 0===t?null:t],e}function Co(e,t){var r=vo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ho(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ao(e,t,r){if(!(25>lo))throw Error(o(301));var n=e.alternate;if(e===Qa||null!==n&&n===Qa)if(uo=!0,e={expirationTime:Ja,suspenseConfig:null,action:r,eagerReducer:null,eagerState:null,next:null},null===co&&(co=new Map),void 0===(r=co.get(t)))co.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}else{var i=du(),a=ka.suspense;a={expirationTime:i=mu(i,e,a),suspenseConfig:a,action:r,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)a.next=a;else{var u=s.next;null!==u&&(a.next=u),s.next=a}if(t.last=a,0===e.expirationTime&&(null===n||0===n.expirationTime)&&null!==(n=t.lastRenderedReducer))try{var c=t.lastRenderedState,l=n(c,r);if(a.eagerReducer=n,a.eagerState=l,ei(l,c))return}catch(p){}gu(e,i)}}var Mo={readContext:pa,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useResponder:po,useDeferredValue:po,useTransition:po},Io={readContext:pa,useCallback:Po,useContext:pa,useEffect:Eo,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Oo(4,36,So.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Oo(4,36,e,t)},useMemo:function(e,t){var r=go();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=go();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Qa,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},go().memoizedState=e},useState:_o,useDebugValue:jo,useResponder:Ka,useDeferredValue:function(e,t){var r=_o(e),n=r[0],i=r[1];return Eo((function(){a.unstable_next((function(){var r=$a.suspense;$a.suspense=void 0===t?null:t;try{i(e)}finally{$a.suspense=r}}))}),[e,t]),n},useTransition:function(e){var t=_o(!1),r=t[0],n=t[1];return[Po((function(t){n(!0),a.unstable_next((function(){var r=$a.suspense;$a.suspense=void 0===e?null:e;try{n(!1),t()}finally{$a.suspense=r}}))}),[e,r]),r]}},Ro={readContext:pa,useCallback:Co,useContext:pa,useEffect:To,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,ko(4,36,So.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ko(4,36,e,t)},useMemo:function(e,t){var r=vo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ho(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)},useReducer:bo,useRef:function(){return vo().memoizedState},useState:xo,useDebugValue:jo,useResponder:Ka,useDeferredValue:function(e,t){var r=xo(),n=r[0],i=r[1];return To((function(){a.unstable_next((function(){var r=$a.suspense;$a.suspense=void 0===t?null:t;try{i(e)}finally{$a.suspense=r}}))}),[e,t]),n},useTransition:function(e){var t=xo(),r=t[0],n=t[1];return[Co((function(t){n(!0),a.unstable_next((function(){var r=$a.suspense;$a.suspense=void 0===e?null:e;try{n(!1),t()}finally{$a.suspense=r}}))}),[e,r]),r]}},Lo=null,zo=null,Do=!1;function Fo(e,t){var r=Hu(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Bo(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function No(e){if(Do){var t=zo;if(t){var r=t;if(!Bo(e,t)){if(!(t=on(r.nextSibling))||!Bo(e,t))return e.effectTag=-1025&e.effectTag|2,Do=!1,void(Lo=e);Fo(Lo,r)}Lo=e,zo=on(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Do=!1,Lo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Lo=e}function Uo(e){if(e!==Lo)return!1;if(!Do)return qo(e),Do=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!rn(t,e.memoizedProps))for(t=zo;t;)Fo(e,t),t=on(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if(r===Yr){if(0===t){zo=on(e.nextSibling);break e}t--}else r!==Kr&&r!==Jr&&r!==$r||t++}e=e.nextSibling}zo=null}}else zo=Lo?on(e.stateNode.nextSibling):null;return!0}function Vo(){zo=Lo=null,Do=!1}var Go=I.ReactCurrentOwner,Wo=!1;function Ho(e,t,r,n){t.child=null===e?Da(t,null,r,n):za(t,e.child,r,n)}function Zo(e,t,r,n,i){r=r.render;var a=t.ref;return la(t,i),n=fo(e,t,r,n,a,i),null===e||Wo?(t.effectTag|=1,Ho(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ls(e,t,i))}function Xo(e,t,r,n,i,a){if(null===e){var o=r.type;return"function"!==typeof o||Zu(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ku(r.type,null,n,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ko(e,t,o,n,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(r=null!==(r=r.compare)?r:ri)(i,n)&&e.ref===t.ref)?ls(e,t,a):(t.effectTag|=1,(e=Xu(o,n)).ref=t.ref,e.return=t,t.child=e)}function Ko(e,t,r,n,i,a){return null!==e&&ri(e.memoizedProps,n)&&e.ref===t.ref&&(Wo=!1,i<a)?ls(e,t,a):$o(e,t,r,n,a)}function Yo(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function $o(e,t,r,n,i){var a=_i(r)?yi:gi.current;return a=bi(t,a),la(t,i),r=fo(e,t,r,n,a,i),null===e||Wo?(t.effectTag|=1,Ho(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ls(e,t,i))}function Jo(e,t,r,n,i){if(_i(r)){var a=!0;Ei(t)}else a=!1;if(la(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Pa(t,r,n),Aa(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=pa(c):c=bi(t,c=_i(r)?yi:gi.current);var l=r.getDerivedStateFromProps,p="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;p||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||u!==c)&&Ca(t,o,n,c),ha=!1;var h=t.memoizedState;u=o.state=h;var f=t.updateQueue;null!==f&&(xa(t,f,n,o,i),u=t.memoizedState),s!==n||h!==u||vi.current||ha?("function"===typeof l&&(Ta(t,r,l,n),u=t.memoizedState),(s=ha||ja(t,r,s,n,h,u,c))?(p||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),n=!1)}else o=t.stateNode,s=t.memoizedProps,o.props=t.type===t.elementType?s:ta(t.type,s),u=o.context,"object"===typeof(c=r.contextType)&&null!==c?c=pa(c):c=bi(t,c=_i(r)?yi:gi.current),(p="function"===typeof(l=r.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||u!==c)&&Ca(t,o,n,c),ha=!1,u=t.memoizedState,h=o.state=u,null!==(f=t.updateQueue)&&(xa(t,f,n,o,i),h=t.memoizedState),s!==n||u!==h||vi.current||ha?("function"===typeof l&&(Ta(t,r,l,n),h=t.memoizedState),(l=ha||ja(t,r,s,n,u,h,c))?(p||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,h,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,h,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=c,n=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),n=!1);return Qo(e,t,r,n,a,i)}function Qo(e,t,r,n,i,a){Yo(e,t);var o=0!==(64&t.effectTag);if(!n&&!o)return i&&Ti(t,r,!1),ls(e,t,a);n=t.stateNode,Go.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&o?(t.child=za(t,e.child,null,a),t.child=za(t,null,s,a)):Ho(e,t,s,a),t.memoizedState=n.state,i&&Ti(t,r,!0),t.child}function es(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Va(e,t.containerInfo)}var ts,rs,ns,is,as={dehydrated:null,retryTime:0};function os(e,t,r){var n,i=t.mode,a=t.pendingProps,o=Za.current,s=!1;if((n=0!==(64&t.effectTag))||(n=0!==(2&o)&&(null===e||null!==e.memoizedState)),n?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),di(Za,1&o),null===e){if(void 0!==a.fallback&&No(t),s){if(s=a.fallback,(a=Yu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(r=Yu(s,i,r,null)).return=t,a.sibling=r,t.memoizedState=as,t.child=a,r}return i=a.children,t.memoizedState=null,t.child=Da(t,null,i,r)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(r=Xu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(i=Xu(i,a,i.expirationTime)).return=t,r.sibling=i,r.childExpirationTime=0,t.memoizedState=as,t.child=r,i}return r=za(t,e.child,a.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=a.fallback,(a=Yu(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(r=Yu(s,i,r,null)).return=t,a.sibling=r,r.effectTag|=2,a.childExpirationTime=0,t.memoizedState=as,t.child=a,r}return t.memoizedState=null,t.child=za(t,e,a.children,r)}function ss(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),ca(e.return,t)}function us(e,t,r,n,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.last=n,o.tail=r,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function cs(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ho(e,t,n.children,r),0!==(2&(n=Za.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ss(e,r);else if(19===e.tag)ss(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(di(Za,n),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Xa(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),us(t,!1,i,r,a,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Xa(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}us(t,!0,r,null,a,t.lastEffect);break;case"together":us(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ls(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&ju(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Xu(e=t.child,e.pendingProps,e.expirationTime),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Xu(e,e.pendingProps,e.expirationTime)).return=t;r.sibling=null}return t.child}function ps(e){e.effectTag|=4}function hs(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fs(e){switch(e.tag){case 1:_i(e.type)&&xi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ga(),wi(),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Ha(e),null;case 13:return fi(Za),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return fi(Za),null;case 4:return Ga(),null;case 10:return ua(e),null;default:return null}}function ds(e,t){return{value:e,source:t,stack:J(t)}}ts=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},rs=function(){},ns=function(e,t,r,n,a){var o=e.memoizedProps;if(o!==n){var s,u,c=t.stateNode;switch(Ua(Ba.current),e=null,r){case"input":o=Te(c,o),n=Te(c,n),e=[];break;case"option":o=Me(c,o),n=Me(c,n),e=[];break;case"select":o=i({},o,{value:void 0}),n=i({},n,{value:void 0}),e=[];break;case"textarea":o=Re(c,o),n=Re(c,n),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(c.onclick=Vr)}for(s in Nr(r,n),r=null,o)if(!n.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in c=o[s])c.hasOwnProperty(u)&&(r||(r={}),r[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(f.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in n){var l=n[s];if(c=null!=o?o[s]:void 0,n.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(r||(r={}),r[u]=l[u])}else r||(e||(e=[]),e.push(s,r)),r=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,""+l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(f.hasOwnProperty(s)?(null!=l&&Ur(a,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}r&&(e=e||[]).push("style",r),a=e,(t.updateQueue=a)&&ps(t)}},is=function(e,t,r,n){r!==n&&ps(t)};var ms="function"===typeof WeakSet?WeakSet:Set;function gs(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=J(r)),null!==r&&$(r.type),t=t.value,null!==e&&1===e.tag&&$(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){Nu(e,r)}else t.current=null}function ys(e,t){switch(t.tag){case 0:case 11:case 15:bs(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:ta(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}function bs(e,t,r){if(null!==(r=null!==(r=r.updateQueue)?r.lastEffect:null)){var n=r=r.next;do{if(0!==(n.tag&e)){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}0!==(n.tag&t)&&(i=n.create,n.destroy=i()),n=n.next}while(n!==r)}}function _s(e,t,r){switch("function"===typeof Gu&&Gu(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;Xi(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var i=t;try{r()}catch(a){Nu(i,a)}}e=e.next}while(e!==n)}))}break;case 1:vs(t),"function"===typeof(r=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(r){Nu(e,r)}}(t,r);break;case 5:vs(t);break;case 4:ks(e,t,r)}}function xs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&xs(t)}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function Os(e){e:{for(var t=e.return;null!==t;){if(ws(t)){var r=t;break e}t=t.return}throw Error(o(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(o(161))}16&r.effectTag&&(Ve(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ws(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}for(var i=e;;){var a=5===i.tag||6===i.tag;if(a){var s=a?i.stateNode:i.stateNode.instance;if(r)if(n){var u=s;s=r,8===(a=t).nodeType?a.parentNode.insertBefore(u,s):a.insertBefore(u,s)}else t.insertBefore(s,r);else n?(8===(u=t).nodeType?(a=u.parentNode).insertBefore(s,u):(a=u).appendChild(s),null!==(u=u._reactRootContainer)&&void 0!==u||null!==a.onclick||(a.onclick=Vr)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ks(e,t,r){for(var n,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,c=a,l=r,p=c;;)if(_s(u,p,l),null!==p.child&&4!==p.tag)p.child.return=p,p=p.child;else{if(p===c)break;for(;null===p.sibling;){if(null===p.return||p.return===c)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i?(u=n,c=a.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(_s(e,a,r),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:bs(4,8,t);break;case 1:break;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(r[ln]=n,"input"===e&&"radio"===n.type&&null!=n.name&&je(r,n),qr(e,i),t=qr(e,n),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?Fr(r,u):"dangerouslySetInnerHTML"===s?Ue(r,u):"children"===s?Ve(r,u):we(r,s,u,t)}switch(e){case"input":Pe(r,n);break;case"textarea":ze(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?Ie(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Ie(r,!!n.multiple,n.defaultValue,!0):Ie(r,!!n.multiple,n.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(o(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,Et(t.containerInfo));break;case 12:break;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,tu=Wi()),null!==r)e:for(e=r;;){if(5===e.tag)a=e.stateNode,n?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=Dr("display",i));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break e;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}Ts(t);break;case 19:Ts(t);break;case 17:case 20:case 21:break;default:throw Error(o(163))}}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new ms),t.forEach((function(t){var n=Uu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var Ss="function"===typeof WeakMap?WeakMap:Map;function js(e,t,r){(r=ma(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){iu||(iu=!0,au=n),gs(e,t)},r}function Ps(e,t,r){(r=ma(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return gs(e,t),n(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===ou?ou=new Set([this]):ou.add(this),gs(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var Cs,As=Math.ceil,Ms=I.ReactCurrentDispatcher,Is=I.ReactCurrentOwner,Rs=0,Ls=8,zs=16,Ds=32,Fs=0,Bs=1,Ns=2,qs=3,Us=4,Vs=5,Gs=Rs,Ws=null,Hs=null,Zs=0,Xs=Fs,Ks=null,Ys=1073741823,$s=1073741823,Js=null,Qs=0,eu=!1,tu=0,ru=500,nu=null,iu=!1,au=null,ou=null,su=!1,uu=null,cu=90,lu=null,pu=0,hu=null,fu=0;function du(){return(Gs&(zs|Ds))!==Rs?1073741821-(Wi()/10|0):0!==fu?fu:fu=1073741821-(Wi()/10|0)}function mu(e,t,r){if(0===(2&(t=t.mode)))return 1073741823;var n=Hi();if(0===(4&t))return 99===n?1073741823:1073741822;if((Gs&zs)!==Rs)return Zs;if(null!==r)e=ea(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=ea(e,150,100);break;case 97:case 96:e=ea(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Ws&&e===Zs&&--e,e}function gu(e,t){if(50<pu)throw pu=0,hu=null,Error(o(185));if(null!==(e=vu(e,t))){var r=Hi();1073741823===t?(Gs&Ls)!==Rs&&(Gs&(zs|Ds))===Rs?xu(e):(bu(e),Gs===Rs&&$i()):bu(e),(4&Gs)===Rs||98!==r&&99!==r||(null===lu?lu=new Map([[e,t]]):(void 0===(r=lu.get(e))||r>t)&&lu.set(e,t))}}function vu(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(Ws===i&&(ju(t),Xs===Us&&tc(i,Zs)),rc(i,t)),i}function yu(e){var t=e.lastExpiredTime;return 0!==t?t:ec(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function bu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Yi(xu.bind(null,e));else{var t=yu(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=du();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=n)return;r!==Bi&&Pi(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?Yi(xu.bind(null,e)):Ki(n,_u.bind(null,e),{timeout:10*(1073741821-t)-Wi()}),e.callbackNode=t}}}function _u(e,t){if(fu=0,t)return nc(e,t=du()),bu(e),null;var r=yu(e);if(0!==r){if(t=e.callbackNode,(Gs&(zs|Ds))!==Rs)throw Error(o(327));if(Du(),e===Ws&&r===Zs||ku(e,r),null!==Hs){var n=Gs;Gs|=zs;for(var i=Tu();;)try{Cu();break}catch(u){Eu(e,u)}if(oa(),Gs=n,Ms.current=i,Xs===Bs)throw t=Ks,ku(e,r),tc(e,r),bu(e),t;if(null===Hs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=Xs,Ws=null,n){case Fs:case Bs:throw Error(o(345));case Ns:nc(e,2<r?2:r);break;case qs:if(tc(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Iu(i)),1073741823===Ys&&10<(i=tu+ru-Wi())){if(eu){var a=e.lastPingedTime;if(0===a||a>=r){e.lastPingedTime=r,ku(e,r);break}}if(0!==(a=yu(e))&&a!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=nn(Ru.bind(null,e),i);break}Ru(e);break;case Us:if(tc(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Iu(i)),eu&&(0===(i=e.lastPingedTime)||i>=r)){e.lastPingedTime=r,ku(e,r);break}if(0!==(i=yu(e))&&i!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}if(1073741823!==$s?n=10*(1073741821-$s)-Wi():1073741823===Ys?n=0:(n=10*(1073741821-Ys)-5e3,0>(n=(i=Wi())-n)&&(n=0),(r=10*(1073741821-r)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)&&(n=r)),10<n){e.timeoutHandle=nn(Ru.bind(null,e),n);break}Ru(e);break;case Vs:if(1073741823!==Ys&&null!==Js){a=Ys;var s=Js;if(0>=(n=0|s.busyMinDurationMs)?n=0:(i=0|s.busyDelayMs,n=(a=Wi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+n-a),10<n){tc(e,r),e.timeoutHandle=nn(Ru.bind(null,e),n);break}}Ru(e);break;default:throw Error(o(329))}if(bu(e),e.callbackNode===t)return _u.bind(null,e)}}return null}function xu(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)Ru(e);else{if((Gs&(zs|Ds))!==Rs)throw Error(o(327));if(Du(),e===Ws&&t===Zs||ku(e,t),null!==Hs){var r=Gs;Gs|=zs;for(var n=Tu();;)try{Pu();break}catch(i){Eu(e,i)}if(oa(),Gs=r,Ms.current=n,Xs===Bs)throw r=Ks,ku(e,t),tc(e,t),bu(e),r;if(null!==Hs)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ws=null,Ru(e),bu(e)}}return null}function wu(e,t){var r=Gs;Gs|=1;try{return e(t)}finally{(Gs=r)===Rs&&$i()}}function Ou(e,t){var r=Gs;Gs&=-2,Gs|=Ls;try{return e(t)}finally{(Gs=r)===Rs&&$i()}}function ku(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,an(r)),null!==Hs)for(r=Hs.return;null!==r;){var n=r;switch(n.tag){case 1:var i=n.type.childContextTypes;null!==i&&void 0!==i&&xi();break;case 3:Ga(),wi();break;case 5:Ha(n);break;case 4:Ga();break;case 13:case 19:fi(Za);break;case 10:ua(n)}r=r.return}Ws=e,Hs=Xu(e.current,null),Zs=t,Xs=Fs,Ks=null,$s=Ys=1073741823,Js=null,Qs=0,eu=!1}function Eu(e,t){for(;;){try{if(oa(),mo(),null===Hs||null===Hs.return)return Xs=Bs,Ks=t,null;e:{var r=e,n=Hs.return,i=Hs,a=t;if(t=Zs,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var o=a,s=0!==(1&Za.current),u=n;do{var c;if(c=13===u.tag){var l=u.memoizedState;if(null!==l)c=null!==l.dehydrated;else{var p=u.memoizedProps;c=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!s)}}if(c){var h=u.updateQueue;if(null===h){var f=new Set;f.add(o),u.updateQueue=f}else h.add(o);if(0===(2&u.mode)){if(u.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var d=ma(1073741823,null);d.tag=2,va(i,d)}i.expirationTime=1073741823;break e}a=void 0,i=t;var m=r.pingCache;if(null===m?(m=r.pingCache=new Ss,a=new Set,m.set(o,a)):void 0===(a=m.get(o))&&(a=new Set,m.set(o,a)),!a.has(i)){a.add(i);var g=qu.bind(null,r,o,i);o.then(g,g)}u.effectTag|=4096,u.expirationTime=t;break e}u=u.return}while(null!==u);a=Error(($(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+J(i))}Xs!==Vs&&(Xs=Ns),a=ds(a,i),u=n;do{switch(u.tag){case 3:o=a,u.effectTag|=4096,u.expirationTime=t,ya(u,js(u,o,t));break e;case 1:o=a;var v=u.type,y=u.stateNode;if(0===(64&u.effectTag)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===ou||!ou.has(y)))){u.effectTag|=4096,u.expirationTime=t,ya(u,Ps(u,o,t));break e}}u=u.return}while(null!==u)}Hs=Mu(Hs)}catch(b){t=b;continue}break}}function Tu(){var e=Ms.current;return Ms.current=Mo,null===e?Mo:e}function Su(e,t){e<Ys&&2<e&&(Ys=e),null!==t&&e<$s&&2<e&&($s=e,Js=t)}function ju(e){e>Qs&&(Qs=e)}function Pu(){for(;null!==Hs;)Hs=Au(Hs)}function Cu(){for(;null!==Hs&&!Ci();)Hs=Au(Hs)}function Au(e){var t=Cs(e.alternate,e,Zs);return e.memoizedProps=e.pendingProps,null===t&&(t=Mu(e)),Is.current=null,t}function Mu(e){Hs=e;do{var t=Hs.alternate;if(e=Hs.return,0===(2048&Hs.effectTag)){e:{var r=t,n=Zs,a=(t=Hs).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:_i(t.type)&&xi();break;case 3:Ga(),wi(),(a=t.stateNode).pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(null===r||null===r.child)&&Uo(t)&&ps(t),rs(t);break;case 5:Ha(t),n=Ua(qa.current);var s=t.type;if(null!==r&&null!=t.stateNode)ns(r,t,s,a,n),r.ref!==t.ref&&(t.effectTag|=128);else if(a){var u=Ua(Ba.current);if(Uo(t)){var c=(a=t).stateNode;r=a.type;var l=a.memoizedProps,p=n;switch(c[cn]=a,c[ln]=l,s=void 0,n=c,r){case"iframe":case"object":case"embed":kr("load",n);break;case"video":case"audio":for(c=0;c<Qe.length;c++)kr(Qe[c],n);break;case"source":kr("error",n);break;case"img":case"image":case"link":kr("error",n),kr("load",n);break;case"form":kr("reset",n),kr("submit",n);break;case"details":kr("toggle",n);break;case"input":Se(n,l),kr("invalid",n),Ur(p,"onChange");break;case"select":n._wrapperState={wasMultiple:!!l.multiple},kr("invalid",n),Ur(p,"onChange");break;case"textarea":Le(n,l),kr("invalid",n),Ur(p,"onChange")}for(s in Nr(r,l),c=null,l)l.hasOwnProperty(s)&&(u=l[s],"children"===s?"string"===typeof u?n.textContent!==u&&(c=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(c=["children",""+u]):f.hasOwnProperty(s)&&null!=u&&Ur(p,s));switch(r){case"input":ke(n),Ce(n,l,!0);break;case"textarea":ke(n),De(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=Vr)}s=c,a.updateQueue=s,(a=null!==s)&&ps(t)}else{r=t,p=s,l=a,c=9===n.nodeType?n:n.ownerDocument,u===Fe.html&&(u=Be(p)),u===Fe.html?"script"===p?((l=c.createElement("div")).innerHTML="<script><\/script>",c=l.removeChild(l.firstChild)):"string"===typeof l.is?c=c.createElement(p,{is:l.is}):(c=c.createElement(p),"select"===p&&(p=c,l.multiple?p.multiple=!0:l.size&&(p.size=l.size))):c=c.createElementNS(u,p),(l=c)[cn]=r,l[ln]=a,ts(l,t,!1,!1),t.stateNode=l;var h=n,d=qr(p=s,r=a);switch(p){case"iframe":case"object":case"embed":kr("load",l),n=r;break;case"video":case"audio":for(n=0;n<Qe.length;n++)kr(Qe[n],l);n=r;break;case"source":kr("error",l),n=r;break;case"img":case"image":case"link":kr("error",l),kr("load",l),n=r;break;case"form":kr("reset",l),kr("submit",l),n=r;break;case"details":kr("toggle",l),n=r;break;case"input":Se(l,r),n=Te(l,r),kr("invalid",l),Ur(h,"onChange");break;case"option":n=Me(l,r);break;case"select":l._wrapperState={wasMultiple:!!r.multiple},n=i({},r,{value:void 0}),kr("invalid",l),Ur(h,"onChange");break;case"textarea":Le(l,r),n=Re(l,r),kr("invalid",l),Ur(h,"onChange");break;default:n=r}Nr(p,n),c=void 0,u=p;var m=l,g=n;for(c in g)if(g.hasOwnProperty(c)){var v=g[c];"style"===c?Fr(m,v):"dangerouslySetInnerHTML"===c?null!=(v=v?v.__html:void 0)&&Ue(m,v):"children"===c?"string"===typeof v?("textarea"!==u||""!==v)&&Ve(m,v):"number"===typeof v&&Ve(m,""+v):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(f.hasOwnProperty(c)?null!=v&&Ur(h,c):null!=v&&we(m,c,v,d))}switch(p){case"input":ke(l),Ce(l,r,!1);break;case"textarea":ke(l),De(l);break;case"option":null!=r.value&&l.setAttribute("value",""+xe(r.value));break;case"select":(n=l).multiple=!!r.multiple,null!=(l=r.value)?Ie(n,!!r.multiple,l,!1):null!=r.defaultValue&&Ie(n,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof n.onClick&&(l.onclick=Vr)}(a=tn(s,a))&&ps(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(o(166));break;case 6:if(r&&null!=t.stateNode)is(r,t,r.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(o(166));n=Ua(qa.current),Ua(Ba.current),Uo(t)?(s=(a=t).stateNode,n=a.memoizedProps,s[cn]=a,(a=s.nodeValue!==n)&&ps(t)):(s=t,(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[cn]=s,t.stateNode=a)}break;case 11:break;case 13:if(fi(Za),a=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=n;break e}a=null!==a,s=!1,null===r?void 0!==t.memoizedProps.fallback&&Uo(t):(s=null!==(n=r.memoizedState),a||null===n||null!==(n=r.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=n,n.nextEffect=l):(t.firstEffect=t.lastEffect=n,n.nextEffect=null),n.effectTag=8)),a&&!s&&0!==(2&t.mode)&&(null===r&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Za.current)?Xs===Fs&&(Xs=qs):(Xs!==Fs&&Xs!==qs||(Xs=Us),0!==Qs&&null!==Ws&&(tc(Ws,Zs),rc(Ws,Qs)))),(a||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Ga(),rs(t);break;case 10:ua(t);break;case 9:case 14:break;case 17:_i(t.type)&&xi();break;case 19:if(fi(Za),null===(a=t.memoizedState))break;if(s=0!==(64&t.effectTag),null===(l=a.rendering)){if(s)hs(a,!1);else if(Xs!==Fs||null!==r&&0!==(64&r.effectTag))for(r=t.child;null!==r;){if(null!==(l=Xa(r))){for(t.effectTag|=64,hs(a,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===a.lastEffect&&(t.firstEffect=null),t.lastEffect=a.lastEffect,a=n,s=t.child;null!==s;)r=a,(n=s).effectTag&=2,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null,null===(l=n.alternate)?(n.childExpirationTime=0,n.expirationTime=r,n.child=null,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null):(n.childExpirationTime=l.childExpirationTime,n.expirationTime=l.expirationTime,n.child=l.child,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,r=l.dependencies,n.dependencies=null===r?null:{expirationTime:r.expirationTime,firstContext:r.firstContext,responders:r.responders}),s=s.sibling;di(Za,1&Za.current|2),t=t.child;break e}r=r.sibling}}else{if(!s)if(null!==(r=Xa(l))){if(t.effectTag|=64,s=!0,null!==(n=r.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate){null!==(t=t.lastEffect=a.lastEffect)&&(t.nextEffect=null);break}}else Wi()>a.tailExpiration&&1<n&&(t.effectTag|=64,s=!0,hs(a,!1),t.expirationTime=t.childExpirationTime=n-1);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}if(null!==a.tail){0===a.tailExpiration&&(a.tailExpiration=Wi()+500),n=a.tail,a.rendering=n,a.tail=n.sibling,a.lastEffect=t.lastEffect,n.sibling=null,a=Za.current,di(Za,a=s?1&a|2:1&a),t=n;break e}break;case 20:case 21:break;default:throw Error(o(156,t.tag))}t=null}if(a=Hs,1===Zs||1!==a.childExpirationTime){for(s=0,n=a.child;null!==n;)(r=n.expirationTime)>s&&(s=r),(l=n.childExpirationTime)>s&&(s=l),n=n.sibling;a.childExpirationTime=s}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Hs.firstEffect),null!==Hs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Hs.firstEffect),e.lastEffect=Hs.lastEffect),1<Hs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Hs:e.firstEffect=Hs,e.lastEffect=Hs))}else{if(null!==(t=fs(Hs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Hs.sibling))return t;Hs=e}while(null!==Hs);return Xs===Fs&&(Xs=Vs),null}function Iu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Ru(e){var t=Hi();return Xi(99,Lu.bind(null,e,t)),null}function Lu(e,t){do{Du()}while(null!==uu);if((Gs&(zs|Ds))!==Rs)throw Error(o(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Iu(r);if(e.firstPendingTime=i,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ws&&(Hs=Ws=null,Zs=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var a=Gs;Gs|=Ds,Is.current=null,Qr=Or;var s=Zr();if(Xr(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{u.nodeType,p.nodeType}catch(L){u=null;break e}var h=0,f=-1,d=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var b;v!==u||0!==l&&3!==v.nodeType||(f=h+l),v!==p||0!==c&&3!==v.nodeType||(d=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===u&&++m===l&&(f=h),y===p&&++g===c&&(d=h),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}u=-1===f||-1===d?null:{start:f,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;en={focusedElem:s,selectionRange:u},Or=!1,nu=i;do{try{zu()}catch(L){if(null===nu)throw Error(o(330));Nu(nu,L),nu=nu.nextEffect}}while(null!==nu);nu=i;do{try{for(s=e,u=t;null!==nu;){var _=nu.effectTag;if(16&_&&Ve(nu.stateNode,""),128&_){var x=nu.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&_){case 2:Os(nu),nu.effectTag&=-3;break;case 6:Os(nu),nu.effectTag&=-3,Es(nu.alternate,nu);break;case 1024:nu.effectTag&=-1025;break;case 1028:nu.effectTag&=-1025,Es(nu.alternate,nu);break;case 4:Es(nu.alternate,nu);break;case 8:ks(s,l=nu,u),xs(l)}nu=nu.nextEffect}}catch(L){if(null===nu)throw Error(o(330));Nu(nu,L),nu=nu.nextEffect}}while(null!==nu);if(w=en,x=Zr(),_=w.focusedElem,u=w.selectionRange,x!==_&&_&&_.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(_.ownerDocument.documentElement,_)){null!==u&&Xr(_)&&(x=u.start,void 0===(w=u.end)&&(w=x),"selectionStart"in _?(_.selectionStart=x,_.selectionEnd=Math.min(w,_.value.length)):(w=(x=_.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),l=_.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!w.extend&&s>u&&(l=u,u=s,s=l),l=Hr(_,s),p=Hr(_,u),l&&p&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==p.node||w.focusOffset!==p.offset)&&((x=x.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),s>u?(w.addRange(x),w.extend(p.node,p.offset)):(x.setEnd(p.node,p.offset),w.addRange(x))))),x=[];for(w=_;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<x.length;_++)(w=x[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}en=null,Or=!!Qr,Qr=null,e.current=r,nu=i;do{try{for(_=n;null!==nu;){var O=nu.effectTag;if(36&O){var k=nu.alternate;switch(w=_,(x=nu).tag){case 0:case 11:case 15:bs(16,32,x);break;case 1:var E=x.stateNode;if(4&x.effectTag)if(null===k)E.componentDidMount();else{var T=x.elementType===x.type?k.memoizedProps:ta(x.type,k.memoizedProps);E.componentDidUpdate(T,k.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var S=x.updateQueue;null!==S&&wa(0,S,E);break;case 3:var j=x.updateQueue;if(null!==j){if(s=null,null!==x.child)switch(x.child.tag){case 5:s=x.child.stateNode;break;case 1:s=x.child.stateNode}wa(0,j,s)}break;case 5:var P=x.stateNode;null===k&&4&x.effectTag&&tn(x.type,x.memoizedProps)&&P.focus();break;case 6:case 4:case 12:break;case 13:if(null===x.memoizedState){var C=x.alternate;if(null!==C){var A=C.memoizedState;if(null!==A){var M=A.dehydrated;null!==M&&Et(M)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(o(163))}}if(128&O){x=void 0;var I=nu.ref;if(null!==I){var R=nu.stateNode;switch(nu.tag){case 5:x=R;break;default:x=R}"function"===typeof I?I(x):I.current=x}}nu=nu.nextEffect}}catch(L){if(null===nu)throw Error(o(330));Nu(nu,L),nu=nu.nextEffect}}while(null!==nu);nu=null,Ni(),Gs=a}else e.current=r;if(su)su=!1,uu=e,cu=t;else for(nu=i;null!==nu;)t=nu.nextEffect,nu.nextEffect=null,nu=t;if(0===(t=e.firstPendingTime)&&(ou=null),1073741823===t?e===hu?pu++:(pu=0,hu=e):pu=0,"function"===typeof Vu&&Vu(r.stateNode,n),bu(e),iu)throw iu=!1,e=au,au=null,e;return(Gs&Ls)!==Rs?null:($i(),null)}function zu(){for(;null!==nu;){var e=nu.effectTag;0!==(256&e)&&ys(nu.alternate,nu),0===(512&e)||su||(su=!0,Ki(97,(function(){return Du(),null}))),nu=nu.nextEffect}}function Du(){if(90!==cu){var e=97<cu?97:cu;return cu=90,Xi(e,Fu)}}function Fu(){if(null===uu)return!1;var e=uu;if(uu=null,(Gs&(zs|Ds))!==Rs)throw Error(o(331));var t=Gs;for(Gs|=Ds,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!==(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:bs(128,0,r),bs(0,64,r)}}catch(n){if(null===e)throw Error(o(330));Nu(e,n)}r=e.nextEffect,e.nextEffect=null,e=r}return Gs=t,$i(),!0}function Bu(e,t,r){va(e,t=js(e,t=ds(r,t),1073741823)),null!==(e=vu(e,1073741823))&&bu(e)}function Nu(e,t){if(3===e.tag)Bu(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Bu(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===ou||!ou.has(n))){va(r,e=Ps(r,e=ds(t,e),1073741823)),null!==(r=vu(r,1073741823))&&bu(r);break}}r=r.return}}function qu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),Ws===e&&Zs===r?Xs===Us||Xs===qs&&1073741823===Ys&&Wi()-tu<ru?ku(e,Zs):eu=!0:ec(e,r)&&(0!==(t=e.lastPingedTime)&&t<r||(e.lastPingedTime=r,e.finishedExpirationTime===r&&(e.finishedExpirationTime=0,e.finishedWork=null),bu(e)))}function Uu(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(t=mu(t=du(),e,null)),null!==(e=vu(e,t))&&bu(e)}Cs=function(e,t,r){var n=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||vi.current)Wo=!0;else{if(n<r){switch(Wo=!1,t.tag){case 3:es(t),Vo();break;case 5:if(Wa(t),4&t.mode&&1!==r&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:_i(t.type)&&Ei(t);break;case 4:Va(t,t.stateNode.containerInfo);break;case 10:sa(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?os(e,t,r):(di(Za,1&Za.current),null!==(t=ls(e,t,r))?t.sibling:null);di(Za,1&Za.current);break;case 19:if(n=t.childExpirationTime>=r,0!==(64&e.effectTag)){if(n)return cs(e,t,r);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),di(Za,Za.current),!n)return null}return ls(e,t,r)}Wo=!1}}else Wo=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=bi(t,gi.current),la(t,r),i=fo(null,t,n,e,i,r),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,mo(),_i(n)){var a=!0;Ei(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=n.getDerivedStateFromProps;"function"===typeof s&&Ta(t,n,s,e),i.updater=Sa,t.stateNode=i,i._reactInternalFiber=t,Aa(t,n,e,r),t=Qo(null,t,n,!0,a,r)}else t.tag=0,Ho(null,t,i,r),t=t.child;return t;case 16:if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Zu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===G)return 11;if(e===Z)return 14}return 2}(i),e=ta(i,e),a){case 0:t=$o(null,t,i,e,r);break;case 1:t=Jo(null,t,i,e,r);break;case 11:t=Zo(null,t,i,e,r);break;case 14:t=Xo(null,t,i,ta(i.type,e),n,r);break;default:throw Error(o(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,$o(e,t,n,i=t.elementType===n?i:ta(n,i),r);case 1:return n=t.type,i=t.pendingProps,Jo(e,t,n,i=t.elementType===n?i:ta(n,i),r);case 3:if(es(t),null===(n=t.updateQueue))throw Error(o(282));if(i=null!==(i=t.memoizedState)?i.element:null,xa(t,n,t.pendingProps,null,r),(n=t.memoizedState.element)===i)Vo(),t=ls(e,t,r);else{if((i=t.stateNode.hydrate)&&(zo=on(t.stateNode.containerInfo.firstChild),Lo=t,i=Do=!0),i)for(r=Da(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Ho(e,t,n,r),Vo();t=t.child}return t;case 5:return Wa(t),null===e&&No(t),n=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,rn(n,i)?s=null:null!==a&&rn(n,a)&&(t.effectTag|=16),Yo(e,t),4&t.mode&&1!==r&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ho(e,t,s,r),t=t.child),t;case 6:return null===e&&No(t),null;case 13:return os(e,t,r);case 4:return Va(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=za(t,null,n,r):Ho(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Zo(e,t,n,i=t.elementType===n?i:ta(n,i),r);case 7:return Ho(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ho(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,sa(t,a=i.value),null!==s){var u=s.value;if(0===(a=ei(u,a)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!vi.current){t=ls(e,t,r);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===n&&0!==(l.observedBits&a)){1===u.tag&&((l=ma(r,null)).tag=2,va(u,l)),u.expirationTime<r&&(u.expirationTime=r),null!==(l=u.alternate)&&l.expirationTime<r&&(l.expirationTime=r),ca(u.return,r),c.expirationTime<r&&(c.expirationTime=r);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}Ho(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(a=t.pendingProps).children,la(t,r),n=n(i=pa(i,a.unstable_observedBits)),t.effectTag|=1,Ho(e,t,n,r),t.child;case 14:return a=ta(i=t.type,t.pendingProps),Xo(e,t,i,a=ta(i.type,a),n,r);case 15:return Ko(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ta(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,_i(n)?(e=!0,Ei(t)):e=!1,la(t,r),Pa(t,n,i),Aa(t,n,i,r),Qo(null,t,n,!0,e,r);case 19:return cs(e,t,r)}throw Error(o(156,t.tag))};var Vu=null,Gu=null;function Wu(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Hu(e,t,r,n){return new Wu(e,t,r,n)}function Zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Xu(e,t){var r=e.alternate;return null===r?((r=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ku(e,t,r,n,i,a){var s=2;if(n=e,"function"===typeof e)Zu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case F:return Yu(r.children,i,a,t);case V:s=8,i|=7;break;case B:s=8,i|=1;break;case N:return(e=Hu(12,r,t,8|i)).elementType=N,e.type=N,e.expirationTime=a,e;case W:return(e=Hu(13,r,t,i)).type=W,e.elementType=W,e.expirationTime=a,e;case H:return(e=Hu(19,r,t,i)).elementType=H,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case q:s=10;break e;case U:s=9;break e;case G:s=11;break e;case Z:s=14;break e;case X:s=16,n=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,r,t,i)).elementType=e,t.type=n,t.expirationTime=a,t}function Yu(e,t,r,n){return(e=Hu(7,e,n,t)).expirationTime=r,e}function $u(e,t,r){return(e=Hu(6,e,null,t)).expirationTime=r,e}function Ju(e,t,r){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qu(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ec(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function tc(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function rc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function nc(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function ic(e,t,r,n){var i=t.current,a=du(),s=ka.suspense;a=mu(a,i,s);e:if(r){t:{if(et(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(o(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(_i(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===r.tag){var c=r.type;if(_i(c)){r=ki(r,c,u);break e}}r=u}else r=mi;return null===t.context?t.context=r:t.pendingContext=r,(t=ma(a,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),va(i,t),gu(i,a),a}function ac(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function oc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function sc(e,t){oc(e,t),(e=e.alternate)&&oc(e,t)}function uc(e,t,r){var n=new Qu(e,t,r=null!=r&&!0===r.hydrate),i=Hu(3,null,null,2===t?7:1===t?3:0);n.current=i,i.stateNode=n,e[pn]=n.current,r&&0!==t&&function(e){var t=Ir(e);mt.forEach((function(r){Rr(r,e,t)})),gt.forEach((function(r){Rr(r,e,t)}))}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function cc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lc(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ac(o);s.call(e)}}ic(t,o,e,i)}else{if(a=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new uc(e,0,t?{hydrate:!0}:void 0)}(r,n),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=ac(o);u.call(e)}}Ou((function(){ic(t,o,e,i)}))}return ac(o)}function pc(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!cc(t))throw Error(o(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:D,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)}uc.prototype.render=function(e,t){ic(e,this._internalRoot,null,void 0===t?null:t)},uc.prototype.unmount=function(e){var t=this._internalRoot,r=void 0===e?null:e,n=t.containerInfo;ic(null,t,null,(function(){n[pn]=null,null!==r&&r()}))},it=function(e){if(13===e.tag){var t=ea(du(),150,100);gu(e,t),sc(e,t)}},at=function(e){if(13===e.tag){du();var t=Qi++;gu(e,t),sc(e,t)}},ot=function(e){if(13===e.tag){var t=du();gu(e,t=mu(t,e,null)),sc(e,t)}},ee=function(e,t,r){switch(t){case"input":if(Pe(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=mn(n);if(!i)throw Error(o(90));Ee(n),Pe(n,i)}}}break;case"textarea":ze(e,r);break;case"select":null!=(t=r.value)&&Ie(e,!!r.multiple,t,!1)}},oe=wu,se=function(e,t,r,n){var i=Gs;Gs|=4;try{return Xi(98,e.bind(null,t,r,n))}finally{(Gs=i)===Rs&&$i()}},ue=function(){(Gs&(1|zs|Ds))===Rs&&(function(){if(null!==lu){var e=lu;lu=null,e.forEach((function(e,t){nc(t,e),bu(t)})),$i()}}(),Du())},ce=function(e,t){var r=Gs;Gs|=2;try{return e(t)}finally{(Gs=r)===Rs&&$i()}};var hc={createPortal:pc,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},hydrate:function(e,t,r){if(!cc(t))throw Error(o(200));return lc(null,e,t,!0,r)},render:function(e,t,r){if(!cc(t))throw Error(o(200));return lc(null,e,t,!1,r)},unstable_renderSubtreeIntoContainer:function(e,t,r,n){if(!cc(r))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return lc(e,t,r,!1,n)},unmountComponentAtNode:function(e){if(!cc(e))throw Error(o(40));return!!e._reactRootContainer&&(Ou((function(){lc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pn]=null}))})),!0)},unstable_createPortal:function(){return pc.apply(void 0,arguments)},unstable_batchedUpdates:wu,flushSync:function(e,t){if((Gs&(zs|Ds))!==Rs)throw Error(o(187));var r=Gs;Gs|=1;try{return Xi(99,e.bind(null,t))}finally{Gs=r,$i()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[fn,dn,mn,A.injectEventPluginsByName,h,Mt,function(e){S(e,At)},ie,ae,Pr,C,Du,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);Vu=function(e){try{t.onCommitFiberRoot(r,e,void 0,64===(64&e.current.effectTag))}catch(n){}},Gu=function(e){try{t.onCommitFiberUnmount(r,e)}catch(n){}}}catch(n){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:hn,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"});var fc={default:hc},dc=fc&&hc||fc;e.exports=dc.default||dc},function(e,t,r){"use strict";e.exports=r(291)},function(e,t,r){"use strict";var n,i,a,o,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function e(){if(null!==u)try{var r=t.unstable_now();u(!0,r),u=null}catch(n){throw setTimeout(e,0),n}},p=Date.now();t.unstable_now=function(){return Date.now()-p},n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},a=function(){clearTimeout(c)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,f=window.Date,d=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var v=f.now();t.unstable_now=function(){return f.now()-v}}var y=!1,b=null,_=-1,x=5,w=0;o=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var O=new MessageChannel,k=O.port2;O.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();w=e+x;try{b(!0,e)?k.postMessage(null):(y=!1,b=null)}catch(r){throw k.postMessage(null),r}}else y=!1},n=function(e){b=e,y||(y=!0,k.postMessage(null))},i=function(e,r){_=d((function(){e(t.unstable_now())}),r)},a=function(){m(_),_=-1}}function E(e,t){var r=e.length;e.push(t);e:for(;;){var n=Math.floor((r-1)/2),i=e[n];if(!(void 0!==i&&0<j(i,t)))break e;e[n]=t,e[r]=i,r=n}}function T(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var a=2*(n+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>j(o,r))void 0!==u&&0>j(u,o)?(e[n]=u,e[s]=r,n=s):(e[n]=o,e[a]=r,n=a);else{if(!(void 0!==u&&0>j(u,r)))break e;e[n]=u,e[s]=r,n=s}}}return t}return null}function j(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var P=[],C=[],A=1,M=null,I=3,R=!1,L=!1,z=!1;function D(e){for(var t=T(C);null!==t;){if(null===t.callback)S(C);else{if(!(t.startTime<=e))break;S(C),t.sortIndex=t.expirationTime,E(P,t)}t=T(C)}}function F(e){if(z=!1,D(e),!L)if(null!==T(P))L=!0,n(B);else{var t=T(C);null!==t&&i(F,t.startTime-e)}}function B(e,r){L=!1,z&&(z=!1,a()),R=!0;var n=I;try{for(D(r),M=T(P);null!==M&&(!(M.expirationTime>r)||e&&!o());){var s=M.callback;if(null!==s){M.callback=null,I=M.priorityLevel;var u=s(M.expirationTime<=r);r=t.unstable_now(),"function"===typeof u?M.callback=u:M===T(P)&&S(P),D(r)}else S(P);M=T(P)}if(null!==M)var c=!0;else{var l=T(C);null!==l&&i(F,l.startTime-r),c=!1}return c}finally{M=null,I=n,R=!1}}function N(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var q=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=I;I=e;try{return t()}finally{I=r}},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var r=I;I=t;try{return e()}finally{I=r}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var u=o.delay;u="number"===typeof u&&0<u?s+u:s,o="number"===typeof o.timeout?o.timeout:N(e)}else o=N(e),u=s;return e={id:A++,callback:r,priorityLevel:e,startTime:u,expirationTime:o=u+o,sortIndex:-1},u>s?(e.sortIndex=u,E(C,e),null===T(P)&&e===T(C)&&(z?a():z=!0,i(F,u-s))):(e.sortIndex=o,E(P,e),L||R||(L=!0,n(B))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=I;return function(){var r=I;I=t;try{return e.apply(this,arguments)}finally{I=r}}},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_shouldYield=function(){var e=t.unstable_now();D(e);var r=T(P);return r!==M&&null!==M&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<M.expirationTime||o()},t.unstable_requestPaint=q,t.unstable_continueExecution=function(){L||R||(L=!0,n(B))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return T(P)},t.unstable_Profiling=null},function(e,t,r){"use strict";var n=r(293);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case p:case h:case o:case u:case s:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case v:case g:case c:return e;default:return t}}case a:return t}}}function w(e){return x(e)===h}t.typeOf=x,t.AsyncMode=p,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=d,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===u||e===s||e===d||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_)},t.isAsyncMode=function(e){return w(e)||x(e)===p},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===f},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===v},t.isMemo=function(e){return x(e)===g},t.isPortal=function(e){return x(e)===a},t.isProfiler=function(e){return x(e)===u},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===d}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isImmutable,r=void 0===t?a.default:t,s=e.ignore,l=o.default.bind(null,r,s);return function(e){var t=e.getState,r=t(),a=l(r),o=void 0;return function(e){return function(s){r=t(),o=a.detectMutations(),a=l(r),(0,n.default)(!o.wasMutated,u,(o.path||[]).join("."));var p=e(s);return r=t(),o=a.detectMutations(),a=l(r),o.wasMutated&&(0,n.default)(!o.wasMutated,c,(o.path||[]).join("."),(0,i.default)(s)),p}}}};var n=s(r(98)),i=s(r(297)),a=s(r(298)),o=s(r(299));function s(e){return e&&e.__esModule?e:{default:e}}var u=["A state mutation was detected between dispatches, in the path `%s`.","This may cause incorrect behavior.","(http://redux.js.org/docs/Troubleshooting.html#never-mutate-reducer-arguments)"].join(" "),c=["A state mutation was detected inside a dispatch, in the path: `%s`.","Take a look at the reducer(s) handling the action %s.","(http://redux.js.org/docs/Troubleshooting.html#never-mutate-reducer-arguments)"].join(" ")},function(e,t){function r(e,t){var r=[],n=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+n.slice(0,r.indexOf(t)).join(".")+"]"}),function(i,a){if(r.length>0){var o=r.indexOf(this);~o?r.splice(o+1):r.push(this),~o?n.splice(o,1/0,i):n.push(i),~r.indexOf(a)&&(a=t.call(this,i,a))}else r.push(a);return null==e?a:e.call(this,i,a)}}(e.exports=function(e,t,n,i){return JSON.stringify(e,r(t,i),n)}).getSerialize=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){return"object"!==("undefined"===typeof e?"undefined":n(e))||null===e||"undefined"===typeof e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a={value:n};if(!t(n))for(var o in a.children={},n){var s=i.concat(o);r.length&&-1!==r.indexOf(s.join("."))||(a.children[o]=e(t,r,n[o],s))}return a}(e,t,r);return{detectMutations:function(){return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],i=arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=n?n.value:void 0,u=s===i;if(a&&!u&&!Number.isNaN(i))return{wasMutated:!0,path:o};if(t(s)||t(i))return{wasMutated:!1};var c={};Object.keys(n.children).forEach((function(e){c[e]=!0})),Object.keys(i).forEach((function(e){c[e]=!0}));for(var l=Object.keys(c),p=0;p<l.length;p++){var h=l[p],f=o.concat(h);if(!r.length||-1===r.indexOf(f.join("."))){var d=e(t,r,n.children[h],i[h],u,f);if(d.wasMutated)return d}}return{wasMutated:!1}}(e,t,n,r)}}}},,,function(e,t,r){"use strict";var n=r(147),i=r(303);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"self",{enumerable:!0,get:function(){return a.self}}),Object.defineProperty(t,"window",{enumerable:!0,get:function(){return a.window}}),Object.defineProperty(t,"global",{enumerable:!0,get:function(){return a.global}}),Object.defineProperty(t,"document",{enumerable:!0,get:function(){return a.document}}),Object.defineProperty(t,"process",{enumerable:!0,get:function(){return a.process}}),Object.defineProperty(t,"console",{enumerable:!0,get:function(){return a.console}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"isBrowserMainThread",{enumerable:!0,get:function(){return o.isBrowserMainThread}}),Object.defineProperty(t,"getBrowser",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"isMobile",{enumerable:!0,get:function(){return s.isMobile}}),Object.defineProperty(t,"isElectron",{enumerable:!0,get:function(){return u.default}});var a=r(215),o=i(r(216)),s=i(r(304)),u=n(r(192))},function(e,t,r){var n=r(167);function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}},function(e,t,r){"use strict";var n=r(147);Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=function(){return"undefined"!==typeof i.window.orientation},t.default=function(e){if(!e&&!(0,a.default)())return"Node";if((0,o.default)(e))return"Electron";var t="undefined"!==typeof navigator?navigator:{},r=e||t.userAgent||"";if(r.indexOf("Edge")>-1)return"Edge";var n=-1!==r.indexOf("MSIE "),s=-1!==r.indexOf("Trident/");if(n||s)return"IE";if(i.window.chrome)return"Chrome";if(i.window.safari)return"Safari";if(i.window.mozInnerScreenX)return"Firefox";return"Unknown"};var i=r(215),a=n(r(216)),o=n(r(192))},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,r){var n=r(220);e.exports=n()},function(e,t,r){e.exports=function(e,t){t=t||{};var r=new i.Collection,o=Object.assign({debug:function(){},info:function(){},warn:console.warn,error:console.error},t&&t.log),s={hook:r,log:o,request:n.defaults(a(t,o,r))};return e.forEach((function(e){return e(s,t)})),s};var n=r(309).request,i=r(320),a=r(324)},function(e,t,r){"use strict";function n(e){return e&&"object"===typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(310),a=r(193),o=n(r(368)),s=n(r(315)),u=r(168);function c(e){(o(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));var t,r,n={};return(e.request&&e.request.fetch||s)(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then((function(i){r=i.url,t=i.status;var a=!0,o=!1,s=void 0;try{for(var c,l=i.headers[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var p=c.value;n[p[0]]=p[1]}}catch(f){o=!0,s=f}finally{try{a||null==l.return||l.return()}finally{if(o)throw s}}if(204!==t&&205!==t){if("HEAD"===e.method){if(t<400)return;throw new u.RequestError(i.statusText,t,{headers:n,request:e})}if(304===t)throw new u.RequestError("Not modified",t,{headers:n,request:e});if(t>=400)return i.text().then((function(r){var i=new u.RequestError(r,t,{headers:n,request:e});try{var a=JSON.parse(i.message);Object.assign(i,a);var o=a.errors;i.message=i.message+": "+o.map(JSON.stringify).join(", ")}catch(s){}throw i}));var h=i.headers.get("content-type");return/application\/json/.test(h)?i.json():!h||/^text\/|charset=utf-8$/.test(h)?i.text():function(e){return e.arrayBuffer()}(i)}})).then((function(e){return{status:t,url:r,headers:n,data:e}})).catch((function(t){if(t instanceof u.RequestError)throw t;throw new u.RequestError(t.message,500,{headers:n,request:e})}))}var l=function e(t,r){var n=t.defaults(r);return Object.assign((function(t,r){var i=n.merge(t,r);if(!i.request||!i.request.hook)return c(n.parse(i));var a=function(e,t){return c(n.parse(n.merge(e,t)))};return Object.assign(a,{endpoint:n,defaults:e.bind(null,n)}),i.request.hook(a,i)}),{endpoint:n,defaults:e.bind(null,n)})}(i.endpoint,{headers:{"user-agent":"octokit-request.js/".concat("5.3.1"," ").concat(a.getUserAgent())}});t.request=l},function(e,t,r){"use strict";var n=r(311),i=r(221);Object.defineProperty(t,"__esModule",{value:!0});var a,o=(a=r(369))&&"object"===typeof a&&"default"in a?a.default:a,s=r(193);function u(e,t,r){if("string"===typeof t){var a=t.split(" "),s=n(a,2),u=s[0],c=s[1];r=Object.assign(c?{method:u,url:c}:{url:u},r)}else r=Object.assign({},t);var l;r.headers=(l=r.headers)?Object.keys(l).reduce((function(e,t){return e[t.toLowerCase()]=l[t],e}),{}):{};var p=function e(t,r){var n=Object.assign({},t);return Object.keys(r).forEach((function(a){o(r[a])&&a in t?n[a]=e(t[a],r[a]):Object.assign(n,i({},a,r[a]))})),n}(e||{},r);return e&&e.mediaType.previews.length&&(p.mediaType.previews=e.mediaType.previews.filter((function(e){return!p.mediaType.previews.includes(e)})).concat(p.mediaType.previews)),p.mediaType.previews=p.mediaType.previews.map((function(e){return e.replace(/-preview/,"")})),p}var c=/\{[^}]+\}/g;function l(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function p(e,t){return Object.keys(e).filter((function(e){return!t.includes(e)})).reduce((function(t,r){return t[r]=e[r],t}),{})}function h(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map((function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e})).join("")}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function d(e,t,r){return t="+"===e||"#"===e?h(t):f(t),r?f(r)+"="+t:t}function m(e){return void 0!==e&&null!==e}function g(e){return";"===e||"&"===e||"?"===e}function v(e,t){var r=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,(function(e,n,i){if(n){var a="",o=[];if(-1!==r.indexOf(n.charAt(0))&&(a=n.charAt(0),n=n.substr(1)),n.split(/,/g).forEach((function(e){var r=/([^:\*]*)(?::(\d+)|(\*))?/.exec(e);o.push(function(e,t,r,n){var i=e[r],a=[];if(m(i)&&""!==i)if("string"===typeof i||"number"===typeof i||"boolean"===typeof i)i=i.toString(),n&&"*"!==n&&(i=i.substring(0,parseInt(n,10))),a.push(d(t,i,g(t)?r:""));else if("*"===n)Array.isArray(i)?i.filter(m).forEach((function(e){a.push(d(t,e,g(t)?r:""))})):Object.keys(i).forEach((function(e){m(i[e])&&a.push(d(t,i[e],e))}));else{var o=[];Array.isArray(i)?i.filter(m).forEach((function(e){o.push(d(t,e))})):Object.keys(i).forEach((function(e){m(i[e])&&(o.push(f(e)),o.push(d(t,i[e].toString())))})),g(t)?a.push(f(r)+"="+o.join(",")):0!==o.length&&a.push(o.join(","))}else";"===t?m(i)&&a.push(f(r)):""!==i||"&"!==t&&"?"!==t?""===i&&a.push(""):a.push(f(r)+"=");return a}(t,a,r[1],r[2]||r[3]))})),a&&"+"!==a){var s=",";return"?"===a?s="&":"#"!==a&&(s=a),(0!==o.length?a:"")+o.join(s)}return o.join(",")}return h(i)}))}function y(e){var t,r,n=e.method.toUpperCase(),i=(e.url||"/").replace(/:([a-z]\w+)/g,"{+$1}"),a=Object.assign({},e.headers),o=p(e,["method","baseUrl","url","headers","request","mediaType"]),s=function(e){var t=e.match(c);return t?t.map(l).reduce((function(e,t){return e.concat(t)}),[]):[]}(i);i=(r=i,{expand:v.bind(null,r)}).expand(o),/^http/.test(i)||(i=e.baseUrl+i);var u=p(o,Object.keys(e).filter((function(e){return s.includes(e)})).concat("baseUrl"));if(!/application\/octet-stream/i.test(a.accept)&&(e.mediaType.format&&(a.accept=a.accept.split(/,/).map((function(t){return t.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,"application/vnd$1$2.".concat(e.mediaType.format))})).join(",")),e.mediaType.previews.length)){var h=a.accept.match(/[\w-]+(?=-preview)/g)||[];a.accept=h.concat(e.mediaType.previews).map((function(t){var r=e.mediaType.format?".".concat(e.mediaType.format):"+json";return"application/vnd.github.".concat(t,"-preview").concat(r)})).join(",")}return["GET","HEAD"].includes(n)?i=function(e,t){var r=/\?/.test(e)?"&":"?",n=Object.keys(t);return 0===n.length?e:e+r+n.map((function(e){return"q"===e?"q="+t.q.split("+").map(encodeURIComponent).join("+"):"".concat(e,"=").concat(encodeURIComponent(t[e]))})).join("&")}(i,u):"data"in u?t=u.data:Object.keys(u).length?t=u:a["content-length"]=0,a["content-type"]||"undefined"===typeof t||(a["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(n)&&"undefined"===typeof t&&(t=""),Object.assign({method:n,url:i,headers:a},"undefined"!==typeof t?{body:t}:null,e.request?{request:e.request}:null)}function b(e,t,r){return y(u(e,t,r))}var _=function e(t,r){var n=u(t,r),i=b.bind(null,n);return Object.assign(i,{DEFAULTS:n,defaults:e.bind(null,n),merge:u.bind(null,n),parse:y})}(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":"octokit-endpoint.js/".concat("5.5.1"," ").concat(s.getUserAgent())},mediaType:{format:"",previews:[]}});t.endpoint=_},function(e,t,r){var n=r(312),i=r(313),a=r(314);e.exports=function(e,t){return n(e)||i(e,t)||a()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,r){"use strict";var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,t.default=n.fetch.bind(n),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},function(e,t){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=n=function(e){return r(e)}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,r){var n=r(196);function i(t,r,a){return!function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?e.exports=i=function(e,t,r){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return r&&n(a,r.prototype),a}:e.exports=i=Reflect.construct,i.apply(null,arguments)}e.exports=i},function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!==typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"===typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},function(e,t,r){var n=r(321),i=r(322),a=r(323),o=Function.bind,s=o.bind(o);function u(e,t,r){var n=s(a,null).apply(null,r?[t,r]:[t]);e.api={remove:n},e.remove=n,["before","error","after","wrap"].forEach((function(n){var a=r?[t,n,r]:[t,n];e[n]=e.api[n]=s(i,null).apply(null,a)}))}function c(){var e={registry:{}},t=n.bind(null,e);return u(t,e),t}var l=!1;function p(){return l||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),l=!0),c()}p.Singular=function(){var e={registry:{}},t=n.bind(null,e,"h");return u(t,e,"h"),t}.bind(),p.Collection=c.bind(),e.exports=p,e.exports.Hook=p,e.exports.Singular=p.Singular,e.exports.Collection=p.Collection},function(e,t){e.exports=function e(t,r,n,i){if("function"!==typeof n)throw new Error("method for before hook must be a function");i||(i={});if(Array.isArray(r))return r.reverse().reduce((function(r,n){return e.bind(null,t,n,r,i)}),n)();return Promise.resolve().then((function(){return t.registry[r]?t.registry[r].reduce((function(e,t){return t.hook.bind(null,e,i)}),n)():n(i)}))}},function(e,t){e.exports=function(e,t,r,n){var i=n;e.registry[r]||(e.registry[r]=[]);"before"===t&&(n=function(e,t){return Promise.resolve().then(i.bind(null,t)).then(e.bind(null,t))});"after"===t&&(n=function(e,t){var r;return Promise.resolve().then(e.bind(null,t)).then((function(e){return i(r=e,t)})).then((function(){return r}))});"error"===t&&(n=function(e,t){return Promise.resolve().then(e.bind(null,t)).catch((function(e){return i(e,t)}))});e.registry[r].push({hook:n,orig:i})}},function(e,t){e.exports=function(e,t,r){if(!e.registry[t])return;var n=e.registry[t].map((function(e){return e.orig})).indexOf(r);if(-1===n)return;e.registry[t].splice(n,1)}},function(e,t,r){e.exports=function(e,t,r){e.headers&&(e.headers=Object.keys(e.headers).reduce((function(t,r){return t[r.toLowerCase()]=e.headers[r],t}),{}));var a={headers:e.headers||{},request:e.request||{},mediaType:{previews:[],format:""}};e.baseUrl&&(a.baseUrl=e.baseUrl);e.userAgent&&(a.headers["user-agent"]=e.userAgent);e.previews&&(a.mediaType.previews=e.previews);e.timeZone&&(a.headers["time-zone"]=e.timeZone);e.timeout&&(s(t,new n("[@octokit/rest] new Octokit({timeout}) is deprecated. Use {request: {timeout}} instead. See https://github.com/octokit/request.js#request")),a.request.timeout=e.timeout);e.agent&&(u(t,new n("[@octokit/rest] new Octokit({agent}) is deprecated. Use {request: {agent}} instead. See https://github.com/octokit/request.js#request")),a.request.agent=e.agent);e.headers&&c(t,new n("[@octokit/rest] new Octokit({headers}) is deprecated. Use {userAgent, previews} instead. See https://github.com/octokit/request.js#request"));var l=a.headers["user-agent"],p="octokit.js/".concat(o.version," ").concat(i());return a.headers["user-agent"]=[l,p].filter(Boolean).join(" "),a.request.hook=r.bind(null,"request"),a};var n=r(130).Deprecation,i=r(193).getUserAgent,a=r(148),o=r(325),s=a((function(e,t){return e.warn(t)})),u=a((function(e,t){return e.warn(t)})),c=a((function(e,t){return e.warn(t)}))},function(e){e.exports=JSON.parse('{"name":"@octokit/rest","version":"16.36.0","publishConfig":{"access":"public"},"description":"GitHub REST API client for Node.js","keywords":["octokit","github","rest","api-client"],"author":"Gregor Martynus (https://github.com/gr2m)","contributors":[{"name":"Mike de Boer","email":"info@mikedeboer.nl"},{"name":"Fabian Jakobs","email":"fabian@c9.io"},{"name":"Joe Gallo","email":"joe@brassafrax.com"},{"name":"Gregor Martynus","url":"https://github.com/gr2m"}],"repository":"https://github.com/octokit/rest.js","dependencies":{"@octokit/request":"^5.2.0","@octokit/request-error":"^1.0.2","atob-lite":"^2.0.0","before-after-hook":"^2.0.0","btoa-lite":"^1.0.0","deprecation":"^2.0.0","lodash.get":"^4.4.2","lodash.set":"^4.3.2","lodash.uniq":"^4.5.0","octokit-pagination-methods":"^1.1.0","once":"^1.4.0","universal-user-agent":"^4.0.0"},"devDependencies":{"@gimenete/type-writer":"^0.1.3","@octokit/fixtures-server":"^5.0.6","@octokit/graphql":"^4.2.0","@types/node":"^13.1.0","bundlesize":"^0.18.0","chai":"^4.1.2","compression-webpack-plugin":"^3.0.0","cypress":"^3.0.0","glob":"^7.1.2","http-proxy-agent":"^3.0.0","lodash.camelcase":"^4.3.0","lodash.merge":"^4.6.1","lodash.upperfirst":"^4.3.1","mkdirp":"^0.5.1","mocha":"^6.0.0","mustache":"^3.0.0","nock":"^11.3.3","npm-run-all":"^4.1.2","nyc":"^15.0.0","prettier":"^1.14.2","proxy":"^1.0.0","semantic-release":"^15.0.0","sinon":"^8.0.0","sinon-chai":"^3.0.0","sort-keys":"^4.0.0","string-to-arraybuffer":"^1.0.0","string-to-jsdoc-comment":"^1.0.0","typescript":"^3.3.1","webpack":"^4.0.0","webpack-bundle-analyzer":"^3.0.0","webpack-cli":"^3.0.0"},"types":"index.d.ts","scripts":{"coverage":"nyc report --reporter=html && open coverage/index.html","lint":"prettier --check \'{lib,plugins,scripts,test}/**/*.{js,json,ts}\' \'docs/*.{js,json}\' \'docs/src/**/*\' index.js README.md package.json","lint:fix":"prettier --write \'{lib,plugins,scripts,test}/**/*.{js,json,ts}\' \'docs/*.{js,json}\' \'docs/src/**/*\' index.js README.md package.json","pretest":"npm run -s lint","test":"nyc mocha test/mocha-node-setup.js \\"test/*/**/*-test.js\\"","test:browser":"cypress run --browser chrome","build":"npm-run-all build:*","build:ts":"npm run -s update-endpoints:typescript","prebuild:browser":"mkdirp dist/","build:browser":"npm-run-all build:browser:*","build:browser:development":"webpack --mode development --entry . --output-library=Octokit --output=./dist/octokit-rest.js --profile --json > dist/bundle-stats.json","build:browser:production":"webpack --mode production --entry . --plugin=compression-webpack-plugin --output-library=Octokit --output-path=./dist --output-filename=octokit-rest.min.js --devtool source-map","generate-bundle-report":"webpack-bundle-analyzer dist/bundle-stats.json --mode=static --no-open --report dist/bundle-report.html","update-endpoints":"npm-run-all update-endpoints:*","update-endpoints:fetch-json":"node scripts/update-endpoints/fetch-json","update-endpoints:code":"node scripts/update-endpoints/code","update-endpoints:typescript":"node scripts/update-endpoints/typescript","prevalidate:ts":"npm run -s build:ts","validate:ts":"tsc --target es6 --noImplicitAny index.d.ts","postvalidate:ts":"tsc --noEmit --target es6 test/typescript-validate.ts","start-fixtures-server":"octokit-fixtures-server"},"license":"MIT","files":["index.js","index.d.ts","lib","plugins"],"nyc":{"ignore":["test"]},"release":{"publish":["@semantic-release/npm",{"path":"@semantic-release/github","assets":["dist/*","!dist/*.map.gz"]}]},"bundlesize":[{"path":"./dist/octokit-rest.min.js.gz","maxSize":"33 kB"}]}')},function(e,t,r){e.exports=function(e,t){return n(e.includes(t)?e:e.concat(t))};var n=r(220)},function(e,t){e.exports=function(e){e.hook.wrap("request",(function(t,r){e.log.debug("request",r);var n=Date.now(),i=e.request.endpoint.parse(r),a=i.url.replace(r.baseUrl,"");return t(r).then((function(t){return e.log.info("".concat(i.method," ").concat(a," - ").concat(t.status," in ").concat(Date.now()-n,"ms")),t})).catch((function(t){throw e.log.info("".concat(i.method," ").concat(a," - ").concat(t.status," in ").concat(Date.now()-n,"ms")),t}))}))}},function(e,t,r){e.exports=function(e,t){if(t.auth)return void(e.authenticate=function(){i(e.log,new n('[@octokit/rest] octokit.authenticate() is deprecated and has no effect when "auth" option is set on Octokit constructor'))});var r={octokit:e,auth:!1};e.authenticate=a.bind(null,r),e.hook.before("request",o.bind(null,r)),e.hook.error("request",s.bind(null,r))};var n=r(130).Deprecation,i=r(148)((function(e,t){return e.warn(t)})),a=r(329),o=r(330),s=r(332)},function(e,t,r){e.exports=function(e,t){if(i(e.octokit.log,new n('[@octokit/rest] octokit.authenticate() is deprecated. Use "auth" constructor option instead.')),!t)return void(e.auth=!1);switch(t.type){case"basic":if(!t.username||!t.password)throw new Error("Basic authentication requires both a username and password to be set");break;case"oauth":if(!t.token&&(!t.key||!t.secret))throw new Error("OAuth2 authentication requires a token or key & secret to be set");break;case"token":case"app":if(!t.token)throw new Error("Token authentication requires a token to be set");break;default:throw new Error("Invalid authentication type, must be 'basic', 'oauth', 'token' or 'app'")}e.auth=t};var n=r(130).Deprecation,i=r(148)((function(e,t){return e.warn(t)}))},function(e,t,r){e.exports=function(e,t){if(!e.auth.type)return;if("basic"===e.auth.type){var r=n("".concat(e.auth.username,":").concat(e.auth.password));return void(t.headers.authorization="Basic ".concat(r))}if("token"===e.auth.type)return void(t.headers.authorization="token ".concat(e.auth.token));if("app"===e.auth.type){t.headers.authorization="Bearer ".concat(e.auth.token);var a=t.headers.accept.split(",").concat("application/vnd.github.machine-man-preview+json");return void(t.headers.accept=i(a).filter(Boolean).join(","))}if(t.url+=-1===t.url.indexOf("?")?"?":"&",e.auth.token)return void(t.url+="access_token=".concat(encodeURIComponent(e.auth.token)));var o=encodeURIComponent(e.auth.key),s=encodeURIComponent(e.auth.secret);t.url+="client_id=".concat(o,"&client_secret=").concat(s)};var n=r(226),i=r(331)},function(e,t,r){(function(t){var r=200,n="__lodash_hash_undefined__",i="[object Function]",a="[object GeneratorFunction]",o=/^\[object .+?Constructor\]$/,s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")();function l(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!==t)return function(e,t,r,n){var i=e.length,a=r+(n?1:-1);for(;n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,h,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function p(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function h(e){return e!==e}function f(e,t){return e.has(t)}function d(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var m=Array.prototype,g=Function.prototype,v=Object.prototype,y=c["__core-js_shared__"],b=function(){var e=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_=g.toString,x=v.hasOwnProperty,w=v.toString,O=RegExp("^"+_.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=m.splice,E=z(c,"Map"),T=z(c,"Set"),S=z(Object,"create");function j(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function P(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function C(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function A(e){var t=-1,r=e?e.length:0;for(this.__data__=new C;++t<r;)this.add(e[t])}function M(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!==r&&n!==n)return i;return-1}function I(e){return!(!D(e)||(t=e,b&&b in t))&&(function(e){var t=D(e)?w.call(e):"";return t==i||t==a}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}(e)?O:o).test(function(e){if(null!=e){try{return _.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}j.prototype.clear=function(){this.__data__=S?S(null):{}},j.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},j.prototype.get=function(e){var t=this.__data__;if(S){var r=t[e];return r===n?void 0:r}return x.call(t,e)?t[e]:void 0},j.prototype.has=function(e){var t=this.__data__;return S?void 0!==t[e]:x.call(t,e)},j.prototype.set=function(e,t){return this.__data__[e]=S&&void 0===t?n:t,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(e){var t=this.__data__,r=M(t,e);return!(r<0)&&(r==t.length-1?t.pop():k.call(t,r,1),!0)},P.prototype.get=function(e){var t=this.__data__,r=M(t,e);return r<0?void 0:t[r][1]},P.prototype.has=function(e){return M(this.__data__,e)>-1},P.prototype.set=function(e,t){var r=this.__data__,n=M(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},C.prototype.clear=function(){this.__data__={hash:new j,map:new(E||P),string:new j}},C.prototype.delete=function(e){return L(this,e).delete(e)},C.prototype.get=function(e){return L(this,e).get(e)},C.prototype.has=function(e){return L(this,e).has(e)},C.prototype.set=function(e,t){return L(this,e).set(e,t),this},A.prototype.add=A.prototype.push=function(e){return this.__data__.set(e,n),this},A.prototype.has=function(e){return this.__data__.has(e)};var R=T&&1/d(new T([,-0]))[1]==1/0?function(e){return new T(e)}:function(){};function L(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function z(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return I(r)?r:void 0}function D(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return e&&e.length?function(e,t,n){var i=-1,a=l,o=e.length,s=!0,u=[],c=u;if(n)s=!1,a=p;else if(o>=r){var h=t?null:R(e);if(h)return d(h);s=!1,a=f,c=new A}else c=t?[]:u;e:for(;++i<o;){var m=e[i],g=t?t(m):m;if(m=n||0!==m?m:0,s&&g===g){for(var v=c.length;v--;)if(c[v]===g)continue e;t&&c.push(g),u.push(m)}else a(c,g,n)||(c!==u&&c.push(g),u.push(m))}return u}(e):[]}}).call(this,r(61))},function(e,t,r){e.exports=function(e,t,r){if(!t.headers)throw t;var i=/required/.test(t.headers["x-github-otp"]||"");if(401!==t.status||!i)throw t;if(401===t.status&&i&&t.request&&t.request.headers["x-github-otp"])throw new n("Invalid one-time password for two-factor authentication",401,{headers:t.headers,request:r});if("function"!==typeof e.auth.on2fa)throw new n("2FA required, but options.on2fa is not a function. See https://github.com/octokit/rest.js#authentication",401,{headers:t.headers,request:r});return Promise.resolve().then((function(){return e.auth.on2fa()})).then((function(t){var n=Object.assign(r,{headers:Object.assign({"x-github-otp":t},r.headers)});return e.octokit.request(n)}))};var n=r(168).RequestError},function(e,t,r){e.exports=function(e,t){if(!t.auth)return;a(t.auth);var r={octokit:e,auth:t.auth};e.hook.before("request",n.bind(null,r)),e.hook.error("request",i.bind(null,r))};var n=r(334),i=r(337),a=r(338)},function(e,t,r){e.exports=function(e,t){if("string"===typeof e.auth){if(t.headers.authorization=i(e.auth),/^bearer /i.test(e.auth)&&!/machine-man/.test(t.headers.accept)){var r=t.headers.accept.split(",").concat("application/vnd.github.machine-man-preview+json");t.headers.accept=r.filter(Boolean).join(",")}return}if(e.auth.username){var a=n("".concat(e.auth.username,":").concat(e.auth.password));return t.headers.authorization="Basic ".concat(a),void(e.otp&&(t.headers["x-github-otp"]=e.otp))}if(e.auth.clientId){if(/\/applications\/:?[\w_]+\/tokens\/:?[\w_]+($|\?)/.test(t.url)){var o=n("".concat(e.auth.clientId,":").concat(e.auth.clientSecret));return void(t.headers.authorization="Basic ".concat(o))}return t.url+=-1===t.url.indexOf("?")?"?":"&",void(t.url+="client_id=".concat(e.auth.clientId,"&client_secret=").concat(e.auth.clientSecret))}return Promise.resolve().then((function(){return e.auth()})).then((function(e){t.headers.authorization=i(e)}))};var n=r(226),i=r(335)},function(e,t,r){e.exports=function(e){if(/^(basic|bearer|token) /i.test(e))return e;try{if(i.test(n(e)))return"basic ".concat(e)}catch(t){}if(3===e.split(/\./).length)return"bearer ".concat(e);return"token ".concat(e)};var n=r(336),i=/^[\w-]+:/},function(e,t){e.exports=function(e){return atob(e)}},function(e,t,r){e.exports=function(e,t,r){if(!t.headers)throw t;var i=/required/.test(t.headers["x-github-otp"]||"");if(401!==t.status||!i)throw t;if(401===t.status&&i&&t.request&&t.request.headers["x-github-otp"]){if(!e.otp)throw new n("Invalid one-time password for two-factor authentication",401,{headers:t.headers,request:r});delete e.otp}if("function"!==typeof e.auth.on2fa)throw new n("2FA required, but options.on2fa is not a function. See https://github.com/octokit/rest.js#authentication",401,{headers:t.headers,request:r});return Promise.resolve().then((function(){return e.auth.on2fa()})).then((function(t){var n=Object.assign(r,{headers:Object.assign(r.headers,{"x-github-otp":t})});return e.octokit.request(n).then((function(r){return e.otp=t,r}))}))};var n=r(168).RequestError},function(e,t){e.exports=function(e){if("string"===typeof e)return;if("function"===typeof e)return;if(e.username&&e.password)return;if(e.clientId&&e.clientSecret)return;throw new Error('Invalid "auth" option: '.concat(JSON.stringify(e)))}},function(e,t,r){e.exports=function(e){e.paginate=i.bind(null,e),e.paginate.iterator=n.bind(null,e)};var n=r(227),i=r(341)},function(e,t,r){e.exports=function(e,t,r){var i=t.replace(e.request.endpoint.DEFAULTS.baseUrl,"");if(!u.test(i)&&!c.test(i)&&!l.test(i)&&!p.test(i)&&!h.test(i))return;var f=r.data.incomplete_results,d=r.data.repository_selection,m=r.data.total_count;delete r.data.incomplete_results,delete r.data.repository_selection,delete r.data.total_count;var g=Object.keys(r.data)[0];r.data=r.data[g],Object.defineProperty(r.data,g,{get:function(){return s(e.log,new n('[@octokit/rest] "result.data.'.concat(g,'" is deprecated. Use "result.data" instead'))),r.data}}),"undefined"!==typeof f&&Object.defineProperty(r.data,"incomplete_results",{get:function(){return a(e.log,new n('[@octokit/rest] "result.data.incomplete_results" is deprecated.')),f}});"undefined"!==typeof d&&Object.defineProperty(r.data,"repository_selection",{get:function(){return o(e.log,new n('[@octokit/rest] "result.data.repository_selection" is deprecated.')),d}});Object.defineProperty(r.data,"total_count",{get:function(){return o(e.log,new n('[@octokit/rest] "result.data.total_count" is deprecated.')),m}})};var n=r(130).Deprecation,i=r(148),a=i((function(e,t){return e.warn(t)})),o=i((function(e,t){return e.warn(t)})),s=i((function(e,t){return e.warn(t)})),u=/^\/search\//,c=/^\/repos\/[^/]+\/[^/]+\/commits\/[^/]+\/(check-runs|check-suites)/,l=/^\/installation\/repositories/,p=/^\/user\/installations/,h=/^\/orgs\/[^/]+\/installations/},function(e,t,r){e.exports=function(e,t,r,i){"function"===typeof r&&(i=r,r=void 0);return r=e.request.endpoint.merge(t,r),function e(t,r,n,i){return n.next().then((function(a){if(a.done)return r;var o=!1;return r=r.concat(i?i(a.value,(function(){o=!0})):a.value.data),o?r:e(t,r,n,i)}))}(e,[],n(e,r)[Symbol.asyncIterator](),i)};var n=r(227)},function(e,t,r){e.exports=function(e){e.registerEndpoints=n.bind(null,e)};var n=r(343)},function(e,t,r){e.exports=function(e,t){Object.keys(t).forEach((function(r){e[r]||(e[r]={}),Object.keys(t[r]).forEach((function(a){var o=t[r][a],s=["method","url","headers"].reduce((function(e,t){return"undefined"!==typeof o[t]&&(e[t]=o[t]),e}),{});s.request={validate:o.params};var u=e.request.defaults(s);if(Object.keys(o.params||{}).find((function(e){return o.params[e].deprecated}))){var c=i.bind(null,e,o);(u=c(e.request.defaults(s),".".concat(r,".").concat(a,"()"))).endpoint=c(u.endpoint,".".concat(r,".").concat(a,".endpoint()")),u.endpoint.merge=c(u.endpoint.merge,".".concat(r,".").concat(a,".endpoint.merge()"))}o.deprecated?e[r][a]=function(){return e.log.warn(new n("[@octokit/rest] ".concat(o.deprecated))),e[r][a]=u,u.apply(null,arguments)}:e[r][a]=u}))}))};var n=r(130).Deprecation;function i(e,t,r,i){var a=function(a){return a=Object.assign({},a),Object.keys(a).forEach((function(r){if(t.params[r]&&t.params[r].deprecated){var o=t.params[r].alias;e.log.warn(new n('[@octokit/rest] "'.concat(r,'" parameter is deprecated for "').concat(i,'". Use "').concat(o,'" instead'))),o in a||(a[o]=a[r]),delete a[r]}})),r(a)};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a}},function(e,t,r){e.exports=function(e){n.gitdata=n.git,n.authorization=n.oauthAuthorizations,n.pullRequests=n.pulls,e.registerEndpoints(n)};var n=r(345)},function(e){e.exports=JSON.parse('{"activity":{"checkStarringRepo":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/user/starred/:owner/:repo"},"deleteRepoSubscription":{"method":"DELETE","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/subscription"},"deleteThreadSubscription":{"method":"DELETE","params":{"thread_id":{"required":true,"type":"integer"}},"url":"/notifications/threads/:thread_id/subscription"},"getRepoSubscription":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/subscription"},"getThread":{"method":"GET","params":{"thread_id":{"required":true,"type":"integer"}},"url":"/notifications/threads/:thread_id"},"getThreadSubscription":{"method":"GET","params":{"thread_id":{"required":true,"type":"integer"}},"url":"/notifications/threads/:thread_id/subscription"},"listEventsForOrg":{"method":"GET","params":{"org":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/users/:username/events/orgs/:org"},"listEventsForUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/users/:username/events"},"listFeeds":{"method":"GET","params":{},"url":"/feeds"},"listNotifications":{"method":"GET","params":{"all":{"type":"boolean"},"before":{"type":"string"},"page":{"type":"integer"},"participating":{"type":"boolean"},"per_page":{"type":"integer"},"since":{"type":"string"}},"url":"/notifications"},"listNotificationsForRepo":{"method":"GET","params":{"all":{"type":"boolean"},"before":{"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"participating":{"type":"boolean"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"},"since":{"type":"string"}},"url":"/repos/:owner/:repo/notifications"},"listPublicEvents":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/events"},"listPublicEventsForOrg":{"method":"GET","params":{"org":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/orgs/:org/events"},"listPublicEventsForRepoNetwork":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/networks/:owner/:repo/events"},"listPublicEventsForUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/users/:username/events/public"},"listReceivedEventsForUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/users/:username/received_events"},"listReceivedPublicEventsForUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/users/:username/received_events/public"},"listRepoEvents":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/events"},"listReposStarredByAuthenticatedUser":{"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"sort":{"enum":["created","updated"],"type":"string"}},"url":"/user/starred"},"listReposStarredByUser":{"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"sort":{"enum":["created","updated"],"type":"string"},"username":{"required":true,"type":"string"}},"url":"/users/:username/starred"},"listReposWatchedByUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/users/:username/subscriptions"},"listStargazersForRepo":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/stargazers"},"listWatchedReposForAuthenticatedUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/subscriptions"},"listWatchersForRepo":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/subscribers"},"markAsRead":{"method":"PUT","params":{"last_read_at":{"type":"string"}},"url":"/notifications"},"markNotificationsAsReadForRepo":{"method":"PUT","params":{"last_read_at":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/notifications"},"markThreadAsRead":{"method":"PATCH","params":{"thread_id":{"required":true,"type":"integer"}},"url":"/notifications/threads/:thread_id"},"setRepoSubscription":{"method":"PUT","params":{"ignored":{"type":"boolean"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"subscribed":{"type":"boolean"}},"url":"/repos/:owner/:repo/subscription"},"setThreadSubscription":{"method":"PUT","params":{"ignored":{"type":"boolean"},"thread_id":{"required":true,"type":"integer"}},"url":"/notifications/threads/:thread_id/subscription"},"starRepo":{"method":"PUT","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/user/starred/:owner/:repo"},"unstarRepo":{"method":"DELETE","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/user/starred/:owner/:repo"}},"apps":{"addRepoToInstallation":{"headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"PUT","params":{"installation_id":{"required":true,"type":"integer"},"repository_id":{"required":true,"type":"integer"}},"url":"/user/installations/:installation_id/repositories/:repository_id"},"checkAccountIsAssociatedWithAny":{"method":"GET","params":{"account_id":{"required":true,"type":"integer"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/marketplace_listing/accounts/:account_id"},"checkAccountIsAssociatedWithAnyStubbed":{"method":"GET","params":{"account_id":{"required":true,"type":"integer"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/marketplace_listing/stubbed/accounts/:account_id"},"checkAuthorization":{"deprecated":"octokit.oauthAuthorizations.checkAuthorization() has been renamed to octokit.apps.checkAuthorization() (2019-11-05)","method":"GET","params":{"access_token":{"required":true,"type":"string"},"client_id":{"required":true,"type":"string"}},"url":"/applications/:client_id/tokens/:access_token"},"checkToken":{"headers":{"accept":"application/vnd.github.doctor-strange-preview+json"},"method":"POST","params":{"access_token":{"type":"string"},"client_id":{"required":true,"type":"string"}},"url":"/applications/:client_id/token"},"createContentAttachment":{"headers":{"accept":"application/vnd.github.corsair-preview+json"},"method":"POST","params":{"body":{"required":true,"type":"string"},"content_reference_id":{"required":true,"type":"integer"},"title":{"required":true,"type":"string"}},"url":"/content_references/:content_reference_id/attachments"},"createFromManifest":{"headers":{"accept":"application/vnd.github.fury-preview+json"},"method":"POST","params":{"code":{"required":true,"type":"string"}},"url":"/app-manifests/:code/conversions"},"createInstallationToken":{"headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"POST","params":{"installation_id":{"required":true,"type":"integer"},"permissions":{"type":"object"},"repository_ids":{"type":"integer[]"}},"url":"/app/installations/:installation_id/access_tokens"},"deleteAuthorization":{"headers":{"accept":"application/vnd.github.doctor-strange-preview+json"},"method":"DELETE","params":{"access_token":{"type":"string"},"client_id":{"required":true,"type":"string"}},"url":"/applications/:client_id/grant"},"deleteInstallation":{"headers":{"accept":"application/vnd.github.gambit-preview+json,application/vnd.github.machine-man-preview+json"},"method":"DELETE","params":{"installation_id":{"required":true,"type":"integer"}},"url":"/app/installations/:installation_id"},"deleteToken":{"headers":{"accept":"application/vnd.github.doctor-strange-preview+json"},"method":"DELETE","params":{"access_token":{"type":"string"},"client_id":{"required":true,"type":"string"}},"url":"/applications/:client_id/token"},"findOrgInstallation":{"deprecated":"octokit.apps.findOrgInstallation() has been renamed to octokit.apps.getOrgInstallation() (2019-04-10)","headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"GET","params":{"org":{"required":true,"type":"string"}},"url":"/orgs/:org/installation"},"findRepoInstallation":{"deprecated":"octokit.apps.findRepoInstallation() has been renamed to octokit.apps.getRepoInstallation() (2019-04-10)","headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/installation"},"findUserInstallation":{"deprecated":"octokit.apps.findUserInstallation() has been renamed to octokit.apps.getUserInstallation() (2019-04-10)","headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"GET","params":{"username":{"required":true,"type":"string"}},"url":"/users/:username/installation"},"getAuthenticated":{"headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"GET","params":{},"url":"/app"},"getBySlug":{"headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"GET","params":{"app_slug":{"required":true,"type":"string"}},"url":"/apps/:app_slug"},"getInstallation":{"headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"GET","params":{"installation_id":{"required":true,"type":"integer"}},"url":"/app/installations/:installation_id"},"getOrgInstallation":{"headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"GET","params":{"org":{"required":true,"type":"string"}},"url":"/orgs/:org/installation"},"getRepoInstallation":{"headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/installation"},"getUserInstallation":{"headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"GET","params":{"username":{"required":true,"type":"string"}},"url":"/users/:username/installation"},"listAccountsUserOrOrgOnPlan":{"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"plan_id":{"required":true,"type":"integer"},"sort":{"enum":["created","updated"],"type":"string"}},"url":"/marketplace_listing/plans/:plan_id/accounts"},"listAccountsUserOrOrgOnPlanStubbed":{"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"plan_id":{"required":true,"type":"integer"},"sort":{"enum":["created","updated"],"type":"string"}},"url":"/marketplace_listing/stubbed/plans/:plan_id/accounts"},"listInstallationReposForAuthenticatedUser":{"headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"GET","params":{"installation_id":{"required":true,"type":"integer"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/installations/:installation_id/repositories"},"listInstallations":{"headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/app/installations"},"listInstallationsForAuthenticatedUser":{"headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/installations"},"listMarketplacePurchasesForAuthenticatedUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/marketplace_purchases"},"listMarketplacePurchasesForAuthenticatedUserStubbed":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/marketplace_purchases/stubbed"},"listPlans":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/marketplace_listing/plans"},"listPlansStubbed":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/marketplace_listing/stubbed/plans"},"listRepos":{"headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/installation/repositories"},"removeRepoFromInstallation":{"headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"DELETE","params":{"installation_id":{"required":true,"type":"integer"},"repository_id":{"required":true,"type":"integer"}},"url":"/user/installations/:installation_id/repositories/:repository_id"},"resetAuthorization":{"deprecated":"octokit.oauthAuthorizations.resetAuthorization() has been renamed to octokit.apps.resetAuthorization() (2019-11-05)","method":"POST","params":{"access_token":{"required":true,"type":"string"},"client_id":{"required":true,"type":"string"}},"url":"/applications/:client_id/tokens/:access_token"},"resetToken":{"headers":{"accept":"application/vnd.github.doctor-strange-preview+json"},"method":"PATCH","params":{"access_token":{"type":"string"},"client_id":{"required":true,"type":"string"}},"url":"/applications/:client_id/token"},"revokeAuthorizationForApplication":{"deprecated":"octokit.oauthAuthorizations.revokeAuthorizationForApplication() has been renamed to octokit.apps.revokeAuthorizationForApplication() (2019-11-05)","method":"DELETE","params":{"access_token":{"required":true,"type":"string"},"client_id":{"required":true,"type":"string"}},"url":"/applications/:client_id/tokens/:access_token"},"revokeGrantForApplication":{"deprecated":"octokit.oauthAuthorizations.revokeGrantForApplication() has been renamed to octokit.apps.revokeGrantForApplication() (2019-11-05)","method":"DELETE","params":{"access_token":{"required":true,"type":"string"},"client_id":{"required":true,"type":"string"}},"url":"/applications/:client_id/grants/:access_token"}},"checks":{"create":{"headers":{"accept":"application/vnd.github.antiope-preview+json"},"method":"POST","params":{"actions":{"type":"object[]"},"actions[].description":{"required":true,"type":"string"},"actions[].identifier":{"required":true,"type":"string"},"actions[].label":{"required":true,"type":"string"},"completed_at":{"type":"string"},"conclusion":{"enum":["success","failure","neutral","cancelled","timed_out","action_required"],"type":"string"},"details_url":{"type":"string"},"external_id":{"type":"string"},"head_sha":{"required":true,"type":"string"},"name":{"required":true,"type":"string"},"output":{"type":"object"},"output.annotations":{"type":"object[]"},"output.annotations[].annotation_level":{"enum":["notice","warning","failure"],"required":true,"type":"string"},"output.annotations[].end_column":{"type":"integer"},"output.annotations[].end_line":{"required":true,"type":"integer"},"output.annotations[].message":{"required":true,"type":"string"},"output.annotations[].path":{"required":true,"type":"string"},"output.annotations[].raw_details":{"type":"string"},"output.annotations[].start_column":{"type":"integer"},"output.annotations[].start_line":{"required":true,"type":"integer"},"output.annotations[].title":{"type":"string"},"output.images":{"type":"object[]"},"output.images[].alt":{"required":true,"type":"string"},"output.images[].caption":{"type":"string"},"output.images[].image_url":{"required":true,"type":"string"},"output.summary":{"required":true,"type":"string"},"output.text":{"type":"string"},"output.title":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"started_at":{"type":"string"},"status":{"enum":["queued","in_progress","completed"],"type":"string"}},"url":"/repos/:owner/:repo/check-runs"},"createSuite":{"headers":{"accept":"application/vnd.github.antiope-preview+json"},"method":"POST","params":{"head_sha":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/check-suites"},"get":{"headers":{"accept":"application/vnd.github.antiope-preview+json"},"method":"GET","params":{"check_run_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/check-runs/:check_run_id"},"getSuite":{"headers":{"accept":"application/vnd.github.antiope-preview+json"},"method":"GET","params":{"check_suite_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/check-suites/:check_suite_id"},"listAnnotations":{"headers":{"accept":"application/vnd.github.antiope-preview+json"},"method":"GET","params":{"check_run_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/check-runs/:check_run_id/annotations"},"listForRef":{"headers":{"accept":"application/vnd.github.antiope-preview+json"},"method":"GET","params":{"check_name":{"type":"string"},"filter":{"enum":["latest","all"],"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"ref":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"status":{"enum":["queued","in_progress","completed"],"type":"string"}},"url":"/repos/:owner/:repo/commits/:ref/check-runs"},"listForSuite":{"headers":{"accept":"application/vnd.github.antiope-preview+json"},"method":"GET","params":{"check_name":{"type":"string"},"check_suite_id":{"required":true,"type":"integer"},"filter":{"enum":["latest","all"],"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"},"status":{"enum":["queued","in_progress","completed"],"type":"string"}},"url":"/repos/:owner/:repo/check-suites/:check_suite_id/check-runs"},"listSuitesForRef":{"headers":{"accept":"application/vnd.github.antiope-preview+json"},"method":"GET","params":{"app_id":{"type":"integer"},"check_name":{"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"ref":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/commits/:ref/check-suites"},"rerequestSuite":{"headers":{"accept":"application/vnd.github.antiope-preview+json"},"method":"POST","params":{"check_suite_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/check-suites/:check_suite_id/rerequest"},"setSuitesPreferences":{"headers":{"accept":"application/vnd.github.antiope-preview+json"},"method":"PATCH","params":{"auto_trigger_checks":{"type":"object[]"},"auto_trigger_checks[].app_id":{"required":true,"type":"integer"},"auto_trigger_checks[].setting":{"required":true,"type":"boolean"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/check-suites/preferences"},"update":{"headers":{"accept":"application/vnd.github.antiope-preview+json"},"method":"PATCH","params":{"actions":{"type":"object[]"},"actions[].description":{"required":true,"type":"string"},"actions[].identifier":{"required":true,"type":"string"},"actions[].label":{"required":true,"type":"string"},"check_run_id":{"required":true,"type":"integer"},"completed_at":{"type":"string"},"conclusion":{"enum":["success","failure","neutral","cancelled","timed_out","action_required"],"type":"string"},"details_url":{"type":"string"},"external_id":{"type":"string"},"name":{"type":"string"},"output":{"type":"object"},"output.annotations":{"type":"object[]"},"output.annotations[].annotation_level":{"enum":["notice","warning","failure"],"required":true,"type":"string"},"output.annotations[].end_column":{"type":"integer"},"output.annotations[].end_line":{"required":true,"type":"integer"},"output.annotations[].message":{"required":true,"type":"string"},"output.annotations[].path":{"required":true,"type":"string"},"output.annotations[].raw_details":{"type":"string"},"output.annotations[].start_column":{"type":"integer"},"output.annotations[].start_line":{"required":true,"type":"integer"},"output.annotations[].title":{"type":"string"},"output.images":{"type":"object[]"},"output.images[].alt":{"required":true,"type":"string"},"output.images[].caption":{"type":"string"},"output.images[].image_url":{"required":true,"type":"string"},"output.summary":{"required":true,"type":"string"},"output.text":{"type":"string"},"output.title":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"started_at":{"type":"string"},"status":{"enum":["queued","in_progress","completed"],"type":"string"}},"url":"/repos/:owner/:repo/check-runs/:check_run_id"}},"codesOfConduct":{"getConductCode":{"headers":{"accept":"application/vnd.github.scarlet-witch-preview+json"},"method":"GET","params":{"key":{"required":true,"type":"string"}},"url":"/codes_of_conduct/:key"},"getForRepo":{"headers":{"accept":"application/vnd.github.scarlet-witch-preview+json"},"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/community/code_of_conduct"},"listConductCodes":{"headers":{"accept":"application/vnd.github.scarlet-witch-preview+json"},"method":"GET","params":{},"url":"/codes_of_conduct"}},"emojis":{"get":{"method":"GET","params":{},"url":"/emojis"}},"gists":{"checkIsStarred":{"method":"GET","params":{"gist_id":{"required":true,"type":"string"}},"url":"/gists/:gist_id/star"},"create":{"method":"POST","params":{"description":{"type":"string"},"files":{"required":true,"type":"object"},"files.content":{"type":"string"},"public":{"type":"boolean"}},"url":"/gists"},"createComment":{"method":"POST","params":{"body":{"required":true,"type":"string"},"gist_id":{"required":true,"type":"string"}},"url":"/gists/:gist_id/comments"},"delete":{"method":"DELETE","params":{"gist_id":{"required":true,"type":"string"}},"url":"/gists/:gist_id"},"deleteComment":{"method":"DELETE","params":{"comment_id":{"required":true,"type":"integer"},"gist_id":{"required":true,"type":"string"}},"url":"/gists/:gist_id/comments/:comment_id"},"fork":{"method":"POST","params":{"gist_id":{"required":true,"type":"string"}},"url":"/gists/:gist_id/forks"},"get":{"method":"GET","params":{"gist_id":{"required":true,"type":"string"}},"url":"/gists/:gist_id"},"getComment":{"method":"GET","params":{"comment_id":{"required":true,"type":"integer"},"gist_id":{"required":true,"type":"string"}},"url":"/gists/:gist_id/comments/:comment_id"},"getRevision":{"method":"GET","params":{"gist_id":{"required":true,"type":"string"},"sha":{"required":true,"type":"string"}},"url":"/gists/:gist_id/:sha"},"list":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"since":{"type":"string"}},"url":"/gists"},"listComments":{"method":"GET","params":{"gist_id":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/gists/:gist_id/comments"},"listCommits":{"method":"GET","params":{"gist_id":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/gists/:gist_id/commits"},"listForks":{"method":"GET","params":{"gist_id":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/gists/:gist_id/forks"},"listPublic":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"since":{"type":"string"}},"url":"/gists/public"},"listPublicForUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"since":{"type":"string"},"username":{"required":true,"type":"string"}},"url":"/users/:username/gists"},"listStarred":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"since":{"type":"string"}},"url":"/gists/starred"},"star":{"method":"PUT","params":{"gist_id":{"required":true,"type":"string"}},"url":"/gists/:gist_id/star"},"unstar":{"method":"DELETE","params":{"gist_id":{"required":true,"type":"string"}},"url":"/gists/:gist_id/star"},"update":{"method":"PATCH","params":{"description":{"type":"string"},"files":{"type":"object"},"files.content":{"type":"string"},"files.filename":{"type":"string"},"gist_id":{"required":true,"type":"string"}},"url":"/gists/:gist_id"},"updateComment":{"method":"PATCH","params":{"body":{"required":true,"type":"string"},"comment_id":{"required":true,"type":"integer"},"gist_id":{"required":true,"type":"string"}},"url":"/gists/:gist_id/comments/:comment_id"}},"git":{"createBlob":{"method":"POST","params":{"content":{"required":true,"type":"string"},"encoding":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/git/blobs"},"createCommit":{"method":"POST","params":{"author":{"type":"object"},"author.date":{"type":"string"},"author.email":{"type":"string"},"author.name":{"type":"string"},"committer":{"type":"object"},"committer.date":{"type":"string"},"committer.email":{"type":"string"},"committer.name":{"type":"string"},"message":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"parents":{"required":true,"type":"string[]"},"repo":{"required":true,"type":"string"},"signature":{"type":"string"},"tree":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/git/commits"},"createRef":{"method":"POST","params":{"owner":{"required":true,"type":"string"},"ref":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"sha":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/git/refs"},"createTag":{"method":"POST","params":{"message":{"required":true,"type":"string"},"object":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"tag":{"required":true,"type":"string"},"tagger":{"type":"object"},"tagger.date":{"type":"string"},"tagger.email":{"type":"string"},"tagger.name":{"type":"string"},"type":{"enum":["commit","tree","blob"],"required":true,"type":"string"}},"url":"/repos/:owner/:repo/git/tags"},"createTree":{"method":"POST","params":{"base_tree":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"tree":{"required":true,"type":"object[]"},"tree[].content":{"type":"string"},"tree[].mode":{"enum":["100644","100755","040000","160000","120000"],"type":"string"},"tree[].path":{"type":"string"},"tree[].sha":{"allowNull":true,"type":"string"},"tree[].type":{"enum":["blob","tree","commit"],"type":"string"}},"url":"/repos/:owner/:repo/git/trees"},"deleteRef":{"method":"DELETE","params":{"owner":{"required":true,"type":"string"},"ref":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/git/refs/:ref"},"getBlob":{"method":"GET","params":{"file_sha":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/git/blobs/:file_sha"},"getCommit":{"method":"GET","params":{"commit_sha":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/git/commits/:commit_sha"},"getRef":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"ref":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/git/ref/:ref"},"getTag":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"tag_sha":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/git/tags/:tag_sha"},"getTree":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"recursive":{"enum":["1"],"type":"integer"},"repo":{"required":true,"type":"string"},"tree_sha":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/git/trees/:tree_sha"},"listMatchingRefs":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"ref":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/git/matching-refs/:ref"},"listRefs":{"method":"GET","params":{"namespace":{"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/git/refs/:namespace"},"updateRef":{"method":"PATCH","params":{"force":{"type":"boolean"},"owner":{"required":true,"type":"string"},"ref":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"sha":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/git/refs/:ref"}},"gitignore":{"getTemplate":{"method":"GET","params":{"name":{"required":true,"type":"string"}},"url":"/gitignore/templates/:name"},"listTemplates":{"method":"GET","params":{},"url":"/gitignore/templates"}},"interactions":{"addOrUpdateRestrictionsForOrg":{"headers":{"accept":"application/vnd.github.sombra-preview+json"},"method":"PUT","params":{"limit":{"enum":["existing_users","contributors_only","collaborators_only"],"required":true,"type":"string"},"org":{"required":true,"type":"string"}},"url":"/orgs/:org/interaction-limits"},"addOrUpdateRestrictionsForRepo":{"headers":{"accept":"application/vnd.github.sombra-preview+json"},"method":"PUT","params":{"limit":{"enum":["existing_users","contributors_only","collaborators_only"],"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/interaction-limits"},"getRestrictionsForOrg":{"headers":{"accept":"application/vnd.github.sombra-preview+json"},"method":"GET","params":{"org":{"required":true,"type":"string"}},"url":"/orgs/:org/interaction-limits"},"getRestrictionsForRepo":{"headers":{"accept":"application/vnd.github.sombra-preview+json"},"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/interaction-limits"},"removeRestrictionsForOrg":{"headers":{"accept":"application/vnd.github.sombra-preview+json"},"method":"DELETE","params":{"org":{"required":true,"type":"string"}},"url":"/orgs/:org/interaction-limits"},"removeRestrictionsForRepo":{"headers":{"accept":"application/vnd.github.sombra-preview+json"},"method":"DELETE","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/interaction-limits"}},"issues":{"addAssignees":{"method":"POST","params":{"assignees":{"type":"string[]"},"issue_number":{"required":true,"type":"integer"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/assignees"},"addLabels":{"method":"POST","params":{"issue_number":{"required":true,"type":"integer"},"labels":{"required":true,"type":"string[]"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/labels"},"checkAssignee":{"method":"GET","params":{"assignee":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/assignees/:assignee"},"create":{"method":"POST","params":{"assignee":{"type":"string"},"assignees":{"type":"string[]"},"body":{"type":"string"},"labels":{"type":"string[]"},"milestone":{"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"title":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues"},"createComment":{"method":"POST","params":{"body":{"required":true,"type":"string"},"issue_number":{"required":true,"type":"integer"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/comments"},"createLabel":{"method":"POST","params":{"color":{"required":true,"type":"string"},"description":{"type":"string"},"name":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/labels"},"createMilestone":{"method":"POST","params":{"description":{"type":"string"},"due_on":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"state":{"enum":["open","closed"],"type":"string"},"title":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/milestones"},"deleteComment":{"method":"DELETE","params":{"comment_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/comments/:comment_id"},"deleteLabel":{"method":"DELETE","params":{"name":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/labels/:name"},"deleteMilestone":{"method":"DELETE","params":{"milestone_number":{"required":true,"type":"integer"},"number":{"alias":"milestone_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/milestones/:milestone_number"},"get":{"method":"GET","params":{"issue_number":{"required":true,"type":"integer"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number"},"getComment":{"method":"GET","params":{"comment_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/comments/:comment_id"},"getEvent":{"method":"GET","params":{"event_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/events/:event_id"},"getLabel":{"method":"GET","params":{"name":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/labels/:name"},"getMilestone":{"method":"GET","params":{"milestone_number":{"required":true,"type":"integer"},"number":{"alias":"milestone_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/milestones/:milestone_number"},"list":{"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"filter":{"enum":["assigned","created","mentioned","subscribed","all"],"type":"string"},"labels":{"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"since":{"type":"string"},"sort":{"enum":["created","updated","comments"],"type":"string"},"state":{"enum":["open","closed","all"],"type":"string"}},"url":"/issues"},"listAssignees":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/assignees"},"listComments":{"method":"GET","params":{"issue_number":{"required":true,"type":"integer"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"},"since":{"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/comments"},"listCommentsForRepo":{"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"since":{"type":"string"},"sort":{"enum":["created","updated"],"type":"string"}},"url":"/repos/:owner/:repo/issues/comments"},"listEvents":{"method":"GET","params":{"issue_number":{"required":true,"type":"integer"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/events"},"listEventsForRepo":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/events"},"listEventsForTimeline":{"headers":{"accept":"application/vnd.github.mockingbird-preview+json"},"method":"GET","params":{"issue_number":{"required":true,"type":"integer"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/timeline"},"listForAuthenticatedUser":{"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"filter":{"enum":["assigned","created","mentioned","subscribed","all"],"type":"string"},"labels":{"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"since":{"type":"string"},"sort":{"enum":["created","updated","comments"],"type":"string"},"state":{"enum":["open","closed","all"],"type":"string"}},"url":"/user/issues"},"listForOrg":{"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"filter":{"enum":["assigned","created","mentioned","subscribed","all"],"type":"string"},"labels":{"type":"string"},"org":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"since":{"type":"string"},"sort":{"enum":["created","updated","comments"],"type":"string"},"state":{"enum":["open","closed","all"],"type":"string"}},"url":"/orgs/:org/issues"},"listForRepo":{"method":"GET","params":{"assignee":{"type":"string"},"creator":{"type":"string"},"direction":{"enum":["asc","desc"],"type":"string"},"labels":{"type":"string"},"mentioned":{"type":"string"},"milestone":{"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"},"since":{"type":"string"},"sort":{"enum":["created","updated","comments"],"type":"string"},"state":{"enum":["open","closed","all"],"type":"string"}},"url":"/repos/:owner/:repo/issues"},"listLabelsForMilestone":{"method":"GET","params":{"milestone_number":{"required":true,"type":"integer"},"number":{"alias":"milestone_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/milestones/:milestone_number/labels"},"listLabelsForRepo":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/labels"},"listLabelsOnIssue":{"method":"GET","params":{"issue_number":{"required":true,"type":"integer"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/labels"},"listMilestonesForRepo":{"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"},"sort":{"enum":["due_on","completeness"],"type":"string"},"state":{"enum":["open","closed","all"],"type":"string"}},"url":"/repos/:owner/:repo/milestones"},"lock":{"method":"PUT","params":{"issue_number":{"required":true,"type":"integer"},"lock_reason":{"enum":["off-topic","too heated","resolved","spam"],"type":"string"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/lock"},"removeAssignees":{"method":"DELETE","params":{"assignees":{"type":"string[]"},"issue_number":{"required":true,"type":"integer"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/assignees"},"removeLabel":{"method":"DELETE","params":{"issue_number":{"required":true,"type":"integer"},"name":{"required":true,"type":"string"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/labels/:name"},"removeLabels":{"method":"DELETE","params":{"issue_number":{"required":true,"type":"integer"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/labels"},"replaceLabels":{"method":"PUT","params":{"issue_number":{"required":true,"type":"integer"},"labels":{"type":"string[]"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/labels"},"unlock":{"method":"DELETE","params":{"issue_number":{"required":true,"type":"integer"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/lock"},"update":{"method":"PATCH","params":{"assignee":{"type":"string"},"assignees":{"type":"string[]"},"body":{"type":"string"},"issue_number":{"required":true,"type":"integer"},"labels":{"type":"string[]"},"milestone":{"allowNull":true,"type":"integer"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"state":{"enum":["open","closed"],"type":"string"},"title":{"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number"},"updateComment":{"method":"PATCH","params":{"body":{"required":true,"type":"string"},"comment_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/comments/:comment_id"},"updateLabel":{"method":"PATCH","params":{"color":{"type":"string"},"current_name":{"required":true,"type":"string"},"description":{"type":"string"},"name":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/labels/:current_name"},"updateMilestone":{"method":"PATCH","params":{"description":{"type":"string"},"due_on":{"type":"string"},"milestone_number":{"required":true,"type":"integer"},"number":{"alias":"milestone_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"state":{"enum":["open","closed"],"type":"string"},"title":{"type":"string"}},"url":"/repos/:owner/:repo/milestones/:milestone_number"}},"licenses":{"get":{"method":"GET","params":{"license":{"required":true,"type":"string"}},"url":"/licenses/:license"},"getForRepo":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/license"},"list":{"deprecated":"octokit.licenses.list() has been renamed to octokit.licenses.listCommonlyUsed() (2019-03-05)","method":"GET","params":{},"url":"/licenses"},"listCommonlyUsed":{"method":"GET","params":{},"url":"/licenses"}},"markdown":{"render":{"method":"POST","params":{"context":{"type":"string"},"mode":{"enum":["markdown","gfm"],"type":"string"},"text":{"required":true,"type":"string"}},"url":"/markdown"},"renderRaw":{"headers":{"content-type":"text/plain; charset=utf-8"},"method":"POST","params":{"data":{"mapTo":"data","required":true,"type":"string"}},"url":"/markdown/raw"}},"meta":{"get":{"method":"GET","params":{},"url":"/meta"}},"migrations":{"cancelImport":{"headers":{"accept":"application/vnd.github.barred-rock-preview+json"},"method":"DELETE","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/import"},"deleteArchiveForAuthenticatedUser":{"headers":{"accept":"application/vnd.github.wyandotte-preview+json"},"method":"DELETE","params":{"migration_id":{"required":true,"type":"integer"}},"url":"/user/migrations/:migration_id/archive"},"deleteArchiveForOrg":{"headers":{"accept":"application/vnd.github.wyandotte-preview+json"},"method":"DELETE","params":{"migration_id":{"required":true,"type":"integer"},"org":{"required":true,"type":"string"}},"url":"/orgs/:org/migrations/:migration_id/archive"},"getArchiveForAuthenticatedUser":{"headers":{"accept":"application/vnd.github.wyandotte-preview+json"},"method":"GET","params":{"migration_id":{"required":true,"type":"integer"}},"url":"/user/migrations/:migration_id/archive"},"getArchiveForOrg":{"headers":{"accept":"application/vnd.github.wyandotte-preview+json"},"method":"GET","params":{"migration_id":{"required":true,"type":"integer"},"org":{"required":true,"type":"string"}},"url":"/orgs/:org/migrations/:migration_id/archive"},"getCommitAuthors":{"headers":{"accept":"application/vnd.github.barred-rock-preview+json"},"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"since":{"type":"string"}},"url":"/repos/:owner/:repo/import/authors"},"getImportProgress":{"headers":{"accept":"application/vnd.github.barred-rock-preview+json"},"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/import"},"getLargeFiles":{"headers":{"accept":"application/vnd.github.barred-rock-preview+json"},"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/import/large_files"},"getStatusForAuthenticatedUser":{"headers":{"accept":"application/vnd.github.wyandotte-preview+json"},"method":"GET","params":{"migration_id":{"required":true,"type":"integer"}},"url":"/user/migrations/:migration_id"},"getStatusForOrg":{"headers":{"accept":"application/vnd.github.wyandotte-preview+json"},"method":"GET","params":{"migration_id":{"required":true,"type":"integer"},"org":{"required":true,"type":"string"}},"url":"/orgs/:org/migrations/:migration_id"},"listForAuthenticatedUser":{"headers":{"accept":"application/vnd.github.wyandotte-preview+json"},"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/migrations"},"listForOrg":{"headers":{"accept":"application/vnd.github.wyandotte-preview+json"},"method":"GET","params":{"org":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/orgs/:org/migrations"},"mapCommitAuthor":{"headers":{"accept":"application/vnd.github.barred-rock-preview+json"},"method":"PATCH","params":{"author_id":{"required":true,"type":"integer"},"email":{"type":"string"},"name":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/import/authors/:author_id"},"setLfsPreference":{"headers":{"accept":"application/vnd.github.barred-rock-preview+json"},"method":"PATCH","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"use_lfs":{"enum":["opt_in","opt_out"],"required":true,"type":"string"}},"url":"/repos/:owner/:repo/import/lfs"},"startForAuthenticatedUser":{"method":"POST","params":{"exclude_attachments":{"type":"boolean"},"lock_repositories":{"type":"boolean"},"repositories":{"required":true,"type":"string[]"}},"url":"/user/migrations"},"startForOrg":{"method":"POST","params":{"exclude_attachments":{"type":"boolean"},"lock_repositories":{"type":"boolean"},"org":{"required":true,"type":"string"},"repositories":{"required":true,"type":"string[]"}},"url":"/orgs/:org/migrations"},"startImport":{"headers":{"accept":"application/vnd.github.barred-rock-preview+json"},"method":"PUT","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"tfvc_project":{"type":"string"},"vcs":{"enum":["subversion","git","mercurial","tfvc"],"type":"string"},"vcs_password":{"type":"string"},"vcs_url":{"required":true,"type":"string"},"vcs_username":{"type":"string"}},"url":"/repos/:owner/:repo/import"},"unlockRepoForAuthenticatedUser":{"headers":{"accept":"application/vnd.github.wyandotte-preview+json"},"method":"DELETE","params":{"migration_id":{"required":true,"type":"integer"},"repo_name":{"required":true,"type":"string"}},"url":"/user/migrations/:migration_id/repos/:repo_name/lock"},"unlockRepoForOrg":{"headers":{"accept":"application/vnd.github.wyandotte-preview+json"},"method":"DELETE","params":{"migration_id":{"required":true,"type":"integer"},"org":{"required":true,"type":"string"},"repo_name":{"required":true,"type":"string"}},"url":"/orgs/:org/migrations/:migration_id/repos/:repo_name/lock"},"updateImport":{"headers":{"accept":"application/vnd.github.barred-rock-preview+json"},"method":"PATCH","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"vcs_password":{"type":"string"},"vcs_username":{"type":"string"}},"url":"/repos/:owner/:repo/import"}},"oauthAuthorizations":{"checkAuthorization":{"deprecated":"octokit.oauthAuthorizations.checkAuthorization() has been renamed to octokit.apps.checkAuthorization() (2019-11-05)","method":"GET","params":{"access_token":{"required":true,"type":"string"},"client_id":{"required":true,"type":"string"}},"url":"/applications/:client_id/tokens/:access_token"},"createAuthorization":{"deprecated":"octokit.oauthAuthorizations.createAuthorization() is deprecated, see https://developer.github.com/v3/oauth_authorizations/#create-a-new-authorization","method":"POST","params":{"client_id":{"type":"string"},"client_secret":{"type":"string"},"fingerprint":{"type":"string"},"note":{"required":true,"type":"string"},"note_url":{"type":"string"},"scopes":{"type":"string[]"}},"url":"/authorizations"},"deleteAuthorization":{"deprecated":"octokit.oauthAuthorizations.deleteAuthorization() is deprecated, see https://developer.github.com/v3/oauth_authorizations/#delete-an-authorization","method":"DELETE","params":{"authorization_id":{"required":true,"type":"integer"}},"url":"/authorizations/:authorization_id"},"deleteGrant":{"deprecated":"octokit.oauthAuthorizations.deleteGrant() is deprecated, see https://developer.github.com/v3/oauth_authorizations/#delete-a-grant","method":"DELETE","params":{"grant_id":{"required":true,"type":"integer"}},"url":"/applications/grants/:grant_id"},"getAuthorization":{"deprecated":"octokit.oauthAuthorizations.getAuthorization() is deprecated, see https://developer.github.com/v3/oauth_authorizations/#get-a-single-authorization","method":"GET","params":{"authorization_id":{"required":true,"type":"integer"}},"url":"/authorizations/:authorization_id"},"getGrant":{"deprecated":"octokit.oauthAuthorizations.getGrant() is deprecated, see https://developer.github.com/v3/oauth_authorizations/#get-a-single-grant","method":"GET","params":{"grant_id":{"required":true,"type":"integer"}},"url":"/applications/grants/:grant_id"},"getOrCreateAuthorizationForApp":{"deprecated":"octokit.oauthAuthorizations.getOrCreateAuthorizationForApp() is deprecated, see https://developer.github.com/v3/oauth_authorizations/#get-or-create-an-authorization-for-a-specific-app","method":"PUT","params":{"client_id":{"required":true,"type":"string"},"client_secret":{"required":true,"type":"string"},"fingerprint":{"type":"string"},"note":{"type":"string"},"note_url":{"type":"string"},"scopes":{"type":"string[]"}},"url":"/authorizations/clients/:client_id"},"getOrCreateAuthorizationForAppAndFingerprint":{"deprecated":"octokit.oauthAuthorizations.getOrCreateAuthorizationForAppAndFingerprint() is deprecated, see https://developer.github.com/v3/oauth_authorizations/#get-or-create-an-authorization-for-a-specific-app-and-fingerprint","method":"PUT","params":{"client_id":{"required":true,"type":"string"},"client_secret":{"required":true,"type":"string"},"fingerprint":{"required":true,"type":"string"},"note":{"type":"string"},"note_url":{"type":"string"},"scopes":{"type":"string[]"}},"url":"/authorizations/clients/:client_id/:fingerprint"},"getOrCreateAuthorizationForAppFingerprint":{"deprecated":"octokit.oauthAuthorizations.getOrCreateAuthorizationForAppFingerprint() has been renamed to octokit.oauthAuthorizations.getOrCreateAuthorizationForAppAndFingerprint() (2018-12-27)","method":"PUT","params":{"client_id":{"required":true,"type":"string"},"client_secret":{"required":true,"type":"string"},"fingerprint":{"required":true,"type":"string"},"note":{"type":"string"},"note_url":{"type":"string"},"scopes":{"type":"string[]"}},"url":"/authorizations/clients/:client_id/:fingerprint"},"listAuthorizations":{"deprecated":"octokit.oauthAuthorizations.listAuthorizations() is deprecated, see https://developer.github.com/v3/oauth_authorizations/#list-your-authorizations","method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/authorizations"},"listGrants":{"deprecated":"octokit.oauthAuthorizations.listGrants() is deprecated, see https://developer.github.com/v3/oauth_authorizations/#list-your-grants","method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/applications/grants"},"resetAuthorization":{"deprecated":"octokit.oauthAuthorizations.resetAuthorization() has been renamed to octokit.apps.resetAuthorization() (2019-11-05)","method":"POST","params":{"access_token":{"required":true,"type":"string"},"client_id":{"required":true,"type":"string"}},"url":"/applications/:client_id/tokens/:access_token"},"revokeAuthorizationForApplication":{"deprecated":"octokit.oauthAuthorizations.revokeAuthorizationForApplication() has been renamed to octokit.apps.revokeAuthorizationForApplication() (2019-11-05)","method":"DELETE","params":{"access_token":{"required":true,"type":"string"},"client_id":{"required":true,"type":"string"}},"url":"/applications/:client_id/tokens/:access_token"},"revokeGrantForApplication":{"deprecated":"octokit.oauthAuthorizations.revokeGrantForApplication() has been renamed to octokit.apps.revokeGrantForApplication() (2019-11-05)","method":"DELETE","params":{"access_token":{"required":true,"type":"string"},"client_id":{"required":true,"type":"string"}},"url":"/applications/:client_id/grants/:access_token"},"updateAuthorization":{"deprecated":"octokit.oauthAuthorizations.updateAuthorization() is deprecated, see https://developer.github.com/v3/oauth_authorizations/#update-an-existing-authorization","method":"PATCH","params":{"add_scopes":{"type":"string[]"},"authorization_id":{"required":true,"type":"integer"},"fingerprint":{"type":"string"},"note":{"type":"string"},"note_url":{"type":"string"},"remove_scopes":{"type":"string[]"},"scopes":{"type":"string[]"}},"url":"/authorizations/:authorization_id"}},"orgs":{"addOrUpdateMembership":{"method":"PUT","params":{"org":{"required":true,"type":"string"},"role":{"enum":["admin","member"],"type":"string"},"username":{"required":true,"type":"string"}},"url":"/orgs/:org/memberships/:username"},"blockUser":{"method":"PUT","params":{"org":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/orgs/:org/blocks/:username"},"checkBlockedUser":{"method":"GET","params":{"org":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/orgs/:org/blocks/:username"},"checkMembership":{"method":"GET","params":{"org":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/orgs/:org/members/:username"},"checkPublicMembership":{"method":"GET","params":{"org":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/orgs/:org/public_members/:username"},"concealMembership":{"method":"DELETE","params":{"org":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/orgs/:org/public_members/:username"},"convertMemberToOutsideCollaborator":{"method":"PUT","params":{"org":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/orgs/:org/outside_collaborators/:username"},"createHook":{"method":"POST","params":{"active":{"type":"boolean"},"config":{"required":true,"type":"object"},"config.content_type":{"type":"string"},"config.insecure_ssl":{"type":"string"},"config.secret":{"type":"string"},"config.url":{"required":true,"type":"string"},"events":{"type":"string[]"},"name":{"required":true,"type":"string"},"org":{"required":true,"type":"string"}},"url":"/orgs/:org/hooks"},"createInvitation":{"method":"POST","params":{"email":{"type":"string"},"invitee_id":{"type":"integer"},"org":{"required":true,"type":"string"},"role":{"enum":["admin","direct_member","billing_manager"],"type":"string"},"team_ids":{"type":"integer[]"}},"url":"/orgs/:org/invitations"},"deleteHook":{"method":"DELETE","params":{"hook_id":{"required":true,"type":"integer"},"org":{"required":true,"type":"string"}},"url":"/orgs/:org/hooks/:hook_id"},"get":{"method":"GET","params":{"org":{"required":true,"type":"string"}},"url":"/orgs/:org"},"getHook":{"method":"GET","params":{"hook_id":{"required":true,"type":"integer"},"org":{"required":true,"type":"string"}},"url":"/orgs/:org/hooks/:hook_id"},"getMembership":{"method":"GET","params":{"org":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/orgs/:org/memberships/:username"},"getMembershipForAuthenticatedUser":{"method":"GET","params":{"org":{"required":true,"type":"string"}},"url":"/user/memberships/orgs/:org"},"list":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"since":{"type":"string"}},"url":"/organizations"},"listBlockedUsers":{"method":"GET","params":{"org":{"required":true,"type":"string"}},"url":"/orgs/:org/blocks"},"listForAuthenticatedUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/orgs"},"listForUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/users/:username/orgs"},"listHooks":{"method":"GET","params":{"org":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/orgs/:org/hooks"},"listInstallations":{"headers":{"accept":"application/vnd.github.machine-man-preview+json"},"method":"GET","params":{"org":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/orgs/:org/installations"},"listInvitationTeams":{"method":"GET","params":{"invitation_id":{"required":true,"type":"integer"},"org":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/orgs/:org/invitations/:invitation_id/teams"},"listMembers":{"method":"GET","params":{"filter":{"enum":["2fa_disabled","all"],"type":"string"},"org":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"role":{"enum":["all","admin","member"],"type":"string"}},"url":"/orgs/:org/members"},"listMemberships":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"state":{"enum":["active","pending"],"type":"string"}},"url":"/user/memberships/orgs"},"listOutsideCollaborators":{"method":"GET","params":{"filter":{"enum":["2fa_disabled","all"],"type":"string"},"org":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/orgs/:org/outside_collaborators"},"listPendingInvitations":{"method":"GET","params":{"org":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/orgs/:org/invitations"},"listPublicMembers":{"method":"GET","params":{"org":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/orgs/:org/public_members"},"pingHook":{"method":"POST","params":{"hook_id":{"required":true,"type":"integer"},"org":{"required":true,"type":"string"}},"url":"/orgs/:org/hooks/:hook_id/pings"},"publicizeMembership":{"method":"PUT","params":{"org":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/orgs/:org/public_members/:username"},"removeMember":{"method":"DELETE","params":{"org":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/orgs/:org/members/:username"},"removeMembership":{"method":"DELETE","params":{"org":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/orgs/:org/memberships/:username"},"removeOutsideCollaborator":{"method":"DELETE","params":{"org":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/orgs/:org/outside_collaborators/:username"},"unblockUser":{"method":"DELETE","params":{"org":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/orgs/:org/blocks/:username"},"update":{"method":"PATCH","params":{"billing_email":{"type":"string"},"company":{"type":"string"},"default_repository_permission":{"enum":["read","write","admin","none"],"type":"string"},"description":{"type":"string"},"email":{"type":"string"},"has_organization_projects":{"type":"boolean"},"has_repository_projects":{"type":"boolean"},"location":{"type":"string"},"members_allowed_repository_creation_type":{"enum":["all","private","none"],"type":"string"},"members_can_create_repositories":{"type":"boolean"},"name":{"type":"string"},"org":{"required":true,"type":"string"}},"url":"/orgs/:org"},"updateHook":{"method":"PATCH","params":{"active":{"type":"boolean"},"config":{"type":"object"},"config.content_type":{"type":"string"},"config.insecure_ssl":{"type":"string"},"config.secret":{"type":"string"},"config.url":{"required":true,"type":"string"},"events":{"type":"string[]"},"hook_id":{"required":true,"type":"integer"},"org":{"required":true,"type":"string"}},"url":"/orgs/:org/hooks/:hook_id"},"updateMembership":{"method":"PATCH","params":{"org":{"required":true,"type":"string"},"state":{"enum":["active"],"required":true,"type":"string"}},"url":"/user/memberships/orgs/:org"}},"projects":{"addCollaborator":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"PUT","params":{"permission":{"enum":["read","write","admin"],"type":"string"},"project_id":{"required":true,"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/projects/:project_id/collaborators/:username"},"createCard":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"POST","params":{"column_id":{"required":true,"type":"integer"},"content_id":{"type":"integer"},"content_type":{"type":"string"},"note":{"type":"string"}},"url":"/projects/columns/:column_id/cards"},"createColumn":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"POST","params":{"name":{"required":true,"type":"string"},"project_id":{"required":true,"type":"integer"}},"url":"/projects/:project_id/columns"},"createForAuthenticatedUser":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"POST","params":{"body":{"type":"string"},"name":{"required":true,"type":"string"}},"url":"/user/projects"},"createForOrg":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"POST","params":{"body":{"type":"string"},"name":{"required":true,"type":"string"},"org":{"required":true,"type":"string"}},"url":"/orgs/:org/projects"},"createForRepo":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"POST","params":{"body":{"type":"string"},"name":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/projects"},"delete":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"DELETE","params":{"project_id":{"required":true,"type":"integer"}},"url":"/projects/:project_id"},"deleteCard":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"DELETE","params":{"card_id":{"required":true,"type":"integer"}},"url":"/projects/columns/cards/:card_id"},"deleteColumn":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"DELETE","params":{"column_id":{"required":true,"type":"integer"}},"url":"/projects/columns/:column_id"},"get":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"project_id":{"required":true,"type":"integer"}},"url":"/projects/:project_id"},"getCard":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"GET","params":{"card_id":{"required":true,"type":"integer"}},"url":"/projects/columns/cards/:card_id"},"getColumn":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"GET","params":{"column_id":{"required":true,"type":"integer"}},"url":"/projects/columns/:column_id"},"listCards":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"GET","params":{"archived_state":{"enum":["all","archived","not_archived"],"type":"string"},"column_id":{"required":true,"type":"integer"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/projects/columns/:column_id/cards"},"listCollaborators":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"GET","params":{"affiliation":{"enum":["outside","direct","all"],"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"project_id":{"required":true,"type":"integer"}},"url":"/projects/:project_id/collaborators"},"listColumns":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"project_id":{"required":true,"type":"integer"}},"url":"/projects/:project_id/columns"},"listForOrg":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"GET","params":{"org":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"state":{"enum":["open","closed","all"],"type":"string"}},"url":"/orgs/:org/projects"},"listForRepo":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"},"state":{"enum":["open","closed","all"],"type":"string"}},"url":"/repos/:owner/:repo/projects"},"listForUser":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"state":{"enum":["open","closed","all"],"type":"string"},"username":{"required":true,"type":"string"}},"url":"/users/:username/projects"},"moveCard":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"POST","params":{"card_id":{"required":true,"type":"integer"},"column_id":{"type":"integer"},"position":{"required":true,"type":"string","validation":"^(top|bottom|after:\\\\d+)$"}},"url":"/projects/columns/cards/:card_id/moves"},"moveColumn":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"POST","params":{"column_id":{"required":true,"type":"integer"},"position":{"required":true,"type":"string","validation":"^(first|last|after:\\\\d+)$"}},"url":"/projects/columns/:column_id/moves"},"removeCollaborator":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"DELETE","params":{"project_id":{"required":true,"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/projects/:project_id/collaborators/:username"},"reviewUserPermissionLevel":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"GET","params":{"project_id":{"required":true,"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/projects/:project_id/collaborators/:username/permission"},"update":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"PATCH","params":{"body":{"type":"string"},"name":{"type":"string"},"organization_permission":{"type":"string"},"private":{"type":"boolean"},"project_id":{"required":true,"type":"integer"},"state":{"enum":["open","closed"],"type":"string"}},"url":"/projects/:project_id"},"updateCard":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"PATCH","params":{"archived":{"type":"boolean"},"card_id":{"required":true,"type":"integer"},"note":{"type":"string"}},"url":"/projects/columns/cards/:card_id"},"updateColumn":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"PATCH","params":{"column_id":{"required":true,"type":"integer"},"name":{"required":true,"type":"string"}},"url":"/projects/columns/:column_id"}},"pulls":{"checkIfMerged":{"method":"GET","params":{"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls/:pull_number/merge"},"create":{"method":"POST","params":{"base":{"required":true,"type":"string"},"body":{"type":"string"},"draft":{"type":"boolean"},"head":{"required":true,"type":"string"},"maintainer_can_modify":{"type":"boolean"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"title":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls"},"createComment":{"method":"POST","params":{"body":{"required":true,"type":"string"},"commit_id":{"required":true,"type":"string"},"in_reply_to":{"deprecated":true,"description":"The comment ID to reply to. **Note**: This must be the ID of a top-level comment, not a reply to that comment. Replies to replies are not supported.","type":"integer"},"line":{"type":"integer"},"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"path":{"required":true,"type":"string"},"position":{"type":"integer"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"},"side":{"enum":["LEFT","RIGHT"],"type":"string"},"start_line":{"type":"integer"},"start_side":{"enum":["LEFT","RIGHT","side"],"type":"string"}},"url":"/repos/:owner/:repo/pulls/:pull_number/comments"},"createCommentReply":{"deprecated":"octokit.pulls.createCommentReply() has been renamed to octokit.pulls.createComment() (2019-09-09)","method":"POST","params":{"body":{"required":true,"type":"string"},"commit_id":{"required":true,"type":"string"},"in_reply_to":{"deprecated":true,"description":"The comment ID to reply to. **Note**: This must be the ID of a top-level comment, not a reply to that comment. Replies to replies are not supported.","type":"integer"},"line":{"type":"integer"},"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"path":{"required":true,"type":"string"},"position":{"type":"integer"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"},"side":{"enum":["LEFT","RIGHT"],"type":"string"},"start_line":{"type":"integer"},"start_side":{"enum":["LEFT","RIGHT","side"],"type":"string"}},"url":"/repos/:owner/:repo/pulls/:pull_number/comments"},"createFromIssue":{"deprecated":"octokit.pulls.createFromIssue() is deprecated, see https://developer.github.com/v3/pulls/#create-a-pull-request","method":"POST","params":{"base":{"required":true,"type":"string"},"draft":{"type":"boolean"},"head":{"required":true,"type":"string"},"issue":{"required":true,"type":"integer"},"maintainer_can_modify":{"type":"boolean"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls"},"createReview":{"method":"POST","params":{"body":{"type":"string"},"comments":{"type":"object[]"},"comments[].body":{"required":true,"type":"string"},"comments[].path":{"required":true,"type":"string"},"comments[].position":{"required":true,"type":"integer"},"commit_id":{"type":"string"},"event":{"enum":["APPROVE","REQUEST_CHANGES","COMMENT"],"type":"string"},"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls/:pull_number/reviews"},"createReviewCommentReply":{"method":"POST","params":{"body":{"required":true,"type":"string"},"comment_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls/:pull_number/comments/:comment_id/replies"},"createReviewRequest":{"method":"POST","params":{"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"},"reviewers":{"type":"string[]"},"team_reviewers":{"type":"string[]"}},"url":"/repos/:owner/:repo/pulls/:pull_number/requested_reviewers"},"deleteComment":{"method":"DELETE","params":{"comment_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls/comments/:comment_id"},"deletePendingReview":{"method":"DELETE","params":{"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"},"review_id":{"required":true,"type":"integer"}},"url":"/repos/:owner/:repo/pulls/:pull_number/reviews/:review_id"},"deleteReviewRequest":{"method":"DELETE","params":{"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"},"reviewers":{"type":"string[]"},"team_reviewers":{"type":"string[]"}},"url":"/repos/:owner/:repo/pulls/:pull_number/requested_reviewers"},"dismissReview":{"method":"PUT","params":{"message":{"required":true,"type":"string"},"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"},"review_id":{"required":true,"type":"integer"}},"url":"/repos/:owner/:repo/pulls/:pull_number/reviews/:review_id/dismissals"},"get":{"method":"GET","params":{"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls/:pull_number"},"getComment":{"method":"GET","params":{"comment_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls/comments/:comment_id"},"getCommentsForReview":{"method":"GET","params":{"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"},"review_id":{"required":true,"type":"integer"}},"url":"/repos/:owner/:repo/pulls/:pull_number/reviews/:review_id/comments"},"getReview":{"method":"GET","params":{"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"},"review_id":{"required":true,"type":"integer"}},"url":"/repos/:owner/:repo/pulls/:pull_number/reviews/:review_id"},"list":{"method":"GET","params":{"base":{"type":"string"},"direction":{"enum":["asc","desc"],"type":"string"},"head":{"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"},"sort":{"enum":["created","updated","popularity","long-running"],"type":"string"},"state":{"enum":["open","closed","all"],"type":"string"}},"url":"/repos/:owner/:repo/pulls"},"listComments":{"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"},"since":{"type":"string"},"sort":{"enum":["created","updated"],"type":"string"}},"url":"/repos/:owner/:repo/pulls/:pull_number/comments"},"listCommentsForRepo":{"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"},"since":{"type":"string"},"sort":{"enum":["created","updated"],"type":"string"}},"url":"/repos/:owner/:repo/pulls/comments"},"listCommits":{"method":"GET","params":{"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls/:pull_number/commits"},"listFiles":{"method":"GET","params":{"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls/:pull_number/files"},"listReviewRequests":{"method":"GET","params":{"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls/:pull_number/requested_reviewers"},"listReviews":{"method":"GET","params":{"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls/:pull_number/reviews"},"merge":{"method":"PUT","params":{"commit_message":{"type":"string"},"commit_title":{"type":"string"},"merge_method":{"enum":["merge","squash","rebase"],"type":"string"},"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"},"sha":{"type":"string"}},"url":"/repos/:owner/:repo/pulls/:pull_number/merge"},"submitReview":{"method":"POST","params":{"body":{"type":"string"},"event":{"enum":["APPROVE","REQUEST_CHANGES","COMMENT"],"required":true,"type":"string"},"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"},"review_id":{"required":true,"type":"integer"}},"url":"/repos/:owner/:repo/pulls/:pull_number/reviews/:review_id/events"},"update":{"method":"PATCH","params":{"base":{"type":"string"},"body":{"type":"string"},"maintainer_can_modify":{"type":"boolean"},"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"},"state":{"enum":["open","closed"],"type":"string"},"title":{"type":"string"}},"url":"/repos/:owner/:repo/pulls/:pull_number"},"updateBranch":{"headers":{"accept":"application/vnd.github.lydian-preview+json"},"method":"PUT","params":{"expected_head_sha":{"type":"string"},"owner":{"required":true,"type":"string"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls/:pull_number/update-branch"},"updateComment":{"method":"PATCH","params":{"body":{"required":true,"type":"string"},"comment_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls/comments/:comment_id"},"updateReview":{"method":"PUT","params":{"body":{"required":true,"type":"string"},"number":{"alias":"pull_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"pull_number":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"},"review_id":{"required":true,"type":"integer"}},"url":"/repos/:owner/:repo/pulls/:pull_number/reviews/:review_id"}},"rateLimit":{"get":{"method":"GET","params":{},"url":"/rate_limit"}},"reactions":{"createForCommitComment":{"headers":{"accept":"application/vnd.github.squirrel-girl-preview+json"},"method":"POST","params":{"comment_id":{"required":true,"type":"integer"},"content":{"enum":["+1","-1","laugh","confused","heart","hooray","rocket","eyes"],"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/comments/:comment_id/reactions"},"createForIssue":{"headers":{"accept":"application/vnd.github.squirrel-girl-preview+json"},"method":"POST","params":{"content":{"enum":["+1","-1","laugh","confused","heart","hooray","rocket","eyes"],"required":true,"type":"string"},"issue_number":{"required":true,"type":"integer"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/reactions"},"createForIssueComment":{"headers":{"accept":"application/vnd.github.squirrel-girl-preview+json"},"method":"POST","params":{"comment_id":{"required":true,"type":"integer"},"content":{"enum":["+1","-1","laugh","confused","heart","hooray","rocket","eyes"],"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/comments/:comment_id/reactions"},"createForPullRequestReviewComment":{"headers":{"accept":"application/vnd.github.squirrel-girl-preview+json"},"method":"POST","params":{"comment_id":{"required":true,"type":"integer"},"content":{"enum":["+1","-1","laugh","confused","heart","hooray","rocket","eyes"],"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls/comments/:comment_id/reactions"},"createForTeamDiscussion":{"headers":{"accept":"application/vnd.github.echo-preview+json,application/vnd.github.squirrel-girl-preview+json"},"method":"POST","params":{"content":{"enum":["+1","-1","laugh","confused","heart","hooray","rocket","eyes"],"required":true,"type":"string"},"discussion_number":{"required":true,"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/discussions/:discussion_number/reactions"},"createForTeamDiscussionComment":{"headers":{"accept":"application/vnd.github.echo-preview+json,application/vnd.github.squirrel-girl-preview+json"},"method":"POST","params":{"comment_number":{"required":true,"type":"integer"},"content":{"enum":["+1","-1","laugh","confused","heart","hooray","rocket","eyes"],"required":true,"type":"string"},"discussion_number":{"required":true,"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/discussions/:discussion_number/comments/:comment_number/reactions"},"delete":{"headers":{"accept":"application/vnd.github.echo-preview+json,application/vnd.github.squirrel-girl-preview+json"},"method":"DELETE","params":{"reaction_id":{"required":true,"type":"integer"}},"url":"/reactions/:reaction_id"},"listForCommitComment":{"headers":{"accept":"application/vnd.github.squirrel-girl-preview+json"},"method":"GET","params":{"comment_id":{"required":true,"type":"integer"},"content":{"enum":["+1","-1","laugh","confused","heart","hooray","rocket","eyes"],"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/comments/:comment_id/reactions"},"listForIssue":{"headers":{"accept":"application/vnd.github.squirrel-girl-preview+json"},"method":"GET","params":{"content":{"enum":["+1","-1","laugh","confused","heart","hooray","rocket","eyes"],"type":"string"},"issue_number":{"required":true,"type":"integer"},"number":{"alias":"issue_number","deprecated":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/:issue_number/reactions"},"listForIssueComment":{"headers":{"accept":"application/vnd.github.squirrel-girl-preview+json"},"method":"GET","params":{"comment_id":{"required":true,"type":"integer"},"content":{"enum":["+1","-1","laugh","confused","heart","hooray","rocket","eyes"],"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/issues/comments/:comment_id/reactions"},"listForPullRequestReviewComment":{"headers":{"accept":"application/vnd.github.squirrel-girl-preview+json"},"method":"GET","params":{"comment_id":{"required":true,"type":"integer"},"content":{"enum":["+1","-1","laugh","confused","heart","hooray","rocket","eyes"],"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pulls/comments/:comment_id/reactions"},"listForTeamDiscussion":{"headers":{"accept":"application/vnd.github.echo-preview+json,application/vnd.github.squirrel-girl-preview+json"},"method":"GET","params":{"content":{"enum":["+1","-1","laugh","confused","heart","hooray","rocket","eyes"],"type":"string"},"discussion_number":{"required":true,"type":"integer"},"page":{"type":"integer"},"per_page":{"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/discussions/:discussion_number/reactions"},"listForTeamDiscussionComment":{"headers":{"accept":"application/vnd.github.echo-preview+json,application/vnd.github.squirrel-girl-preview+json"},"method":"GET","params":{"comment_number":{"required":true,"type":"integer"},"content":{"enum":["+1","-1","laugh","confused","heart","hooray","rocket","eyes"],"type":"string"},"discussion_number":{"required":true,"type":"integer"},"page":{"type":"integer"},"per_page":{"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/discussions/:discussion_number/comments/:comment_number/reactions"}},"repos":{"acceptInvitation":{"method":"PATCH","params":{"invitation_id":{"required":true,"type":"integer"}},"url":"/user/repository_invitations/:invitation_id"},"addCollaborator":{"method":"PUT","params":{"owner":{"required":true,"type":"string"},"permission":{"enum":["pull","push","admin"],"type":"string"},"repo":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/collaborators/:username"},"addDeployKey":{"method":"POST","params":{"key":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"read_only":{"type":"boolean"},"repo":{"required":true,"type":"string"},"title":{"type":"string"}},"url":"/repos/:owner/:repo/keys"},"addProtectedBranchAdminEnforcement":{"method":"POST","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/enforce_admins"},"addProtectedBranchAppRestrictions":{"method":"POST","params":{"apps":{"mapTo":"data","required":true,"type":"string[]"},"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/apps"},"addProtectedBranchRequiredSignatures":{"headers":{"accept":"application/vnd.github.zzzax-preview+json"},"method":"POST","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/required_signatures"},"addProtectedBranchRequiredStatusChecksContexts":{"method":"POST","params":{"branch":{"required":true,"type":"string"},"contexts":{"mapTo":"data","required":true,"type":"string[]"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/required_status_checks/contexts"},"addProtectedBranchTeamRestrictions":{"method":"POST","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"teams":{"mapTo":"data","required":true,"type":"string[]"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/teams"},"addProtectedBranchUserRestrictions":{"method":"POST","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"users":{"mapTo":"data","required":true,"type":"string[]"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/users"},"checkCollaborator":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/collaborators/:username"},"checkVulnerabilityAlerts":{"headers":{"accept":"application/vnd.github.dorian-preview+json"},"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/vulnerability-alerts"},"compareCommits":{"method":"GET","params":{"base":{"required":true,"type":"string"},"head":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/compare/:base...:head"},"createCommitComment":{"method":"POST","params":{"body":{"required":true,"type":"string"},"commit_sha":{"required":true,"type":"string"},"line":{"type":"integer"},"owner":{"required":true,"type":"string"},"path":{"type":"string"},"position":{"type":"integer"},"repo":{"required":true,"type":"string"},"sha":{"alias":"commit_sha","deprecated":true,"type":"string"}},"url":"/repos/:owner/:repo/commits/:commit_sha/comments"},"createDeployment":{"method":"POST","params":{"auto_merge":{"type":"boolean"},"description":{"type":"string"},"environment":{"type":"string"},"owner":{"required":true,"type":"string"},"payload":{"type":"string"},"production_environment":{"type":"boolean"},"ref":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"required_contexts":{"type":"string[]"},"task":{"type":"string"},"transient_environment":{"type":"boolean"}},"url":"/repos/:owner/:repo/deployments"},"createDeploymentStatus":{"method":"POST","params":{"auto_inactive":{"type":"boolean"},"deployment_id":{"required":true,"type":"integer"},"description":{"type":"string"},"environment":{"enum":["production","staging","qa"],"type":"string"},"environment_url":{"type":"string"},"log_url":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"state":{"enum":["error","failure","inactive","in_progress","queued","pending","success"],"required":true,"type":"string"},"target_url":{"type":"string"}},"url":"/repos/:owner/:repo/deployments/:deployment_id/statuses"},"createDispatchEvent":{"headers":{"accept":"application/vnd.github.everest-preview+json"},"method":"POST","params":{"client_payload":{"type":"object"},"event_type":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/dispatches"},"createFile":{"deprecated":"octokit.repos.createFile() has been renamed to octokit.repos.createOrUpdateFile() (2019-06-07)","method":"PUT","params":{"author":{"type":"object"},"author.email":{"required":true,"type":"string"},"author.name":{"required":true,"type":"string"},"branch":{"type":"string"},"committer":{"type":"object"},"committer.email":{"required":true,"type":"string"},"committer.name":{"required":true,"type":"string"},"content":{"required":true,"type":"string"},"message":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"path":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"sha":{"type":"string"}},"url":"/repos/:owner/:repo/contents/:path"},"createForAuthenticatedUser":{"method":"POST","params":{"allow_merge_commit":{"type":"boolean"},"allow_rebase_merge":{"type":"boolean"},"allow_squash_merge":{"type":"boolean"},"auto_init":{"type":"boolean"},"description":{"type":"string"},"gitignore_template":{"type":"string"},"has_issues":{"type":"boolean"},"has_projects":{"type":"boolean"},"has_wiki":{"type":"boolean"},"homepage":{"type":"string"},"is_template":{"type":"boolean"},"license_template":{"type":"string"},"name":{"required":true,"type":"string"},"private":{"type":"boolean"},"team_id":{"type":"integer"}},"url":"/user/repos"},"createFork":{"method":"POST","params":{"organization":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/forks"},"createHook":{"method":"POST","params":{"active":{"type":"boolean"},"config":{"required":true,"type":"object"},"config.content_type":{"type":"string"},"config.insecure_ssl":{"type":"string"},"config.secret":{"type":"string"},"config.url":{"required":true,"type":"string"},"events":{"type":"string[]"},"name":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/hooks"},"createInOrg":{"method":"POST","params":{"allow_merge_commit":{"type":"boolean"},"allow_rebase_merge":{"type":"boolean"},"allow_squash_merge":{"type":"boolean"},"auto_init":{"type":"boolean"},"description":{"type":"string"},"gitignore_template":{"type":"string"},"has_issues":{"type":"boolean"},"has_projects":{"type":"boolean"},"has_wiki":{"type":"boolean"},"homepage":{"type":"string"},"is_template":{"type":"boolean"},"license_template":{"type":"string"},"name":{"required":true,"type":"string"},"org":{"required":true,"type":"string"},"private":{"type":"boolean"},"team_id":{"type":"integer"}},"url":"/orgs/:org/repos"},"createOrUpdateFile":{"method":"PUT","params":{"author":{"type":"object"},"author.email":{"required":true,"type":"string"},"author.name":{"required":true,"type":"string"},"branch":{"type":"string"},"committer":{"type":"object"},"committer.email":{"required":true,"type":"string"},"committer.name":{"required":true,"type":"string"},"content":{"required":true,"type":"string"},"message":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"path":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"sha":{"type":"string"}},"url":"/repos/:owner/:repo/contents/:path"},"createRelease":{"method":"POST","params":{"body":{"type":"string"},"draft":{"type":"boolean"},"name":{"type":"string"},"owner":{"required":true,"type":"string"},"prerelease":{"type":"boolean"},"repo":{"required":true,"type":"string"},"tag_name":{"required":true,"type":"string"},"target_commitish":{"type":"string"}},"url":"/repos/:owner/:repo/releases"},"createStatus":{"method":"POST","params":{"context":{"type":"string"},"description":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"sha":{"required":true,"type":"string"},"state":{"enum":["error","failure","pending","success"],"required":true,"type":"string"},"target_url":{"type":"string"}},"url":"/repos/:owner/:repo/statuses/:sha"},"createUsingTemplate":{"headers":{"accept":"application/vnd.github.baptiste-preview+json"},"method":"POST","params":{"description":{"type":"string"},"name":{"required":true,"type":"string"},"owner":{"type":"string"},"private":{"type":"boolean"},"template_owner":{"required":true,"type":"string"},"template_repo":{"required":true,"type":"string"}},"url":"/repos/:template_owner/:template_repo/generate"},"declineInvitation":{"method":"DELETE","params":{"invitation_id":{"required":true,"type":"integer"}},"url":"/user/repository_invitations/:invitation_id"},"delete":{"method":"DELETE","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo"},"deleteCommitComment":{"method":"DELETE","params":{"comment_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/comments/:comment_id"},"deleteDownload":{"method":"DELETE","params":{"download_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/downloads/:download_id"},"deleteFile":{"method":"DELETE","params":{"author":{"type":"object"},"author.email":{"type":"string"},"author.name":{"type":"string"},"branch":{"type":"string"},"committer":{"type":"object"},"committer.email":{"type":"string"},"committer.name":{"type":"string"},"message":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"path":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"sha":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/contents/:path"},"deleteHook":{"method":"DELETE","params":{"hook_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/hooks/:hook_id"},"deleteInvitation":{"method":"DELETE","params":{"invitation_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/invitations/:invitation_id"},"deleteRelease":{"method":"DELETE","params":{"owner":{"required":true,"type":"string"},"release_id":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/releases/:release_id"},"deleteReleaseAsset":{"method":"DELETE","params":{"asset_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/releases/assets/:asset_id"},"disableAutomatedSecurityFixes":{"headers":{"accept":"application/vnd.github.london-preview+json"},"method":"DELETE","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/automated-security-fixes"},"disablePagesSite":{"headers":{"accept":"application/vnd.github.switcheroo-preview+json"},"method":"DELETE","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pages"},"disableVulnerabilityAlerts":{"headers":{"accept":"application/vnd.github.dorian-preview+json"},"method":"DELETE","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/vulnerability-alerts"},"enableAutomatedSecurityFixes":{"headers":{"accept":"application/vnd.github.london-preview+json"},"method":"PUT","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/automated-security-fixes"},"enablePagesSite":{"headers":{"accept":"application/vnd.github.switcheroo-preview+json"},"method":"POST","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"source":{"type":"object"},"source.branch":{"enum":["master","gh-pages"],"type":"string"},"source.path":{"type":"string"}},"url":"/repos/:owner/:repo/pages"},"enableVulnerabilityAlerts":{"headers":{"accept":"application/vnd.github.dorian-preview+json"},"method":"PUT","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/vulnerability-alerts"},"get":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo"},"getAppsWithAccessToProtectedBranch":{"method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/apps"},"getArchiveLink":{"method":"GET","params":{"archive_format":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"ref":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/:archive_format/:ref"},"getBranch":{"method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch"},"getBranchProtection":{"method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection"},"getClones":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"per":{"enum":["day","week"],"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/traffic/clones"},"getCodeFrequencyStats":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/stats/code_frequency"},"getCollaboratorPermissionLevel":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/collaborators/:username/permission"},"getCombinedStatusForRef":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"ref":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/commits/:ref/status"},"getCommit":{"method":"GET","params":{"commit_sha":{"alias":"ref","deprecated":true,"type":"string"},"owner":{"required":true,"type":"string"},"ref":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"sha":{"alias":"ref","deprecated":true,"type":"string"}},"url":"/repos/:owner/:repo/commits/:ref"},"getCommitActivityStats":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/stats/commit_activity"},"getCommitComment":{"method":"GET","params":{"comment_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/comments/:comment_id"},"getCommitRefSha":{"deprecated":"octokit.repos.getCommitRefSha() is deprecated, see https://developer.github.com/v3/repos/commits/#get-a-single-commit","headers":{"accept":"application/vnd.github.v3.sha"},"method":"GET","params":{"owner":{"required":true,"type":"string"},"ref":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/commits/:ref"},"getContents":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"path":{"required":true,"type":"string"},"ref":{"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/contents/:path"},"getContributorsStats":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/stats/contributors"},"getDeployKey":{"method":"GET","params":{"key_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/keys/:key_id"},"getDeployment":{"method":"GET","params":{"deployment_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/deployments/:deployment_id"},"getDeploymentStatus":{"method":"GET","params":{"deployment_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"status_id":{"required":true,"type":"integer"}},"url":"/repos/:owner/:repo/deployments/:deployment_id/statuses/:status_id"},"getDownload":{"method":"GET","params":{"download_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/downloads/:download_id"},"getHook":{"method":"GET","params":{"hook_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/hooks/:hook_id"},"getLatestPagesBuild":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pages/builds/latest"},"getLatestRelease":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/releases/latest"},"getPages":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pages"},"getPagesBuild":{"method":"GET","params":{"build_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pages/builds/:build_id"},"getParticipationStats":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/stats/participation"},"getProtectedBranchAdminEnforcement":{"method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/enforce_admins"},"getProtectedBranchPullRequestReviewEnforcement":{"method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/required_pull_request_reviews"},"getProtectedBranchRequiredSignatures":{"headers":{"accept":"application/vnd.github.zzzax-preview+json"},"method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/required_signatures"},"getProtectedBranchRequiredStatusChecks":{"method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/required_status_checks"},"getProtectedBranchRestrictions":{"method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions"},"getPunchCardStats":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/stats/punch_card"},"getReadme":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"ref":{"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/readme"},"getRelease":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"release_id":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/releases/:release_id"},"getReleaseAsset":{"method":"GET","params":{"asset_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/releases/assets/:asset_id"},"getReleaseByTag":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"tag":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/releases/tags/:tag"},"getTeamsWithAccessToProtectedBranch":{"method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/teams"},"getTopPaths":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/traffic/popular/paths"},"getTopReferrers":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/traffic/popular/referrers"},"getUsersWithAccessToProtectedBranch":{"method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/users"},"getViews":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"per":{"enum":["day","week"],"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/traffic/views"},"list":{"method":"GET","params":{"affiliation":{"type":"string"},"direction":{"enum":["asc","desc"],"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"sort":{"enum":["created","updated","pushed","full_name"],"type":"string"},"type":{"enum":["all","owner","public","private","member"],"type":"string"},"visibility":{"enum":["all","public","private"],"type":"string"}},"url":"/user/repos"},"listAppsWithAccessToProtectedBranch":{"deprecated":"octokit.repos.listAppsWithAccessToProtectedBranch() has been renamed to octokit.repos.getAppsWithAccessToProtectedBranch() (2019-09-13)","method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/apps"},"listAssetsForRelease":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"release_id":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/releases/:release_id/assets"},"listBranches":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"protected":{"type":"boolean"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches"},"listBranchesForHeadCommit":{"headers":{"accept":"application/vnd.github.groot-preview+json"},"method":"GET","params":{"commit_sha":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/commits/:commit_sha/branches-where-head"},"listCollaborators":{"method":"GET","params":{"affiliation":{"enum":["outside","direct","all"],"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/collaborators"},"listCommentsForCommit":{"method":"GET","params":{"commit_sha":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"ref":{"alias":"commit_sha","deprecated":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/commits/:commit_sha/comments"},"listCommitComments":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/comments"},"listCommits":{"method":"GET","params":{"author":{"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"path":{"type":"string"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"},"sha":{"type":"string"},"since":{"type":"string"},"until":{"type":"string"}},"url":"/repos/:owner/:repo/commits"},"listContributors":{"method":"GET","params":{"anon":{"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/contributors"},"listDeployKeys":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/keys"},"listDeploymentStatuses":{"method":"GET","params":{"deployment_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/deployments/:deployment_id/statuses"},"listDeployments":{"method":"GET","params":{"environment":{"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"ref":{"type":"string"},"repo":{"required":true,"type":"string"},"sha":{"type":"string"},"task":{"type":"string"}},"url":"/repos/:owner/:repo/deployments"},"listDownloads":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/downloads"},"listForOrg":{"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"org":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"sort":{"enum":["created","updated","pushed","full_name"],"type":"string"},"type":{"enum":["all","public","private","forks","sources","member"],"type":"string"}},"url":"/orgs/:org/repos"},"listForUser":{"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"sort":{"enum":["created","updated","pushed","full_name"],"type":"string"},"type":{"enum":["all","owner","member"],"type":"string"},"username":{"required":true,"type":"string"}},"url":"/users/:username/repos"},"listForks":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"},"sort":{"enum":["newest","oldest","stargazers"],"type":"string"}},"url":"/repos/:owner/:repo/forks"},"listHooks":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/hooks"},"listInvitations":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/invitations"},"listInvitationsForAuthenticatedUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/repository_invitations"},"listLanguages":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/languages"},"listPagesBuilds":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pages/builds"},"listProtectedBranchRequiredStatusChecksContexts":{"method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/required_status_checks/contexts"},"listProtectedBranchTeamRestrictions":{"deprecated":"octokit.repos.listProtectedBranchTeamRestrictions() has been renamed to octokit.repos.getTeamsWithAccessToProtectedBranch() (2019-09-09)","method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/teams"},"listProtectedBranchUserRestrictions":{"deprecated":"octokit.repos.listProtectedBranchUserRestrictions() has been renamed to octokit.repos.getUsersWithAccessToProtectedBranch() (2019-09-09)","method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/users"},"listPublic":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"since":{"type":"string"}},"url":"/repositories"},"listPullRequestsAssociatedWithCommit":{"headers":{"accept":"application/vnd.github.groot-preview+json"},"method":"GET","params":{"commit_sha":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/commits/:commit_sha/pulls"},"listReleases":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/releases"},"listStatusesForRef":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"ref":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/commits/:ref/statuses"},"listTags":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/tags"},"listTeams":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/teams"},"listTeamsWithAccessToProtectedBranch":{"deprecated":"octokit.repos.listTeamsWithAccessToProtectedBranch() has been renamed to octokit.repos.getTeamsWithAccessToProtectedBranch() (2019-09-13)","method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/teams"},"listTopics":{"headers":{"accept":"application/vnd.github.mercy-preview+json"},"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/topics"},"listUsersWithAccessToProtectedBranch":{"deprecated":"octokit.repos.listUsersWithAccessToProtectedBranch() has been renamed to octokit.repos.getUsersWithAccessToProtectedBranch() (2019-09-13)","method":"GET","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/users"},"merge":{"method":"POST","params":{"base":{"required":true,"type":"string"},"commit_message":{"type":"string"},"head":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/merges"},"pingHook":{"method":"POST","params":{"hook_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/hooks/:hook_id/pings"},"removeBranchProtection":{"method":"DELETE","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection"},"removeCollaborator":{"method":"DELETE","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/collaborators/:username"},"removeDeployKey":{"method":"DELETE","params":{"key_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/keys/:key_id"},"removeProtectedBranchAdminEnforcement":{"method":"DELETE","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/enforce_admins"},"removeProtectedBranchAppRestrictions":{"method":"DELETE","params":{"apps":{"mapTo":"data","required":true,"type":"string[]"},"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/apps"},"removeProtectedBranchPullRequestReviewEnforcement":{"method":"DELETE","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/required_pull_request_reviews"},"removeProtectedBranchRequiredSignatures":{"headers":{"accept":"application/vnd.github.zzzax-preview+json"},"method":"DELETE","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/required_signatures"},"removeProtectedBranchRequiredStatusChecks":{"method":"DELETE","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/required_status_checks"},"removeProtectedBranchRequiredStatusChecksContexts":{"method":"DELETE","params":{"branch":{"required":true,"type":"string"},"contexts":{"mapTo":"data","required":true,"type":"string[]"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/required_status_checks/contexts"},"removeProtectedBranchRestrictions":{"method":"DELETE","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions"},"removeProtectedBranchTeamRestrictions":{"method":"DELETE","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"teams":{"mapTo":"data","required":true,"type":"string[]"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/teams"},"removeProtectedBranchUserRestrictions":{"method":"DELETE","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"users":{"mapTo":"data","required":true,"type":"string[]"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/users"},"replaceProtectedBranchAppRestrictions":{"method":"PUT","params":{"apps":{"mapTo":"data","required":true,"type":"string[]"},"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/apps"},"replaceProtectedBranchRequiredStatusChecksContexts":{"method":"PUT","params":{"branch":{"required":true,"type":"string"},"contexts":{"mapTo":"data","required":true,"type":"string[]"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/branches/:branch/protection/required_status_checks/contexts"},"replaceProtectedBranchTeamRestrictions":{"method":"PUT","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"teams":{"mapTo":"data","required":true,"type":"string[]"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/teams"},"replaceProtectedBranchUserRestrictions":{"method":"PUT","params":{"branch":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"users":{"mapTo":"data","required":true,"type":"string[]"}},"url":"/repos/:owner/:repo/branches/:branch/protection/restrictions/users"},"replaceTopics":{"headers":{"accept":"application/vnd.github.mercy-preview+json"},"method":"PUT","params":{"names":{"required":true,"type":"string[]"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/topics"},"requestPageBuild":{"method":"POST","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/pages/builds"},"retrieveCommunityProfileMetrics":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/community/profile"},"testPushHook":{"method":"POST","params":{"hook_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/hooks/:hook_id/tests"},"transfer":{"headers":{"accept":"application/vnd.github.nightshade-preview+json"},"method":"POST","params":{"new_owner":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"team_ids":{"type":"integer[]"}},"url":"/repos/:owner/:repo/transfer"},"update":{"method":"PATCH","params":{"allow_merge_commit":{"type":"boolean"},"allow_rebase_merge":{"type":"boolean"},"allow_squash_merge":{"type":"boolean"},"archived":{"type":"boolean"},"default_branch":{"type":"string"},"description":{"type":"string"},"has_issues":{"type":"boolean"},"has_projects":{"type":"boolean"},"has_wiki":{"type":"boolean"},"homepage":{"type":"string"},"is_template":{"type":"boolean"},"name":{"type":"string"},"owner":{"required":true,"type":"string"},"private":{"type":"boolean"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo"},"updateBranchProtection":{"method":"PUT","params":{"branch":{"required":true,"type":"string"},"enforce_admins":{"allowNull":true,"required":true,"type":"boolean"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"required_pull_request_reviews":{"allowNull":true,"required":true,"type":"object"},"required_pull_request_reviews.dismiss_stale_reviews":{"type":"boolean"},"required_pull_request_reviews.dismissal_restrictions":{"type":"object"},"required_pull_request_reviews.dismissal_restrictions.teams":{"type":"string[]"},"required_pull_request_reviews.dismissal_restrictions.users":{"type":"string[]"},"required_pull_request_reviews.require_code_owner_reviews":{"type":"boolean"},"required_pull_request_reviews.required_approving_review_count":{"type":"integer"},"required_status_checks":{"allowNull":true,"required":true,"type":"object"},"required_status_checks.contexts":{"required":true,"type":"string[]"},"required_status_checks.strict":{"required":true,"type":"boolean"},"restrictions":{"allowNull":true,"required":true,"type":"object"},"restrictions.apps":{"type":"string[]"},"restrictions.teams":{"required":true,"type":"string[]"},"restrictions.users":{"required":true,"type":"string[]"}},"url":"/repos/:owner/:repo/branches/:branch/protection"},"updateCommitComment":{"method":"PATCH","params":{"body":{"required":true,"type":"string"},"comment_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/comments/:comment_id"},"updateFile":{"deprecated":"octokit.repos.updateFile() has been renamed to octokit.repos.createOrUpdateFile() (2019-06-07)","method":"PUT","params":{"author":{"type":"object"},"author.email":{"required":true,"type":"string"},"author.name":{"required":true,"type":"string"},"branch":{"type":"string"},"committer":{"type":"object"},"committer.email":{"required":true,"type":"string"},"committer.name":{"required":true,"type":"string"},"content":{"required":true,"type":"string"},"message":{"required":true,"type":"string"},"owner":{"required":true,"type":"string"},"path":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"sha":{"type":"string"}},"url":"/repos/:owner/:repo/contents/:path"},"updateHook":{"method":"PATCH","params":{"active":{"type":"boolean"},"add_events":{"type":"string[]"},"config":{"type":"object"},"config.content_type":{"type":"string"},"config.insecure_ssl":{"type":"string"},"config.secret":{"type":"string"},"config.url":{"required":true,"type":"string"},"events":{"type":"string[]"},"hook_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"remove_events":{"type":"string[]"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/hooks/:hook_id"},"updateInformationAboutPagesSite":{"method":"PUT","params":{"cname":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"source":{"enum":["\\"gh-pages\\"","\\"master\\"","\\"master /docs\\""],"type":"string"}},"url":"/repos/:owner/:repo/pages"},"updateInvitation":{"method":"PATCH","params":{"invitation_id":{"required":true,"type":"integer"},"owner":{"required":true,"type":"string"},"permissions":{"enum":["read","write","admin"],"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/invitations/:invitation_id"},"updateProtectedBranchPullRequestReviewEnforcement":{"method":"PATCH","params":{"branch":{"required":true,"type":"string"},"dismiss_stale_reviews":{"type":"boolean"},"dismissal_restrictions":{"type":"object"},"dismissal_restrictions.teams":{"type":"string[]"},"dismissal_restrictions.users":{"type":"string[]"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"require_code_owner_reviews":{"type":"boolean"},"required_approving_review_count":{"type":"integer"}},"url":"/repos/:owner/:repo/branches/:branch/protection/required_pull_request_reviews"},"updateProtectedBranchRequiredStatusChecks":{"method":"PATCH","params":{"branch":{"required":true,"type":"string"},"contexts":{"type":"string[]"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"strict":{"type":"boolean"}},"url":"/repos/:owner/:repo/branches/:branch/protection/required_status_checks"},"updateRelease":{"method":"PATCH","params":{"body":{"type":"string"},"draft":{"type":"boolean"},"name":{"type":"string"},"owner":{"required":true,"type":"string"},"prerelease":{"type":"boolean"},"release_id":{"required":true,"type":"integer"},"repo":{"required":true,"type":"string"},"tag_name":{"type":"string"},"target_commitish":{"type":"string"}},"url":"/repos/:owner/:repo/releases/:release_id"},"updateReleaseAsset":{"method":"PATCH","params":{"asset_id":{"required":true,"type":"integer"},"label":{"type":"string"},"name":{"type":"string"},"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"}},"url":"/repos/:owner/:repo/releases/assets/:asset_id"},"uploadReleaseAsset":{"method":"POST","params":{"file":{"mapTo":"data","required":true,"type":"string | object"},"headers":{"required":true,"type":"object"},"headers.content-length":{"required":true,"type":"integer"},"headers.content-type":{"required":true,"type":"string"},"label":{"type":"string"},"name":{"required":true,"type":"string"},"url":{"required":true,"type":"string"}},"url":":url"}},"search":{"code":{"method":"GET","params":{"order":{"enum":["desc","asc"],"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"q":{"required":true,"type":"string"},"sort":{"enum":["indexed"],"type":"string"}},"url":"/search/code"},"commits":{"headers":{"accept":"application/vnd.github.cloak-preview+json"},"method":"GET","params":{"order":{"enum":["desc","asc"],"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"q":{"required":true,"type":"string"},"sort":{"enum":["author-date","committer-date"],"type":"string"}},"url":"/search/commits"},"issues":{"deprecated":"octokit.search.issues() has been renamed to octokit.search.issuesAndPullRequests() (2018-12-27)","method":"GET","params":{"order":{"enum":["desc","asc"],"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"q":{"required":true,"type":"string"},"sort":{"enum":["comments","reactions","reactions-+1","reactions--1","reactions-smile","reactions-thinking_face","reactions-heart","reactions-tada","interactions","created","updated"],"type":"string"}},"url":"/search/issues"},"issuesAndPullRequests":{"method":"GET","params":{"order":{"enum":["desc","asc"],"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"q":{"required":true,"type":"string"},"sort":{"enum":["comments","reactions","reactions-+1","reactions--1","reactions-smile","reactions-thinking_face","reactions-heart","reactions-tada","interactions","created","updated"],"type":"string"}},"url":"/search/issues"},"labels":{"method":"GET","params":{"order":{"enum":["desc","asc"],"type":"string"},"q":{"required":true,"type":"string"},"repository_id":{"required":true,"type":"integer"},"sort":{"enum":["created","updated"],"type":"string"}},"url":"/search/labels"},"repos":{"method":"GET","params":{"order":{"enum":["desc","asc"],"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"q":{"required":true,"type":"string"},"sort":{"enum":["stars","forks","help-wanted-issues","updated"],"type":"string"}},"url":"/search/repositories"},"topics":{"method":"GET","params":{"q":{"required":true,"type":"string"}},"url":"/search/topics"},"users":{"method":"GET","params":{"order":{"enum":["desc","asc"],"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"q":{"required":true,"type":"string"},"sort":{"enum":["followers","repositories","joined"],"type":"string"}},"url":"/search/users"}},"teams":{"addMember":{"deprecated":"octokit.teams.addMember() is deprecated, see https://developer.github.com/v3/teams/members/#add-team-member","method":"PUT","params":{"team_id":{"required":true,"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/teams/:team_id/members/:username"},"addOrUpdateMembership":{"method":"PUT","params":{"role":{"enum":["member","maintainer"],"type":"string"},"team_id":{"required":true,"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/teams/:team_id/memberships/:username"},"addOrUpdateProject":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"PUT","params":{"permission":{"enum":["read","write","admin"],"type":"string"},"project_id":{"required":true,"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/projects/:project_id"},"addOrUpdateRepo":{"method":"PUT","params":{"owner":{"required":true,"type":"string"},"permission":{"enum":["pull","push","admin"],"type":"string"},"repo":{"required":true,"type":"string"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/repos/:owner/:repo"},"checkManagesRepo":{"method":"GET","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/repos/:owner/:repo"},"create":{"method":"POST","params":{"description":{"type":"string"},"maintainers":{"type":"string[]"},"name":{"required":true,"type":"string"},"org":{"required":true,"type":"string"},"parent_team_id":{"type":"integer"},"permission":{"enum":["pull","push","admin"],"type":"string"},"privacy":{"enum":["secret","closed"],"type":"string"},"repo_names":{"type":"string[]"}},"url":"/orgs/:org/teams"},"createDiscussion":{"headers":{"accept":"application/vnd.github.echo-preview+json"},"method":"POST","params":{"body":{"required":true,"type":"string"},"private":{"type":"boolean"},"team_id":{"required":true,"type":"integer"},"title":{"required":true,"type":"string"}},"url":"/teams/:team_id/discussions"},"createDiscussionComment":{"headers":{"accept":"application/vnd.github.echo-preview+json"},"method":"POST","params":{"body":{"required":true,"type":"string"},"discussion_number":{"required":true,"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/discussions/:discussion_number/comments"},"delete":{"method":"DELETE","params":{"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id"},"deleteDiscussion":{"headers":{"accept":"application/vnd.github.echo-preview+json"},"method":"DELETE","params":{"discussion_number":{"required":true,"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/discussions/:discussion_number"},"deleteDiscussionComment":{"headers":{"accept":"application/vnd.github.echo-preview+json"},"method":"DELETE","params":{"comment_number":{"required":true,"type":"integer"},"discussion_number":{"required":true,"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/discussions/:discussion_number/comments/:comment_number"},"get":{"method":"GET","params":{"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id"},"getByName":{"method":"GET","params":{"org":{"required":true,"type":"string"},"team_slug":{"required":true,"type":"string"}},"url":"/orgs/:org/teams/:team_slug"},"getDiscussion":{"headers":{"accept":"application/vnd.github.echo-preview+json"},"method":"GET","params":{"discussion_number":{"required":true,"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/discussions/:discussion_number"},"getDiscussionComment":{"headers":{"accept":"application/vnd.github.echo-preview+json"},"method":"GET","params":{"comment_number":{"required":true,"type":"integer"},"discussion_number":{"required":true,"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/discussions/:discussion_number/comments/:comment_number"},"getMember":{"deprecated":"octokit.teams.getMember() is deprecated, see https://developer.github.com/v3/teams/members/#get-team-member","method":"GET","params":{"team_id":{"required":true,"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/teams/:team_id/members/:username"},"getMembership":{"method":"GET","params":{"team_id":{"required":true,"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/teams/:team_id/memberships/:username"},"list":{"method":"GET","params":{"org":{"required":true,"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/orgs/:org/teams"},"listChild":{"headers":{"accept":"application/vnd.github.hellcat-preview+json"},"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/teams"},"listDiscussionComments":{"headers":{"accept":"application/vnd.github.echo-preview+json"},"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"discussion_number":{"required":true,"type":"integer"},"page":{"type":"integer"},"per_page":{"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/discussions/:discussion_number/comments"},"listDiscussions":{"headers":{"accept":"application/vnd.github.echo-preview+json"},"method":"GET","params":{"direction":{"enum":["asc","desc"],"type":"string"},"page":{"type":"integer"},"per_page":{"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/discussions"},"listForAuthenticatedUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/teams"},"listMembers":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"role":{"enum":["member","maintainer","all"],"type":"string"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/members"},"listPendingInvitations":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/invitations"},"listProjects":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/projects"},"listRepos":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/repos"},"removeMember":{"deprecated":"octokit.teams.removeMember() is deprecated, see https://developer.github.com/v3/teams/members/#remove-team-member","method":"DELETE","params":{"team_id":{"required":true,"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/teams/:team_id/members/:username"},"removeMembership":{"method":"DELETE","params":{"team_id":{"required":true,"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/teams/:team_id/memberships/:username"},"removeProject":{"method":"DELETE","params":{"project_id":{"required":true,"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/projects/:project_id"},"removeRepo":{"method":"DELETE","params":{"owner":{"required":true,"type":"string"},"repo":{"required":true,"type":"string"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/repos/:owner/:repo"},"reviewProject":{"headers":{"accept":"application/vnd.github.inertia-preview+json"},"method":"GET","params":{"project_id":{"required":true,"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/projects/:project_id"},"update":{"method":"PATCH","params":{"description":{"type":"string"},"name":{"required":true,"type":"string"},"parent_team_id":{"type":"integer"},"permission":{"enum":["pull","push","admin"],"type":"string"},"privacy":{"enum":["secret","closed"],"type":"string"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id"},"updateDiscussion":{"headers":{"accept":"application/vnd.github.echo-preview+json"},"method":"PATCH","params":{"body":{"type":"string"},"discussion_number":{"required":true,"type":"integer"},"team_id":{"required":true,"type":"integer"},"title":{"type":"string"}},"url":"/teams/:team_id/discussions/:discussion_number"},"updateDiscussionComment":{"headers":{"accept":"application/vnd.github.echo-preview+json"},"method":"PATCH","params":{"body":{"required":true,"type":"string"},"comment_number":{"required":true,"type":"integer"},"discussion_number":{"required":true,"type":"integer"},"team_id":{"required":true,"type":"integer"}},"url":"/teams/:team_id/discussions/:discussion_number/comments/:comment_number"}},"users":{"addEmails":{"method":"POST","params":{"emails":{"required":true,"type":"string[]"}},"url":"/user/emails"},"block":{"method":"PUT","params":{"username":{"required":true,"type":"string"}},"url":"/user/blocks/:username"},"checkBlocked":{"method":"GET","params":{"username":{"required":true,"type":"string"}},"url":"/user/blocks/:username"},"checkFollowing":{"method":"GET","params":{"username":{"required":true,"type":"string"}},"url":"/user/following/:username"},"checkFollowingForUser":{"method":"GET","params":{"target_user":{"required":true,"type":"string"},"username":{"required":true,"type":"string"}},"url":"/users/:username/following/:target_user"},"createGpgKey":{"method":"POST","params":{"armored_public_key":{"type":"string"}},"url":"/user/gpg_keys"},"createPublicKey":{"method":"POST","params":{"key":{"type":"string"},"title":{"type":"string"}},"url":"/user/keys"},"deleteEmails":{"method":"DELETE","params":{"emails":{"required":true,"type":"string[]"}},"url":"/user/emails"},"deleteGpgKey":{"method":"DELETE","params":{"gpg_key_id":{"required":true,"type":"integer"}},"url":"/user/gpg_keys/:gpg_key_id"},"deletePublicKey":{"method":"DELETE","params":{"key_id":{"required":true,"type":"integer"}},"url":"/user/keys/:key_id"},"follow":{"method":"PUT","params":{"username":{"required":true,"type":"string"}},"url":"/user/following/:username"},"getAuthenticated":{"method":"GET","params":{},"url":"/user"},"getByUsername":{"method":"GET","params":{"username":{"required":true,"type":"string"}},"url":"/users/:username"},"getContextForUser":{"headers":{"accept":"application/vnd.github.hagar-preview+json"},"method":"GET","params":{"subject_id":{"type":"string"},"subject_type":{"enum":["organization","repository","issue","pull_request"],"type":"string"},"username":{"required":true,"type":"string"}},"url":"/users/:username/hovercard"},"getGpgKey":{"method":"GET","params":{"gpg_key_id":{"required":true,"type":"integer"}},"url":"/user/gpg_keys/:gpg_key_id"},"getPublicKey":{"method":"GET","params":{"key_id":{"required":true,"type":"integer"}},"url":"/user/keys/:key_id"},"list":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"since":{"type":"string"}},"url":"/users"},"listBlocked":{"method":"GET","params":{},"url":"/user/blocks"},"listEmails":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/emails"},"listFollowersForAuthenticatedUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/followers"},"listFollowersForUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/users/:username/followers"},"listFollowingForAuthenticatedUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/following"},"listFollowingForUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/users/:username/following"},"listGpgKeys":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/gpg_keys"},"listGpgKeysForUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/users/:username/gpg_keys"},"listPublicEmails":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/public_emails"},"listPublicKeys":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"}},"url":"/user/keys"},"listPublicKeysForUser":{"method":"GET","params":{"page":{"type":"integer"},"per_page":{"type":"integer"},"username":{"required":true,"type":"string"}},"url":"/users/:username/keys"},"togglePrimaryEmailVisibility":{"method":"PATCH","params":{"email":{"required":true,"type":"string"},"visibility":{"required":true,"type":"string"}},"url":"/user/email/visibility"},"unblock":{"method":"DELETE","params":{"username":{"required":true,"type":"string"}},"url":"/user/blocks/:username"},"unfollow":{"method":"DELETE","params":{"username":{"required":true,"type":"string"}},"url":"/user/following/:username"},"updateAuthenticated":{"method":"PATCH","params":{"bio":{"type":"string"},"blog":{"type":"string"},"company":{"type":"string"},"email":{"type":"string"},"hireable":{"type":"boolean"},"location":{"type":"string"},"name":{"type":"string"}},"url":"/user"}}}')},function(e,t,r){e.exports=function(e){e.hook.before("request",n.bind(null,e))};var n=r(347)},function(e,t,r){"use strict";e.exports=function(e,t){if(!t.request.validate)return;var r=t.request.validate;return Object.keys(r).forEach((function(e){var o,s,u=i(r,e),c=u.type,l=!0,p=!1;/\./.test(e)&&(o=e.replace(/\.[^.]+$/,""),(p="[]"===o.slice(-2))&&(o=o.slice(0,-2)),s=i(t,o),l="headers"===o||"object"===typeof s&&null!==s),(p?(i(t,o)||[]).map((function(t){return t[e.split(/\./).pop()]})):[i(t,e)]).forEach((function(r,i){var o="undefined"!==typeof r,s=null===r,h=p?e.replace(/\[\]/,"[".concat(i,"]")):e;if((u.required||o)&&l&&(!u.allowNull||!s)){if(!u.allowNull&&s)throw new n("'".concat(h,"' cannot be null"),400,{request:t});if(u.required&&!o)throw new n("Empty value for parameter '".concat(h,"': ").concat(JSON.stringify(r)),400,{request:t});if("integer"===c){var f=r;if(r=parseInt(r,10),isNaN(r))throw new n("Invalid value for parameter '".concat(h,"': ").concat(JSON.stringify(f)," is NaN"),400,{request:t})}if(u.enum&&-1===u.enum.indexOf(String(r)))throw new n("Invalid value for parameter '".concat(h,"': ").concat(JSON.stringify(r)),400,{request:t});if(u.validation)if(!new RegExp(u.validation).test(r))throw new n("Invalid value for parameter '".concat(h,"': ").concat(JSON.stringify(r)),400,{request:t});if("object"===c&&"string"===typeof r)try{r=JSON.parse(r)}catch(d){throw new n("JSON parse error of value for parameter '".concat(h,"': ").concat(JSON.stringify(r)),400,{request:t})}a(t,u.mapTo||h,r)}}))})),t};var n=r(168).RequestError,i=r(348),a=r(349)},function(e,t,r){(function(t){var r="Expected a function",n="__lodash_hash_undefined__",i=1/0,a="[object Function]",o="[object GeneratorFunction]",s="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,l=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,d="object"==typeof t&&t&&t.Object===Object&&t,m="object"==typeof self&&self&&self.Object===Object&&self,g=d||m||Function("return this")();var v=Array.prototype,y=Function.prototype,b=Object.prototype,_=g["__core-js_shared__"],x=function(){var e=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),w=y.toString,O=b.hasOwnProperty,k=b.toString,E=RegExp("^"+w.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=g.Symbol,S=v.splice,j=B(g,"Map"),P=B(Object,"create"),C=T?T.prototype:void 0,A=C?C.toString:void 0;function M(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function I(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function R(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function L(e,t){for(var r,n,i=e.length;i--;)if((r=e[i][0])===(n=t)||r!==r&&n!==n)return i;return-1}function z(e,t){for(var r,n=0,i=(t=function(e,t){if(V(e))return!1;var r=typeof e;if("number"==r||"symbol"==r||"boolean"==r||null==e||W(e))return!0;return c.test(e)||!u.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:V(r=t)?r:N(r)).length;null!=e&&n<i;)e=e[q(t[n++])];return n&&n==i?e:void 0}function D(e){return!(!G(e)||(t=e,x&&x in t))&&(function(e){var t=G(e)?k.call(e):"";return t==a||t==o}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}(e)?E:f).test(function(e){if(null!=e){try{return w.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}function F(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function B(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return D(r)?r:void 0}M.prototype.clear=function(){this.__data__=P?P(null):{}},M.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},M.prototype.get=function(e){var t=this.__data__;if(P){var r=t[e];return r===n?void 0:r}return O.call(t,e)?t[e]:void 0},M.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:O.call(t,e)},M.prototype.set=function(e,t){return this.__data__[e]=P&&void 0===t?n:t,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(e){var t=this.__data__,r=L(t,e);return!(r<0)&&(r==t.length-1?t.pop():S.call(t,r,1),!0)},I.prototype.get=function(e){var t=this.__data__,r=L(t,e);return r<0?void 0:t[r][1]},I.prototype.has=function(e){return L(this.__data__,e)>-1},I.prototype.set=function(e,t){var r=this.__data__,n=L(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},R.prototype.clear=function(){this.__data__={hash:new M,map:new(j||I),string:new M}},R.prototype.delete=function(e){return F(this,e).delete(e)},R.prototype.get=function(e){return F(this,e).get(e)},R.prototype.has=function(e){return F(this,e).has(e)},R.prototype.set=function(e,t){return F(this,e).set(e,t),this};var N=U((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(W(e))return A?A.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}(t);var r=[];return l.test(e)&&r.push(""),e.replace(p,(function(e,t,n,i){r.push(n?i.replace(h,"$1"):t||e)})),r}));function q(e){if("string"==typeof e||W(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}function U(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(r);var n=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o),o};return n.cache=new(U.Cache||R),n}U.Cache=R;var V=Array.isArray;function G(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function W(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&k.call(e)==s}e.exports=function(e,t,r){var n=null==e?void 0:z(e,t);return void 0===n?r:n}}).call(this,r(61))},function(e,t,r){(function(t){var r="Expected a function",n="__lodash_hash_undefined__",i=1/0,a=9007199254740991,o="[object Function]",s="[object GeneratorFunction]",u="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,p=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,g="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,y=g||v||Function("return this")();var b=Array.prototype,_=Function.prototype,x=Object.prototype,w=y["__core-js_shared__"],O=function(){var e=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),k=_.toString,E=x.hasOwnProperty,T=x.toString,S=RegExp("^"+k.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=y.Symbol,P=b.splice,C=U(y,"Map"),A=U(Object,"create"),M=j?j.prototype:void 0,I=M?M.toString:void 0;function R(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function L(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function z(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function D(e,t,r){var n=e[t];E.call(e,t)&&Z(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function F(e,t){for(var r=e.length;r--;)if(Z(e[r][0],t))return r;return-1}function B(e){return!(!K(e)||(t=e,O&&O in t))&&(function(e){var t=K(e)?T.call(e):"";return t==o||t==s}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}(e)?S:d).test(function(e){if(null!=e){try{return k.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}function N(e,t,r,n){if(!K(e))return e;for(var i=-1,a=(t=function(e,t){if(X(e))return!1;var r=typeof e;if("number"==r||"symbol"==r||"boolean"==r||null==e||Y(e))return!0;return l.test(e)||!c.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return X(e)?e:G(e)}(t)).length,o=a-1,s=e;null!=s&&++i<a;){var u=W(t[i]),p=r;if(i!=o){var h=s[u];void 0===(p=n?n(h,u,s):void 0)&&(p=K(h)?h:V(t[i+1])?[]:{})}D(s,u,p),s=s[u]}return e}function q(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function U(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return B(r)?r:void 0}function V(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||m.test(e))&&e>-1&&e%1==0&&e<t}R.prototype.clear=function(){this.__data__=A?A(null):{}},R.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},R.prototype.get=function(e){var t=this.__data__;if(A){var r=t[e];return r===n?void 0:r}return E.call(t,e)?t[e]:void 0},R.prototype.has=function(e){var t=this.__data__;return A?void 0!==t[e]:E.call(t,e)},R.prototype.set=function(e,t){return this.__data__[e]=A&&void 0===t?n:t,this},L.prototype.clear=function(){this.__data__=[]},L.prototype.delete=function(e){var t=this.__data__,r=F(t,e);return!(r<0)&&(r==t.length-1?t.pop():P.call(t,r,1),!0)},L.prototype.get=function(e){var t=this.__data__,r=F(t,e);return r<0?void 0:t[r][1]},L.prototype.has=function(e){return F(this.__data__,e)>-1},L.prototype.set=function(e,t){var r=this.__data__,n=F(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},z.prototype.clear=function(){this.__data__={hash:new R,map:new(C||L),string:new R}},z.prototype.delete=function(e){return q(this,e).delete(e)},z.prototype.get=function(e){return q(this,e).get(e)},z.prototype.has=function(e){return q(this,e).has(e)},z.prototype.set=function(e,t){return q(this,e).set(e,t),this};var G=H((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Y(e))return I?I.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}(t);var r=[];return p.test(e)&&r.push(""),e.replace(h,(function(e,t,n,i){r.push(n?i.replace(f,"$1"):t||e)})),r}));function W(e){if("string"==typeof e||Y(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}function H(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(r);var n=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o),o};return n.cache=new(H.Cache||z),n}function Z(e,t){return e===t||e!==e&&t!==t}H.Cache=z;var X=Array.isArray;function K(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Y(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&T.call(e)==u}e.exports=function(e,t,r){return null==e?e:N(e,t,r)}}).call(this,r(61))},function(e,t,r){e.exports=function(e){e.getFirstPage=r(351).bind(null,e),e.getLastPage=r(353).bind(null,e),e.getNextPage=r(354).bind(null,e),e.getPreviousPage=r(355).bind(null,e),e.hasFirstPage=r(356),e.hasLastPage=r(357),e.hasNextPage=r(358),e.hasPreviousPage=r(359)}},function(e,t,r){e.exports=function(e,t,r){return n(e,t,"first",r)};var n=r(169)},function(e,t,r){var n=r(222),i=r(223),a=r(195),o=r(194),s=r(224),u=r(225);e.exports=function(e){"use strict";function t(e,r,s){var u;return n(this,t),u=i(this,a(t).call(this,e)),Error.captureStackTrace&&Error.captureStackTrace(o(u),u.constructor),u.name="HttpError",u.code=r,u.headers=s,u}return s(t,e),t}(u(Error))},function(e,t,r){e.exports=function(e,t,r){return n(e,t,"last",r)};var n=r(169)},function(e,t,r){e.exports=function(e,t,r){return n(e,t,"next",r)};var n=r(169)},function(e,t,r){e.exports=function(e,t,r){return n(e,t,"prev",r)};var n=r(169)},function(e,t,r){e.exports=function(e){return n("octokit.hasFirstPage() \u2013 You can use octokit.paginate or async iterators instead: https://github.com/octokit/rest.js#pagination."),i(e).first};var n=r(149),i=r(150)},function(e,t,r){e.exports=function(e){return n("octokit.hasLastPage() \u2013 You can use octokit.paginate or async iterators instead: https://github.com/octokit/rest.js#pagination."),i(e).last};var n=r(149),i=r(150)},function(e,t,r){e.exports=function(e){return n("octokit.hasNextPage() \u2013 You can use octokit.paginate or async iterators instead: https://github.com/octokit/rest.js#pagination."),i(e).next};var n=r(149),i=r(150)},function(e,t,r){e.exports=function(e){return n("octokit.hasPreviousPage() \u2013 You can use octokit.paginate or async iterators instead: https://github.com/octokit/rest.js#pagination."),i(e).prev};var n=r(149),i=r(150)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){var n=r(170),i=r(229);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?i(e):t}},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t,r){var n=r(365);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){"use strict";var n=r(228),i=r(90);Object.defineProperty(t,"__esModule",{value:!0}),t.createPopupState=function(e){var t=e.state,r=e.setState,n=e.parentPopupState,i=e.popupId,c=e.variant,l=t.isOpen,h=t.setAnchorElUsed,f=t.anchorEl,d=t.hovered,m=t._childPopupState,g=t,v=function(e){(function(e,t){for(var r in t)if(e.hasOwnProperty(r)&&e[r]!==t[r])return!0;return!1})(g,e)&&r(g=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},g,{},e))},y=function(e){if(u||e||h||(u=!0,console.error("eventOrAnchorEl should be defined if setAnchorEl is not used")),n){if(!n.isOpen)return;n._setChildPopupState(_)}"object"===("undefined"===typeof document?"undefined":(0,a.default)(document))&&document.activeElement&&document.activeElement.blur();var t={isOpen:!0,hovered:e&&"mouseenter"===e.type};e&&e.currentTarget?h||(t.anchorEl=e.currentTarget):e&&(t.anchorEl=e),v(t)},b=function(){m&&m.close(),n&&n._setChildPopupState(null),v({isOpen:!1,hovered:!1})},_={anchorEl:f,setAnchorEl:function(e){v({setAnchorElUsed:!0,anchorEl:e})},setAnchorElUsed:h,popupId:i,variant:c,isOpen:l,open:y,close:b,toggle:function(e){l?b():y(e)},setOpen:function(e,t){e?y(t):b()},onMouseLeave:function(e){var t=e.relatedTarget;d&&!function e(t,r){var n=r.anchorEl,i=r._childPopupState;return p(n,t)||p(function(e){var t=e.popupId;return t&&"undefined"!==typeof document?document.getElementById(t):null}(r),t)||null!=i&&e(t,i)}(t,_)&&b()},_childPopupState:m,_setChildPopupState:function(e){return v({_childPopupState:e})}};return _},t.anchorRef=function(e){var t=e.setAnchorEl;return function(e){e&&t(e)}},t.bindTrigger=function(e){var t,r=e.isOpen,n=e.open,i=e.popupId,a=e.variant;return t={},(0,o.default)(t,"popover"===a?"aria-owns":"aria-describedby",r?i:null),(0,o.default)(t,"aria-haspopup","popover"===a||void 0),(0,o.default)(t,"onClick",n),t},t.bindToggle=function(e){var t,r=e.isOpen,n=e.toggle,i=e.popupId,a=e.variant;return t={},(0,o.default)(t,"popover"===a?"aria-owns":"aria-describedby",r?i:null),(0,o.default)(t,"aria-haspopup","popover"===a||void 0),(0,o.default)(t,"onClick",n),t},t.bindHover=function(e){var t,r=e.isOpen,n=e.open,i=e.onMouseLeave,a=e.popupId,s=e.variant;return t={},(0,o.default)(t,"popover"===s?"aria-owns":"aria-describedby",r?a:null),(0,o.default)(t,"aria-haspopup","popover"===s||void 0),(0,o.default)(t,"onMouseEnter",n),(0,o.default)(t,"onMouseLeave",i),t},t.bindPopover=c,t.bindPopper=function(e){var t=e.isOpen,r=e.anchorEl;return{id:e.popupId,anchorEl:r,open:t}},t.bindMenu=t.initCoreState=void 0;var a=i(r(170)),o=i(r(230));n(r(0));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var u=!1;function c(e){var t=e.isOpen,r=e.anchorEl,n=e.close;return{id:e.popupId,anchorEl:r,open:t,onClose:n,onMouseLeave:e.onMouseLeave}}t.initCoreState={isOpen:!1,setAnchorElUsed:!1,anchorEl:null,hovered:!1,_childPopupState:null};var l=c;function p(e,t){if(!e)return!1;for(;t;){if(t===e)return!0;t=t.parentElement}return!1}t.bindMenu=l},,function(e,t,r){"use strict";function n(e){return!0===(null!=(t=e)&&"object"===typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}function i(e){var t,r;return!1!==n(e)&&("function"===typeof(t=e.constructor)&&(!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}r.r(t),r.d(t,"default",(function(){return i}))},function(e,t,r){"use strict";function n(e){return!0===(null!=(t=e)&&"object"===typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}function i(e){var t,r;return!1!==n(e)&&("function"===typeof(t=e.constructor)&&(!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}r.r(t),r.d(t,"default",(function(){return i}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(9);function i(e,t,r,i){var a="See luma.gl ".concat(r," Upgrade Guide at http://uber.github.io/luma.gl/#/documentation/overview/upgrade-guide"),o=Object.getPrototypeOf(e);i.forEach((function(e){o.methodName||(o[e]=function(){throw n.h.removed("Calling removed method ".concat(t,".").concat(e,": "),a)(),new Error(e)})}))}},function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return c}));var n=r(200),i=r(9),a=r(29),o=2;function s(e,t){return u(e,t)}function u(e,t){return(t=Array.isArray(t)?t:[t]).every((function(t){return l(e,t)}))}function c(e){for(var t in e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},n.b)void 0===e.luma.caps[t]&&(e.luma.caps[t]=l(e,t));return e.luma.caps}function l(e,t){return e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},void 0===e.luma.caps[t]&&(e.luma.caps[t]=function(e,t){var r,o=n.b[t];Object(a.a)(o,t);var s=Object(i.g)(e)&&o[1]||o[0];if("function"===typeof s)r=s(e);else if(Array.isArray(s)){r=!0;var u=!0,c=!1,l=void 0;try{for(var p,h=s[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var f=p.value;r=r&&Boolean(e.getExtension(f))}}catch(d){c=!0,l=d}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}}else"string"===typeof s?r=Boolean(e.getExtension(s)):"boolean"===typeof s?r=s:Object(a.a)(!1);return r}(e,t)),e.luma.caps[t]||i.h.log(o,"Feature: ".concat(t," not supported"))(),e.luma.caps[t]}},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(378)),u=r(112),c=r(81),l=r(37);function p(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var h={entering:{opacity:1,transform:p(1)},entered:{opacity:1,transform:"none"}},f=o.a.forwardRef((function(e,t){var r=e.children,a=e.in,f=e.onEnter,d=e.onExit,m=e.style,g=e.timeout,v=void 0===g?"auto":g,y=Object(i.a)(e,["children","in","onEnter","onExit","style","timeout"]),b=o.a.useRef(),_=o.a.useRef(),x=Object(l.a)(r.ref,t),w=Object(u.a)();return o.a.useEffect((function(){return function(){clearTimeout(b.current)}}),[]),o.a.createElement(s.a,Object(n.a)({appear:!0,in:a,onEnter:function(e,t){Object(c.b)(e);var r,n=Object(c.a)({style:m,timeout:v},{mode:"enter"}),i=n.duration,a=n.delay;"auto"===v?(r=w.transitions.getAutoHeightDuration(e.clientHeight),_.current=r):r=i,e.style.transition=[w.transitions.create("opacity",{duration:r,delay:a}),w.transitions.create("transform",{duration:.666*r,delay:a})].join(","),f&&f(e,t)},onExit:function(e){var t,r=Object(c.a)({style:m,timeout:v},{mode:"exit"}),n=r.duration,i=r.delay;"auto"===v?(t=w.transitions.getAutoHeightDuration(e.clientHeight),_.current=t):t=n,e.style.transition=[w.transitions.create("opacity",{duration:t,delay:i}),w.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=p(.75),d&&d(e)},addEndListener:function(e,t){"auto"===v&&(b.current=setTimeout(t,_.current||0))},timeout:"auto"===v?null:v},y),(function(e,t){return o.a.cloneElement(r,Object(n.a)({style:Object(n.a)({opacity:0,transform:p(.75),visibility:"exited"!==e||a?void 0:"hidden"},h[e],{},m,{},r.props.style),ref:x},t))}))}));f.muiSupportAuto=!0,t.a=f},function(e,t,r){"use strict";var n=r(10),i=r(2),a=r(0),o=r.n(a),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u="object"===("undefined"===typeof window?"undefined":s(window))&&"object"===("undefined"===typeof document?"undefined":s(document))&&9===document.nodeType,c=(r(108),r(6)),l=r(58),p=r(68),h=r(51),f={}.constructor;function d(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(d);if(e.constructor!==f)return e;var t={};for(var r in e)t[r]=d(e[r]);return t}function m(e,t,r){void 0===e&&(e="unnamed");var n=r.jss,i=d(t),a=n.plugins.onCreateRule(e,i,r);return a||(e[0],null)}var g=function(e,t){for(var r="",n=0;n<e.length&&"!important"!==e[n];n++)r&&(r+=t),r+=e[n];return r};function v(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var r="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)r&&(r+=", "),r+=g(e[n]," ");else r=g(e,", ");return t||"!important"!==e[e.length-1]||(r+=" !important"),r}function y(e,t){for(var r="",n=0;n<t;n++)r+="  ";return r+e}function b(e,t,r){void 0===r&&(r={});var n="";if(!t)return n;var i=r.indent,a=void 0===i?0:i,o=t.fallbacks;if(e&&a++,o)if(Array.isArray(o))for(var s=0;s<o.length;s++){var u=o[s];for(var c in u){var l=u[c];null!=l&&(n&&(n+="\n"),n+=""+y(c+": "+v(l)+";",a))}}else for(var p in o){var h=o[p];null!=h&&(n&&(n+="\n"),n+=""+y(p+": "+v(h)+";",a))}for(var f in t){var d=t[f];null!=d&&"fallbacks"!==f&&(n&&(n+="\n"),n+=""+y(f+": "+v(d)+";",a))}return(n||r.allowEmpty)&&e?(n&&(n="\n"+n+"\n"),y(e+" {"+n,--a)+y("}",a)):n}var _=/([[\].#*$><+~=|^:(),"'`\s])/g,x="undefined"!==typeof CSS&&CSS.escape,w=function(e){return x?x(e):e.replace(_,"\\$1")},O=function(){function e(e,t,r){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var n=r.sheet,i=r.Renderer;this.key=e,this.options=r,this.style=t,n?this.renderer=n.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,r){if(void 0===t)return this.style[e];var n=!!r&&r.force;if(!n&&this.style[e]===t)return this;var i=t;r&&!1===r.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!n)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),k=function(e){function t(t,r,n){var i;(i=e.call(this,t,r,n)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var a=n.selector,o=n.scoped,s=n.sheet,u=n.generateId;return a?i.selectorText=a:!1!==o&&(i.id=u(Object(p.a)(Object(p.a)(i)),s),i.selectorText="."+w(i.id)),i}Object(l.a)(t,e);var r=t.prototype;return r.applyTo=function(e){var t=this.renderer;if(t){var r=this.toJSON();for(var n in r)t.setProperty(e,n,r[n])}return this},r.toJSON=function(){var e={};for(var t in this.style){var r=this.style[t];"object"!==typeof r?e[t]=r:Array.isArray(r)&&(e[t]=v(r))}return e},r.toString=function(e){var t=this.options.sheet,r=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,r)},Object(c.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,r=this.renderable;if(r&&t)t.setSelector(r,e)||t.replaceRule(r,this)}},get:function(){return this.selectorText}}]),t}(O),E={onCreateRule:function(e,t,r){return"@"===e[0]||r.parent&&"keyframes"===r.parent.type?null:new k(e,t,r)}},T={indent:1,children:!0},S=/@([\w-]+)/,j=function(){function e(e,t,r){this.type="conditional",this.at=void 0,this.key=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var n=e.match(S);for(var a in this.at=n?n[1]:"unknown",this.options=r,this.rules=new Y(Object(i.a)({},r,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,r){var n=this.rules.add(e,t,r);return n?(this.options.jss.plugins.onProcessRule(n),n):null},t.toString=function(e){if(void 0===e&&(e=T),null==e.indent&&(e.indent=T.indent),null==e.children&&(e.children=T.children),!1===e.children)return this.key+" {}";var t=this.rules.toString(e);return t?this.key+" {\n"+t+"\n}":""},e}(),P=/@media|@supports\s+/,C={onCreateRule:function(e,t,r){return P.test(e)?new j(e,t,r):null}},A={indent:1,children:!0},M=/@keyframes\s+([\w-]+)/,I=function(){function e(e,t,r){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var n=e.match(M);n&&n[1]?this.name=n[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=r;var a=r.scoped,o=r.sheet,s=r.generateId;for(var u in this.id=!1===a?this.name:w(s(this,o)),this.rules=new Y(Object(i.a)({},r,{parent:this})),t)this.rules.add(u,t[u],Object(i.a)({},r,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=A),null==e.indent&&(e.indent=A.indent),null==e.children&&(e.children=A.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),R=/@keyframes\s+/,L=/\$([\w-]+)/g,z=function(e,t){return"string"===typeof e?e.replace(L,(function(e,r){return r in t?t[r]:e})):e},D=function(e,t,r){var n=e[t],i=z(n,r);i!==n&&(e[t]=i)},F={onCreateRule:function(e,t,r){return"string"===typeof e&&R.test(e)?new I(e,t,r):null},onProcessStyle:function(e,t,r){return"style"===t.type&&r?("animation-name"in e&&D(e,"animation-name",r.keyframes),"animation"in e&&D(e,"animation",r.keyframes),e):e},onChangeValue:function(e,t,r){var n=r.options.sheet;if(!n)return e;switch(t){case"animation":case"animation-name":return z(e,n.keyframes);default:return e}}},B=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).renderable=void 0,t}return Object(l.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,r=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,r)},t}(O),N={onCreateRule:function(e,t,r){return r.parent&&"keyframes"===r.parent.type?new B(e,t,r):null}},q=function(){function e(e,t,r){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=r}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",r=0;r<this.style.length;r++)t+=b(this.key,this.style[r]),this.style[r+1]&&(t+="\n");return t}return b(this.key,this.style,e)},e}(),U={onCreateRule:function(e,t,r){return"@font-face"===e?new q(e,t,r):null}},V=function(){function e(e,t,r){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=r}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),G={onCreateRule:function(e,t,r){return"@viewport"===e||"@-ms-viewport"===e?new V(e,t,r):null}},W=function(){function e(e,t,r){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=r}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",r=0;r<this.value.length;r++)t+=this.key+" "+this.value[r]+";",this.value[r+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),H={"@charset":!0,"@import":!0,"@namespace":!0},Z=[E,C,F,N,U,G,{onCreateRule:function(e,t,r){return e in H?new W(e,t,r):null}}],X={process:!0},K={force:!0,process:!0},Y=function(){function e(e){this.map={},this.raw={},this.index=[],this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,r){var n=this.options,a=n.parent,o=n.sheet,s=n.jss,u=n.Renderer,c=n.generateId,l=n.scoped,p=Object(i.a)({classes:this.classes,parent:a,sheet:o,jss:s,Renderer:u,generateId:c,scoped:l},r);this.raw[e]=t,e in this.classes&&(p.selector="."+w(this.classes[e]));var h=m(e,t,p);if(!h)return null;this.register(h);var f=void 0===p.index?this.index.length:p.index;return this.index.splice(f,0,h),h},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof k?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof I&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof k?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof I&&delete this.keyframes[e.name]},t.update=function(){var e,t,r;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],e=null),e)this.onUpdate(t,this.get(e),r);else for(var n=0;n<this.index.length;n++)this.onUpdate(t,this.index[n],r)},t.onUpdate=function(t,r,n){void 0===n&&(n=X);var i=this.options,a=i.jss.plugins,o=i.sheet;if(r.rules instanceof e)r.rules.update(t,n);else{var s=r,u=s.style;if(a.onUpdate(t,r,o,n),n.process&&u&&u!==s.style){for(var c in a.onProcessStyle(s.style,s,o),s.style){var l=s.style[c];l!==u[c]&&s.prop(c,l,K)}for(var p in u){var h=s.style[p],f=u[p];null==h&&h!==f&&s.prop(p,null,K)}}}},t.toString=function(e){for(var t="",r=this.options.sheet,n=!!r&&r.options.link,i=0;i<this.index.length;i++){var a=this.index[i].toString(e);(a||n)&&(t&&(t+="\n"),t+=a)}return t},e}(),$=function(){function e(e,t){for(var r in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(i.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Y(this.options),e)this.rules.add(r,e[r]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,r){var n=this.queue;this.attached&&!n&&(this.queue=[]);var i=this.rules.add(e,t,r);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(n?n.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var r=[];for(var n in e){var i=this.addRule(n,e[n],t);i&&r.push(i)}return r},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t=this.rules.get(e);return!!t&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.toString=function(e){return this.rules.toString(e)},e}(),J=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,r){for(var n=0;n<this.registry.onCreateRule.length;n++){var i=this.registry.onCreateRule[n](e,t,r);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,r=0;r<this.registry.onProcessRule.length;r++)this.registry.onProcessRule[r](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,r){for(var n=0;n<this.registry.onProcessStyle.length;n++)t.style=this.registry.onProcessStyle[n](t.style,t,r)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,r,n){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,r,n)},t.onChangeValue=function(e,t,r){for(var n=e,i=0;i<this.registry.onChangeValue.length;i++)n=this.registry.onChangeValue[i](n,t,r);return n},t.use=function(e,t){void 0===t&&(t={queue:"external"});var r=this.plugins[t.queue];-1===r.indexOf(e)&&(r.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var r in t)r in e&&e[r].push(t[r]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Q=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,r=e.options.index;if(-1===t.indexOf(e))if(0===t.length||r>=this.index)t.push(e);else for(var n=0;n<t.length;n++)if(t[n].options.index>r)return void t.splice(n,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,r=t.attached,n=Object(h.a)(t,["attached"]),i="",a=0;a<this.registry.length;a++){var o=this.registry[a];null!=r&&o.attached!==r||(i&&(i+="\n"),i+=o.toString(n))}return i},Object(c.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),ee="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),te="2f1acc6c3a606b082e5eef5e54414ffb";null==ee[te]&&(ee[te]=0);var re=ee[te]++,ne=function(e){void 0===e&&(e={});var t=0;return function(r,n){t+=1;var i="",a="";return n&&(n.options.classNamePrefix&&(a=n.options.classNamePrefix),null!=n.options.jss.id&&(i=String(n.options.jss.id))),e.minify?""+(a||"c")+re+i+t:a+r.key+"-"+re+(i?"-"+i:"")+"-"+t}},ie=function(e){var t;return function(){return t||(t=e()),t}};function ae(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(r){return""}}function oe(e,t,r){try{var n=r;if(Array.isArray(r)&&(n=v(r,!0),"!important"===r[r.length-1]))return e.style.setProperty(t,n,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,n):e.style.setProperty(t,n)}catch(i){return!1}return!0}function se(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(r){}}function ue(e,t){return e.selectorText=t,e.selectorText===t}var ce=ie((function(){return document.querySelector("head")}));function le(e){var t=Q.registry;if(t.length>0){var r=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.attached&&n.options.index>t.index&&n.options.insertionPoint===t.insertionPoint)return n}return null}(t,e);if(r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element};if((r=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.attached&&n.options.insertionPoint===t.insertionPoint)return n}return null}(t,e))&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}var n=e.insertionPoint;if(n&&"string"===typeof n){var i=function(e){for(var t=ce(),r=0;r<t.childNodes.length;r++){var n=t.childNodes[r];if(8===n.nodeType&&n.nodeValue.trim()===e)return n}return null}(n);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var pe=ie((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),he=function(e,t,r){var n=e.cssRules.length;(void 0===r||r>n)&&(r=n);try{if("insertRule"in e)e.insertRule(t,r);else if("appendRule"in e){e.appendRule(t)}}catch(i){return!1}return e.cssRules[r]},fe=function(){var e=document.createElement("style");return e.textContent="\n",e},de=function(){function e(e){this.getPropertyValue=ae,this.setProperty=oe,this.removeProperty=se,this.setSelector=ue,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,e&&Q.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},r=t.media,n=t.meta,i=t.element;this.element=i||fe(),this.element.setAttribute("data-jss",""),r&&this.element.setAttribute("media",r),n&&this.element.setAttribute("data-meta",n);var a=pe();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var r=t.insertionPoint,n=le(t);if(!1!==n&&n.parent)n.parent.insertBefore(e,n.node);else if(r&&"number"===typeof r.nodeType){var i=r,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else ce().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var r=0;r<e.index.length;r++)this.insertRule(e.index[r],r,t)},t.insertRule=function(e,t,r){if(void 0===r&&(r=this.element.sheet),e.rules){var n=e,i=r;return("conditional"!==e.type&&"keyframes"!==e.type||!1!==(i=he(r,n.toString({children:!1}),t)))&&(this.insertRules(n.rules,i),i)}if(e.renderable&&e.renderable.parentStyleSheet===this.element.sheet)return e.renderable;var a=e.toString();if(!a)return!1;var o=he(r,a,t);return!1!==o&&(this.hasInsertedRules=!0,e.renderable=o,o)},t.deleteRule=function(e){var t=this.element.sheet,r=this.indexOf(e);return-1!==r&&(t.deleteRule(r),!0)},t.indexOf=function(e){for(var t=this.element.sheet.cssRules,r=0;r<t.length;r++)if(e===t[r])return r;return-1},t.replaceRule=function(e,t){var r=this.indexOf(e);return-1!==r&&(this.element.sheet.deleteRule(r),this.insertRule(t,r))},t.getRules=function(){return this.element.sheet.cssRules},e}(),me=0,ge=function(){function e(e){this.id=me++,this.version="10.0.0",this.plugins=new J,this.options={id:{minify:!1},createGenerateId:ne,Renderer:u?de:null,plugins:[]},this.generateId=ne({minify:!1});for(var t=0;t<Z.length;t++)this.plugins.use(Z[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(i.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var r=t.index;"number"!==typeof r&&(r=0===Q.index?0:Q.index+1);var n=new $(e,Object(i.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:r}));return this.plugins.onProcessSheet(n),n},t.removeStyleSheet=function(e){return e.detach(),Q.remove(e),this},t.createRule=function(e,t,r){if(void 0===t&&(t={}),void 0===r&&(r={}),"object"===typeof e)return this.createRule(void 0,e,t);var n=Object(i.a)({},r,{jss:this,Renderer:this.options.Renderer});n.generateId||(n.generateId=this.generateId),n.classes||(n.classes={}),n.keyframes||(n.keyframes={});var a=m(e,t,n);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){e.plugins.use(t)})),this},e}();var ve="undefined"!==typeof CSS&&CSS&&"number"in CSS,ye=function(e){return new ge(e)};ye();var be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,r=e.newClasses;if(e.Component,!r)return t;var n=Object(i.a)({},t);return Object.keys(r).forEach((function(e){r[e]&&(n[e]="".concat(t[e]," ").concat(r[e]))})),n},_e={set:function(e,t,r,n){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(r,n)},get:function(e,t,r){var n=e.get(t);return n?n.get(r):void 0},delete:function(e,t,r){e.get(t).delete(r)}},xe=r(377),we=(r(3),"function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"),Oe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var ke=Date.now(),Ee="fnValues"+ke,Te="fnStyle"+ ++ke;var Se=function(){return{onCreateRule:function(e,t,r){if("function"!==typeof t)return null;var n=m(e,{},r);return n[Te]=t,n},onProcessStyle:function(e,t){if(Ee in t||Te in t)return e;var r={};for(var n in e){var i=e[n];"function"===typeof i&&(delete e[n],r[n]=i)}return t[Ee]=r,e},onUpdate:function(e,t,r,n){var i=t,a=i[Te];a&&(i.style=a(e)||{});var o=i[Ee];if(o)for(var s in o)i.prop(s,o[s](e),n)}}},je="@global",Pe="@global ",Ce=function(){function e(e,t,r){for(var n in this.type="global",this.at=je,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=r,this.rules=new Y(Object(i.a)({},r,{parent:this})),t)this.rules.add(n,t[n]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,r){var n=this.rules.add(e,t,r);return this.options.jss.plugins.onProcessRule(n),n},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Ae=function(){function e(e,t,r){this.type="global",this.at=je,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=r;var n=e.substr(Pe.length);this.rule=r.jss.createRule(n,t,Object(i.a)({},r,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Me=/\s*,\s*/g;function Ie(e,t){for(var r=e.split(Me),n="",i=0;i<r.length;i++)n+=t+" "+r[i].trim(),r[i+1]&&(n+=", ");return n}var Re=function(){return{onCreateRule:function(e,t,r){if(!e)return null;if(e===je)return new Ce(e,t,r);if("@"===e[0]&&e.substr(0,Pe.length)===Pe)return new Ae(e,t,r);var n=r.parent;return n&&("global"===n.type||n.options.parent&&"global"===n.options.parent.type)&&(r.scoped=!1),!1===r.scoped&&(r.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,r=e.style,n=r?r[je]:null;if(n){for(var a in n)t.sheet.addRule(a,n[a],Object(i.a)({},t,{selector:Ie(a,e.selector)}));delete r[je]}}(e),function(e){var t=e.options,r=e.style;for(var n in r)if("@"===n[0]&&n.substr(0,je.length)===je){var a=Ie(n.substr(je.length),e.selector);t.sheet.addRule(a,r[n],Object(i.a)({},t,{selector:a})),delete r[n]}}(e))}}},Le=/\s*,\s*/g,ze=/&/g,De=/\$([\w-]+)/g;var Fe=function(){function e(e,t){return function(r,n){var i=e.getRule(n)||t&&t.getRule(n);return i?(i=i).selector:n}}function t(e,t){for(var r=t.split(Le),n=e.split(Le),i="",a=0;a<r.length;a++)for(var o=r[a],s=0;s<n.length;s++){var u=n[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(ze,o):o+" "+u}return i}function r(e,t,r){if(r)return Object(i.a)({},r,{index:r.index+1});var n=e.options.nestingLevel;return n=void 0===n?1:n+1,Object(i.a)({},e.options,{nestingLevel:n,index:t.indexOf(e)+1})}return{onProcessStyle:function(n,a,o){if("style"!==a.type)return n;var s,u,c=a,l=c.options.parent;for(var p in n){var h=-1!==p.indexOf("&"),f="@"===p[0];if(h||f){if(s=r(c,l,s),h){var d=t(p,c.selector);u||(u=e(l,o)),d=d.replace(De,u),l.addRule(d,n[p],Object(i.a)({},s,{selector:d}))}else f&&l.addRule(p,{},s).addRule(c.key,n[p],{selector:c.selector});delete n[p]}}return n}}},Be=/[A-Z]/g,Ne=/^ms-/,qe={};function Ue(e){return"-"+e.toLowerCase()}var Ve=function(e){if(qe.hasOwnProperty(e))return qe[e];var t=e.replace(Be,Ue);return qe[e]=Ne.test(t)?"-"+t:t};function Ge(e){var t={};for(var r in e){t[0===r.indexOf("--")?r:Ve(r)]=e[r]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Ge):t.fallbacks=Ge(e.fallbacks)),t}var We=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Ge(e[t]);return e}return Ge(e)},onChangeValue:function(e,t,r){if(0===t.indexOf("--"))return e;var n=Ve(t);return t===n?e:(r.prop(n,e),null)}}},He=ve&&CSS?CSS.px:"px",Ze=ve&&CSS?CSS.ms:"ms",Xe=ve&&CSS?CSS.percent:"%";function Ke(e){var t=/(-[a-z])/g,r=function(e){return e[1].toUpperCase()},n={};for(var i in e)n[i]=e[i],n[i.replace(t,r)]=e[i];return n}var Ye=Ke({"animation-delay":Ze,"animation-duration":Ze,"background-position":He,"background-position-x":He,"background-position-y":He,"background-size":He,border:He,"border-bottom":He,"border-bottom-left-radius":He,"border-bottom-right-radius":He,"border-bottom-width":He,"border-left":He,"border-left-width":He,"border-radius":He,"border-right":He,"border-right-width":He,"border-top":He,"border-top-left-radius":He,"border-top-right-radius":He,"border-top-width":He,"border-width":He,margin:He,"margin-bottom":He,"margin-left":He,"margin-right":He,"margin-top":He,padding:He,"padding-bottom":He,"padding-left":He,"padding-right":He,"padding-top":He,"mask-position-x":He,"mask-position-y":He,"mask-size":He,height:He,width:He,"min-height":He,"max-height":He,"min-width":He,"max-width":He,bottom:He,left:He,top:He,right:He,"box-shadow":He,"text-shadow":He,"column-gap":He,"column-rule":He,"column-rule-width":He,"column-width":He,"font-size":He,"font-size-delta":He,"letter-spacing":He,"text-indent":He,"text-stroke":He,"text-stroke-width":He,"word-spacing":He,motion:He,"motion-offset":He,outline:He,"outline-offset":He,"outline-width":He,perspective:He,"perspective-origin-x":Xe,"perspective-origin-y":Xe,"transform-origin":Xe,"transform-origin-x":Xe,"transform-origin-y":Xe,"transform-origin-z":Xe,"transition-delay":Ze,"transition-duration":Ze,"vertical-align":He,"flex-basis":He,"shape-margin":He,size:He,grid:He,"grid-gap":He,"grid-row-gap":He,"grid-column-gap":He,"grid-template-rows":He,"grid-template-columns":He,"grid-auto-rows":He,"grid-auto-columns":He,"box-shadow-x":He,"box-shadow-y":He,"box-shadow-blur":He,"box-shadow-spread":He,"font-line-height":He,"text-shadow-x":He,"text-shadow-y":He,"text-shadow-blur":He});function $e(e,t,r){if(!t)return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=$e(e,t[n],r);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=$e(i,t[i],r);else for(var a in t)t[a]=$e(e+"-"+a,t[a],r);else if("number"===typeof t)return r[e]?""+t+r[e]:Ye[e]?"function"===typeof Ye[e]?Ye[e](t).toString():""+t+Ye[e]:t.toString();return t}var Je=function(e){void 0===e&&(e={});var t=Ke(e);return{onProcessStyle:function(e,r){if("style"!==r.type)return e;for(var n in e)e[n]=$e(n,e[n],t);return e},onChangeValue:function(e,r){return $e(r,e,t)}}},Qe=r(38),et="",tt="",rt="",nt="",it=u&&"ontouchstart"in document.documentElement;if(u){var at={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ot=document.createElement("p").style;for(var st in at)if(st+"Transform"in ot){et=st,tt=at[st];break}"Webkit"===et&&"msHyphens"in ot&&(et="ms",tt=at.ms,nt="edge"),"Webkit"===et&&"-apple-trailing-word"in ot&&(rt="apple")}var ut={js:et,css:tt,vendor:rt,browser:nt,isTouch:it};var ct={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ut.js?"-webkit-"+e:ut.css+e)}},lt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ut.js?ut.css+"print-"+e:e)}},pt=/[-\s]+(.)?/g;function ht(e,t){return t?t.toUpperCase():""}function ft(e){return e.replace(pt,ht)}function dt(e){return ft("-"+e)}var mt,gt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ut.js){if(ft("mask-image")in t)return e;if(ut.js+dt("mask-image")in t)return ut.css+e}return e}},vt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ut.vendor||ut.isTouch?e:ut.css+e)}},yt={noPrefill:["transform"],supportedProperty:function(e,t,r){return"transform"===e&&(r.transform?e:ut.css+e)}},bt={noPrefill:["transition"],supportedProperty:function(e,t,r){return"transition"===e&&(r.transition?e:ut.css+e)}},_t={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ut.js||"ms"===ut.js?ut.css+e:e)}},xt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ut.js||"ms"===ut.js||"apple"===ut.vendor?ut.css+e:e)}},wt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ut.js?"WebkitColumn"+dt(e)in t&&ut.css+"column-"+e:"Moz"===ut.js&&("page"+dt(e)in t&&"page-"+e))}},Ot={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ut.js)return e;var r=e.replace("-inline","");return ut.js+dt(r)in t&&ut.css+r}},kt={supportedProperty:function(e,t){return ft(e)in t&&e}},Et={supportedProperty:function(e,t){var r=dt(e);return"-"===e[0]?e:"-"===e[0]&&"-"===e[1]?e:ut.js+r in t?ut.css+e:"Webkit"!==ut.js&&"Webkit"+r in t&&"-webkit-"+e}},Tt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ut.js?""+ut.css+e:e)}},St={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ut.js?ut.css+"scroll-chaining":e)}},jt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Pt={supportedProperty:function(e,t){var r=jt[e];return!!r&&(ut.js+dt(r)in t&&ut.css+r)}},Ct={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},At=Object.keys(Ct),Mt=function(e){return ut.css+e},It=[ct,lt,gt,vt,yt,bt,_t,xt,wt,Ot,kt,Et,Tt,St,Pt,{supportedProperty:function(e,t,r){var n=r.multiple;if(At.indexOf(e)>-1){var i=Ct[e];if(!Array.isArray(i))return ut.js+dt(i)in t&&ut.css+i;if(!n)return!1;for(var a=0;a<i.length;a++)if(!(ut.js+dt(i[0])in t))return!1;return i.map(Mt)}return!1}}],Rt=It.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Lt=It.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(Qe.a)(t.noPrefill)),e}),[]),zt={};if(u){mt=document.createElement("p");var Dt=window.getComputedStyle(document.documentElement,"");for(var Ft in Dt)isNaN(Ft)||(zt[Dt[Ft]]=Dt[Ft]);Lt.forEach((function(e){return delete zt[e]}))}function Bt(e,t){if(void 0===t&&(t={}),!mt)return e;if(null!=zt[e])return zt[e];"transition"!==e&&"transform"!==e||(t[e]=e in mt.style);for(var r=0;r<Rt.length&&(zt[e]=Rt[r](e,mt.style,t),!zt[e]);r++);try{mt.style[e]=""}catch(n){return!1}return zt[e]}var Nt,qt={},Ut={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Vt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Gt(e,t,r){if("var"===t)return"var";if("all"===t)return"all";if("all"===r)return", all";var n=t?Bt(t):", "+Bt(r);return n||(t||r)}function Wt(e,t){var r=t;if(!Nt||"content"===e)return t;if("string"!==typeof r||!isNaN(parseInt(r,10)))return r;var n=e+r;if(null!=qt[n])return qt[n];try{Nt.style[e]=r}catch(i){return qt[n]=!1,!1}if(Ut[e])r=r.replace(Vt,Gt);else if(""===Nt.style[e]&&("-ms-flex"===(r=ut.css+r)&&(Nt.style[e]="-ms-flexbox"),Nt.style[e]=r,""===Nt.style[e]))return qt[n]=!1,!1;return Nt.style[e]="",qt[n]=r,qt[n]}u&&(Nt=document.createElement("p"));var Ht=function(){function e(t){for(var r in t){var n=t[r];if("fallbacks"===r&&Array.isArray(n))t[r]=n.map(e);else{var i=!1,a=Bt(r);a&&a!==r&&(i=!0);var o=!1,s=Wt(a,v(n));s&&s!==n&&(o=!0),(i||o)&&(i&&delete t[r],t[a||r]=s||n)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(r=t.at)[1]?r:"ms"===ut.js?r:"@"+ut.css+"keyframes"+r.substr(10)}var r},onProcessStyle:function(t,r){return"style"!==r.type?t:e(t)},onChangeValue:function(e,t){return Wt(t,v(e))||e}}};var Zt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,r){if("style"!==r.type)return t;for(var n={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)n[i[a]]=t[i[a]];return n}}};var Xt=function(){return{plugins:[Se(),Re(),Fe(),We(),Je(),"undefined"===typeof window?null:Ht(),Zt()]}},Kt=ye(Xt()),Yt={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,r=void 0!==t&&t,n=e.productionPrefix,i=void 0===n?"jss":n,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),u=0;return function(e,t){u+=1;var n=t.options.name;if(n&&0===n.indexOf("Mui")&&!t.options.link&&!r){if(-1!==Oe.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(n,"-").concat(e.key);return t.options.theme[we]&&""===o?"".concat(a,"-").concat(u):a}return"".concat(s).concat(i).concat(u)}}(),jss:Kt,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},$t=o.a.createContext(Yt);var Jt=-1e9;r(28);var Qt=r(406);var er=function(e){var t="function"===typeof e;return{create:function(r,n){var a;try{a=t?e(r):e}catch(u){throw u}if(!n||!r.overrides||!r.overrides[n])return a;var o=r.overrides[n],s=Object(i.a)({},a);return Object.keys(o).forEach((function(e){s[e]=Object(Qt.a)(s[e],o[e])})),s},options:{}}},tr={};function rr(e,t,r){var n=e.state;if(e.stylesOptions.disableGeneration)return t||{};n.cacheClasses||(n.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return n.classes!==n.cacheClasses.lastJSS&&(n.cacheClasses.lastJSS=n.classes,i=!0),t!==n.cacheClasses.lastProp&&(n.cacheClasses.lastProp=t,i=!0),i&&(n.cacheClasses.value=be({baseClasses:n.cacheClasses.lastJSS,newClasses:t,Component:r})),n.cacheClasses.value}function nr(e,t){var r=e.state,n=e.theme,a=e.stylesOptions,o=e.stylesCreator,s=e.name;if(!a.disableGeneration){var u=_e.get(a.sheetsManager,o,n);u||(u={refs:0,staticSheet:null,dynamicStyles:null},_e.set(a.sheetsManager,o,n,u));var c=Object(i.a)({},o.options,{},a,{theme:n,flip:"boolean"===typeof a.flip?a.flip:"rtl"===n.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=a.sheetsRegistry;if(0===u.refs){var p;a.sheetsCache&&(p=_e.get(a.sheetsCache,o,n));var h=o.create(n,s);p||((p=a.jss.createStyleSheet(h,Object(i.a)({link:!1},c))).attach(),a.sheetsCache&&_e.set(a.sheetsCache,o,n,p)),l&&l.add(p),u.staticSheet=p,u.dynamicStyles=function e(t){var r=null;for(var n in t){var i=t[n],a=typeof i;if("function"===a)r||(r={}),r[n]=i;else if("object"===a&&null!==i&&!Array.isArray(i)){var o=e(i);o&&(r||(r={}),r[n]=o)}}return r}(h)}if(u.dynamicStyles){var f=a.jss.createStyleSheet(u.dynamicStyles,Object(i.a)({link:!0},c));f.update(t).attach(),r.dynamicSheet=f,r.classes=be({baseClasses:u.staticSheet.classes,newClasses:f.classes}),l&&l.add(f)}else r.classes=u.staticSheet.classes;u.refs+=1}}function ir(e,t){var r=e.state;r.dynamicSheet&&r.dynamicSheet.update(t)}function ar(e){var t=e.state,r=e.theme,n=e.stylesOptions,i=e.stylesCreator;if(!n.disableGeneration){var a=_e.get(n.sheetsManager,i,r);a.refs-=1;var o=n.sheetsRegistry;0===a.refs&&(_e.delete(n.sheetsManager,i,r),n.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(n.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function or(e,t){var r,n=o.a.useRef([]),i=o.a.useMemo((function(){return{}}),t);n.current!==i&&(n.current=i,r=e()),o.a.useEffect((function(){return function(){r&&r()}}),[i])}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.name,a=t.classNamePrefix,s=t.Component,u=t.defaultTheme,c=void 0===u?tr:u,l=Object(n.a)(t,["name","classNamePrefix","Component","defaultTheme"]),p=er(e),h=r||a||"makeStyles";return p.options={index:Jt+=1,name:r,meta:h,classNamePrefix:h},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(xe.a)()||c,n=Object(i.a)({},o.a.useContext($t),{},l),a=o.a.useRef(),u=o.a.useRef();return or((function(){var i={name:r,state:{},stylesCreator:p,stylesOptions:n,theme:t};return nr(i,e),u.current=!1,a.current=i,function(){ar(i)}}),[t,p]),o.a.useEffect((function(){u.current&&ir(a.current,e),u.current=!0})),rr(a.current,e.classes,s)}}},function(e,t,r){"use strict";var n=r(80);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}var u=r(176),c="undefined"!==typeof __VERSION__?__VERSION__:"untranspiled source",l=Object(u.a)();var p=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";a(this,e),this.storage=function(e){try{var t=window[e],r="__storage_test__";return t.setItem(r,r),t.removeItem(r),t}catch(n){return null}}(n),this.id=t,this.config={},Object.assign(this.config,r),this._loadConfiguration()}return s(e,[{key:"getConfiguration",value:function(){return this.config}},{key:"setConfiguration",value:function(e){return this.config={},this.updateConfiguration(e)}},{key:"updateConfiguration",value:function(e){if(Object.assign(this.config,e),this.storage){var t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}return this}},{key:"_loadConfiguration",value:function(){var e={};if(this.storage){var t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}]),e}();function h(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,i=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>n&&(r=Math.min(r,n/e.width));var a=e.width*r,o=e.height*r,s=["font-size:1px;","padding:".concat(Math.floor(o/2),"px ").concat(Math.floor(a/2),"px;"),"line-height:".concat(o,"px;"),"background:url(".concat(i,");"),"background-size:".concat(a,"px ").concat(o,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),s]}var f={BLACK:30,RED:31,GREEN:32,YELLOW:33,BLUE:34,MAGENTA:35,CYAN:36,WHITE:37,BRIGHT_BLACK:90,BRIGHT_RED:91,BRIGHT_GREEN:92,BRIGHT_YELLOW:93,BRIGHT_BLUE:94,BRIGHT_MAGENTA:95,BRIGHT_CYAN:96,BRIGHT_WHITE:97};function d(e){return"string"===typeof e?f[e.toUpperCase()]||f.WHITE:e}function m(e,t){if(!e)throw new Error(t||"Assertion failed")}var g=r(76);function v(){var e;if(l&&g.b.performance)e=g.b.performance.now();else if(g.a.hrtime){var t=g.a.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}r.d(t,"a",(function(){return k}));var y={debug:l&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},b={enabled:!0,level:0};function _(){}var x={},w={once:!0};function O(e){for(var t in e)for(var r in e[t])return r||"untitled";return"empty"}var k=function(){function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id;a(this,e),this.id=t,this.VERSION=c,this._startTs=v(),this._deltaTs=v(),this.LOG_THROTTLE_TIMEOUT=0,this._storage=new p("__probe-".concat(this.id,"__"),b),this.userData={},this.timeStamp("".concat(this.id," started")),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"],r=Object.getPrototypeOf(e),n=Object.getOwnPropertyNames(r),i=!0,a=!1,o=void 0;try{for(var s,u=function(){var r=s.value;"function"===typeof e[r]&&(t.find((function(e){return r===e}))||(e[r]=e[r].bind(e)))},c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0)u()}catch(l){a=!0,o=l}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}}(this),Object.seal(this)}return s(e,[{key:"isEnabled",value:function(){return this._storage.config.enabled}},{key:"getLevel",value:function(){return this._storage.config.level}},{key:"getTotal",value:function(){return Number((v()-this._startTs).toPrecision(10))}},{key:"getDelta",value:function(){return Number((v()-this._deltaTs).toPrecision(10))}},{key:"getPriority",value:function(){return this.level}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.updateConfiguration({enabled:e}),this}},{key:"setLevel",value:function(e){return this._storage.updateConfiguration({level:e}),this}},{key:"assert",value:function(e,t){m(e,t)}},{key:"warn",value:function(e){return this._getLogFunction(0,e,y.warn,arguments,w)}},{key:"error",value:function(e){return this._getLogFunction(0,e,y.error,arguments)}},{key:"deprecated",value:function(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}},{key:"removed",value:function(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}},{key:"probe",value:function(e,t){return this._getLogFunction(e,t,y.log,arguments,{time:!0,once:!0})}},{key:"log",value:function(e,t){return this._getLogFunction(e,t,y.debug,arguments)}},{key:"info",value:function(e,t){return this._getLogFunction(e,t,console.info,arguments)}},{key:"once",value:function(e,t){return this._getLogFunction(e,t,y.debug||y.info,arguments,w)}},{key:"table",value:function(e,t,r){return t?this._getLogFunction(e,t,console.table||_,r&&[r],{tag:O(t)}):_}},{key:"image",value:function(e){var t=e.logLevel,n=e.priority,a=e.image,o=e.message,s=void 0===o?"":o,u=e.scale,c=void 0===u?1:u;return this._shouldLog(t||n)?l?function(e){var t=e.image,r=e.message,n=void 0===r?"":r,a=e.scale,o=void 0===a?1:a;if("string"===typeof t){var s=new Image;return s.onload=function(){var e,t=h(s,n,o);(e=console).log.apply(e,i(t))},s.src=t,_}var u=t.nodeName||"";if("img"===u.toLowerCase()){var c;return(c=console).log.apply(c,i(h(t,n,o))),_}if("canvas"===u.toLowerCase()){var l=new Image;return l.onload=function(){var e;return(e=console).log.apply(e,i(h(l,n,o)))},l.src=t.toDataURL(),_}return _}({image:a,message:s,scale:c}):function(e){var t=e.image,n=(e.message,e.scale),i=void 0===n?1:n,a=null;try{a=r(301)}catch(o){}if(a)return function(){return a(t,{fit:"box",width:"".concat(Math.round(80*i),"%")}).then((function(e){return console.log(e)}))};return _}({image:a,message:s,scale:c}):_}},{key:"settings",value:function(){console.table?console.table(this._storage.config):console.log(this._storage.config)}},{key:"get",value:function(e){return this._storage.config[e]}},{key:"set",value:function(e,t){this._storage.updateConfiguration(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,t))}},{key:"time",value:function(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}},{key:"timeEnd",value:function(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}},{key:"timeStamp",value:function(e,t){return this._getLogFunction(e,t,console.timeStamp||_)}},{key:"group",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1},n=r=T({logLevel:e,message:t,opts:r}),i=n.collapsed;return r.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}},{key:"groupCollapsed",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},r,{collapsed:!0}))}},{key:"groupEnd",value:function(e){return this._getLogFunction(e,"",console.groupEnd||_)}},{key:"withGroup",value:function(e,t,r){this.group(e,t)();try{r()}finally{this.groupEnd(e)()}}},{key:"trace",value:function(){console.trace&&console.trace()}},{key:"_shouldLog",value:function(e){return this.isEnabled()&&this.getLevel()>=E(e)}},{key:"_getLogFunction",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4?arguments[4]:void 0;if(this._shouldLog(e)){var o;a=T({logLevel:e,message:t,args:n,opts:a}),m(r=r||a.method),a.total=this.getTotal(),a.delta=this.getDelta(),this._deltaTs=v();var s=a.tag||a.message;if(a.once){if(x[s])return _;x[s]=v()}return t=S(this.id,a.message,a),(o=r).bind.apply(o,[console,t].concat(i(a.args)))}return _}},{key:"level",set:function(e){this.setLevel(e)},get:function(){return this.getLevel()}},{key:"priority",set:function(e){this.level=e},get:function(){return this.level}}]),e}();function E(e){if(!e)return 0;var t;switch(Object(n.a)(e)){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return m(Number.isFinite(t)&&t>=0),t}function T(e){var t=e.logLevel,r=e.message;e.logLevel=E(t);for(var i=e.args?Array.from(e.args):[];i.length&&i.shift()!==r;);switch(e.args=i,Object(n.a)(t)){case"string":case"function":void 0!==r&&i.unshift(r),e.message=t;break;case"object":Object.assign(e,t)}"function"===typeof e.message&&(e.message=e.message());var a=Object(n.a)(e.message);return m("string"===a||"object"===a),Object.assign(e,e.opts)}function S(e,t,r){if("string"===typeof t){var n=r.time?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,r=Math.max(t-e.length,0);return"".concat(" ".repeat(r)).concat(e)}((s=r.total)<10?"".concat(s.toFixed(2),"ms"):s<100?"".concat(s.toFixed(1),"ms"):s<1e3?"".concat(s.toFixed(0),"ms"):"".concat((s/1e3).toFixed(2),"s")):"";t=r.time?"".concat(e,": ").concat(n,"  ").concat(t):"".concat(e,": ").concat(t),i=t,a=r.color,o=r.background,l||"string"!==typeof i||(a&&(a=d(a),i="\x1b[".concat(a,"m").concat(i,"\x1b[39m")),o&&(a=d(o),i="\x1b[".concat(o+10,"m").concat(i,"\x1b[49m"))),t=i}var i,a,o,s;return t}k.VERSION=c},function(e,t,r){"use strict";var n=r(10),i=r(2),a=r(0),o=r.n(a),s=r(42),u=r.n(s),c=(r(3),r(377)),l=r(408),p=r(63),h=r(115),f=r(37);var d="undefined"!==typeof window?o.a.useLayoutEffect:o.a.useEffect;var m=o.a.forwardRef((function(e,t){var r=e.children,n=e.container,i=e.disablePortal,a=void 0!==i&&i,s=e.onRendered,c=o.a.useState(null),l=c[0],p=c[1],m=Object(f.a)(o.a.isValidElement(r)?r.ref:null,t);return d((function(){a||p(function(e){return e="function"===typeof e?e():e,u.a.findDOMNode(e)}(n)||document.body)}),[n,a]),d((function(){if(l&&!a)return Object(h.a)(t,l),function(){Object(h.a)(t,null)}}),[t,l,a]),d((function(){s&&(l||a)&&s()}),[s,l,a]),a?o.a.isValidElement(r)?o.a.cloneElement(r,{ref:m}):r:l?u.a.createPortal(r,l):l})),g=r(116),v=r(67),y=r(172),b=r(7),_=r(6),x=r(38);var w=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},O=r(156);function k(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function E(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function T(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,r].concat(Object(x.a)(n)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&k(e,i)}))}function S(e,t){var r=-1;return e.some((function(e,n){return!!t(e)&&(r=n,!0)})),r}function j(e,t){var r,n=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=Object(p.a)(e);return t.body===e?Object(O.a)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=w();n.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(E(a)+o,"px"),r=Object(p.a)(a).querySelectorAll(".mui-fixed"),[].forEach.call(r,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(E(e)+o,"px")}))}var s=a.parentElement,u="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:a;n.push({value:u.style.overflow,key:"overflow",el:u}),u.style.overflow="hidden"}return function(){r&&[].forEach.call(r,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),n.forEach((function(e){var t=e.value,r=e.el,n=e.key;t?r.style.setProperty(n,t):r.style.removeProperty(n)}))}}var P=function(){function e(){Object(b.a)(this,e),this.modals=[],this.containers=[]}return Object(_.a)(e,[{key:"add",value:function(e,t){var r=this.modals.indexOf(e);if(-1!==r)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&k(e.modalRef,!1);var n=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);T(t,e.mountNode,e.modalRef,n,!0);var i=S(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:n}),r)}},{key:"mount",value:function(e,t){var r=S(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),n=this.containers[r];n.restore||(n.restore=j(n,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var r=S(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),n=this.containers[r];if(n.modals.splice(n.modals.indexOf(e),1),this.modals.splice(t,1),0===n.modals.length)n.restore&&n.restore(),e.modalRef&&k(e.modalRef,!0),T(n.container,e.mountNode,e.modalRef,n.hiddenSiblingNodes,!1),this.containers.splice(r,1);else{var i=n.modals[n.modals.length-1];i.modalRef&&k(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var C=function(e){var t=e.children,r=e.disableAutoFocus,n=void 0!==r&&r,i=e.disableEnforceFocus,a=void 0!==i&&i,s=e.disableRestoreFocus,c=void 0!==s&&s,l=e.getDoc,h=e.isEnabled,d=e.open,m=o.a.useRef(),g=o.a.useRef(null),v=o.a.useRef(null),y=o.a.useRef(),b=o.a.useRef(null),_=o.a.useCallback((function(e){b.current=u.a.findDOMNode(e)}),[]),x=Object(f.a)(t.ref,_);return o.a.useMemo((function(){d&&"undefined"!==typeof window&&(y.current=l().activeElement)}),[d]),o.a.useEffect((function(){if(d){var e=Object(p.a)(b.current);n||!b.current||b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),b.current.focus());var t=function(){a||!h()||m.current?m.current=!1:b.current&&!b.current.contains(e.activeElement)&&b.current.focus()},r=function(t){!a&&h()&&9===t.keyCode&&e.activeElement===b.current&&(m.current=!0,t.shiftKey?v.current.focus():g.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",r,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",r,!0),c||(y.current&&y.current.focus&&y.current.focus(),y.current=null)}}}),[n,a,c,h,d]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{tabIndex:0,ref:g,"data-test":"sentinelStart"}),o.a.cloneElement(t,{ref:x}),o.a.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))},A={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",touchAction:"none"},invisible:{backgroundColor:"transparent"}},M=o.a.forwardRef((function(e,t){var r=e.invisible,a=void 0!==r&&r,s=e.open,u=Object(n.a)(e,["invisible","open"]);return s?o.a.createElement("div",Object(i.a)({"aria-hidden":!0,ref:t},u,{style:Object(i.a)({},A.root,{},a?A.invisible:{},{},u.style)})):null}));var I=new P,R=o.a.forwardRef((function(e,t){var r=Object(c.a)(),a=Object(l.a)({name:"MuiModal",props:Object(i.a)({},e),theme:r}),s=a.BackdropComponent,h=void 0===s?M:s,d=a.BackdropProps,b=a.children,_=a.closeAfterTransition,x=void 0!==_&&_,w=a.container,O=a.disableAutoFocus,E=void 0!==O&&O,T=a.disableBackdropClick,S=void 0!==T&&T,j=a.disableEnforceFocus,P=void 0!==j&&j,A=a.disableEscapeKeyDown,R=void 0!==A&&A,L=a.disablePortal,z=void 0!==L&&L,D=a.disableRestoreFocus,F=void 0!==D&&D,B=a.disableScrollLock,N=void 0!==B&&B,q=a.hideBackdrop,U=void 0!==q&&q,V=a.keepMounted,G=void 0!==V&&V,W=a.manager,H=void 0===W?I:W,Z=a.onBackdropClick,X=a.onClose,K=a.onEscapeKeyDown,Y=a.onRendered,$=a.open,J=Object(n.a)(a,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Q=o.a.useState(!0),ee=Q[0],te=Q[1],re=o.a.useRef({}),ne=o.a.useRef(null),ie=o.a.useRef(null),ae=Object(f.a)(ie,t),oe=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(a),se=function(){return Object(p.a)(ne.current)},ue=function(){return re.current.modalRef=ie.current,re.current.mountNode=ne.current,re.current},ce=function(){H.mount(ue(),{disableScrollLock:N}),ie.current.scrollTop=0},le=Object(v.a)((function(){var e=function(e){return e="function"===typeof e?e():e,u.a.findDOMNode(e)}(w)||se().body;H.add(ue(),e),ie.current&&ce()})),pe=o.a.useCallback((function(){return H.isTopModal(ue())}),[H]),he=Object(v.a)((function(e){ne.current=e,e&&(Y&&Y(),$&&pe()?ce():k(ie.current,!0))})),fe=o.a.useCallback((function(){H.remove(ue())}),[H]);if(o.a.useEffect((function(){return function(){fe()}}),[fe]),o.a.useEffect((function(){$?le():oe&&x||fe()}),[$,fe,oe,x,le]),!G&&!$&&(!oe||ee))return null;var de=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(r||{zIndex:y.a}),me={};return void 0===b.props.tabIndex&&(me.tabIndex=b.props.tabIndex||"-1"),oe&&(me.onEnter=Object(g.a)((function(){te(!1)}),b.props.onEnter),me.onExited=Object(g.a)((function(){te(!0),x&&fe()}),b.props.onExited)),o.a.createElement(m,{ref:he,container:w,disablePortal:z},o.a.createElement("div",Object(i.a)({ref:ae,onKeyDown:function(e){"Escape"===e.key&&pe()&&(e.stopPropagation(),K&&K(e),!R&&X&&X(e,"escapeKeyDown"))},role:"presentation"},J,{style:Object(i.a)({},de.root,{},!$&&ee?de.hidden:{},{},J.style)}),U?null:o.a.createElement(h,Object(i.a)({open:$,onClick:function(e){e.target===e.currentTarget&&(Z&&Z(e),!S&&X&&X(e,"backdropClick"))}},d)),o.a.createElement(C,{disableEnforceFocus:P,disableAutoFocus:E,disableRestoreFocus:F,getDoc:se,isEnabled:pe,open:$},o.a.cloneElement(b,me))))}));t.a=R},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}var o=r(152),s=function(){function e(t,r){n(this,e),this.name=t,this.type=r,this.sampleSize=1,this.reset()}return a(e,[{key:"setSampleSize",value:function(e){return this.sampleSize=e,this}},{key:"incrementCount",value:function(){return this.addCount(1),this}},{key:"decrementCount",value:function(){return this.subtractCount(1),this}},{key:"addCount",value:function(e){return this._count+=e,this._samples++,this._checkSampling(),this}},{key:"subtractCount",value:function(e){return this._count-=e,this._samples++,this._checkSampling(),this}},{key:"addTime",value:function(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}},{key:"timeStart",value:function(){return this._startTime=Object(o.a)(),this._timerPending=!0,this}},{key:"timeEnd",value:function(){return this._timerPending?(this.addTime(Object(o.a)()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}},{key:"getSampleAverageCount",value:function(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}},{key:"getSampleAverageTime",value:function(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}},{key:"getSampleHz",value:function(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}},{key:"getAverageCount",value:function(){return this.samples>0?this.count/this.samples:0}},{key:"getAverageTime",value:function(){return this.samples>0?this.time/this.samples:0}},{key:"getHz",value:function(){return this.time>0?this.samples/(this.time/1e3):0}},{key:"reset",value:function(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}},{key:"_checkSampling",value:function(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}]),e}(),u=function(){function e(t){var r=t.id,i=t.stats;n(this,e),this.id=r,this.stats={},this._initializeStats(i),Object.seal(this)}return a(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}},{key:"reset",value:function(){for(var e in this.stats)this.stats[e].reset();return this}},{key:"forEach",value:function(e){for(var t in this.stats)e(this.stats[t])}},{key:"getTable",value:function(){var e={};return this.forEach((function(t){e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}},{key:"_initializeStats",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){return e._getOrCreate(t)}))}},{key:"_getOrCreate",value:function(e){if(!e||!e.name)return null;var t=e.name,r=e.type;return this.stats[t]||(this.stats[t]=e instanceof s?e:new s(t,r)),this.stats[t]}},{key:"size",get:function(){return Object.keys(this.stats).length}}]),e}();r.d(t,"a",(function(){return u}))},function(e,t,r){"use strict";var n=r(0),i=r.n(n);var a=i.a.createContext(null);function o(){return i.a.useContext(a)}r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";var n=r(51),i=r(58),a=(r(3),r(0)),o=r.n(a),s=r(42),u=r.n(s),c=!1,l=r(125),p="unmounted",h="exited",f="entering",d="entered",m=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var i,a=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?a?(i=h,n.appearStatus=f):i=d:i=t.unmountOnExit||t.mountOnEnter?p:h,n.state={status:i},n.nextCallback=null,n}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===p?{status:h}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==f&&r!==d&&(t=f):r!==f&&r!==d||(t="exiting")}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var r=u.a.findDOMNode(this);t===f?this.performEnter(r,e):this.performExit(r)}else this.props.unmountOnExit&&this.state.status===h&&this.setState({status:p})},r.performEnter=function(e,t){var r=this,n=this.props.enter,i=this.context?this.context.isMounting:t,a=this.getTimeouts(),o=i?a.appear:a.enter;!t&&!n||c?this.safeSetState({status:d},(function(){r.props.onEntered(e)})):(this.props.onEnter(e,i),this.safeSetState({status:f},(function(){r.props.onEntering(e,i),r.onTransitionEnd(e,o,(function(){r.safeSetState({status:d},(function(){r.props.onEntered(e,i)}))}))})))},r.performExit=function(e){var t=this,r=this.props.exit,n=this.getTimeouts();r&&!c?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,(function(){t.safeSetState({status:h},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:h},(function(){t.props.onExited(e)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t,r){this.setNextCallback(r);var n=null==t&&!this.props.addEndListener;e&&!n?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===p)return null;var t=this.props,r=t.children,i=Object(n.a)(t,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"===typeof r)return o.a.createElement(l.a.Provider,{value:null},r(e,i));var a=o.a.Children.only(r);return(o.a.createElement(l.a.Provider,{value:null},o.a.cloneElement(a,i)))},t}(o.a.Component);function g(){}m.contextType=l.a,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},m.UNMOUNTED=0,m.EXITED=1,m.ENTERING=2,m.ENTERED=3,m.EXITING=4;t.a=m},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(2),i=r(28);function a(e){return e&&"object"===Object(i.a)(e)&&!Array.isArray(e)}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=r.clone?Object(n.a)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(n){"__proto__"!==n&&(a(t[n])&&n in e?i[n]=o(e[n],t[n],r):i[n]=t[n])})),i}},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=r(34),l=o.a.forwardRef((function(e,t){var r=e.classes,a=e.className,u=e.color,l=void 0===u?"inherit":u,p=e.component,h=void 0===p?"span":p,f=e.fontSize,d=void 0===f?"default":f,m=Object(i.a)(e,["classes","className","color","component","fontSize"]);return o.a.createElement(h,Object(n.a)({className:Object(s.a)("material-icons",r.root,a,"inherit"!==l&&r["color".concat(Object(c.a)(l))],"default"!==d&&r["fontSize".concat(Object(c.a)(d))]),"aria-hidden":!0,ref:t},m))}));l.muiName="Icon",t.a=Object(u.a)((function(e){return{root:{userSelect:"none",fontSize:e.typography.pxToRem(24),width:"1em",height:"1em",overflow:"hidden",flexShrink:0},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(36)}}}),{name:"MuiIcon"})(l)},function(e,t,r){"use strict";t.a=function(e){var t=e.theme,r=e.name,n=e.props;if(!t||!t.props||!t.props[r])return n;var i,a=t.props[r];for(i in a)void 0===n[i]&&(n[i]=a[i]);return n}},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(30),i=r(41),a=r(35),o=r(50),s=r(21),u=r(40),c=r(9),l=r(56),p=r(53),h=r(107),f=r(143),d=function(e){function t(e){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(this,t),Object(h.a)(e),(r=Object(i.a)(this,Object(a.a)(t).call(this,e,s))).initialize(s),r.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(Object(o.a)(r)),r}return Object(u.a)(t,e),Object(s.a)(t,null,[{key:"isSupported",value:function(e){return Object(c.g)(e)}}]),Object(s.a)(t,[{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,Object(f.a)(this.buffers)||this.bind((function(){return e._unbindBuffers()})),this.setProps(t),this}},{key:"setProps",value:function(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}},{key:"setBuffers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((function(){for(var r in t)e.setBuffer(r,t[r])})),this}},{key:"setBuffer",value:function(e,t){var r=this,n=this._getVaryingIndex(e),i=this._getBufferParams(t),a=i.buffer,o=i.byteSize,s=i.byteOffset;return n<0?(this.unused[e]=a,c.h.warn((function(){return"".concat(r.id," unused varying buffer ").concat(e)}))(),this):(this.buffers[n]=t,this.bindOnUse||this._bindBuffer(n,a,s,o),this)}},{key:"begin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}},{key:"end",value:function(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}},{key:"_getBufferParams",value:function(e){var t,r,n;return e instanceof p.a===!1?(n=e.buffer,r=e.byteSize,t=e.byteOffset):n=e,void 0===t&&void 0===r||(t=t||0,r=r||n.byteLength-t),{buffer:n,byteOffset:t,byteSize:r}}},{key:"_getVaryingInfo",value:function(e){return this.configuration&&this.configuration.getVaryingInfo(e)}},{key:"_getVaryingIndex",value:function(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;var t=Number(e);return Number.isFinite(t)?t:-1}},{key:"_bindBuffers",value:function(){if(this.bindOnUse)for(var e in this.buffers){var t=this._getBufferParams(this.buffers[e]),r=t.buffer,n=t.byteSize,i=t.byteOffset;this._bindBuffer(e,r,i,n)}}},{key:"_unbindBuffers",value:function(){if(this.bindOnUse)for(var e in this.buffers)this._bindBuffer(e,null)}},{key:"_bindBuffer",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,i=t&&t.handle;return i&&void 0!==n?this.gl.bindBufferRange(35982,e,i,r,n):this.gl.bindBufferBase(35982,e,i),this}},{key:"_createHandle",value:function(){return this.gl.createTransformFeedback()}},{key:"_deleteHandle",value:function(){this.gl.deleteTransformFeedback(this.handle)}},{key:"_bindHandle",value:function(e){this.gl.bindTransformFeedback(36386,this.handle)}}]),t}(l.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(179),i=r(62),a=r(55),o=r(143),s=r(29),u={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)(this,e);var r=t.id,n=void 0===r?Object(o.c)("geometry"):r,a=t.drawMode,s=void 0===a?u.TRIANGLES:a,c=t.attributes,l=void 0===c?{}:c,p=t.indices,h=void 0===p?null:p,f=t.vertexCount,d=void 0===f?null:f;this.id=n,this.drawMode=0|s,this.attributes={},this.userData={},this._setAttributes(l,h),this.vertexCount=d||this._calculateVertexCount(this.attributes,this.indices)}return Object(a.a)(e,null,[{key:"DRAW_MODE",get:function(){return u}}]),Object(a.a)(e,[{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getAttributes",value:function(){return this.indices?Object(n.a)({indices:this.indices},this.attributes):this.attributes}},{key:"_print",value:function(e){return"Geometry ".concat(this.id," attribute ").concat(e)}},{key:"_setAttributes",value:function(e,t){for(var r in t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t),e){var n=e[r];n=ArrayBuffer.isView(n)?{value:n}:n,Object(s.a)(ArrayBuffer.isView(n.value),"".concat(this._print(r),": must be typed array or object with value as typed array")),"POSITION"!==r&&"positions"!==r||n.size||(n.size=3),"indices"===r?(Object(s.a)(!this.indices),this.indices=n):this.attributes[r]=n}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}},{key:"_calculateVertexCount",value:function(e,t){if(t)return t.value.length;var r=1/0;for(var n in e){var i=e[n],a=i.value,o=i.size;!i.constant&&a&&o>=1&&(r=Math.min(r,a.length/o))}return Object(s.a)(Number.isFinite(r)),r}},{key:"mode",get:function(){return this.drawMode}}]),e}()},function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var i=r(28),a=("undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof document&&document,"object"!==("undefined"===typeof n?"undefined":Object(i.a)(n))||"[object process]"!==String(n)||n.browser),o="undefined"!==typeof n&&n.version&&n.version.match(/v([0-9]*)/),s=o&&parseFloat(o[1])||0}).call(this,r(61),r(85))},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(7),i=r(6),a=r(18),o=r(13),s=r(33),u=r(19),c=r(181),l=r(48),p=r(111),h=function(e){function t(){return Object(n.a)(this,t),Object(a.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getSubLayers",value:function(){return this.internalState&&this.internalState.subLayers||[]}},{key:"initializeState",value:function(){}},{key:"setState",value:function(e){Object(s.a)(Object(o.a)(t.prototype),"setState",this).call(this,e),this.setNeedsUpdate()}},{key:"getPickingInfo",value:function(e){var t=e.info,r=t.object;return r&&r.__source&&r.__source.parent&&r.__source.parent.id===this.id?Object.assign(t,{object:r.__source.object,index:r.__source.index}):t}},{key:"renderLayers",value:function(){return null}},{key:"shouldRenderSubLayer",value:function(e,t){var r=this.props._subLayerProps;return t&&t.length||r&&r[e]}},{key:"getSubLayerClass",value:function(e,t){var r=this.props._subLayerProps;return r&&r[e]&&r[e].type||t}},{key:"getSubLayerRow",value:function(e,t,r){return e.__source={parent:this,object:t,index:r},e}},{key:"getSubLayerAccessor",value:function(e){if("function"===typeof e){var t={data:this.props.data,target:[]};return function(r,n){return r.__source?(t.index=r.__source.index,e(r.__source.object,t)):e(r,n)}}return e}},{key:"getSubLayerProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,r=t.opacity,n=t.pickable,i=t.visible,a=t.parameters,o=t.getPolygonOffset,s=t.highlightedObjectIndex,u=t.autoHighlight,c=t.highlightColor,l=t.coordinateSystem,p=t.coordinateOrigin,h=t.wrapLongitude,f=t.positionFormat,d=t.modelMatrix,m=t.extensions,g=t._subLayerProps,v={opacity:r,pickable:n,visible:i,parameters:a,getPolygonOffset:o,highlightedObjectIndex:s,autoHighlight:u,highlightColor:c,coordinateSystem:l,coordinateOrigin:p,wrapLongitude:h,positionFormat:f,modelMatrix:d,extensions:m},y=g&&g[e.id],b=y&&y.updateTriggers,_=e.id||"sublayer";if(y){var x=this.constructor._propTypes;for(var w in y){var O=x[w];O&&"accessor"===O.type&&(y[w]=this.getSubLayerAccessor(y[w]))}}Object.assign(v,e,y,{id:"".concat(this.props.id,"-").concat(_),updateTriggers:Object.assign({all:this.props.updateTriggers.all},e.updateTriggers,b)});var k=!0,E=!1,T=void 0;try{for(var S,j=m[Symbol.iterator]();!(k=(S=j.next()).done);k=!0){var P=S.value,C=P.getSubLayerProps.call(this,P);C&&Object.assign(v,C,{updateTriggers:Object.assign(v.updateTriggers,C.updateTriggers)})}}catch(A){E=!0,T=A}finally{try{k||null==j.return||j.return()}finally{if(E)throw T}}return v}},{key:"_getAttributeManager",value:function(){return null}},{key:"_renderLayers",value:function(){var e=this.internalState.subLayers,t=!e||this.needsUpdate();t&&(e=this.renderLayers(),e=Object(p.b)(e,{filter:Boolean}),this.internalState.subLayers=e),Object(l.a)("compositeLayer.renderLayers",this,t,e);var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){a.value.parent=this}}catch(s){n=!0,i=s}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"isComposite",get:function(){return!0}}]),t}(c.a);h.layerName="CompositeLayer"},function(e,t,r){"use strict";t.a={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"}},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=r(54),l=r(266),p=r(34),h=o.a.forwardRef((function(e,t){var r=e.edge,a=void 0!==r&&r,u=e.children,c=e.classes,h=e.className,f=e.color,d=void 0===f?"default":f,m=e.disabled,g=void 0!==m&&m,v=e.disableFocusRipple,y=void 0!==v&&v,b=e.size,_=void 0===b?"medium":b,x=Object(i.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return o.a.createElement(l.a,Object(n.a)({className:Object(s.a)(c.root,h,"default"!==d&&c["color".concat(Object(p.a)(d))],g&&c.disabled,{small:c["size".concat(Object(p.a)(_))]}[_],{start:c.edgeStart,end:c.edgeEnd}[a]),centerRipple:!0,focusRipple:!y,disabled:g,ref:t},x),o.a.createElement("span",{className:c.label},u))}));t.a=Object(u.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(c.c)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(c.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(c.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(h)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=r(79),l=o.a.forwardRef((function(e,t){var r=e.classes,a=e.className,u=Object(i.a)(e,["classes","className"]),l=o.a.useContext(c.a);return o.a.createElement("div",Object(n.a)({className:Object(s.a)(r.root,a,"flex-start"===l.alignItems&&r.alignItemsFlexStart),ref:t},u))}));t.a=Object(u.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(l)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=r(190),l=r(79),p=o.a.forwardRef((function(e,t){var r=e.children,a=e.classes,u=e.className,p=e.disableTypography,h=void 0!==p&&p,f=e.inset,d=void 0!==f&&f,m=e.primary,g=e.primaryTypographyProps,v=e.secondary,y=e.secondaryTypographyProps,b=Object(i.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),_=o.a.useContext(l.a).dense,x=null!=m?m:r;null==x||x.type===c.a||h||(x=o.a.createElement(c.a,Object(n.a)({variant:_?"body2":"body1",className:a.primary,component:"span"},g),x));var w=v;return null==w||w.type===c.a||h||(w=o.a.createElement(c.a,Object(n.a)({variant:"body2",className:a.secondary,color:"textSecondary"},y),w)),o.a.createElement("div",Object(n.a)({className:Object(s.a)(a.root,u,_&&a.dense,d&&a.inset,x&&w&&a.multiline),ref:t},b),x,w)}));t.a=Object(u.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(p)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=o.a.forwardRef((function(e,t){var r=e.classes,a=e.className,u=Object(i.a)(e,["classes","className"]);return o.a.createElement("div",Object(n.a)({className:Object(s.a)(r.root,a),ref:t},u))}));c.muiName="ListItemSecondaryAction",t.a=Object(u.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(c)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=r(34),l=o.a.forwardRef((function(e,t){var r=e.anchorOrigin,a=void 0===r?{vertical:"top",horizontal:"right"}:r,u=e.badgeContent,l=e.children,p=e.classes,h=e.className,f=e.color,d=void 0===f?"default":f,m=e.component,g=void 0===m?"span":m,v=e.invisible,y=e.max,b=void 0===y?99:y,_=e.overlap,x=void 0===_?"rectangle":_,w=e.showZero,O=void 0!==w&&w,k=e.variant,E=void 0===k?"standard":k,T=Object(i.a)(e,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),S=v;null==v&&(0===u&&!O||null==u&&"dot"!==E)&&(S=!0);var j="";return"dot"!==E&&(j=u>b?"".concat(b,"+"):u),o.a.createElement(g,Object(n.a)({className:Object(s.a)(p.root,h),ref:t},T),l,o.a.createElement("span",{className:Object(s.a)(p.badge,p["".concat(a.horizontal).concat(Object(c.a)(a.vertical),"}")],p["anchorOrigin".concat(Object(c.a)(a.vertical)).concat(Object(c.a)(a.horizontal)).concat(Object(c.a)(x))],"default"!==d&&p["color".concat(Object(c.a)(d))],S&&p.invisible,{dot:p.dot}[E])},j))}));t.a=Object(u.a)((function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:4,height:8,minWidth:8,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}}),{name:"MuiBadge"})(l)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(208),c=r(15),l=o.a.forwardRef((function(e,t){var r=e.classes,a=e.className,c=e.raised,l=void 0!==c&&c,p=Object(i.a)(e,["classes","className","raised"]);return o.a.createElement(u.a,Object(n.a)({className:Object(s.a)(r.root,a),elevation:l?8:1,ref:t},p))}));t.a=Object(c.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(l)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=o.a.forwardRef((function(e,t){var r=e.classes,a=e.className,u=e.component,c=void 0===u?"div":u,l=Object(i.a)(e,["classes","className","component"]);return o.a.createElement(c,Object(n.a)({className:Object(s.a)(r.root,a),ref:t},l))}));t.a=Object(u.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(c)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=r(79),l=o.a.forwardRef((function(e,t){var r=e.children,a=e.classes,u=e.className,l=e.component,p=void 0===l?"ul":l,h=e.dense,f=void 0!==h&&h,d=e.disablePadding,m=void 0!==d&&d,g=e.subheader,v=Object(i.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),y=o.a.useMemo((function(){return{dense:f}}),[f]);return o.a.createElement(c.a.Provider,{value:y},o.a.createElement(p,Object(n.a)({className:Object(s.a)(a.root,u,f&&a.dense,!m&&a.padding,g&&a.subheader),ref:t},v),g,r))}));t.a=Object(u.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(l)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=r(79),l=o.a.forwardRef((function(e,t){var r=e.classes,a=e.className,u=Object(i.a)(e,["classes","className"]),l=o.a.useContext(c.a);return o.a.createElement("div",Object(n.a)({className:Object(s.a)(r.root,a,"flex-start"===l.alignItems&&r.alignItemsFlexStart),ref:t},u))}));t.a=Object(u.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(l)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=r(54),l=o.a.forwardRef((function(e,t){var r=e.absolute,a=void 0!==r&&r,u=e.classes,c=e.className,l=e.component,p=void 0===l?"hr":l,h=e.light,f=void 0!==h&&h,d=e.orientation,m=void 0===d?"horizontal":d,g=e.role,v=void 0===g?"hr"!==p?"separator":void 0:g,y=e.variant,b=void 0===y?"fullWidth":y,_=Object(i.a)(e,["absolute","classes","className","component","light","orientation","role","variant"]);return o.a.createElement(p,Object(n.a)({className:Object(s.a)(u.root,c,"fullWidth"!==b&&u[b],a&&u.absolute,f&&u.light,{vertical:u.vertical}[m]),role:v,ref:t},_))}));t.a=Object(u.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(c.c)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1}}}),{name:"MuiDivider"})(l)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=o.a.forwardRef((function(e,t){var r=e.disableSpacing,a=void 0!==r&&r,u=e.classes,c=e.className,l=Object(i.a)(e,["disableSpacing","classes","className"]);return o.a.createElement("div",Object(n.a)({className:Object(s.a)(u.root,c,!a&&u.spacing),ref:t},l))}));t.a=Object(u.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(c)},function(e,t,r){"use strict";var n=r(10),i=r(2),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(54),c=r(15),l=r(266),p=r(34),h=o.a.forwardRef((function(e,t){var r=e.children,a=e.classes,u=e.className,c=e.disabled,h=void 0!==c&&c,f=e.disableFocusRipple,d=void 0!==f&&f,m=e.disableRipple,g=void 0!==m&&m,v=e.onChange,y=e.onClick,b=e.selected,_=e.size,x=void 0===_?"medium":_,w=e.value,O=Object(n.a)(e,["children","classes","className","disabled","disableFocusRipple","disableRipple","onChange","onClick","selected","size","value"]);return o.a.createElement(l.a,Object(i.a)({className:Object(s.a)(a.root,u,h&&a.disabled,b&&a.selected,"medium"!==x&&a["size".concat(Object(p.a)(x))]),disabled:h,focusRipple:!d,ref:t,onClick:function(e){y&&(y(e,w),e.isDefaultPrevented())||v&&v(e,w)},onChange:v,value:w,disableRipple:g,"aria-pressed":b},O),o.a.createElement("span",{className:a.label},r))}));t.a=Object(c.a)((function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",borderRadius:e.shape.borderRadius,height:48,padding:"0px 12px",border:"1px solid ".concat(Object(u.c)(e.palette.action.active,.12)),color:Object(u.c)(e.palette.action.active,.38),"&$selected":{color:e.palette.action.active,backgroundColor:Object(u.c)(e.palette.action.active,.12),"&:hover":{backgroundColor:Object(u.c)(e.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:Object(u.c)(e.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:Object(u.c)(e.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{height:40,padding:"0px 8px",fontSize:e.typography.pxToRem(13)},sizeLarge:{height:56,padding:"0px 16px",fontSize:e.typography.pxToRem(15)}}}),{name:"MuiToggleButton"})(h)},function(e,t,r){"use strict";var n=r(2),i=r(0),a=r.n(i),o=(r(3),r(239)),s=Object(o.a)((function(e){return{"@global":{html:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:"bolder"},body:Object(n.a)({margin:0,color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white},"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"});t.a=function(e){var t=e.children,r=void 0===t?null:t;return s(),a.a.createElement(a.a.Fragment,null,r)}},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=r(34),l=r(208),p=o.a.forwardRef((function(e,t){var r=e.classes,a=e.className,u=e.color,p=void 0===u?"primary":u,h=e.position,f=void 0===h?"fixed":h,d=Object(i.a)(e,["classes","className","color","position"]);return o.a.createElement(l.a,Object(n.a)({square:!0,component:"header",elevation:4,className:Object(s.a)(r.root,r["position".concat(Object(c.a)(f))],a,"inherit"!==p&&r["color".concat(Object(c.a)(p))],{fixed:"mui-fixed"}[f]),ref:t},d))}));t.a=Object(u.a)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static",transform:"translateZ(0)"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText}}}),{name:"MuiAppBar"})(p)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(11),o=r(0),s=r.n(o),u=(r(3),r(8)),c=r(15),l=s.a.forwardRef((function(e,t){var r=e.classes,a=e.className,o=e.component,c=void 0===o?"div":o,l=e.disableGutters,p=void 0!==l&&l,h=e.variant,f=void 0===h?"regular":h,d=Object(i.a)(e,["classes","className","component","disableGutters","variant"]);return s.a.createElement(c,Object(n.a)({className:Object(u.a)(r.root,r[f],a,!p&&r.gutters),ref:t},d))}));t.a=Object(c.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(a.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(l)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(42)),u=r.n(s),c=r(135),l=r(8),p=r(63),h=r(156),f=r(116),d=r(15),m=r(375),g=r(372),v=r(208);function y(e,t){var r=0;return"number"===typeof t?r=t:"center"===t?r=e.height/2:"bottom"===t&&(r=e.height),r}function b(e,t){var r=0;return"number"===typeof t?r=t:"center"===t?r=e.width/2:"right"===t&&(r=e.width),r}function _(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function x(e){return"function"===typeof e?e():e}var w=o.a.forwardRef((function(e,t){var r=e.action,a=e.anchorEl,s=e.anchorOrigin,d=void 0===s?{vertical:"top",horizontal:"left"}:s,w=e.anchorPosition,O=e.anchorReference,k=void 0===O?"anchorEl":O,E=e.children,T=e.classes,S=e.className,j=e.container,P=e.elevation,C=void 0===P?8:P,A=e.getContentAnchorEl,M=e.marginThreshold,I=void 0===M?16:M,R=e.onEnter,L=e.onEntered,z=e.onEntering,D=e.onExit,F=e.onExited,B=e.onExiting,N=e.open,q=e.PaperProps,U=void 0===q?{}:q,V=e.transformOrigin,G=void 0===V?{vertical:"top",horizontal:"left"}:V,W=e.TransitionComponent,H=void 0===W?g.a:W,Z=e.transitionDuration,X=void 0===Z?"auto":Z,K=e.TransitionProps,Y=void 0===K?{}:K,$=Object(i.a)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),J=o.a.useRef(),Q=o.a.useCallback((function(e){if("anchorPosition"===k)return w;var t=x(a),r=(t instanceof Object(h.a)(t).Element?t:Object(p.a)(J.current).body).getBoundingClientRect(),n=0===e?d.vertical:"center";return{top:r.top+y(r,n),left:r.left+b(r,d.horizontal)}}),[a,d.horizontal,d.vertical,w,k]),ee=o.a.useCallback((function(e){var t=0;if(A&&"anchorEl"===k){var r=A(e);if(r&&e.contains(r)){var n=function(e,t){for(var r=t,n=0;r&&r!==e;)n+=(r=r.parentElement).scrollTop;return n}(e,r);t=r.offsetTop+r.clientHeight/2-n||0}0}return t}),[d.vertical,k,A]),te=o.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:y(e,G.vertical)+t,horizontal:b(e,G.horizontal)}}),[G.horizontal,G.vertical]),re=o.a.useCallback((function(e){var t=ee(e),r={width:e.offsetWidth,height:e.offsetHeight},n=te(r,t);if("none"===k)return{top:null,left:null,transformOrigin:_(n)};var i=Q(t),o=i.top-n.vertical,s=i.left-n.horizontal,u=o+r.height,c=s+r.width,l=Object(h.a)(x(a)),p=l.innerHeight-I,f=l.innerWidth-I;if(o<I){var d=o-I;o-=d,n.vertical+=d}else if(u>p){var m=u-p;o-=m,n.vertical+=m}if(s<I){var g=s-I;s-=g,n.horizontal+=g}else if(c>f){var v=c-f;s-=v,n.horizontal+=v}return{top:"".concat(o,"px"),left:"".concat(s,"px"),transformOrigin:_(n)}}),[a,k,Q,ee,te,I]),ne=o.a.useCallback((function(e){var t=re(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}),[re]),ie=o.a.useCallback((function(e){J.current=u.a.findDOMNode(e)}),[]),ae=o.a.useMemo((function(){if(N)return Object(c.a)((function(){ne(J.current)}))}),[N,ne]);o.a.useImperativeHandle(r,(function(){return N?{updatePosition:ae}:null}),[N,ae]),o.a.useEffect((function(){if(ae)return window.addEventListener("resize",ae),function(){window.removeEventListener("resize",ae),ae.clear()}}),[ae]);var oe=X;"auto"!==X||H.muiSupportAuto||(oe=void 0);var se=j||(a?Object(p.a)(x(a)).body:void 0);return o.a.createElement(m.a,Object(n.a)({container:se,open:N,ref:t,BackdropProps:{invisible:!0},className:Object(l.a)(T.root,S)},$),o.a.createElement(H,Object(n.a)({appear:!0,in:N,onEnter:R,onEntered:L,onExit:D,onExited:F,onExiting:B,timeout:oe},Y,{onEntering:Object(f.a)((function(e,t){z&&z(e,t),ne(e)}),Y.onEntering)}),o.a.createElement(v.a,Object(n.a)({elevation:C,ref:ie},U,{className:Object(l.a)(T.paper,U.className)}),E)))}));t.a=Object(d.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(w)},function(e,t,r){"use strict";var n=r(7),i=r(6),a=r(18),o=r(13),s=r(68),u=r(19),c=r(0),l=r.n(c),p=r(3),h=r.n(p),f=r(28),d=r(11),m=r(31);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v=r(62),y=r(55),b=1,_=1,x=function(){function e(){Object(v.a)(this,e),this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}return Object(y.a)(e,[{key:"addChannel",value:function(e){var t=e.delay,r=void 0===t?0:t,n=e.duration,i=void 0===n?Number.POSITIVE_INFINITY:n,a=e.rate,o=void 0===a?1:a,s=e.repeat,u=b++,c={time:0,delay:r,duration:i,rate:o,repeat:void 0===s?1:s};return this._setChannelTime(c,this.time),this.channels.set(u,c),u}},{key:"removeChannel",value:function(e){this.channels.delete(e);var t=!0,r=!1,n=void 0;try{for(var i,a=this.animations[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=g(i.value,2),s=o[0];o[1].channel===e&&this.detachAnimation(s)}}catch(u){r=!0,n=u}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"isFinished",value:function(e){var t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}},{key:"getTime",value:function(e){if(void 0===e)return this.time;var t=this.channels.get(e);return void 0===t?-1:t.time}},{key:"setTime",value:function(e){this.time=Math.max(0,e);var t=this.channels.values(),r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;this._setChannelTime(s,this.time)}}catch(v){n=!0,i=v}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}var u=this.animations.values(),c=!0,l=!1,p=void 0;try{for(var h,f=u[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var d=h.value,m=d.animation,g=d.channel;m.setTime(this.getTime(g))}}catch(v){l=!0,p=v}finally{try{c||null==f.return||f.return()}finally{if(l)throw p}}}},{key:"play",value:function(){this.playing=!0}},{key:"pause",value:function(){this.playing=!1,this.lastEngineTime=-1}},{key:"reset",value:function(){this.setTime(0)}},{key:"attachAnimation",value:function(e,t){var r=_++;return this.animations.set(r,{animation:e,channel:t}),e.setTime(this.getTime(t)),r}},{key:"detachAnimation",value:function(e){this.animations.delete(e)}},{key:"update",value:function(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}},{key:"_setChannelTime",value:function(e,t){var r=t-e.delay;r>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,r)%e.duration,e.time*=e.rate)}}]),e}(),w=r(181),O=r(49),k=r(22),E=r(48),T=r(111),S=r(376),j=r(26),P=r(83),C=r(20),A=r(14),M=r(45),I=r(23),R=Math.PI/180,L=Object(P.a)(),z=[0,0,0],D={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]},F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n.a)(this,e);var r=t.id,i=void 0===r?null:r,a=t.x,o=void 0===a?0:a,s=t.y,u=void 0===s?0:s,c=t.width,l=void 0===c?1:c,p=t.height,h=void 0===p?1:p;this.id=i||this.constructor.displayName||"viewport",this.x=o,this.y=u,this.width=l||1,this.height=h||1,this._frustumPlanes={},this._initViewMatrix(t),this._initProjectionMatrix(t),this._initPixelMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return Object(i.a)(e,[{key:"equals",value:function(t){return t instanceof e&&(t.width===this.width&&t.height===this.height&&t.scale===this.scale&&Object(C.e)(t.projectionMatrix,this.projectionMatrix)&&Object(C.e)(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.topLeft,n=void 0===r||r,i=this.projectPosition(e),a=Object(M.l)(i,this.pixelProjectionMatrix),o=Object(j.a)(a,2),s=o[0],u=o[1],c=n?u:this.height-u;return 2===e.length?[s,c]:[s,c,a[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.topLeft,n=void 0===r||r,i=t.targetZ,a=Object(j.a)(e,3),o=a[0],s=a[1],u=a[2],c=n?s:this.height-s,l=i&&i*this.distanceScales.unitsPerMeter[2],p=Object(M.j)([o,c,u],this.pixelUnprojectionMatrix,l),h=this.unprojectPosition(p),f=Object(j.a)(h,3),d=f[0],m=f[1],g=f[2];return Number.isFinite(u)?[d,m,g]:Number.isFinite(i)?[d,m,i]:[d,m]}},{key:"projectPosition",value:function(e){var t=this.projectFlat(e),r=Object(j.a)(t,2);return[r[0],r[1],(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}},{key:"unprojectPosition",value:function(e){var t=this.unprojectFlat(e),r=Object(j.a)(t,2);return[r[0],r[1],(e[2]||0)*this.distanceScales.metersPerUnit[2]]}},{key:"projectFlat",value:function(e){return this.isGeospatial?Object(M.h)(e):e}},{key:"unprojectFlat",value:function(e){return this.isGeospatial?Object(M.k)(e):e}},{key:"getDistanceScales",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?Object(M.d)({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}},{key:"containsPixel",value:function(e){var t=e.x,r=e.y,n=e.width,i=void 0===n?1:n,a=e.height,o=void 0===a?1:a;return t<this.x+this.width&&this.x<t+i&&r<this.y+this.height&&this.y<r+o}},{key:"getFrustumPlanes",value:function(){if(this._frustumPlanes.near)return this._frustumPlanes;var e=this.projectionProps,t=e.near,r=e.far,n=e.fovyRadians,i=e.aspect;return Object.assign(this._frustumPlanes,Object(P.c)({aspect:i,near:t,far:r,fovyRadians:n,position:this.cameraPosition,direction:this.cameraDirection,up:this.cameraUp,right:this.cameraRight})),this._frustumPlanes}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"getCameraDirection",value:function(){return this.cameraDirection}},{key:"getCameraUp",value:function(){return this.cameraUp}},{key:"_createProjectionMatrix",value:function(e){var t=e.orthographic,r=e.fovyRadians,n=e.aspect,i=e.focalDistance,a=e.near,o=e.far;return t?(new C.a).orthographic({fovy:r,aspect:n,focalDistance:i,near:a,far:o}):(new C.a).perspective({fovy:r,aspect:n,near:a,far:o})}},{key:"_initViewMatrix",value:function(e){var t=e.viewMatrix,r=void 0===t?L:t,n=e.longitude,i=void 0===n?null:n,a=e.latitude,o=void 0===a?null:a,s=e.zoom,u=void 0===s?null:s,c=e.position,l=void 0===c?null:c,p=e.modelMatrix,h=void 0===p?null:p,f=e.focalDistance,d=void 0===f?1:f,m=e.distanceScales,g=void 0===m?null:m;this.isGeospatial=Number.isFinite(o)&&Number.isFinite(i),this.zoom=u,Number.isFinite(this.zoom)||(this.zoom=this.isGeospatial?Object(M.e)({latitude:o})+Math.log2(d):0);var v=Math.pow(2,this.zoom);this.scale=v,this.distanceScales=this.isGeospatial?Object(M.d)({latitude:o,longitude:i}):g||D,this.focalDistance=d,this.distanceScales.metersPerUnit=new C.b(this.distanceScales.metersPerUnit),this.distanceScales.unitsPerMeter=new C.b(this.distanceScales.unitsPerMeter),this.position=z,this.meterOffset=z,l&&(this.position=l,this.modelMatrix=h,this.meterOffset=h?h.transformVector(l):l),this.isGeospatial?(this.longitude=i,this.latitude=o,this.center=this._getCenterInWorld({longitude:i,latitude:o})):this.center=l?this.projectPosition(l):[0,0,0],this.viewMatrixUncentered=r,this.viewMatrix=(new C.a).multiplyRight(this.viewMatrixUncentered).translate(new C.b(this.center||z).negate())}},{key:"_getCenterInWorld",value:function(e){var t=e.longitude,r=e.latitude,n=this.meterOffset,i=this.distanceScales,a=this.projectFlat([t,r]),o=new C.b(a[0],a[1],0);if(n){var s=new C.b(n).scale(i.unitsPerMeter);o.add(s)}return o}},{key:"_initProjectionMatrix",value:function(e){var t=e.projectionMatrix,r=void 0===t?null:t,n=e.orthographic,i=void 0!==n&&n,a=e.fovyRadians,o=e.fovy,s=void 0===o?75:o,u=e.near,c=void 0===u?.1:u,l=e.far,p=void 0===l?1e3:l,h=e.focalDistance,f=void 0===h?1:h;this.projectionProps={orthographic:i,fovyRadians:a||s*R,aspect:this.width/this.height,focalDistance:f,near:c,far:p},this.projectionMatrix=r||this._createProjectionMatrix(this.projectionProps)}},{key:"_initPixelMatrices",value:function(){var e=Object(P.a)();A.g(e,e,this.projectionMatrix),A.g(e,e,this.viewMatrix),this.viewProjectionMatrix=e,this.viewMatrixInverse=A.e([],this.viewMatrix)||this.viewMatrix;var t=Object(P.b)({viewMatrix:this.viewMatrix,viewMatrixInverse:this.viewMatrixInverse}),r=t.eye,n=t.direction,i=t.up,a=t.right;this.cameraPosition=r,this.cameraDirection=n,this.cameraUp=i,this.cameraRight=a;var o=Object(P.a)(),s=Object(P.a)();A.n(o,o,[this.width/2,-this.height/2,1]),A.o(o,o,[1,-1,0]),A.g(s,o,this.viewProjectionMatrix),this.pixelProjectionMatrix=s,this.viewportMatrix=o,this.pixelUnprojectionMatrix=A.e(Object(P.a)(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||k.a.warn("Pixel project matrix not invertible")()}},{key:"metersPerPixel",get:function(){return this.distanceScales.metersPerUnit[2]/this.scale}},{key:"projectionMode",get:function(){return this.isGeospatial?this.zoom<12?I.c.WEB_MERCATOR:I.c.WEB_MERCATOR_AUTO_OFFSET:I.c.IDENTITY}}]),e}();F.displayName="Viewport";var B=r(260),N={name:"geometry",vs:"\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry;\n",fs:"\n#define SMOOTH_EDGE_RADIUS 0.5\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n"},q=r(121),U=[N,q.a],V=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function G(e){var t=B.a.getDefaultProgramManager(e),r=!0,n=!1,i=void 0;try{for(var a,o=U[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;t.addDefaultModule(s)}}catch(d){n=!0,i=d}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}var u=!0,c=!1,l=void 0;try{for(var p,h=V[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var f=p.value;t.addShaderHook(f)}}catch(d){c=!0,l=d}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}return t}var W=Object.seal({layerManager:null,deck:null,gl:null,stats:null,shaderCache:null,pickingFBO:null,mousePosition:null,userData:{}}),H=function(e){return e instanceof w.a?"".concat(e):e?"invalid":"null"},Z=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.deck,a=r.stats,o=r.viewport,s=void 0===o?null:o,u=r.timeline,c=void 0===u?null:u;Object(n.a)(this,e),this.lastRenderedLayers=[],this.layers=[],this.context=Object.assign({},W,{layerManager:this,deck:i,gl:t,programManager:t&&G(t),stats:a||new S.a({id:"deck.gl"}),viewport:s||new F({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:c||new x}),this._needsRedraw="Initial render",this._needsUpdate=!1,this._debug=!1,this.activateViewport=this.activateViewport.bind(this),Object.seal(this)}return Object(i.a)(e,[{key:"finalize",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.layers[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var a=n.value;this._finalizeLayer(a)}}catch(o){t=!0,r=o}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);var r=!0,n=!1,i=void 0;try{for(var a,o=this.layers[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value,u=s.getNeedsRedraw(e);t=t||u}}catch(c){n=!0,i=c}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return t}},{key:"needsUpdate",value:function(){return this._needsUpdate}},{key:"setNeedsRedraw",value:function(e){this._needsRedraw=this._needsRedraw||e}},{key:"setNeedsUpdate",value:function(e){this._needsUpdate=this._needsUpdate||e}},{key:"getLayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerIds,r=void 0===t?null:t;return r?this.layers.filter((function(e){return r.find((function(t){return 0===e.id.indexOf(t)}))})):this.layers}},{key:"setProps",value:function(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&this.setLayers(e.layers)}},{key:"setLayers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t||e!==this.lastRenderedLayers;if(Object(E.a)("layerManager.setLayers",this,r,e),!r)return this;this.lastRenderedLayers=e,e=Object(T.b)(e,{filter:Boolean});var n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;u.context=this.context}}catch(c){i=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return this._updateLayers(this.layers,e),this}},{key:"updateLayers",value:function(){var e=this.needsUpdate();if(e){this.setNeedsRedraw("updating layers: ".concat(e));this.setLayers(this.lastRenderedLayers,!0)}}},{key:"activateViewport",value:function(e){Object(m.a)(e,"LayerManager: viewport not set");var t=this.context.viewport;if(!t||!e.equals(t)){Object(E.a)("layerManager.activateViewport",this,e),this.context.viewport=e;var r={viewportChanged:!0},n=!0,i=!1,a=void 0;try{for(var o,s=this.layers[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;u.setChangeFlags(r),this._updateLayer(u)}}catch(c){i=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}return this}},{key:"_updateLayers",value:function(e,t){var r={},n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;r[u.id]?k.a.warn("Multiple old layers with same id ".concat(H(u)))():r[u.id]=u}}catch(g){i=!0,a=g}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}for(var c=[],l=this._updateSublayersRecursively(t,r,c),p=this._finalizeOldLayers(r),h=!1,f=0,d=c;f<d.length;f++){if(d[f].hasUniformTransition()){h=!0;break}}this._needsUpdate=h,this.layers=c;var m=l||p;if(m)throw m}},{key:"_updateSublayersRecursively",value:function(e,t,r){var n=null,i=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;c.context=this.context;var l=t[c.id];null===l&&k.a.warn("Multiple new layers with same id ".concat(H(c)))(),t[c.id]=null;var p=null;try{if(this._debug&&l!==c&&c.validateProps(),l){this._transferLayerState(l,c);var h=this._updateLayer(c);n=n||h}else{var f=this._initializeLayer(c);n=n||f}r.push(c),p=c.isComposite&&c.getSubLayers()}catch(f){k.a.warn("error during matching of ".concat(H(c)),f)(),n=n||f}if(p){var d=this._updateSublayersRecursively(p,t,r);n=n||d}}}catch(f){a=!0,o=f}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}return n}},{key:"_finalizeOldLayers",value:function(e){var t=null;for(var r in e){var n=e[r];if(n){var i=this._finalizeLayer(n);t=t||i}}return t}},{key:"_initializeLayer",value:function(e){try{e._initialize(),e.lifecycle=O.a.INITIALIZED}catch(t){return k.a.warn("error while initializing ".concat(H(e),"\n"),t)(),t}return null}},{key:"_transferLayerState",value:function(e,t){t._transferState(e),t.lifecycle=O.a.MATCHED,t!==e&&(e.lifecycle=O.a.AWAITING_GC)}},{key:"_updateLayer",value:function(e){try{e._update()}catch(t){return k.a.warn("error during update of ".concat(H(e)),t)(),t}return null}},{key:"_finalizeLayer",value:function(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(H(e)),e.lifecycle=O.a.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=O.a.FINALIZED}catch(t){return k.a.warn("error during finalization of ".concat(H(e)),t)(),t}return null}}]),e}();function X(e,t){return e===t||Object.keys(e).every((function(r){return Array.isArray(e[r])&&Array.isArray(t[r])?X(e[r],t[r]):e[r]===t[r]}))}var K=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n.a)(this,e),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=t.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="Initial render",this._needsUpdate=!0,this._eventManager=t.eventManager,this._eventCallbacks={onViewStateChange:t.onViewStateChange,onInteractiveStateChange:t.onInteractiveStateChange},Object.seal(this),this.setProps(t)}return Object(i.a)(e,[{key:"finalize",value:function(){for(var e in this.controllers)this.controllers[e]&&this.controllers[e].finalize();this.controllers={}}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"setNeedsUpdate",value:function(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}},{key:"updateViewStates",value:function(){for(var e in this.controllers){var t=this.controllers[e];t&&t.updateTransition()}}},{key:"getViewports",value:function(e){return e?this._viewports.filter((function(t){return t.containsPixel(e)})):this._viewports}},{key:"getViews",value:function(){var e={};return this.views.forEach((function(t){e[t.id]=t})),e}},{key:"getView",value:function(e){return"string"===typeof e?this.views.find((function(t){return t.id===e})):e}},{key:"getViewState",value:function(e){var t=this.getView(e),r=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(r):r}},{key:"getViewport",value:function(e){return this._viewportMap[e]}},{key:"unproject",value:function(e,t){for(var r=this.getViewports(),n={x:e[0],y:e[1]},i=r.length-1;i>=0;--i){var a=r[i];if(a.containsPixel(n)){var o=e.slice();return o[0]-=a.x,o[1]-=a.y,a.unproject(o,t)}}return null}},{key:"setProps",value:function(e){"views"in e&&this._setViews(e.views),"viewState"in e&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}},{key:"_update",value:function(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}},{key:"_setSize",value:function(e,t){Object(m.a)(Number.isFinite(e)&&Number.isFinite(t)),e===this.width&&t===this.height||(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}},{key:"_setViews",value:function(e){e=Object(T.b)(e,{filter:Boolean}),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}},{key:"_setViewState",value:function(e){e?(!X(e,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):k.a.warn("missing `viewState` or `initialViewState`")()}},{key:"_onViewStateChange",value:function(e,t){t.viewId=e,this._eventCallbacks.onViewStateChange(t)}},{key:"_createController",value:function(e){return new(0,e.type)(Object.assign({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,e.id),onStateChange:this._eventCallbacks.onInteractiveStateChange},e))}},{key:"_updateController",value:function(e,t,r,n){if(e.controller){var i=Object.assign({},e.controller,t,{id:e.id,x:r.x,y:r.y,width:r.width,height:r.height});return n?n.setProps(i):n=this._createController(i),n}return null}},{key:"_rebuildViewports",value:function(){var e=this.width,t=this.height,r=this.views,n=this.controllers;this._viewports=[],this.controllers={};for(var i=r.length;i--;){var a=r[i],o=this.getViewState(a),s=a.makeViewport({width:e,height:t,viewState:o});this.controllers[a.id]=this._updateController(a,o,s,n[a.id]),this._viewports.unshift(s)}for(var u in n)n[u]&&!this.controllers[u]&&n[u].finalize();this._buildViewportMap()}},{key:"_buildViewportMap",value:function(){var e=this;this._viewportMap={},this._viewports.forEach((function(t){t.id&&(e._viewportMap[t.id]=e._viewportMap[t.id]||t)}))}},{key:"_diffViews",value:function(e,t){return e.length!==t.length||e.some((function(r,n){return!e[n].equals(t[n])}))}}]),e}(),Y=/([0-9]+\.?[0-9]*)(%|px)/;function $(e){switch(Object(f.a)(e)){case"number":return{position:e,relative:!1};case"string":var t=e.match(Y);if(t&&t.length>=3){var r="%"===t[2],n=parseFloat(t[1]);return{position:r?n/100:n,relative:r}}default:throw new Error("Could not parse position string ".concat(e))}}function J(e,t){return e.relative?Math.round(e.position*t):e.position}var Q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n.a)(this,e);var r=t.id,i=void 0===r?null:r,a=t.x,o=void 0===a?0:a,s=t.y,u=void 0===s?0:s,c=t.width,l=void 0===c?"100%":c,p=t.height,h=void 0===p?"100%":p,f=t.projectionMatrix,d=void 0===f?null:f,g=t.fovy,v=void 0===g?50:g,y=t.near,b=void 0===y?.1:y,_=t.far,x=void 0===_?1e3:_,w=t.modelMatrix,O=void 0===w?null:w,k=t.viewportInstance,E=void 0===k?null:k,T=t.type,S=void 0===T?F:T;Object(m.a)(!E||E instanceof F),this.viewportInstance=E,this.id=i||this.constructor.displayName||"view",this.type=S,this.props=Object.assign({},t,{id:this.id,projectionMatrix:d,fovy:v,near:b,far:x,modelMatrix:O}),this._parseDimensions({x:o,y:u,width:l,height:h}),this.equals=this.equals.bind(this),Object.seal(this)}return Object(i.a)(e,[{key:"equals",value:function(e){return this===e||(this.viewportInstance?e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):X(this.props,e.props))}},{key:"makeViewport",value:function(e){var t=e.width,r=e.height,n=e.viewState;if(this.viewportInstance)return this.viewportInstance;n=this.filterViewState(n);var i=this.getDimensions({width:t,height:r}),a=Object.assign({viewState:n},n,this.props,i);return this._getViewport(a)}},{key:"getViewStateId",value:function(){switch(Object(f.a)(this.props.viewState)){case"string":return this.props.viewState;case"object":return this.props.viewState&&this.props.viewState.id;default:return this.id}}},{key:"filterViewState",value:function(e){if(this.props.viewState&&"object"===Object(f.a)(this.props.viewState)){if(!this.props.viewState.id)return this.props.viewState;var t=Object.assign({},e);for(var r in this.props.viewState)"id"!==r&&(t[r]=this.props.viewState[r]);return t}return e}},{key:"getDimensions",value:function(e){var t=e.width,r=e.height;return{x:J(this._x,t),y:J(this._y,r),width:J(this._width,t),height:J(this._height,r)}}},{key:"_getControllerProps",value:function(e){var t=this.props.controller;return t?!0===t?e:("function"===typeof t&&(t={type:t}),Object.assign({},e,t)):null}},{key:"_getViewport",value:function(e){return new(0,this.type)(e)}},{key:"_parseDimensions",value:function(e){var t=e.x,r=e.y,n=e.width,i=e.height;this._x=$(t),this._y=$(r),this._width=$(n),this._height=$(i)}}]),e}(),ee=r(36),te=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n.a)(this,t);var i=r.latitude,u=void 0===i?0:i,c=r.longitude,l=void 0===c?0:c,p=r.zoom,h=void 0===p?11:p,f=r.pitch,d=void 0===f?0:f,m=r.bearing,g=void 0===m?0:m,v=r.nearZMultiplier,y=void 0===v?.1:v,b=r.farZMultiplier,_=void 0===b?1.01:b,x=r.orthographic,w=void 0!==x&&x,O=r.width,k=r.height,E=r.altitude,T=void 0===E?1.5:E,S=Math.pow(2,h);O=O||1,k=k||1,T=Math.max(.75,T);var j=Object(M.f)({width:O,height:k,pitch:d,altitude:T,nearZMultiplier:y,farZMultiplier:_}),P=j.fov,C=j.aspect,A=j.focalDistance,I=j.near,R=j.far,L=Object(M.g)({height:k,pitch:d,bearing:g,scale:S,altitude:T}),z=Object.assign({},r,{width:O,height:k,viewMatrix:L,longitude:l,latitude:u,zoom:h,orthographic:w,fovyRadians:P,aspect:C,focalDistance:w?A:1,near:I,far:R});return(e=Object(a.a)(this,Object(o.a)(t).call(this,z))).latitude=u,e.longitude=l,e.zoom=h,e.pitch=d,e.bearing=g,e.altitude=T,e.orthographic=w,Object.freeze(Object(s.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"addMetersToLngLat",value:function(e,t){return Object(M.a)(e,t)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,r=e.pos,n=Object(M.j)(r,this.pixelUnprojectionMatrix),i=this.projectFlat(t),a=ee.a([],i,ee.d([],n)),o=ee.a([],this.center,a);return this.unprojectFlat(o)}},{key:"fitBounds",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.width,i=this.height,a=Object(M.c)(Object.assign({width:n,height:i,bounds:e},r)),o=a.longitude,s=a.latitude,u=a.zoom;return new t({width:n,height:i,longitude:o,latitude:s,zoom:u})}}]),t}(F);te.displayName="WebMercatorViewport";var re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n.a)(this,e),Array.isArray(t)&&(t={compare:t,extract:t,required:t});var r=t,i=r.compare,a=r.extract,o=r.required;this._propsToCompare=i,this._propsToExtract=a,this._requiredProps=o}return Object(i.a)(e,[{key:"arePropsEqual",value:function(e,t){var r=!0,n=!1,i=void 0;try{for(var a,o=(this._propsToCompare||Object.keys(t))[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(!(s in e)||!(s in t)||!Object(C.e)(e[s],t[s]))return!1}}catch(u){n=!0,i=u}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!0}},{key:"initializeProps",value:function(e,t){var r;if(this._propsToExtract){var n={},i={},a=!0,o=!1,s=void 0;try{for(var u,c=this._propsToExtract[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;n[l]=e[l],i[l]=t[l]}}catch(p){o=!0,s=p}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}r={start:n,end:i}}else r={start:e,end:t};return this._checkRequiredProps(r.start),this._checkRequiredProps(r.end),r}},{key:"interpolateProps",value:function(e,t,r){return t}},{key:"getDuration",value:function(e,t){return t.transitionDuration}},{key:"_checkRequiredProps",value:function(e){this._requiredProps&&this._requiredProps.forEach((function(t){var r=e[t];Object(m.a)(Number.isFinite(r)||Array.isArray(r),"".concat(t," is required for transition"))}))}}]),e}(),ne=["longitude","latitude","zoom","bearing","pitch"],ie=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;return Object(n.a)(this,t),Object(a.a)(this,Object(o.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"interpolateProps",value:function(e,t,r){var n={};for(var i in t)n[i]=Object(C.f)(e[i],t[i],r);return n}}]),t}(re),ae=r(94),oe=function(){},se=1,ue=2,ce=3,le={transitionDuration:0,transitionEasing:function(e){return e},transitionInterpolator:new ie,transitionInterruption:se,onTransitionStart:oe,onTransitionInterrupt:oe,onTransitionEnd:oe},pe=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.a)(this,e),this.ControllerState=t,this.props=Object.assign({},le,r),this.propsInTransition=null,this.transition=new ae.a(r.timeline),this.onViewStateChange=r.onViewStateChange,this._onTransitionUpdate=this._onTransitionUpdate.bind(this)}return Object(i.a)(e,[{key:"finalize",value:function(){this.transition.cancel()}},{key:"getViewportInTransition",value:function(){return this.propsInTransition}},{key:"processViewStateChange",value:function(e){var t=!1,r=this.props;if(e=Object.assign({},le,e),this.props=e,this._shouldIgnoreViewportChange(r,e))return t;if(this._isTransitionEnabled(e)){var n=this.transition.settings,i=n.interruption,a=n.endProps,o=Object.assign({},r,i===ue?a:this.propsInTransition||r);this._triggerTransition(o,e),t=!0}else this.transition.cancel();return t}},{key:"updateTransition",value:function(){this.transition.update()}},{key:"_isTransitionEnabled",value:function(e){var t=e.transitionDuration,r=e.transitionInterpolator;return(t>0||"auto"===t)&&Boolean(r)}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!!this.transition.inProgress&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return this.transition.inProgress?this.transition.settings.interruption===ce||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}},{key:"_triggerTransition",value:function(e,t){var r=new this.ControllerState(e),n=new this.ControllerState(t).shortestPathFrom(r),i=t.transitionInterpolator,a=i.getDuration?i.getDuration(e,t):t.transitionDuration,o=t.transitionInterpolator.initializeProps(e,n);this.propsInTransition={},this.duration=a,this.transition.start({duration:a,easing:t.transitionEasing,interpolator:t.transitionInterpolator,interruption:t.transitionInterruption,startProps:o.start,endProps:o.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)}),this.updateTransition()}},{key:"_onTransitionEnd",value:function(e){var t=this;return function(r){t.propsInTransition=null,e(r)}}},{key:"_onTransitionUpdate",value:function(e){var t=e.time,r=e.settings,n=r.interpolator,i=r.startProps,a=r.endProps,o=r.duration,s=(0,r.easing)(t/o),u=n.interpolateProps(i,a,s);this.propsInTransition=new this.ControllerState(Object.assign({},this.props,u)).getViewportProps(),this.onViewStateChange&&this.onViewStateChange({viewState:this.propsInTransition,interactionState:{inTransition:!0},oldViewState:this.props})}}]),e}();pe.defaultProps=le;var he={transitionDuration:0},fe=["wheel"],de=["panstart","panmove","panend"],me=["pinchstart","pinchmove","pinchend"],ge=["doubletap"],ve=["keydown"],ye=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.a)(this,e),Object(m.a)(t),this.ControllerState=t,this.controllerState=null,this.controllerStateProps=null,this.eventManager=null,this.transitionManager=new pe(t,r),this._events=null,this._state={isDragging:!1},this._customEvents=[],this.onViewStateChange=null,this.onStateChange=null,this.invertPan=!1,this.handleEvent=this.handleEvent.bind(this),this.setProps(r)}return Object(i.a)(e,[{key:"finalize",value:function(){for(var e in this._events)this._events[e]&&this.eventManager.off(e,this.handleEvent);this.transitionManager.finalize()}},{key:"handleEvent",value:function(e){var t=this.ControllerState;switch(this.controllerState=new t(Object.assign({},this.controllerStateProps,this._state)),e.type){case"panstart":return this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"getCenter",value:function(e){var t=this.controllerStateProps,r=t.x,n=t.y,i=e.offsetCenter;return[i.x-r,i.y-n]}},{key:"isPointInBounds",value:function(e,t){var r=this.controllerStateProps,n=r.width,i=r.height;if(t&&t.handled)return!1;var a=e[0]>=0&&e[0]<=n&&e[1]>=0&&e[1]<=i;return a&&t&&t.stopPropagation(),a}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"isDragging",value:function(){return this._state.isDragging}},{key:"setProps",value:function(e){"onViewportChange"in e&&k.a.removed("onViewportChange")(),"onViewStateChange"in e&&(this.onViewStateChange=e.onViewStateChange),"onStateChange"in e&&(this.onStateChange=e.onStateChange),this.controllerStateProps=e,"eventManager"in e&&this.eventManager!==e.eventManager&&(this.eventManager=e.eventManager,this._events={},this.toggleEvents(this._customEvents,!0)),this.transitionManager.processViewStateChange(this.controllerStateProps);var t=e.scrollZoom,r=void 0===t||t,n=e.dragPan,i=void 0===n||n,a=e.dragRotate,o=void 0===a||a,s=e.doubleClickZoom,u=void 0===s||s,c=e.touchZoom,l=void 0===c||c,p=e.touchRotate,h=void 0!==p&&p,f=e.keyboard,d=void 0===f||f,m=Boolean(this.onViewStateChange);this.toggleEvents(fe,m&&r),this.toggleEvents(de,m&&(i||o)),this.toggleEvents(me,m&&(l||h)),this.toggleEvents(ge,m&&u),this.toggleEvents(ve,m&&d),this.scrollZoom=r,this.dragPan=i,this.dragRotate=o,this.doubleClickZoom=u,this.touchZoom=l,this.touchRotate=h,this.keyboard=d}},{key:"updateTransition",value:function(){this.transitionManager.updateTransition()}},{key:"toggleEvents",value:function(e,t){var r=this;this.eventManager&&e.forEach((function(e){r._events[e]!==t&&(r._events[e]=t,t?r.eventManager.on(e,r.handleEvent):r.eventManager.off(e,r.handleEvent))}))}},{key:"updateViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({},e.getViewportProps(),t),i=this.controllerState!==e;if(i){var a=this.controllerState?this.controllerState.getViewportProps():null;this.onViewStateChange&&this.onViewStateChange({viewState:n,interactionState:r,oldViewState:a})}Object.assign(this._state,e.getInteractiveState(),r),this.onStateChange&&this.onStateChange(this._state)}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var r=this.controllerState.panStart({pos:t}).rotateStart({pos:t});return this.updateViewport(r,he,{isDragging:!0}),!0}},{key:"_onPan",value:function(e){if(!this.isDragging())return!1;var t=this.isFunctionKeyPressed(e)||e.rightButton;return(t=this.invertPan?!t:t)?this._onPanMove(e):this._onPanRotate(e)}},{key:"_onPanEnd",value:function(e){var t=this.controllerState.panEnd().rotateEnd();return this.updateViewport(t,null,{isDragging:!1,isPanning:!1,isRotating:!1}),!0}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e),r=this.controllerState.pan({pos:t});return this.updateViewport(r,he,{isDragging:!0,isPanning:!0}),!0}},{key:"_onPanRotate",value:function(e){if(!this.dragRotate)return!1;var t=e.deltaX,r=e.deltaY,n=this.controllerState.getViewportProps(),i=t/n.width,a=r/n.height,o=this.controllerState.rotate({deltaScaleX:i,deltaScaleY:a});return this.updateViewport(o,he,{isDragging:!0,isRotating:!0}),!0}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;e.preventDefault();var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var r=e.delta,n=2/(1+Math.exp(-Math.abs(.01*r)));r<0&&0!==n&&(n=1/n);var i=this.controllerState.zoom({pos:t,scale:n});return this.updateViewport(i,he,{isZooming:!0,isPanning:!0}),!0}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var r=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return this._state.startPinchRotation=e.rotation,this.updateViewport(r,he,{isDragging:!0}),!0}},{key:"_onPinch",value:function(e){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;var t=this.controllerState;if(this.touchZoom){var r=e.scale,n=this.getCenter(e);t=t.zoom({pos:n,scale:r})}if(this.touchRotate){var i=e.rotation,a=this._state.startPinchRotation;t=t.rotate({deltaScaleX:-(i-a)/180})}return this.updateViewport(t,he,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),!0}},{key:"_onPinchEnd",value:function(e){var t=this.controllerState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(t,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;var r=this.isFunctionKeyPressed(e),n=this.controllerState.zoom({pos:t,scale:r?.5:2});return this.updateViewport(n,this._getTransitionProps(),{isZooming:!0,isPanning:!0}),!0}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t,r=this.isFunctionKeyPressed(e),n=this.controllerState,i={};switch(e.srcEvent.keyCode){case 189:t=r?n.zoomOut().zoomOut():n.zoomOut(),i.isZooming=!0;break;case 187:t=r?n.zoomIn().zoomIn():n.zoomIn(),i.isZooming=!0;break;case 37:r?(t=n.rotateLeft(),i.isRotating=!0):(t=n.moveLeft(),i.isPanning=!0);break;case 39:r?(t=n.rotateRight(),i.isRotating=!0):(t=n.moveRight(),i.isPanning=!0);break;case 38:r?(t=n.rotateUp(),i.isRotating=!0):(t=n.moveUp(),i.isPanning=!0);break;case 40:r?(t=n.rotateDown(),i.isRotating=!0):(t=n.moveDown(),i.isPanning=!0);break;default:return!1}return this.updateViewport(t,this._getTransitionProps(),i),!0}},{key:"_getTransitionProps",value:function(){return he}},{key:"events",set:function(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.setProps(this.controllerStateProps)}}]),e}(),be=function(){function e(t){Object(n.a)(this,e),Object(m.a)(Number.isFinite(t.width),"`width` must be supplied"),Object(m.a)(Number.isFinite(t.height),"`height` must be supplied"),this._viewportProps=this._applyConstraints(t)}return Object(i.a)(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"shortestPathFrom",value:function(e){return this._viewportProps}},{key:"_applyConstraints",value:function(e){return e}}]),e}(),_e={transitionDuration:300,transitionEasing:function(e){return e},transitionInterpolator:new ie,transitionInterruption:se},xe={transitionDuration:0},we={minZoom:0,maxZoom:20,minPitch:0,maxPitch:60},Oe={pitch:0,bearing:0,altitude:1.5},ke=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.width,s=r.height,u=r.latitude,c=r.longitude,l=r.zoom,p=r.bearing,h=void 0===p?Oe.bearing:p,f=r.pitch,d=void 0===f?Oe.pitch:f,g=r.altitude,v=void 0===g?Oe.altitude:g,y=r.maxZoom,b=void 0===y?we.maxZoom:y,_=r.minZoom,x=void 0===_?we.minZoom:_,w=r.maxPitch,O=void 0===w?we.maxPitch:w,k=r.minPitch,E=void 0===k?we.minPitch:k,T=r.startPanLngLat,S=r.startZoomLngLat,j=r.startBearing,P=r.startPitch,C=r.startZoom;return Object(n.a)(this,t),Object(m.a)(Number.isFinite(c),"`longitude` must be supplied"),Object(m.a)(Number.isFinite(u),"`latitude` must be supplied"),Object(m.a)(Number.isFinite(l),"`zoom` must be supplied"),(e=Object(a.a)(this,Object(o.a)(t).call(this,{width:i,height:s,latitude:u,longitude:c,zoom:l,bearing:h,pitch:d,altitude:v,maxZoom:b,minZoom:x,maxPitch:O,minPitch:E})))._interactiveState={startPanLngLat:T,startZoomLngLat:S,startBearing:j,startPitch:P,startZoom:C},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,r=e.startPos,n=this._interactiveState.startPanLngLat||this._unproject(r);if(!n)return this;var i=this._calculateNewLngLat({startPanLngLat:n,pos:t}),a=Object(j.a)(i,2),o=a[0],s=a[1];return this._getUpdatedState({longitude:o,latitude:s})}},{key:"panEnd",value:function(){return this._getUpdatedState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){e.pos;return this._getUpdatedState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(e){var t=e.deltaScaleX,r=void 0===t?0:t,n=e.deltaScaleY,i=void 0===n?0:n,a=this._interactiveState,o=a.startBearing,s=a.startPitch;if(!Number.isFinite(o)||!Number.isFinite(s))return this;var u=this._calculateNewPitchAndBearing({deltaScaleX:r,deltaScaleY:i,startBearing:o,startPitch:s}),c=u.pitch,l=u.bearing;return this._getUpdatedState({bearing:l,pitch:c})}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedState({startZoomLngLat:this._unproject(t),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t=e.pos,r=e.startPos,n=e.scale,i=this._interactiveState,a=i.startZoom,o=i.startZoomLngLat;Number.isFinite(a)||(a=this._viewportProps.zoom,o=this._unproject(r)||this._unproject(t));var s=this._calculateNewZoom({scale:n,startZoom:a}),u=new M.b(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:o,pos:t}),c=Object(j.a)(u,2),l=c[0],p=c[1];return this._getUpdatedState({zoom:s,longitude:l,latitude:p})}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}},{key:"zoomIn",value:function(){return this._zoomFromCenter(2)}},{key:"zoomOut",value:function(){return this._zoomFromCenter(.5)}},{key:"moveLeft",value:function(){return this._panFromCenter([100,0])}},{key:"moveRight",value:function(){return this._panFromCenter([-100,0])}},{key:"moveUp",value:function(){return this._panFromCenter([0,100])}},{key:"moveDown",value:function(){return this._panFromCenter([0,-100])}},{key:"rotateLeft",value:function(){return this._getUpdatedState({bearing:this._viewportProps.bearing-15})}},{key:"rotateRight",value:function(){return this._getUpdatedState({bearing:this._viewportProps.bearing+15})}},{key:"rotateUp",value:function(){return this._getUpdatedState({pitch:this._viewportProps.pitch+10})}},{key:"rotateDown",value:function(){return this._getUpdatedState({pitch:this._viewportProps.pitch-10})}},{key:"shortestPathFrom",value:function(e){var t=e.getViewportProps(),r=Object.assign({},this._viewportProps),n=r.bearing,i=r.longitude;return Math.abs(n-t.bearing)>180&&(r.bearing=n<0?n+360:n-360),Math.abs(i-t.longitude)>180&&(r.longitude=i<0?i+360:i-360),r}},{key:"_zoomFromCenter",value:function(e){var t=this._viewportProps,r=t.width,n=t.height;return this.zoom({pos:[r/2,n/2],scale:e})}},{key:"_panFromCenter",value:function(e){var t=this._viewportProps,r=t.width,n=t.height;return this.pan({startPos:[r/2,n/2],pos:[r/2+e[0],n/2+e[1]]})}},{key:"_getUpdatedState",value:function(e){return new t(Object.assign({},this._viewportProps,this._interactiveState,e))}},{key:"_applyConstraints",value:function(e){var t=e.maxZoom,r=e.minZoom,n=e.zoom;e.zoom=Object(C.c)(n,r,t);var i=e.maxPitch,a=e.minPitch,o=e.pitch;return e.pitch=Object(C.c)(o,a,i),Object.assign(e,Object(M.i)(e)),e}},{key:"_unproject",value:function(e){var t=new M.b(this._viewportProps);return e&&t.unproject(e)}},{key:"_calculateNewLngLat",value:function(e){var t=e.startPanLngLat,r=e.pos;return new M.b(this._viewportProps).getMapCenterByLngLatPosition({lngLat:t,pos:r})}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,r=e.startZoom,n=this._viewportProps,i=n.maxZoom,a=n.minZoom,o=r+Math.log2(t);return Object(C.c)(o,a,i)}},{key:"_calculateNewPitchAndBearing",value:function(e){var t=e.deltaScaleX,r=e.deltaScaleY,n=e.startBearing,i=e.startPitch;r=Object(C.c)(r,-1,1);var a=this._viewportProps,o=a.minPitch,s=a.maxPitch,u=i;return r>0?u=i+r*(s-i):r<0&&(u=i-r*(o-i)),{pitch:u,bearing:n+180*t}}}]),t}(be),Ee=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(a.a)(this,Object(o.a)(t).call(this,ke,e))).invertPan=!0,r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"_getTransitionProps",value:function(){return _e}},{key:"_onPanRotate",value:function(e){if(!this.dragRotate)return!1;var t=e.deltaX,r=e.deltaY,n=this.getCenter(e),i=Object(j.a)(n,2)[1],a=i-r,o=this.controllerState.getViewportProps(),s=o.width,u=o.height,c=t/s,l=0;r>0?Math.abs(u-a)>5&&(l=r/(a-u)*1.2):r<0&&a>5&&(l=1-i/a),l=Math.min(1,Math.max(-1,l));var p=this.controllerState.rotate({deltaScaleX:c,deltaScaleY:l});return this.updateViewport(p,xe,{isDragging:!0,isRotating:!0})}}]),t}(ye),Te=function(e){function t(e){return Object(n.a)(this,t),Object(a.a)(this,Object(o.a)(t).call(this,Object.assign({},e,{type:te})))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"controller",get:function(){return this._getControllerProps({type:Ee})}}]),t}(Q);Te.displayName="MapView";var Se=r(136),je=[255,255,255],Pe=0,Ce=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n.a)(this,e);var r=t.color,i=void 0===r?je:r,a=t.intensity,o=void 0===a?1:a;this.id=t.id||"ambient-".concat(Pe++),this.color=i,this.intensity=o,this.type="ambient"},Ae=[255,255,255],Me=1,Ie=[0,0,-1],Re=0,Le=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n.a)(this,e);var r=t.color,i=void 0===r?Ae:r,a=t.intensity,o=void 0===a?Me:a,s=t.direction,u=void 0===s?Ie:s,c=t._shadow,l=void 0!==c&&c;this.id=t.id||"directional-".concat(Re++),this.color=i,this.intensity=o,this.type="directional",this.direction=new C.b(u).normalize().toArray(),this.shadow=l}return Object(i.a)(e,[{key:"getProjectedLight",value:function(){return this}}]),e}(),ze=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n.a)(this,e);var r=t.id,i=void 0===r?"effect":r;this.id=i,this.props={},Object.assign(this.props,t)}return Object(i.a)(e,[{key:"preRender",value:function(){}},{key:"getModuleParameters",value:function(){}},{key:"cleanup",value:function(){}}]),e}(),De=r(33),Fe=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.a)(this,e);var i=r.id,a=void 0===i?"pass":i;this.id=a,this.gl=t,this.props={},Object.assign(this.props,r)}return Object(i.a)(e,[{key:"setProps",value:function(e){Object.assign(this.props,e)}},{key:"render",value:function(){}},{key:"cleanup",value:function(){}}]),e}(),Be=r(9),Ne=r(199),qe=function(e){function t(){return Object(n.a)(this,t),Object(a.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(e){var t=this.gl;return Object(Be.k)(t,{framebuffer:e.target}),this._drawLayers(e)}},{key:"_drawLayers",value:function(e){var t=this,r=e.viewports,n=e.views,i=e.onViewportActive,a=e.clearCanvas,o=void 0===a||a,s=this.gl;o&&function(e){var t=e.drawingBufferWidth,r=e.drawingBufferHeight;Object(Be.k)(e,{viewport:[0,0,t,r]}),e.clear(16640)}(s);var u=[];return r.forEach((function(r,a){var o=r.viewport||r,c=n&&n[o.id];i(o),e.viewport=o,e.view=c;var l=t._drawLayersInViewport(s,e);u.push(l)})),u}},{key:"_drawLayersInViewport",value:function(e,t){var r=this,n=t.layers,i=t.layerFilter,a=t.viewport,o=t.view,s=t.pass,u=void 0===s?"unknown":s,c=t.effects,l=t.moduleParameters,p=function(e,t){var r=t.viewport,n=e.canvas?e.canvas.clientHeight||e.canvas.height:100,i=r,a=Object(Be.c)(e);return[i.x*a,(n-i.y-i.height)*a,i.width*a,i.height*a]}(e,{viewport:a});if(o&&o.props.clear){var h=!0===o.props.clear?{color:!0,depth:!0}:o.props.clear;Object(Be.l)(e,{scissorTest:!0,scissor:p},(function(){return Object(Ne.a)(e,h)}))}var f={totalCount:n.length,visibleCount:0,compositeCount:0,pickableCount:0};return Object(Be.k)(e,{viewport:p}),n.forEach((function(e,t){var n=r._shouldDrawLayer(e,a,u,i);if(n&&e.props.pickable&&f.pickableCount++,e.isComposite&&f.compositeCount++,n){f.visibleCount++;var o=r._getModuleParameters(e,c,u,l),s=Object.assign({},e.context.uniforms,{layerIndex:t}),p=r.getLayerParameters(e,t);e.drawLayer({moduleParameters:o,uniforms:s,parameters:p})}})),f}},{key:"shouldDrawLayer",value:function(e){return!0}},{key:"getModuleParameters",value:function(e,t){return null}},{key:"getLayerParameters",value:function(e,t){return e.props.parameters}},{key:"_shouldDrawLayer",value:function(e,t,r,n){var i=this.shouldDrawLayer(e)&&!e.isComposite&&e.props.visible;return i&&n&&(i=n({layer:e,viewport:t,isPicking:r.startsWith("picking"),renderPass:r})),i}},{key:"_getModuleParameters",value:function(e,t,r,n){var i=Object.assign(Object.create(e.props),{viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:Object(Be.c)(this.gl)});if(t){var a=!0,o=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;Object.assign(i,l.getModuleParameters(e))}}catch(p){o=!0,s=p}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}return Object.assign(i,this.getModuleParameters(e,t),n)}}]),t}(Fe);var Ue=r(126),Ve=r(93);function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var We=function(e){function t(e,r){var i,s,u;return Object(n.a)(this,t),(u=Object(a.a)(this,Object(o.a)(t).call(this,e,r))).shadowMap=new Se.a(e,{width:1,height:1,parameters:(i={},Object(d.a)(i,10241,9729),Object(d.a)(i,10240,9729),Object(d.a)(i,10242,33071),Object(d.a)(i,10243,33071),i)}),u.depthBuffer=new Ue.a(e,{format:33189,width:1,height:1}),u.fbo=new Ve.a(e,{id:"shadowmap",width:1,height:1,attachments:(s={},Object(d.a)(s,36064,u.shadowMap),Object(d.a)(s,36096,u.depthBuffer),s)}),u}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(e){var r=this,n=this.fbo;Object(Be.l)(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},(function(){var i=e.viewports[0],a=Object(Be.c)(r.gl),s=i.width*a,u=i.height*a;s===n.width&&u===n.height||n.resize({width:s,height:u}),Object(De.a)(Object(o.a)(t.prototype),"render",r).call(r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(r,!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{target:n,pass:"shadow"}))}))}},{key:"shouldDrawLayer",value:function(e){return!1!==e.props.shadowEnabled}},{key:"getModuleParameters",value:function(){return{drawToShadowMap:!0}}},{key:"delete",value:function(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}]),t}(qe),He=r(38),Ze=r(153),Xe=Object(Ze.a)((function(e){var t=e.viewport,r=e.center;return new C.a(t.viewProjectionMatrix).invert().transform(r)})),Ke=Object(Ze.a)((function(e){var t=e.viewport,r=e.shadowMatrices,n=[],i=t.pixelUnprojectionMatrix,a=t.isGeospatial?void 0:1,o=[[0,0,a],[t.width,0,a],[0,t.height,a],[t.width,t.height,a],[0,0,-1],[t.width,0,-1],[0,t.height,-1],[t.width,t.height,-1]].map((function(e){return function(e,t){var r=Object(j.a)(e,3),n=r[0],i=r[1],a=r[2],o=Object(M.j)([n,i,a],t);if(Number.isFinite(a))return o;return[o[0],o[1],0]}(e,i)})),s=!0,u=!1,c=void 0;try{for(var l,p=function(){var e=l.value,r=e.clone().translate(new C.b(t.center).negate()),i=o.map((function(e){return r.transform(e)})),a=(new C.a).ortho({left:Math.min.apply(Math,Object(He.a)(i.map((function(e){return e[0]})))),right:Math.max.apply(Math,Object(He.a)(i.map((function(e){return e[0]})))),bottom:Math.min.apply(Math,Object(He.a)(i.map((function(e){return e[1]})))),top:Math.max.apply(Math,Object(He.a)(i.map((function(e){return e[1]})))),near:Math.min.apply(Math,Object(He.a)(i.map((function(e){return-e[2]})))),far:Math.max.apply(Math,Object(He.a)(i.map((function(e){return-e[2]}))))});n.push(a.multiplyRight(e))},h=r[Symbol.iterator]();!(s=(l=h.next()).done);s=!0)p()}catch(f){u=!0,c=f}finally{try{s||null==h.return||h.return()}finally{if(u)throw c}}return n})),Ye=[0,0,0,1],$e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function Je(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={shadow_uDrawShadowMap:Boolean(e.drawToShadowMap),shadow_uUseShadowMap:!!e.shadowMaps&&e.shadowMaps.length>0,shadow_uColor:e.shadowColor||Ye,shadow_uLightId:e.shadowLightId||0,shadow_uLightCount:e.shadowMatrices.length},n=Xe({viewport:e.viewport,center:t.project_uCenter}),i=[],a=Ke({shadowMatrices:e.shadowMatrices,viewport:e.viewport}).slice(),o=0;o<e.shadowMatrices.length;o++){var s=a[o],u=s.clone().translate(new C.b(e.viewport.center).negate());t.project_uCoordinateSystem===I.a.LNGLAT&&t.project_uProjectionMode===I.c.WEB_MERCATOR?(a[o]=u,i[o]=n):(a[o]=s.clone().multiplyRight($e),i[o]=u.transform(n))}for(var c=0;c<a.length;c++)r["shadow_uViewProjectionMatrices[".concat(c,"]")]=a[c],r["shadow_uProjectCenters[".concat(c,"]")]=i[c],e.shadowMaps&&e.shadowMaps.length>0?r["shadow_uShadowMap".concat(c)]=e.shadowMaps[c]:r["shadow_uShadowMap".concat(c)]=e.dummyShadowMap;return r}var Qe={name:"shadow",dependencies:[q.a],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.drawToShadowMap||e.shadowMaps&&e.shadowMaps.length>0){var r={},n=e.shadowEnabled,i=void 0===n||n;return i&&e.shadowMatrices&&e.shadowMatrices.length>0?Object.assign(r,Je(e,t)):Object.assign(r,{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1}),r}return{}}},et={color:[255,255,255],intensity:1},tt=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],rt=[0,0,0,200/255],nt=function(e){function t(e){var r;for(var i in Object(n.a)(this,t),(r=Object(a.a)(this,Object(o.a)(t).call(this,e))).ambientLight=null,r.directionalLights=[],r.pointLights=[],r.shadowColor=rt,r.shadowPasses=[],r.shadowMaps=[],r.dummyShadowMap=null,r.shadow=!1,r.programManager=null,e){var s=e[i];switch(s.type){case"ambient":r.ambientLight=s;break;case"directional":r.directionalLights.push(s);break;case"point":r.pointLights.push(s)}}return r._applyDefaultLights(),r.shadow=r.directionalLights.some((function(e){return e.shadow})),r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"preRender",value:function(e,t){var r=t.layers,n=t.layerFilter,i=t.viewports,a=t.onViewportActive,o=t.views;if(this.shadow){this.shadowMatrices=this._createLightMatrix(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=B.a.getDefaultProgramManager(e),Qe&&this.programManager.addDefaultModule(Qe)),this.dummyShadowMap||(this.dummyShadowMap=new Se.a(e,{width:1,height:1}));for(var s=0;s<this.shadowPasses.length;s++){this.shadowPasses[s].render({layers:r,layerFilter:n,viewports:i,onViewportActive:a,views:o,moduleParameters:{shadowLightId:s,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}}},{key:"getModuleParameters",value:function(e){var t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((function(t){return t.getProjectedLight({layer:e})})),pointLights:this.pointLights.map((function(t){return t.getProjectedLight({layer:e})}))},t}},{key:"cleanup",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.shadowPasses[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.delete()}}catch(a){t=!0,r=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(Qe),this.programManager=null)}},{key:"_createLightMatrix",value:function(){var e=[],t=!0,r=!1,n=void 0;try{for(var i,a=this.directionalLights[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=(new C.a).lookAt({eye:new C.b(o.direction).negate()});e.push(s)}}catch(u){r=!0,n=u}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return e}},{key:"_createShadowPasses",value:function(e){for(var t=0;t<this.directionalLights.length;t++){var r=new We(e);this.shadowPasses[t]=r,this.shadowMaps[t]=r.shadowMap}}},{key:"_applyDefaultLights",value:function(){var e=this.ambientLight,t=this.pointLights,r=this.directionalLights;e||0!==t.length||0!==r.length||(this.ambientLight=new Ce(et),this.directionalLights.push(new Le(tt[0]),new Le(tt[1])))}}]),t}(ze),it=new nt,at=function(){function e(){Object(n.a)(this,e),this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}return Object(i.a)(e,[{key:"setProps",value:function(e){"effects"in e&&(e.effects.length===this.effects.length&&X(e.effects,this.effects)||(this.setEffects(e.effects),this._needsRedraw="effects changed"))}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"getEffects",value:function(){return this._internalEffects}},{key:"finalize",value:function(){this.cleanup()}},{key:"setEffects",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.cleanup(),this.effects=e,this._createInternalEffects()}},{key:"cleanup",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.effects[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){n.value.cleanup()}}catch(l){t=!0,r=l}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}var a=!0,o=!1,s=void 0;try{for(var u,c=this._internalEffects[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){u.value.cleanup()}}catch(l){o=!0,s=l}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}this.effects.length=0,this._internalEffects.length=0}},{key:"_createInternalEffects",value:function(){this._internalEffects=this.effects.slice(),this.effects.some((function(e){return e instanceof nt}))||this._internalEffects.push(it)}}]),e}(),ot=function(e){function t(){return Object(n.a)(this,t),Object(a.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),t}(qe);function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?st(r,!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ct={blendFunc:[1,0,32771,0],blendEquation:32774},lt=function(e){function t(){return Object(n.a)(this,t),Object(a.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(e){e.pickingFBO?this._drawPickingBuffer(e):Object(De.a)(Object(o.a)(t.prototype),"render",this).call(this,e)}},{key:"_drawPickingBuffer",value:function(e){var r=this,n=e.layers,i=e.layerFilter,a=e.viewports,s=e.onViewportActive,u=e.pickingFBO,c=e.deviceRect,l=c.x,p=c.y,h=c.width,f=c.height,d=e.pass,m=void 0===d?"picking":d,g=e.redrawReason,v=e.pickZ,y=this.gl;return this.pickZ=v,Object(Be.l)(y,ut({scissorTest:!0,scissor:[l,p,h,f],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0]},ct,{blend:!v}),(function(){Object(De.a)(Object(o.a)(t.prototype),"render",r).call(r,{target:u,layers:n,layerFilter:i,viewports:a,onViewportActive:s,pass:m,redrawReason:g})}))}},{key:"shouldDrawLayer",value:function(e){return e.props.pickable}},{key:"getModuleParameters",value:function(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}},{key:"getLayerParameters",value:function(e,t){var r=this.pickZ?{blend:!1}:ut({},ct,{blend:!0,blendColor:[0,0,0,(t+1)/255]});return Object.assign({},e.props.parameters,r)}}]),t}(qe);function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ht=function(){function e(t){Object(n.a)(this,e),this.gl=t,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new ot(t),this.pickLayersPass=new lt(t),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}return Object(i.a)(e,[{key:"setProps",value:function(e){"layerFilter"in e&&this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in e&&this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}},{key:"renderLayers",value:function(e){var t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;e.layerFilter=this.layerFilter,e.effects=e.effects||[],e.target=e.target||Ve.a.getDefaultFramebuffer(this.gl),this._preRender(e.effects,e);var r=this.lastPostProcessEffect?this.renderBuffers[0]:e.target,n=t.render(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(r,!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{target:r}));this._postRender(e.effects,e),this.renderCount++,Object(E.a)("deckRenderer.renderLayers",this,n,e)}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}},{key:"finalize",value:function(){var e=this.renderBuffers,t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.delete()}}catch(o){r=!0,n=o}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}e.length=0}},{key:"_preRender",value:function(e,t){var r=null,n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;u.preRender(this.gl,t),u.postRender&&(r=u)}}catch(c){i=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}r&&this._resizeRenderBuffers(),this.lastPostProcessEffect=r}},{key:"_resizeRenderBuffers",value:function(){var e=this.renderBuffers;0===e.length&&e.push(new Ve.a(this.gl),new Ve.a(this.gl));var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.resize()}}catch(o){r=!0,n=o}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"_postRender",value:function(e,t){var r=this.renderBuffers,n={inputBuffer:r[0],swapBuffer:r[1],target:null},i=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;if(c.postRender){if(c===this.lastPostProcessEffect){n.target=t.target,c.postRender(this.gl,n);break}var l=c.postRender(this.gl,n);n.inputBuffer=l,n.swapBuffer=l===r[0]?r[1]:r[0]}}}catch(p){a=!0,o=p}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}}}]),e}(),ft=r(207),dt={pickedColor:null,pickedLayer:null,pickedObjectIndex:-1};function mt(e){var t=e.pickedColors,r=e.layers,n=e.deviceX,i=e.deviceY,a=e.deviceRadius,o=e.deviceRect;if(t){for(var s=o.x,u=o.y,c=o.width,l=o.height,p=a*a,h=-1,f=0,d=0;d<l;d++){var m=d+u-i,g=m*m;if(g>p)f+=4*c;else for(var v=0;v<c;v++){if(t[f+3]-1>=0){var y=v+s-n,b=y*y+g;b<=p&&(p=b,h=f)}f+=4}}if(h>=0){var _=t[h+3]-1,x=t.slice(h,h+4),w=r[_];if(w){var O=w.decodePickingColor(x),E=Math.floor(h/4/c);return{pickedColor:x,pickedLayer:w,pickedObjectIndex:O,pickedX:s+(h/4-E*c),pickedY:u+E}}k.a.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return dt}function gt(e){var t=e.pickInfo,r=e.lastPickedInfo,n=e.mode,i=e.layers,a=e.viewports,o=e.x,s=e.y,u=e.z,c=e.pixelRatio,l=t.pickedColor,p=t.pickedLayer,h=t.pickedObjectIndex,f=p?[p]:[];if("hover"===n){var d=r.index,m=r.layerId,g=p&&p.props.id;if(g!==m||h!==d){if(g!==m){var v=i.find((function(e){return e.props.id===m}));v&&f.unshift(v)}r.layerId=g,r.index=h,r.info=null}}var y={viewports:a}.viewports[0],b=y&&y.unproject([o,s],{targetZ:u}),_={color:null,layer:null,index:-1,picked:!1,x:o,y:s,pixel:[o,s],coordinate:b,lngLat:b,devicePixel:[t.pickedX,t.pickedY],pixelRatio:c},x=new Map;return x.set(null,_),f.forEach((function(e){var t=Object.assign({},_);e===p&&(t.color=l,t.index=h,t.picked=!0),t=vt({layer:e,info:t,mode:n}),e===p&&"hover"===n&&(r.info=t),t&&x.set(t.layer.id,t),"hover"===n&&e.props.autoHighlight&&(e.setModuleParameters({pickingSelectedColor:p===e?l:null}),e.setNeedsRedraw())})),x}function vt(e){for(var t=e.layer,r=e.info,n=e.mode;t&&r;){var i=r.layer||t;r.layer=t,r=t.getPickingInfo({info:r,mode:n,sourceLayer:i}),t=t.parent}return r}function yt(e,t,r){var n=[];return e.forEach((function(e){if(e.layer){var i=!1;switch(t){case"hover":i=e.layer.onHover(e,r)}i||n.push(e)}})),n}var bt=function(){function e(t){Object(n.a)(this,e),this.gl=t,this.pickingFBO=null,this.pickLayersPass=new lt(t),this.layerFilter=null,this.lastPickedInfo={index:-1,layerId:null,info:null}}return Object(i.a)(e,[{key:"setProps",value:function(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter)}},{key:"finalize",value:function(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}},{key:"pickObject",value:function(e){return this._pickClosestObject(e)}},{key:"pickObjects",value:function(e){return this._pickVisibleObjects(e)}},{key:"getLastPickedObject",value:function(e){var t=e.x,r=e.y,n=e.layers,i=e.viewports,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastPickedInfo.info,o=a&&a.layer&&a.layer.id,s=o?n.find((function(e){return e.id===o})):null,u=i[0]&&i[0].unproject([t,r]),c={x:t,y:r,coordinate:u,lngLat:u,layer:s};return s?Object.assign({},a,c):Object.assign(c,{color:null,object:null,index:-1})}},{key:"_resizeBuffer",value:function(){var e=this.gl;return this.pickingFBO||(this.pickingFBO=new Ve.a(e),Ve.a.isSupported(e,{colorBufferFloat:!0})&&(this.depthFBO=new Ve.a(e),this.depthFBO.attach(Object(d.a)({},36064,new Se.a(e,{format:Object(Be.g)(e)?34836:6408,type:5126}))))),this.pickingFBO.resize({width:e.canvas.width,height:e.canvas.height}),this.depthFBO.resize({width:e.canvas.width,height:e.canvas.height}),this.pickingFBO}},{key:"_pickClosestObject",value:function(e){var t=e.layers,r=e.viewports,n=e.x,i=e.y,a=e.radius,o=void 0===a?0:a,s=e.depth,u=void 0===s?1:s,c=e.mode,l=void 0===c?"query":c,p=e.event,h=e.unproject3D,f=e.onViewportActive;this._resizeBuffer();for(var d,m=Object(Be.c)(this.gl),g=Object(Be.b)(this.gl,[n,i],!0),v=[g.x+Math.floor(g.width/2),g.y+Math.floor(g.height/2)],y=Math.round(o*m),b=this.pickingFBO,_=b.width,x=b.height,w=this._getPickingRect({deviceX:v[0],deviceY:v[1],deviceRadius:y,deviceWidth:_,deviceHeight:x}),O=[],k={},E=0;E<u;E++){var T=mt({pickedColors:w&&this._drawAndSample({layers:t,viewports:r,onViewportActive:f,deviceRect:w,pass:"picking:".concat(l),redrawReason:l}),layers:t,deviceX:v[0],deviceY:v[1],deviceRadius:y,deviceRect:w}),S=void 0;if(T.pickedLayer&&h&&this.depthFBO)S=this._drawAndSample({layers:[T.pickedLayer],viewports:r,onViewportActive:f,deviceRect:{x:T.pickedX,y:T.pickedY,width:1,height:1},pass:"picking:".concat(l),redrawReason:"pick-z",pickZ:!0})[0]*r[0].distanceScales.metersPerUnit[2]+r[0].position[2];if(T.pickedColor&&E+1<u){var j=T.pickedColor[3]-1;k[j]=!0,t[j].clearPickingColor(T.pickedColor)}var P=yt(d=gt({pickInfo:T,lastPickedInfo:this.lastPickedInfo,mode:l,layers:t,viewports:r,x:n,y:i,z:S,pixelRatio:m}),l,p);if(P&&P.forEach((function(e){return O.push(e)})),!T.pickedColor)break}for(var C in k)t[C].restorePickingColors();return{result:O,emptyInfo:d&&d.get(null)}}},{key:"_pickVisibleObjects",value:function(e){var t=e.layers,r=e.viewports,n=e.x,i=e.y,a=e.width,o=void 0===a?1:a,s=e.height,u=void 0===s?1:s,c=e.mode,l=void 0===c?"query":c,p=e.onViewportActive;this._resizeBuffer();var h=Object(Be.c)(this.gl),f=Object(Be.b)(this.gl,[n,i],!0),d=f.x,m=f.y+f.height,g=Object(Be.b)(this.gl,[n+o,i+u],!0),v=g.x+g.width,y=g.y,b={x:d,y:y,width:v-d,height:m-y},_=function(e){var t=e.pickedColors,r=e.layers,n=new Map;if(t)for(var i=0;i<t.length;i+=4){var a=t[i+3]-1;if(a>=0){var o=t.slice(i,i+4),s=o.join(",");if(!n.has(s)){var u=r[a];u?n.set(s,{pickedColor:o,pickedLayer:u,pickedObjectIndex:u.decodePickingColor(o)}):k.a.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(n.values())}({pickedColors:this._drawAndSample({layers:t,viewports:r,onViewportActive:p,deviceRect:b,pass:"picking:".concat(l),redrawReason:l}),layers:t}),x=new Map;return _.forEach((function(e){var t={color:e.pickedColor,layer:null,index:e.pickedObjectIndex,picked:!0,x:n,y:i,width:o,height:u,pixelRatio:h};t=vt({layer:e.pickedLayer,info:t,mode:l}),x.has(t.object)||x.set(t.object,t)})),Array.from(x.values())}},{key:"_drawAndSample",value:function(e){var t=e.layers,r=e.viewports,n=e.onViewportActive,i=e.deviceRect,a=e.pass,o=e.redrawReason,s=e.pickZ;if(Object(m.a)(i.width>0&&i.height>0),t.filter((function(e){return e.isPickable()})).length<1)return null;var u=s?this.depthFBO:this.pickingFBO;this.pickLayersPass.render({layers:t,layerFilter:this.layerFilter,viewports:r,onViewportActive:n,pickingFBO:u,deviceRect:i,pass:a,redrawReason:o,pickZ:s});var c=i.x,l=i.y,p=i.width,h=i.height,f=new(s?Float32Array:Uint8Array)(p*h*4);return Object(ft.c)(u,{sourceX:c,sourceY:l,sourceWidth:p,sourceHeight:h,target:f}),f}},{key:"_getPickingRect",value:function(e){var t=e.deviceX,r=e.deviceY,n=e.deviceRadius,i=e.deviceWidth,a=e.deviceHeight,o=Math.max(0,t-n),s=Math.max(0,r-n),u=Math.min(i,t+n+1)-o,c=Math.min(a,r+n+1)-s;return u<=0||c<=0?null:{x:o,y:s,width:u,height:c}}}]),e}(),_t={zIndex:1,position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:0,left:0,display:"none"},xt=function(){function e(t){Object(n.a)(this,e);var r=t.parentElement;r&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,_t),r.appendChild(this.el))}return Object(i.a)(e,[{key:"setTooltip",value:function(e,t,r){var n=this.el;if("string"===typeof e)n.innerText=e;else{if(!e)return void(n.style.display="none");"text"in e&&(n.innerText=e.text),"html"in e&&(n.innerHTML=e.html),"className"in e&&(n.className=e.className),Object.assign(n.style,e.style)}n.style.display="block",n.style.transform="translate(".concat(t,"px, ").concat(r,"px)")}},{key:"remove",value:function(){this.el&&this.el.remove()}}]),e}(),wt=r(246),Ot=r(157),kt=r(106),Et={name:"Images",version:"2.0.0",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vndmicrosofticon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:Ot.a,test:function(e){var t=new DataView(e);return Object(kt.c)(t)||Object(kt.a)(t)||Object(kt.b)(t)||Object(kt.d)(t)},options:{images:{format:"auto",decodeHTML:!0}}},Tt=r(46);var St={name:"JSON",extensions:["json","geojson"],testText:function(e){var t=e[0],r=e[e.length-1];return"{"===t&&"}"===r||"["===t&&"]"===r},parseTextSync:JSON.parse},jt="8.0.0-beta.2";if(Tt.global.deck&&Tt.global.deck.VERSION!==jt)throw new Error("deck.gl - multiple versions detected: ".concat(Tt.global.deck.VERSION," vs ").concat(jt));Tt.global.deck||(Tt.global.deck=Tt.global.deck||{VERSION:jt,version:jt,log:k.a,_registerLoggers:E.b},Object(wt.b)([St,Et]));var Pt=Tt.global.deck,Ct=r(250),At=r(203),Mt=r.n(At);function It(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}var Rt=r(160),Lt=r(29),zt=r(30),Dt=r(41),Ft=r(35),Bt=r(50),Nt=r(21),qt=r(40),Ut=r(56),Vt=r(371),Gt=r(200),Wt=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(zt.a)(this,t),(r=Object(Dt.a)(this,Object(Ft.a)(t).call(this,e,n))).target=null,r._queryPending=!1,r._pollingPromise=null,Object.seal(Object(Bt.a)(r)),r}return Object(qt.a)(t,e),Object(Nt.a)(t,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(Be.g)(e),n=Object(Vt.c)(e,Gt.a.TIMER_QUERY),i=r||n,a=!0,o=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;switch(l){case"queries":i=i&&r;break;case"timers":i=i&&n;break;default:Object(Lt.a)(!1)}}}catch(p){o=!0,s=p}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return i}}]),Object(Nt.a)(t,[{key:"beginTimeElapsedQuery",value:function(){return this.begin(35007)}},{key:"beginOcclusionQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.conservative,r=void 0!==t&&t;return this.begin(r?36202:35887)}},{key:"beginTransformFeedbackQuery",value:function(){return this.begin(35976)}},{key:"begin",value:function(e){return this._queryPending?this:(this.target=e,this.gl.beginQuery(this.target,this.handle),this)}},{key:"end",value:function(){return this._queryPending?this:(this.target&&(this.gl.endQuery(this.target),this.target=null,this._queryPending=!0),this)}},{key:"isResultAvailable",value:function(){if(!this._queryPending)return!1;var e=this.gl.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}},{key:"isTimerDisjoint",value:function(){return this.gl.getParameter(36795)}},{key:"getResult",value:function(){return this.gl.getQueryParameter(this.handle,34918)}},{key:"getTimerMilliseconds",value:function(){return this.getResult()/1e6}},{key:"createPoll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;var r=0;return this._pollingPromise=new Promise((function(n,i){requestAnimationFrame((function a(){e.isResultAvailable()?(n(e.getResult()),e._pollingPromise=null):r++>t?(i("Timed out"),e._pollingPromise=null):requestAnimationFrame(a)}))})),this._pollingPromise}},{key:"_createHandle",value:function(){return t.isSupported(this.gl)?this.gl.createQuery():null}},{key:"_deleteHandle",value:function(){this.gl.deleteQuery(this.handle)}}]),t}(Ut.a);function Ht(e){return"undefined"!==typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(e):clearTimeout(e)}var Zt=Object(Tt.isBrowser)()&&"undefined"!==typeof document,Xt=0,Kt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(v.a)(this,e);var r=t.onCreateContext,n=void 0===r?function(e){return Object(Be.a)(e)}:r,i=t.onAddHTML,a=void 0===i?null:i,o=t.onInitialize,s=void 0===o?function(){}:o,u=t.onRender,c=void 0===u?function(){}:u,l=t.onFinalize,p=void 0===l?function(){}:l,h=t.gl,f=void 0===h?null:h,d=t.glOptions,m=void 0===d?{}:d,g=t.debug,y=void 0!==g&&g,b=t.createFramebuffer,_=void 0!==b&&b,x=t.autoResizeViewport,w=void 0===x||x,O=t.autoResizeDrawingBuffer,k=void 0===O||O,E=t.stats,T=void 0===E?Rt.a.get("animation-loop-".concat(Xt++)):E,S=t.useDevicePixels,j=void 0===S||S;"useDevicePixelRatio"in t&&(Be.h.deprecated("useDevicePixelRatio","useDevicePixels")(),j=t.useDevicePixelRatio),this.props={onCreateContext:n,onAddHTML:a,onInitialize:s,onRender:c,onFinalize:p,gl:f,glOptions:m,debug:y,createFramebuffer:_},this.gl=f,this.needsRedraw=null,this.timeline=null,this.stats=T,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:w,autoResizeDrawingBuffer:k,useDevicePixels:j}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}return Object(y.a)(e,[{key:"delete",value:function(){this.stop(),this._setDisplay(null)}},{key:"setNeedsRedraw",value:function(e){return Object(Lt.a)("string"===typeof e),this.needsRedraw=this.needsRedraw||e,this}},{key:"setProps",value:function(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._running?this:(this._running=!0,this._getPageLoadPromise().then((function(){return!e._running||e._initialized?null:(e._createWebGLContext(t),e._createFramebuffer(),e._startEventHandling(),e._initializeCallbackData(),e._updateCallbackData(),e._resizeCanvasDrawingBuffer(),e._resizeViewport(),e._gpuTimeQuery=Wt.isSupported(e.gl,["timers"])?new Wt(e.gl):null,e._initialized=!0,e.onInitialize(e.animationProps))})).then((function(t){e._running&&(e._addCallbackData(t||{}),!1!==t&&e._startLoop())})),this)}},{key:"redraw",value:function(){return this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers(),this}},{key:"stop",value:function(){return this._running&&(this._finalizeCallbackData(),Ht(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}},{key:"attachTimeline",value:function(e){return this.timeline=e,this.timeline}},{key:"detachTimeline",value:function(){this.timeline=null}},{key:"waitForRender",value:function(){var e=this;return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((function(t){e._resolveNextFrame=t}))),this._nextFramePromise}},{key:"toDataURL",value:function(){var e,t=(e=Mt.a.mark((function e(){return Mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setNeedsRedraw("toDataURL"),e.next=3,this.waitForRender();case 3:return e.abrupt("return",this.gl.canvas.toDataURL());case 4:case"end":return e.stop()}}),e,this)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){It(a,n,i,o,s,"next",e)}function s(e){It(a,n,i,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}()},{key:"onCreateContext",value:function(){var e;return(e=this.props).onCreateContext.apply(e,arguments)}},{key:"onInitialize",value:function(){var e;return(e=this.props).onInitialize.apply(e,arguments)}},{key:"onRender",value:function(){var e;return(e=this.props).onRender.apply(e,arguments)}},{key:"onFinalize",value:function(){var e;return(e=this.props).onFinalize.apply(e,arguments)}},{key:"getHTMLControlValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=document.getElementById(e);return r?Number(r.value):t}},{key:"setViewParameters",value:function(){return Be.h.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}},{key:"_startLoop",value:function(){var e=this;Ht(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame((function t(){e._running&&(e.redraw(),e._animationFrameId=e._requestAnimationFrame(t))}))}},{key:"_getPageLoadPromise",value:function(){return this._pageLoadPromise||(this._pageLoadPromise=Zt?new Promise((function(e,t){Zt&&"complete"===document.readyState?e(document):window.onload=function(){e(document)}})):Promise.resolve({})),this._pageLoadPromise}},{key:"_setDisplay",value:function(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}},{key:"_requestAnimationFrame",value:function(e){var t;this.display&&this.display.requestAnimationFrame(e)||(t=e,"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60))}},{key:"_renderFrame",value:function(){var e;this.display?(e=this.display)._renderFrame.apply(e,arguments):this.onRender.apply(this,arguments)}},{key:"_clearNeedsRedraw",value:function(){this.needsRedraw=null}},{key:"_setupFrame",value:function(){this._onSetupFrame?this._onSetupFrame(this.animationProps):(this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer())}},{key:"_initializeCallbackData",value:function(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}},{key:"_updateCallbackData",value:function(){var e=this._getSizeAndAspect(),t=e.width,r=e.height,n=e.aspect;t===this.animationProps.width&&r===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),n!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=t,this.animationProps.height=r,this.animationProps.aspect=n,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}},{key:"_finalizeCallbackData",value:function(){this.onFinalize(this.animationProps)}},{key:"_addCallbackData",value:function(e){"object"===Object(Ct.a)(e)&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}},{key:"_createWebGLContext",value:function(e){if(this.offScreen=e.canvas&&"undefined"!==typeof OffscreenCanvas&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?Object(Be.e)(this.props.gl,e):this.onCreateContext(e),!Object(Be.f)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");Object(Be.i)(this.gl),this._createInfoDiv()}},{key:"_createInfoDiv",value:function(){if(this.gl.canvas&&this.props.onAddHTML){var e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";var t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);var r=this.props.onAddHTML(t);r&&(t.innerHTML=r)}}},{key:"_getSizeAndAspect",value:function(){var e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight,r=1,n=this.gl.canvas;return n&&n.clientHeight?r=n.clientWidth/n.clientHeight:e>0&&t>0&&(r=e/t),{width:e,height:t,aspect:r}}},{key:"_resizeViewport",value:function(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}},{key:"_resizeCanvasDrawingBuffer",value:function(){this.autoResizeDrawingBuffer&&Object(Be.j)(this.gl,{useDevicePixels:this.useDevicePixels})}},{key:"_createFramebuffer",value:function(){this.props.createFramebuffer&&(this.framebuffer=new Ve.a(this.gl))}},{key:"_resizeFramebuffer",value:function(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}},{key:"_beginTimers",value:function(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}},{key:"_endTimers",value:function(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}},{key:"_startEventHandling",value:function(){var e=this.gl.canvas;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}},{key:"_onMousemove",value:function(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}},{key:"_onMouseleave",value:function(e){this.animationProps._mousePosition=null}}]),e}(),Yt=r(182);function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jt(){}var Qt={id:"deckgl-overlay",width:"100%",height:"100%",pickingRadius:0,layerFilter:null,glOptions:{},gl:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",_framebuffer:null,_animate:!1,onWebGLInitialized:Jt,onResize:Jt,onViewStateChange:Jt,onBeforeRender:Jt,onAfterRender:Jt,onLoad:Jt,_onMetrics:null,getCursor:function(e){return e.isDragging?"grabbing":"grab"},debug:!1,drawPickingColors:!1},er=function(){function e(t){Object(n.a)(this,e),t=Object.assign({},Qt,t),this.width=0,this.height=0,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this._needsRedraw=!0,this._pickRequest={},this._lastPointerDownInfo=null,this.viewState=t.initialViewState||null,this.interactiveState={isDragging:!1},this._onEvent=this._onEvent.bind(this),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._pickAndCallback=this._pickAndCallback.bind(this),this._onRendererInitialized=this._onRendererInitialized.bind(this),this._onRenderFrame=this._onRenderFrame.bind(this),this._onViewStateChange=this._onViewStateChange.bind(this),this._onInteractiveStateChange=this._onInteractiveStateChange.bind(this),function(){if(void 0===("undefined"===typeof window?"undefined":Object(f.a)(window)))return!1;return-1!==((window.navigator||{}).userAgent||"").indexOf("Trident/")}()&&k.a.warn("IE 11 support will be deprecated in v8.0")(),t.gl||"undefined"!==typeof document&&(this.canvas=this._createCanvas(t)),this.animationLoop=this._createAnimationLoop(t),this.stats=new S.a({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(t),this.animationLoop.start()}return Object(i.a)(e,[{key:"finalize",value:function(){this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,this.layerManager&&(this.layerManager.finalize(),this.layerManager=null),this.viewManager&&(this.viewManager.finalize(),this.viewManager=null),this.effectManager&&(this.effectManager.finalize(),this.effectManager=null),this.deckRenderer&&(this.deckRenderer.finalize(),this.deckRenderer=null),this.deckPicker&&(this.deckPicker.finalize(),this.deckPicker=null),this.eventManager&&this.eventManager.destroy(),this.tooltip&&(this.tooltip.remove(),this.tooltip=null),this.props.canvas||this.props.gl||!this.canvas||(this.canvas.parentElement.removeChild(this.canvas),this.canvas=null)}},{key:"setProps",value:function(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&k.a.removed("onLayerHover","onHover")(),"onLayerClick"in e&&k.a.removed("onLayerClick","onClick")(),e=Object.assign({},this.props,e),this.props=e,this._setCanvasSize(e);var t=Object.assign({},e,{views:this._getViews(this.props),width:this.width,height:this.height}),r=this._getViewState(e);r&&(t.viewState=r),this.viewManager&&this.viewManager.setProps(t),this.layerManager&&this.layerManager.setProps(t),this.effectManager&&this.effectManager.setProps(t),this.animationLoop&&this.animationLoop.setProps(t),this.deckRenderer&&this.deckRenderer.setProps(t),this.deckPicker&&this.deckPicker.setProps(t),this.stats.get("setProps Time").timeEnd()}},{key:"needsRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};if(this.props._animate)return"Deck._animate";var t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);var r=this.viewManager.needsRedraw(e),n=this.layerManager.needsRedraw(e),i=this.effectManager.needsRedraw(e),a=this.deckRenderer.needsRedraw(e);return t=t||r||n||i||a}},{key:"redraw",value:function(e){if(this.layerManager){var t=e||this.needsRedraw({clearRedrawFlags:!0});t&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}}},{key:"getViews",value:function(){return this.viewManager.views}},{key:"getViewports",value:function(e){return this.viewManager.getViewports(e)}},{key:"pickObject",value:function(e){var t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}},{key:"pickMultipleObjects",value:function(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}},{key:"pickObjects",value:function(e){return this._pick("pickObjects","pickObjects Time",e)}},{key:"_pick",value:function(e,t,r){var n=this.stats;n.get("Pick Count").incrementCount(),n.get(t).timeStart();var i=this.deckPicker[e](Object.assign({layers:this.layerManager.getLayers(r),viewports:this.getViewports(r),onViewportActive:this.layerManager.activateViewport},r));return n.get(t).timeEnd(),i}},{key:"_createCanvas",value:function(e){var t=e.canvas;("string"===typeof t&&(t=document.getElementById(t),Object(m.a)(t)),t)||(t=document.createElement("canvas"),(e.parent||document.body).appendChild(t));var r=e.id,n=e.style;return t.id=r,Object.assign(t.style,n),t}},{key:"_setCanvasSize",value:function(e){if(this.canvas){var t=e.width,r=e.height;(t||0===t)&&(t=Number.isFinite(t)?"".concat(t,"px"):t,this.canvas.style.width=t),(r||0===r)&&(r=Number.isFinite(r)?"".concat(r,"px"):r,this.canvas.style.position="absolute",this.canvas.style.height=r)}}},{key:"_updateCanvasSize",value:function(){if(this._checkForCanvasSizeChange()){var e=this.width,t=this.height;this.viewManager.setProps({width:e,height:t}),this.props.onResize({width:this.width,height:this.height})}}},{key:"_checkForCanvasSizeChange",value:function(){var e=this.canvas;if(!e)return!1;var t=e.clientWidth||e.width,r=e.clientHeight||e.height;return(t!==this.width||r!==this.height)&&(this.width=t,this.height=r,!0)}},{key:"_createAnimationLoop",value:function(e){var t=this,r=e.width,n=e.height,i=e.gl,a=e.glOptions,o=e.debug,s=e.useDevicePixels,u=e.autoResizeDrawingBuffer;return new Kt({width:r,height:n,useDevicePixels:s,autoResizeDrawingBuffer:u,autoResizeViewport:!1,gl:i,onCreateContext:function(e){return Object(Be.a)(Object.assign({},a,e,{canvas:t.canvas,debug:o}))},onInitialize:this._onRendererInitialized,onRender:this._onRenderFrame,onBeforeRender:e.onBeforeRender,onAfterRender:e.onAfterRender})}},{key:"_getViewState",value:function(e){return e.viewState||this.viewState}},{key:"_getViews",value:function(e){var t=e.views||[new Te({id:"default-view"})];return(t=Array.isArray(t)?t:[t]).length&&e.controller&&(t[0].props.controller=e.controller),t}},{key:"_onPointerMove",value:function(e){var t=this._pickRequest;if("pointerleave"===e.type)t.x=-1,t.y=-1,t.radius=0;else{if(e.leftButton||e.rightButton)return;var r=e.offsetCenter;if(!r)return;t.x=r.x,t.y=r.y,t.radius=this.props.pickingRadius}this.layerManager&&(this.layerManager.context.mousePosition={x:t.x,y:t.y}),t.callback=this.props.onHover,t.event=e,t.mode="hover"}},{key:"_pickAndCallback",value:function(){var e=this._pickRequest;if(e.mode){var t=this._pick("pickObject","pickObject Time",e),r=t.result,n=t.emptyInfo,i=(e.callback||this.props.getTooltip)&&(r.find((function(e){return e.index>=0}))||n);if(this.props.getTooltip){var a=this.props.getTooltip(i);this.tooltip.setTooltip(a,i.x,i.y)}e.callback&&e.callback(i,e.event),e.mode=null}}},{key:"_updateCursor",value:function(){this.canvas&&(this.canvas.style.cursor=this.props.getCursor(this.interactiveState))}},{key:"_setGLContext",value:function(e){if(!this.layerManager){this.canvas||(this.canvas=e.canvas,Object(Be.e)(e,{enable:!0,copyState:!0})),this.tooltip=new xt(this.canvas),Object(Be.k)(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);var t=new x;for(var r in t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new Yt.a(this.props.parent||e.canvas,{touchAction:this.props.touchAction,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}}),I.b)this.eventManager.on(r,this._onEvent);this.viewManager=new K({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange,onInteractiveStateChange:this._onInteractiveStateChange,views:this._getViews(this.props),viewState:this._getViewState(this.props),width:this.width,height:this.height});var n=this.viewManager.getViewports()[0];this.layerManager=new Z(e,{deck:this,stats:this.stats,viewport:n,timeline:t}),this.effectManager=new at,this.deckRenderer=new ht(e),this.deckPicker=new bt(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}}},{key:"_drawLayers",value:function(e,t){var r=this.layerManager.context.gl;Object(Be.k)(r,this.props.parameters),this.props.onBeforeRender({gl:r}),this.deckRenderer.renderLayers(Object.assign({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:e,effects:this.effectManager.getEffects()},t)),this.props.onAfterRender({gl:r})}},{key:"_onRendererInitialized",value:function(e){var t=e.gl;this._setGLContext(t)}},{key:"_onRenderFrame",value:function(e){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),k.a.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(!1),this.viewManager&&this.viewManager.updateViewStates()}},{key:"_onViewStateChange",value:function(e){var t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$t(r,!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.viewState,Object(d.a)({},e.viewId,t)),this.props.viewState||this.viewManager.setProps({viewState:this.viewState}))}},{key:"_onInteractiveStateChange",value:function(e){var t=e.isDragging,r=void 0!==t&&t;r!==this.interactiveState.isDragging&&(this.interactiveState.isDragging=r)}},{key:"_onEvent",value:function(e){var t=I.b[e.type],r=e.offsetCenter;if(t&&r){var n=this.layerManager.getLayers(),i=this.deckPicker.getLastPickedObject({x:r.x,y:r.y,layers:n,viewports:this.getViewports(r)},this._lastPointerDownInfo),a=i.layer,o=a&&(a[t.handler]||a.props[t.handler]),s=this.props[t.handler],u=!1;o&&(u=o.call(a,i,e)),!u&&s&&s(i,e)}}},{key:"_onPointerDown",value:function(e){var t=e.offsetCenter;this._lastPointerDownInfo=this.pickObject({x:t.x,y:t.y,radius:this.props.pickingRadius})}},{key:"_getFrameStats",value:function(){var e=this.stats;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();var t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}},{key:"_getMetrics",value:function(){var e=this.metrics,t=this.stats;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();var r=Rt.a.get("Memory Usage");e.bufferMemory=r.get("Buffer Memory").count,e.textureMemory=r.get("Texture Memory").count,e.renderbufferMemory=r.get("Renderbuffer Memory").count,e.gpuMemory=r.get("GPU Memory").count}}]),e}();function tr(e,t){for(;e;){if(e===t)return!0;e=Object.getPrototypeOf(e)}return!1}function rr(e){return e?"function"===typeof e?Object(c.createElement)(Q,{},e):Array.isArray(e)?e.map(rr):(tr(e.type,Q),e):e}function nr(e){var t=e.children,r=e.layers,n=e.views,i=[],a=[],o={};return l.a.Children.forEach(rr(t),(function(e){if(e){var t=e.type;if(tr(t,w.a)){var r=function(e,t){var r={},n=e.defaultProps||{};for(var i in t)n[i]!==t[i]&&(r[i]=t[i]);return new e(r)}(t,e.props);a.push(r)}else i.push(e);if(t!==Q&&tr(t,Q)&&e.props.id){var n=new t(e.props);o[n.id]=n}}})),Object.keys(o).length>0&&(Array.isArray(n)?n.forEach((function(e){o[e.id]=e})):n&&(o[n.id]=n),n=Object.values(o)),{layers:r=a.length>0?[].concat(a,Object(He.a)(r)):r,children:i,views:n}}er.getPropTypes=function(e){return{id:e.string,width:e.oneOfType([e.number,e.string]),height:e.oneOfType([e.number,e.string]),layers:e.oneOfType([e.object,e.array]),layerFilter:e.func,views:e.oneOfType([e.object,e.array]),viewState:e.object,effects:e.arrayOf(e.instanceOf(ze)),controller:e.oneOfType([e.func,e.bool,e.object]),gl:e.object,glOptions:e.object,parameters:e.object,pickingRadius:e.number,useDevicePixels:e.oneOfType([e.bool,e.number]),touchAction:e.string,onWebGLInitialized:e.func,onResize:e.func,onViewStateChange:e.func,onBeforeRender:e.func,onAfterRender:e.func,onLoad:e.func,debug:e.bool,drawPickingColors:e.bool,_framebuffer:e.object,_animate:e.bool}},er.defaultProps=Qt,er.VERSION=Pt.VERSION;var ir={position:"absolute",zIndex:-1};function ar(e,t){return e?"function"===typeof e?e(t):Array.isArray(e)?e.map((function(e){return ar(e,t)})):function(e){var t=e&&e.type,r=t&&t.defaultProps;return r&&r.mapStyle}(e)?(t.style=ir,Object(c.cloneElement)(e,t)):e:e}function or(e){var t=e.children,r=(e.viewports,e.deck),n=e.ContextProvider,i=(r||{}).viewManager;if(!i||!i.views.length)return[];var a={},o=i.views[0].id,s=!0,u=!1,l=void 0;try{for(var p,h=t[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var f=p.value,d=o,m=f;tr(f.type,Q)&&(d=f.props.id||o,m=f.props.children);var g=i.getViewport(d),v=i.getViewState(d);if(g)m=ar(m,{x:g.x,y:g.y,width:g.width,height:g.height,viewport:g,viewState:v}),a[d]||(a[d]={viewport:g,children:[]}),a[d].children.push(m)}}catch(y){u=!0,l=y}finally{try{s||null==h.return||h.return()}finally{if(u)throw l}}return Object.keys(a).map((function(e){var t=a[e].viewport,i=t.x,o=t.y,s=t.width,u=t.height,l=a[e].children,p={position:"absolute",left:i,top:o,width:s,height:u},h="view-".concat(e);if(n){var f={viewport:t,container:r.canvas.offsetParent,eventManager:r.eventManager,onViewStateChange:function(t){t.viewId=e,r._onViewStateChange(t)}};l=Object(c.createElement)(n,{value:f},l)}return Object(c.createElement)("div",{key:h,id:h,style:p},l)}))}r.d(t,"a",(function(){return cr}));var sr=er.getPropTypes(h.a),ur=er.defaultProps,cr=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(a.a)(this,Object(o.a)(t).call(this,e))).viewports=null,r.children=null,r._needsRedraw=null,r._containerRef=l.a.createRef(),r._canvasRef=l.a.createRef(),r.pickObject=r.pickObject.bind(Object(s.a)(r)),r.pickMultipleObjects=r.pickMultipleObjects.bind(Object(s.a)(r)),r.pickObjects=r.pickObjects.bind(Object(s.a)(r)),r._extractJSXLayers=Object(Ze.a)(nr),r._positionChildrenUnderViews=Object(Ze.a)(or),r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.Deck||er;this.deck=this.deck||new e(Object.assign({},this.props,{parent:this._containerRef.current,canvas:this._canvasRef.current,style:null,width:"100%",height:"100%",_customRender:this._customRender.bind(this)})),this._updateFromProps(this.props)}},{key:"shouldComponentUpdate",value:function(e){this._updateFromProps(e);var t=this.children!==this._parseJSX(e).children,r=this.deck.viewManager&&this.deck.viewManager.needsRedraw();return t&&!r}},{key:"componentDidUpdate",value:function(){this._redrawDeck()}},{key:"componentWillUnmount",value:function(){this.deck.finalize()}},{key:"pickObject",value:function(e){return this.deck.pickObject(e)}},{key:"pickMultipleObjects",value:function(e){return this.deck.pickMultipleObjects(e)}},{key:"pickObjects",value:function(e){return this.deck.pickObjects(e)}},{key:"_redrawDeck",value:function(){this._needsRedraw&&(this.deck._drawLayers(this._needsRedraw),this._needsRedraw=null)}},{key:"_customRender",value:function(e){this._needsRedraw=e,this.deck.viewManager.getViewports()!==this.viewports?this.forceUpdate():this._redrawDeck()}},{key:"_parseJSX",value:function(e){return this._extractJSXLayers({layers:e.layers,views:e.views,children:e.children})}},{key:"_updateFromProps",value:function(e){var t=this._parseJSX(e),r=t.layers,n=t.views,i=Object.assign({},e,{style:null,width:"100%",height:"100%",layers:r,views:n});this.deck.setProps(i)}},{key:"render",value:function(){var e=(this.deck||{}).viewManager;this.viewports=e&&e.getViewports(),this.children=this._parseJSX(this.props).children;var t=this._positionChildrenUnderViews({children:this.children,viewports:this.viewports,deck:this.deck,ContextProvider:this.props.ContextProvider}),r=Object.assign({position:"absolute",zIndex:0,left:0,top:0,width:this.props.width,height:this.props.height},this.props.style),n=Object(c.createElement)("canvas",{key:"canvas",ref:this._canvasRef});return Object(c.createElement)("div",{id:"deckgl-wrapper",ref:this._containerRef,style:r},[n,t])}}]),t}(l.a.Component);cr.propTypes=sr,cr.defaultProps=ur},function(e,t,r){"use strict";var n=r(11),i=r(7),a=r(6),o=r(18),s=r(13),u=r(33),c=r(19),l=r(22),p=r(200),h=r(371),f=r(9),d=r(207),m=r(261),g=r(436);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=Math.fround(e),i=e-n;return t[r]=n,t[r+1]=i,t}function y(e){return e-Math.fround(e)}var b={ONE:1};var _,x,w={name:"fp64-arithmetic",vs:"uniform float ONE;\nvec2 split(float a) {\n  const float SPLIT = 4097.0;\n  float t = a * SPLIT;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float a_hi = t * ONE - (t - a);\n  float a_lo = a * ONE - a_hi;\n#else\n  float a_hi = t - (t - a);\n  float a_lo = a - a_hi;\n#endif\n  return vec2(a_hi, a_lo);\n}\nvec2 split2(vec2 a) {\n  vec2 b = split(a.x);\n  b.y += a.y;\n  return b;\n}\nvec2 quickTwoSum(float a, float b) {\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float sum = (a + b) * ONE;\n  float err = b - (sum - a) * ONE;\n#else\n  float sum = a + b;\n  float err = b - (sum - a);\n#endif\n  return vec2(sum, err);\n}\nvec2 twoSum(float a, float b) {\n  float s = (a + b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) + (b - v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSub(float a, float b) {\n  float s = (a - b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) - (b + v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSqr(float a) {\n  float prod = a * a;\n  vec2 a_fp64 = split(a);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *\n    a_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;\n#else\n  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;\n#endif\n  return vec2(prod, err);\n}\n\nvec2 twoProd(float a, float b) {\n  float prod = a * b;\n  vec2 a_fp64 = split(a);\n  vec2 b_fp64 = split(b);\n  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +\n    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;\n  return vec2(prod, err);\n}\n\nvec2 sum_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSum(a.x, b.x);\n  t = twoSum(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 sub_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSub(a.x, b.x);\n  t = twoSub(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 mul_fp64(vec2 a, vec2 b) {\n  vec2 prod = twoProd(a.x, b.x);\n  prod.y += a.x * b.y;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  prod.y += a.y * b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  return prod;\n}\n\nvec2 div_fp64(vec2 a, vec2 b) {\n  float xn = 1.0 / b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  vec2 yn = mul_fp64(a, vec2(xn, 0));\n#else\n  vec2 yn = a * xn;\n#endif\n  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;\n  vec2 prod = twoProd(xn, diff);\n  return sum_fp64(yn, prod);\n}\n\nvec2 sqrt_fp64(vec2 a) {\n  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n\n  float x = 1.0 / sqrt(a.x);\n  float yn = a.x * x;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  vec2 yn_sqr = twoSqr(yn) * ONE;\n#else\n  vec2 yn_sqr = twoSqr(yn);\n#endif\n  float diff = sub_fp64(a, yn_sqr).x;\n  vec2 prod = twoProd(x * 0.5, diff);\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  return sum_fp64(split(yn), prod);\n#else\n  return sum_fp64(vec2(yn, 0.0), prod);\n#endif\n}\n",fs:null,getUniforms:function(){return b},fp64ify:v,fp64LowPart:y},O=r(247),k=r(213),E={SUM:1,MEAN:2,MIN:3,MAX:4};function T(e,t){return e+t}function S(e,t){return t>e?t:e}function j(e,t){return t<e?t:e}function P(e,t){switch(E[e.toUpperCase()]||E.SUM){case E.MIN:return function(e){return function(e,t){var r=e.map(t).filter(Number.isFinite);return r.length?r.reduce(j,1/0):null}(e,t)};case E.SUM:return function(e){return function(e,t){var r=e.map(t).filter(Number.isFinite);return r.length?r.reduce(T,0):null}(e,t)};case E.MEAN:return function(e){return function(e,t){var r=e.map(t).filter(Number.isFinite);return r.length?r.reduce(T,0)/r.length:null}(e,t)};case E.MAX:return function(e){return function(e,t){var r=e.map(t).filter(Number.isFinite);return r.length?r.reduce(S,-1/0):null}(e,t)};default:return null}}var C,A={projectPoints:!1,viewport:null,createBufferObjects:!0,moduleSettings:{}},M=[32775,32774],I=[32776,32774],R=[32776,32775],L=(_={},Object(n.a)(_,E.SUM,32774),Object(n.a)(_,E.MEAN,32774),Object(n.a)(_,E.MIN,M),Object(n.a)(_,E.MAX,I),_),z={size:1,operation:E.SUM,needMin:!1,needMax:!1,combineMaxMin:!1},D=(x={},Object(n.a)(x,10240,9728),Object(n.a)(x,10241,9728),"#define SHADER_NAME gpu-aggregation-to-grid-vs\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute vec3 weights;\nuniform vec2 cellSize;\nuniform vec2 gridSize;\nuniform bool projectPoints;\nuniform vec2 translation;\nuniform vec3 scaling;\n\nvarying vec3 vWeights;\n\nvec2 project_to_pixel(vec4 pos) {\n  vec4 result;\n  pos.xy = pos.xy/pos.w;\n  result = pos + vec4(translation, 0., 0.);\n  result.xy = scaling.z > 0. ? result.xy * scaling.xy : result.xy;\n  return result.xy;\n}\n\nvoid main(void) {\n\n  vWeights = weights;\n\n  vec4 windowPos = vec4(positions, 1.);\n  if (projectPoints) {\n    windowPos = project_position_to_clipspace(positions, positions64Low, vec3(0));\n  }\n\n  vec2 pos = project_to_pixel(windowPos);\n\n  vec2 pixelXY64[2];\n  pixelXY64[0] = vec2(pos.x, 0.);\n  pixelXY64[1] = vec2(pos.y, 0.);\n  vec2 gridXY64[2];\n  gridXY64[0] = div_fp64(pixelXY64[0], vec2(cellSize.x, 0));\n  gridXY64[1] = div_fp64(pixelXY64[1], vec2(cellSize.y, 0));\n  float x = floor(gridXY64[0].x);\n  float y = floor(gridXY64[1].x);\n  pos = vec2(x, y);\n  pos = (pos * (2., 2.) / (gridSize)) - (1., 1.);\n  vec2 offset = 1.0 / gridSize;\n  pos = pos + offset;\n\n\n  gl_Position = vec4(pos, 0.0, 1.0);\n}\n"),F="#define SHADER_NAME gpu-aggregation-to-grid-fs\n\nprecision highp float;\n\nvarying vec3 vWeights;\n\nvoid main(void) {\n  gl_FragColor = vec4(vWeights, 1.0);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",B="#version 300 es\n#define SHADER_NAME gpu-aggregation-all-vs-64\n\nin vec2 position;\nuniform ivec2 gridSize;\nout vec2 vTextureCoord;\n\nvoid main(void) {\n  vec2 pos = vec2(-1.0, -1.0);\n  vec2 offset = 1.0 / vec2(gridSize);\n  pos = pos + offset;\n\n  gl_Position = vec4(pos, 0.0, 1.0);\n\n  int yIndex = gl_InstanceID / gridSize[0];\n  int xIndex = gl_InstanceID - (yIndex * gridSize[0]);\n\n  vec2 yIndexFP64 = vec2(float(yIndex), 0.);\n  vec2 xIndexFP64 = vec2(float(xIndex), 0.);\n  vec2 gridSizeYFP64 = vec2(gridSize[1], 0.);\n  vec2 gridSizeXFP64 = vec2(gridSize[0], 0.);\n\n  vec2 texCoordXFP64 = div_fp64(yIndexFP64, gridSizeYFP64);\n  vec2 texCoordYFP64 = div_fp64(xIndexFP64, gridSizeXFP64);\n\n  vTextureCoord = vec2(texCoordYFP64.x, texCoordXFP64.x);\n  gl_PointSize = 1.0;\n}\n",N="#version 300 es\n#define SHADER_NAME gpu-aggregation-all-fs\n\nprecision highp float;\n\nin vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform bool combineMaxMin;\nout vec4 fragColor;\nvoid main(void) {\n  vec4 textureColor = texture(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n  if (textureColor.a == 0.) {\n    discard;\n  }\n  fragColor.rgb = textureColor.rgb;\n  fragColor.a = combineMaxMin ? textureColor.r : textureColor.a;\n}\n",q="#define SHADER_NAME gpu-aggregation-transform-mean-vs\nattribute vec4 aggregationValues;\nvarying vec4 meanValues;\n\nvoid main()\n{\n  bool isCellValid = bool(aggregationValues.w > 0.);\n  meanValues.xyz = isCellValid ? aggregationValues.xyz/aggregationValues.w : vec3(0, 0, 0);\n  meanValues.w = aggregationValues.w;\n}\n",U=r(136),V=r(93),G=(C={},Object(n.a)(C,10240,9728),Object(n.a)(C,10241,9728),C);function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.width,n=void 0===r?1:r,i=t.height,a=void 0===i?1:i,o=t.data,s=void 0===o?null:o,u=t.unpackFlipY,c=void 0===u||u,l=t.parameters,p=void 0===l?G:l;return new U.a(e,{data:s,format:Object(f.g)(e)?34836:6408,type:5126,border:0,mipmaps:!1,parameters:p,dataFormat:6408,width:n,height:a,unpackFlipY:c})}function H(e,t){var r=t.id,i=t.width,a=void 0===i?1:i,o=t.height,s=void 0===o?1:o,u=t.texture;return new V.a(e,{id:r,width:a,height:s,attachments:Object(n.a)({},36064,u)})}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var X=["aggregationBuffer","maxMinBuffer","minBuffer","maxBuffer"],K={maxData:"maxBuffer",minData:"minBuffer",maxMinData:"maxMinBuffer"},Y=[p.a.WEBGL2,p.a.COLOR_ATTACHMENT_RGBA32F,p.a.BLEND_EQUATION_MINMAX,p.a.FLOAT_BLEND,p.a.TEXTURE_FLOAT],$=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,e),this.id=r.id||"gpu-grid-aggregator",this.gl=t,this.state={weightAttributes:{},textures:{},meanTextures:{},buffers:{},framebuffers:{},maxMinFramebuffers:{},minFramebuffers:{},maxFramebuffers:{},equations:{},resources:{},results:{}},this._hasGPUSupport=Object(f.g)(t)&&Object(h.c)(this.gl,p.a.BLEND_EQUATION_MINMAX,p.a.COLOR_ATTACHMENT_RGBA32F,p.a.TEXTURE_FLOAT),this._hasGPUSupport&&this._setupModels()}return Object(a.a)(e,null,[{key:"getAggregationData",value:function(e){var t=e.aggregationData,r=e.maxData,n=e.minData,i=e.maxMinData,a=4*e.pixelIndex,o={};return t&&(o.cellCount=t[a+3],o.cellWeight=t[a]),i?(o.maxCellWieght=i[0],o.minCellWeight=i[3]):(r&&(o.maxCellWieght=r[0],o.totalCount=r[3]),n&&(o.minCellWeight=n[0],o.totalCount=r[3])),o}},{key:"getCellData",value:function(e){for(var t=e.countsData,r=e.size,n=void 0===r?1:r,i=t.length/4,a=new Float32Array(i*n),o=new Uint32Array(i),s=0;s<i;s++){for(var u=0;u<n;u++)a[s*n+u]=t[4*s+u];o[s]=t[4*s+3]}return{cellCounts:o,cellWeights:a}}},{key:"isSupported",value:function(e){return Object(h.c)(e,Y)}}]),Object(a.a)(e,[{key:"delete",value:function(){var e=this.gridAggregationModel,t=this.allAggregationModel,r=this.meanTransform,n=this.state,i=n.textures,a=n.framebuffers,o=n.maxMinFramebuffers,s=n.minFramebuffers,u=n.maxFramebuffers,c=n.meanTextures,l=n.resources;e&&e.delete(),t&&t.delete(),r&&r.delete(),function(e){(e=Array.isArray(e)?e:[e]).forEach((function(e){for(var t in e)e[t].delete()}))}([a,i,o,s,u,c,l])}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({results:{}});var t=this._normalizeAggregationParams(e);return this._hasGPUSupport||l.a.log(1,"GPUGridAggregator: not supported")(),this._runAggregation(t)}},{key:"getData",value:function(e){var t={},r=this.state.results;for(var n in r[e].aggregationData||(r[e].aggregationData=r[e].aggregationBuffer.getData()),t.aggregationData=r[e].aggregationData,K){var i=K[n];(r[e][n]||r[e][i])&&(r[e][n]=r[e][n]||r[e][i].getData(),t[n]=r[e][n])}return t}},{key:"updateShaders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({shaderOptions:e,modelDirty:!0})}},{key:"_normalizeAggregationParams",value:function(e){var t=Object.assign({},A,e),r=t.weights;return r&&(t.weights=function(e){var t={};for(var r in e)t[r]=Object.assign({},z,e[r]);return t}(r)),t}},{key:"setState",value:function(e){Object.assign(this.state,e)}},{key:"_getAggregateData",value:function(e){var t={},r=this.state,n=r.textures,i=r.framebuffers,a=r.maxMinFramebuffers,o=r.minFramebuffers,s=r.maxFramebuffers,u=r.resources,c=e.weights;for(var l in c){t[l]={};var p=c[l],h=p.needMin,f=p.needMax,m=p.combineMaxMin;t[l].aggregationTexture=n[l],t[l].aggregationBuffer=Object(d.d)(i[l],{target:c[l].aggregationBuffer,sourceType:5126}),h&&f&&m?(t[l].maxMinBuffer=Object(d.d)(a[l],{target:c[l].maxMinBuffer,sourceType:5126}),t[l].maxMinTexture=u["".concat(l,"-maxMinTexture")]):(h&&(t[l].minBuffer=Object(d.d)(o[l],{target:c[l].minBuffer,sourceType:5126}),t[l].minTexture=u["".concat(l,"-minTexture")]),f&&(t[l].maxBuffer=Object(d.d)(s[l],{target:c[l].maxBuffer,sourceType:5126}),t[l].maxTexture=u["".concat(l,"-maxTexture")]))}return this._trackGPUResultBuffers(t,c),t}},{key:"_renderAggregateData",value:function(e){var t=e.cellSize,r=e.projectPoints,n=e.attributes,i=e.moduleSettings,a=e.numCol,o=e.numRow,s=e.weights,u=e.translation,c=e.scaling,l=this.state,p=l.maxMinFramebuffers,h=l.minFramebuffers,f=l.maxFramebuffers,d=[a,o],m={blend:!0,depthTest:!1,blendFunc:[1,1]},g={cellSize:t,gridSize:d,projectPoints:r,translation:u,scaling:c};for(var v in s){var y=s[v],b=y.needMin,_=y.needMax,x=b&&_&&s[v].combineMaxMin;this._renderToWeightsTexture({id:v,parameters:m,moduleSettings:i,uniforms:g,gridSize:d,attributes:n,weights:s}),x?this._renderToMaxMinTexture({id:v,parameters:Object.assign({},m,{blendEquation:R}),gridSize:d,minOrMaxFb:p[v],clearParams:{clearColor:[0,0,0,3402823466e29]},combineMaxMin:x}):(b&&this._renderToMaxMinTexture({id:v,parameters:Object.assign({},m,{blendEquation:M}),gridSize:d,minOrMaxFb:h[v],clearParams:{clearColor:[3402823466e29,3402823466e29,3402823466e29,0]},combineMaxMin:x}),_&&this._renderToMaxMinTexture({id:v,parameters:Object.assign({},m,{blendEquation:I}),gridSize:d,minOrMaxFb:f[v],clearParams:{clearColor:[0,0,0,0]},combineMaxMin:x}))}}},{key:"_renderToMaxMinTexture",value:function(e){var t=e.id,r=e.parameters,n=e.gridSize,i=e.minOrMaxFb,a=e.combineMaxMin,o=e.clearParams,s=void 0===o?{}:o,u=this.state.framebuffers,c=this.gl,l=this.allAggregationModel;i.bind(),c.viewport(0,0,n[0],n[1]),Object(f.l)(c,s,(function(){c.clear(16384)})),l.draw({parameters:r,uniforms:{uSampler:u[t].texture,gridSize:n,combineMaxMin:a}}),i.unbind()}},{key:"_renderToWeightsTexture",value:function(e){var t=e.id,r=e.parameters,i=e.moduleSettings,a=e.uniforms,o=e.gridSize,s=e.weights,u=this.state,c=u.framebuffers,l=u.equations,p=u.weightAttributes,h=this.gl,d=this.gridAggregationModel,m=s[t].operation;c[t].bind(),h.viewport(0,0,o[0],o[1]);var v=m===E.MIN?[3402823466e29,3402823466e29,3402823466e29,0]:[0,0,0,0];Object(f.l)(h,{clearColor:v},(function(){h.clear(16384)}));var y={weights:p[t]};if(d.draw({parameters:Object.assign({},r,{blendEquation:l[t]}),moduleSettings:i,uniforms:a,attributes:y}),c[t].unbind(),m===E.MEAN){var b=this.state,_=b.meanTextures,x=b.textures,w={_sourceTextures:{aggregationValues:_[t]},_targetTexture:x[t],elementCount:x[t].width*x[t].height};this.meanTransform?this.meanTransform.update(w):this.meanTransform=function(e,t){return new g.a(e,Object.assign({},{vs:q,_targetTextureVarying:"meanValues"},t))}(h,w),this.meanTransform.run({parameters:{blend:!1,depthTest:!1}}),c[t].attach(Object(n.a)({},36064,x[t]))}}},{key:"_runAggregation",value:function(e){this._updateModels(e),this._setupFramebuffers(e),this._renderAggregateData(e);var t=this._getAggregateData(e);return this.setState({results:t}),t}},{key:"_setupFramebuffers",value:function(e){var t=this.state,r=t.textures,i=t.framebuffers,a=t.maxMinFramebuffers,o=t.minFramebuffers,s=t.maxFramebuffers,u=t.meanTextures,c=t.equations,l=e.weights,p=e.numCol,h=e.numRow,f={width:p,height:h};for(var d in l){var m=l[d],g=m.needMin,v=m.needMax,y=m.combineMaxMin,b=m.operation;r[d]=l[d].aggregationTexture||r[d]||W(this.gl,{id:"".concat(d,"-texture"),width:p,height:h}),r[d].resize(f);var _=r[d];b===E.MEAN&&(u[d]=u[d]||W(this.gl,{id:"".concat(d,"-mean-texture"),width:p,height:h}),u[d].resize(f),_=u[d]),i[d]?i[d].attach(Object(n.a)({},36064,_)):i[d]=H(this.gl,{id:"".concat(d,"-fb"),width:p,height:h,texture:_}),i[d].resize(f),c[d]=L[b]||L.SUM,(g||v)&&(g&&v&&y?a[d]||(_=l[d].maxMinTexture||this._getMinMaxTexture("".concat(d,"-maxMinTexture")),a[d]=H(this.gl,{id:"".concat(d,"-maxMinFb"),texture:_})):(g&&(o[d]||(_=l[d].minTexture||this._getMinMaxTexture("".concat(d,"-minTexture")),o[d]=H(this.gl,{id:"".concat(d,"-minFb"),texture:_}))),v&&(s[d]||(_=l[d].maxTexture||this._getMinMaxTexture("".concat(d,"-maxTexture")),s[d]=H(this.gl,{id:"".concat(d,"-maxFb"),texture:_})))))}}},{key:"_getMinMaxTexture",value:function(e){var t=this.state.resources;return t[e]||(t[e]=W(this.gl,{id:"resourceName"})),t[e]}},{key:"_setupModels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.numCol,r=void 0===t?0:t,n=e.numRow,i=void 0===n?0:n,a=this.gl,o=this.state.shaderOptions;if(this.gridAggregationModel&&this.gridAggregationModel.delete(),this.gridAggregationModel=J(a,o),!this.allAggregationModel){var s=r*i;this.allAggregationModel=Q(a,s)}}},{key:"_setupWeightAttributes",value:function(e){var t=this.state.weightAttributes,r=e.weights;for(var n in r)t[n]=e.attributes[n]}},{key:"_trackGPUResultBuffers",value:function(e,t){var r=this.state.resources;for(var n in e)if(e[n]){var i=!0,a=!1,o=void 0;try{for(var s,u=X[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;if(e[n][c]&&t[n][c]!==e[n][c]){var l="gpu-result-".concat(n,"-").concat(c);r[l]&&r[l].delete(),r[l]=e[n][c]}}}catch(p){a=!0,o=p}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}}}},{key:"_updateModels",value:function(e){var t=e.vertexCount,r=e.attributes,n=e.numCol,i=e.numRow;this.state.modelDirty&&(this._setupModels(e),this.setState({modelDirty:!1})),this._setupWeightAttributes(e),this.gridAggregationModel.setVertexCount(t),this.gridAggregationModel.setAttributes(r),this.allAggregationModel.setInstanceCount(n*i)}}]),e}();function J(e,t){var r=Object(O.a)({vs:D,fs:F,modules:[w,k.a]},t);return new m.a(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(r,!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:"Gird-Aggregation-Model",vertexCount:1,drawMode:0},r))}function Q(e,t){return new m.a(e,{id:"All-Aggregation-Model",vs:B,fs:N,modules:[w],vertexCount:1,drawMode:0,isInstanced:!0,instanceCount:t,attributes:{position:[0,0]}})}var ee=r(410),te=r(232),re=r(181),ne=r(141),ie=[0,0,0,0],ae=[0,255,0,255],oe=["minColor","maxColor","colorRange","colorDomain"],se={cellSizePixels:{value:100,min:1},cellMarginPixels:{value:2,min:0,max:5},colorDomain:null,colorRange:ne.b},ue=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"getShaders",value:function(){return{vs:"#define SHADER_NAME screen-grid-layer-vertex-shader\n#define RANGE_COUNT 6\n\nattribute vec3 positions;\nattribute vec3 instancePositions;\nattribute vec4 instanceCounts;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform vec3 cellScale;\nuniform vec4 minColor;\nuniform vec4 maxColor;\nuniform vec4 colorRange[RANGE_COUNT];\nuniform vec2 colorDomain;\nuniform bool shouldUseMinMax;\nuniform sampler2D maxTexture;\n\nvarying vec4 vColor;\nvarying float vSampleCount;\n\nvec4 quantizeScale(vec2 domain, vec4 range[RANGE_COUNT], float value) {\n  vec4 outColor = vec4(0., 0., 0., 0.);\n  if (value >= domain.x && value <= domain.y) {\n    float domainRange = domain.y - domain.x;\n    if (domainRange <= 0.) {\n      outColor = colorRange[0];\n    } else {\n      float rangeCount = float(RANGE_COUNT);\n      float rangeStep = domainRange / rangeCount;\n      float idx = floor((value - domain.x) / rangeStep);\n      idx = clamp(idx, 0., rangeCount - 1.);\n      int intIdx = int(idx);\n      outColor = colorRange[intIdx];\n    }\n  }\n  outColor = outColor / 255.;\n  return outColor;\n}\n\nvoid main(void) {\n  vSampleCount = instanceCounts.a;\n\n  float weight = instanceCounts.r;\n  float maxWeight = texture2D(maxTexture, vec2(0.5)).r;\n\n  float step = weight / maxWeight;\n  vec4 minMaxColor = mix(minColor, maxColor, step) / 255.;\n\n  vec2 domain = colorDomain;\n  float domainMaxValid = float(colorDomain.y != 0.);\n  domain.y = mix(maxWeight, colorDomain.y, domainMaxValid);\n  vec4 rangeColor = quantizeScale(domain, colorRange, weight);\n\n  float rangeMinMax = float(shouldUseMinMax);\n  vec4 color = mix(rangeColor, minMaxColor, rangeMinMax);\n  vColor = vec4(color.rgb, color.a * opacity);\n  picking_setPickingColor(instancePickingColors);\n\n  gl_Position = vec4(instancePositions + positions * cellScale, 1.);\n}\n",fs:"#define SHADER_NAME screen-grid-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying float vSampleCount;\n\nvoid main(void) {\n  if (vSampleCount <= 0.0) {\n    discard;\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[te.a]}}},{key:"initializeState",value:function(){var e=this.context.gl;this.getAttributeManager().addInstanced({instancePositions:{size:3,update:this.calculateInstancePositions},instanceCounts:{size:4,noAlloc:!0}}),this.setState({model:this._getModel(e)})}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){var r=e.oldProps,n=e.props,i=e.changeFlags;Object(u.a)(Object(s.a)(t.prototype),"updateState",this).call(this,{oldProps:r,props:n,changeFlags:i});var a=this.getAttributeManager();n.numInstances!==r.numInstances?a.invalidateAll():r.cellSizePixels!==n.cellSizePixels&&a.invalidate("instancePositions"),this._updateUniforms(r,n,i)}},{key:"draw",value:function(e){var t=e.uniforms,r=this.props,n=r.parameters,i=r.maxTexture,a=this.props.minColor||ie,o=this.props.maxColor||ae,s=this.props.colorDomain||[1,0],u=this.state.model,c={minColor:a,maxColor:o,maxTexture:i,colorDomain:s};t=Object.assign(c,t),u.draw({uniforms:t,parameters:Object.assign({depthTest:!1,depthMask:!1},n)})}},{key:"calculateInstancePositions",value:function(e,t){for(var r=t.numInstances,n=this.context.viewport,i=n.width,a=n.height,o=this.props.cellSizePixels,s=Math.ceil(i/o),u=e.value,c=e.size,l=0;l<r;l++){var p=l%s,h=Math.floor(l/s);u[l*c+0]=p*o/i*2-1,u[l*c+1]=1-h*o/a*2,u[l*c+2]=0}}},{key:"_getModel",value:function(e){return new m.a(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new ee.a({drawMode:6,attributes:{positions:new Float32Array([0,0,0,1,0,0,1,1,0,0,1,0])}}),isInstanced:!0}))}},{key:"_shouldUseMinMax",value:function(){var e=this.props,t=e.minColor,r=e.maxColor,n=e.colorDomain,i=e.colorRange;return t||r?(l.a.deprecated("ScreenGridLayer props: minColor and maxColor","colorRange, colorDomain")(),!0):!n&&!i}},{key:"_updateUniforms",value:function(e,t,r){var n=this.state.model;if(oe.some((function(r){return e[r]!==t[r]}))&&n.setUniforms({shouldUseMinMax:this._shouldUseMinMax()}),e.colorRange!==t.colorRange&&n.setUniforms({colorRange:Object(ne.a)(t.colorRange)}),e.cellMarginPixels!==t.cellMarginPixels||e.cellSizePixels!==t.cellSizePixels||r.viewportChanged){var i=this.context.viewport,a=i.width,o=i.height,s=this.props,u=s.cellSizePixels,c=s.cellMarginPixels,l=u>c?c:0,p=new Float32Array([(u-l)/a*2,-(u-l)/o*2,1]);n.setUniforms({cellScale:p})}}}],[{key:"isSupported",value:function(e){return Object(h.c)(e,[p.a.TEXTURE_FLOAT])}}]),t}(re.a);ue.layerName="ScreenGridCellLayer",ue.defaultProps=se;var ce=r(186),le=r(53),pe=r(26);function he(e){return void 0!==e&&null!==e}function fe(e,t){return("function"===typeof t?e.map(t):e).filter(he)}function de(e,t){return fe(e,t)}function me(e,t){return function(e){var t=[];return e.forEach((function(e){!t.includes(e)&&he(e)&&t.push(e)})),t}(fe(e,t))}var ge=function(e){return e.length},ve=function(e){return e.points},ye=function(e){return e.index},be={getValue:ge,getPoints:ve,getIndex:ye,filterData:null},_e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be;Object(i.a)(this,e),this.aggregatedBins=this.getAggregatedBins(t,r),this._updateMinMaxValues(),this.binMap=this.getBinMap()}return Object(a.a)(e,[{key:"getAggregatedBins",value:function(e,t){for(var r=t.getValue,n=void 0===r?ge:r,i=t.getPoints,a=void 0===i?ve:i,o=t.getIndex,s=void 0===o?ye:o,u=t.filterData,c="function"===typeof u,l=e.length,p=[],h=0,f=0;f<l;f++){var d=e[f],m=a(d),g=s(d),v=c?m.filter(u):m;d.filteredPoints=c?v:null;var y=v.length?n(v):null;null!==y&&void 0!==y&&(p[h]={i:Number.isFinite(g)?g:f,value:y,counts:v.length},h++)}return p}},{key:"_percentileToIndex",value:function(e){var t=this.sortedBins.length;if(t<2)return[0,0];var r=e.map((function(e){return t=e,r=0,n=100,Math.max(r,Math.min(n,t));var t,r,n})),n=Object(pe.a)(r,2),i=n[0],a=n[1];return[Math.ceil(i/100*(t-1)),Math.floor(a/100*(t-1))]}},{key:"getBinMap",value:function(){var e={},t=!0,r=!1,n=void 0;try{for(var i,a=this.aggregatedBins[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;e[o.i]=o}}catch(s){r=!0,n=s}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return e}},{key:"_updateMinMaxValues",value:function(){var e=0,t=0,r=3402823466e29,n=0,i=!0,a=!1,o=void 0;try{for(var s,u=this.aggregatedBins[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;e=e>c.counts?e:c.counts,t=t>c.value?t:c.value,r=r<c.value?r:c.value,n+=c.counts}}catch(l){a=!0,o=l}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}this.maxCount=e,this.maxValue=t,this.minValue=r,this.totalCount=n}},{key:"getValueRange",value:function(e){if(this.sortedBins||(this.sortedBins=this.aggregatedBins.sort((function(e,t){return e.value-t.value}))),!this.sortedBins.length)return[];var t=0,r=this.sortedBins.length-1;if(Array.isArray(e)){var n=this._percentileToIndex(e);t=n[0],r=n[1]}return[this.sortedBins[t].value,this.sortedBins[r].value]}},{key:"getValueDomainByScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(pe.a)(t,2),n=r[0],i=void 0===n?0:n,a=r[1],o=void 0===a?100:a;if(this.sortedBins||(this.sortedBins=this.aggregatedBins.sort((function(e,t){return e.value-t.value}))),!this.sortedBins.length)return[];var s=this._percentileToIndex([i,o]);return this._getScaleDomain(e,s)}},{key:"_getScaleDomain",value:function(e,t){var r=Object(pe.a)(t,2),n=r[0],i=r[1],a=this.sortedBins;switch(e){case"quantize":case"linear":return[a[n].value,a[i].value];case"quantile":return de(a.slice(n,i+1),(function(e){return e.value}));case"ordinal":return me(a,(function(e){return e.value}));default:return[a[n].value,a[i].value]}}}]),e}(),xe=r(122),we=(r(23),6378e3);function Oe(e,t){return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?{xOffset:t,yOffset:t}:function(e,t){var r=(o=e,o/we*(180/Math.PI)),n=(i=t,a=e,a/we*(180/Math.PI)/Math.cos(i*Math.PI/180));var i,a;var o;return{yOffset:r,xOffset:n}}(t,(e.yMin+e.yMax)/2)}function ke(e,t){var r=function(e,t){var r=e.data,n=void 0===r?[]:r,i=e.cellSize,a=t.attributes,o=t.viewport,s=t.projectPoints,u=t.numInstances,c=a.positions.value,l=a.positions.getAccessor().size,p=t.boundingBox||function(e,t){for(var r,n,i=e.value,a=e.getAccessor().size,o=1/0,s=-1/0,u=1/0,c=-1/0,l=0;l<t;l++)n=i[l*a],r=i[l*a+1],Number.isFinite(n)&&Number.isFinite(r)&&(o=r<o?r:o,s=r>s?r:s,u=n<u?n:u,c=n>c?n:c);return{xMin:u,xMax:c,yMin:o,yMax:s}}(a.positions,u),h=t.posOffset||[180,90],f=t.gridOffset||Oe(p,i);if(f.xOffset<=0||f.yOffset<=0)return{gridHash:{},gridOffset:f};var d=o.width,m=o.height,g=Math.ceil(d/f.xOffset),v=Math.ceil(m/f.yOffset),y={},b=Object(xe.a)(n),_=b.iterable,x=b.objectInfo,w=new Array(3),O=!0,k=!1,E=void 0;try{for(var T,S=_[Symbol.iterator]();!(O=(T=S.next()).done);O=!0){var j=T.value;x.index++,w[0]=c[x.index*l],w[1]=c[x.index*l+1],w[2]=l>=3?c[x.index*l+2]:0;var P=s?o.project(w):w,C=Object(pe.a)(P,2),A=C[0],M=C[1];if(Number.isFinite(A)&&Number.isFinite(M)){var I=Math.floor((M+h[1])/f.yOffset),R=Math.floor((A+h[0])/f.xOffset);if(!s||R>=0&&R<g&&I>=0&&I<v){var L="".concat(I,"-").concat(R);y[L]=y[L]||{count:0,points:[],lonIdx:R,latIdx:I},y[L].count+=1,y[L].points.push(j)}}}}catch(z){k=!0,E=z}finally{try{O||null==S.return||S.return()}finally{if(k)throw E}}return{gridHash:y,gridOffset:f,offsets:[-1*h[0],-1*h[1]]}}(e,t),n=function(e){var t=e.gridHash,r=e.gridOffset,n=e.offsets,i=new Array(Object.keys(t).length),a=0;for(var o in t){var s=o.split("-"),u=parseInt(s[0],10),c=parseInt(s[1],10),l=a++;i[l]=Object.assign({index:l,position:[n[0]+r.xOffset*c,n[1]+r.yOffset*u]},t[o])}return i}(r);return{gridHash:r.gridHash,gridOffset:r.gridOffset,data:n}}var Ee=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"initializeState",value:function(e){var r=e.dimensions,n=this.context.gl;Object(u.a)(Object(s.a)(t.prototype),"initializeState",this).call(this,r),this.setState({layerData:{},gpuGridAggregator:new $(n,{id:"".concat(this.id,"-gpu-aggregator")}),cpuGridAggregator:ke})}},{key:"updateState",value:function(e){Object(u.a)(Object(s.a)(t.prototype),"updateState",this).call(this,e),this.updateAggregationState(e);var r=this.state,n=r.aggregationDataDirty,i=r.aggregationWeightsDirty,a=r.gpuAggregation;if(!(this.getNumInstances()<=0)){var o=!1;(n||a&&i)&&(this._updateAggregation(e),o=!0),a||!n&&!i||(this._updateWeightBins(),this._uploadAggregationResults(),o=!0),this.setState({aggregationDirty:o})}}},{key:"finalizeState",value:function(){var e=this.state.weights.count;e&&e.aggregationBuffer&&e.aggregationBuffer.delete();var r=this.state.gpuGridAggregator;r&&r.delete(),Object(u.a)(Object(s.a)(t.prototype),"finalizeState",this).call(this)}},{key:"updateShaders",value:function(e){this.state.gpuAggregation&&this.state.gpuGridAggregator.updateShaders(e)}},{key:"updateAggregationState",value:function(e){l.a.assert(!1)}},{key:"allocateResources",value:function(e,t){if(this.state.numRow!==e||this.state.numCol!==t){var r=t*e*4*4,n=this.context.gl,i=this.state.weights;for(var a in i){var o=i[a];o.aggregationBuffer&&o.aggregationBuffer.delete(),o.aggregationBuffer=new le.a(n,{byteLength:r,accessor:{size:4,type:5126,divisor:1}})}}}},{key:"updateResults",value:function(e){var t=e.aggregationData,r=e.maxMinData,n=e.maxData,i=e.minData,a=this.state.weights.count;a&&(a.aggregationData=t,a.maxMinData=r,a.maxData=n,a.minData=i)}},{key:"_updateAggregation",value:function(e){var t=this.state,r=t.cpuGridAggregator,n=t.gpuGridAggregator,i=t.gridOffset,a=t.posOffset,o=t.translation,s=void 0===o?[0,0]:o,u=t.scaling,c=void 0===u?[0,0,0]:u,l=t.boundingBox,p=t.projectPoints,h=t.gpuAggregation,f=t.numCol,d=t.numRow,m=e.props,g=this.context.viewport,v=this.getAttributes(),y=this.getNumInstances();if(h){var b=this.state.weights;n.run({weights:b,cellSize:[i.xOffset,i.yOffset],numCol:f,numRow:d,translation:s,scaling:c,vertexCount:y,projectPoints:p,attributes:v,moduleSettings:this.getModuleSettings()})}else{var _=r(m,{gridOffset:i,projectPoints:p,attributes:v,viewport:g,posOffset:a,boundingBox:l});this.setState({layerData:_})}}},{key:"_updateWeightBins",value:function(){var e=this.state.getValue,t=new _e(this.state.layerData.data||[],{getValue:e});this.setState({sortedBins:t})}},{key:"_uploadAggregationResults",value:function(){var e=this.state,t=e.numCol,r=e.numRow,n=this.state.layerData.data,i=this.state.sortedBins,a=i.aggregatedBins,o=i.minValue,s=i.maxValue,u=i.totalCount,c=new Float32Array(t*r*4).fill(0),l=!0,p=!1,h=void 0;try{for(var f,d=a[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var m=f.value,g=n[m.i],v=g.lonIdx,y=g.latIdx,b=m.value,_=m.counts,x=4*(v+y*t);c[x]=b,c[x+4-1]=_}}catch(E){p=!0,h=E}finally{try{l||null==d.return||d.return()}finally{if(p)throw h}}var w=new Float32Array([s,0,0,o]),O=new Float32Array([s,0,0,u]),k=new Float32Array([o,0,0,u]);this.updateResults({aggregationData:c,maxMinData:w,maxData:O,minData:k})}}]),t}(ce.a);Ee.layerName="GridAggregationLayer",r.d(t,"a",(function(){return je}));var Te=Object.assign({},ue.defaultProps,{getPosition:{type:"accessor",value:function(e){return e.position}},getWeight:{type:"accessor",value:function(e){return 1}},gpuAggregation:!0,aggregation:"SUM"}),Se={data:{props:["cellSizePixels"]},weights:{props:["aggregation"],accessors:["getWeight"]}},je=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"initializeState",value:function(){var e,r=this.context.gl;if(!ue.isSupported(r))return this.setState({supported:!1}),void l.a.error("ScreenGridLayer: ".concat(this.id," is not supported on this browser"))();Object(u.a)(Object(s.a)(t.prototype),"initializeState",this).call(this,{dimensions:Se,getCellSize:function(e){return e.cellSizePixels}});var i={count:{size:1,operation:E.SUM,needMax:!0,maxTexture:W(r,{id:"".concat(this.id,"-max-texture")})}};this.setState({supported:!0,projectPoints:!0,weights:i,subLayerData:{attributes:{}},maxTexture:i.count.maxTexture,positionAttributeName:"positions",posOffset:[0,0],translation:[1,-1]}),this.getAttributeManager().add((e={},Object(n.a)(e,"positions",{size:3,accessor:"getPosition",type:5130,fp64:this.use64bitPositions()}),Object(n.a)(e,"count",{size:3,accessor:"getWeight"}),e))}},{key:"shouldUpdateState",value:function(e){var t=e.changeFlags;return this.state.supported&&t.somethingChanged}},{key:"updateState",value:function(e){Object(u.a)(Object(s.a)(t.prototype),"updateState",this).call(this,e)}},{key:"renderLayers",value:function(){if(!this.state.supported)return[];var e=this.state,t=e.maxTexture,r=e.numRow,n=e.numCol,i=e.weights,a=this.props.updateTriggers,o=i.count.aggregationBuffer;return new(this.getSubLayerClass("cells",ue))(this.props,this.getSubLayerProps({id:"cell-layer",updateTriggers:a}),{data:{attributes:{instanceCounts:o}},maxTexture:t,numInstances:r*n})}},{key:"finalizeState",value:function(){Object(u.a)(Object(s.a)(t.prototype),"finalizeState",this).call(this);var e=this.state,r=e.aggregationBuffer,n=e.maxBuffer,i=e.gpuGridAggregator,a=e.maxTexture;i.delete(),r&&r.delete(),n&&n.delete(),a&&a.delete()}},{key:"getPickingInfo",value:function(e){var t=e.info,r=(e.mode,t.index);if(r>=0){var n=this.state.gpuGridAggregator.getData("count");t.object=$.getAggregationData(Object.assign({pixelIndex:r},n))}return t}},{key:"updateResults",value:function(e){var t=e.aggregationData,r=e.maxData,n=this.state.weights.count;n.aggregationData=t,n.aggregationBuffer.setData({data:t}),n.maxData=r,n.maxTexture.setImageData({data:r})}},{key:"updateAggregationState",value:function(e){var t=e.props.cellSizePixels,r=e.oldProps.cellSizePixels!==t,n=e.changeFlags.viewportChanged,i=e.props.gpuAggregation;this.state.gpuAggregation!==e.props.gpuAggregation&&i&&!$.isSupported(this.context.gl)&&(l.a.warn("GPU Grid Aggregation not supported, falling back to CPU")(),i=!1);var a=i!==this.state.gpuAggregation;this.setState({gpuAggregation:i});var o=this.isAttributeChanged("positions"),s=this.state.dimensions,u=s.data,c=s.weights,p=o||a||n||this.isAggregationDirty(e,{compareAll:i,dimension:u}),h=this.isAggregationDirty(e,{dimension:c});this.setState({aggregationDataDirty:p,aggregationWeightsDirty:h});var f=this.context.viewport;if(n||r){var d=f.width,m=f.height,g=Math.ceil(d/t),v=Math.ceil(m/t);this.allocateResources(v,g),this.setState({scaling:[d/2,-m/2,1],gridOffset:{xOffset:t,yOffset:t},width:d,height:m,numCol:g,numRow:v})}h&&this._updateAccessors(e),(p||h)&&this._resetResults()}},{key:"_updateAccessors",value:function(e){var t=e.props,r=t.getWeight,n=t.aggregation,i=this.state.weights.count;i&&(i.getWeight=r,i.operation=E[n]),this.setState({getValue:P(n,r)})}},{key:"_resetResults",value:function(){var e=this.state.weights.count;e&&(e.aggregationData=null)}}]),t}(Ee);je.layerName="ScreenGridLayer",je.defaultProps=Te},function(e,t,r){"use strict";var n=r(38),i=r(2),a=(r(3),r(406));var o=function(e,t){return t?Object(a.a)(e,t,{clone:!1}):e};var s=function(e){var t=function(t){var r=e(t);return t.css?Object(i.a)({},o(r,e(Object(i.a)({theme:t.theme},t.css))),{},function(e,t){var r={};return Object.keys(e).forEach((function(n){-1===t.indexOf(n)&&(r[n]=e[n])})),r}(t.css,[e.filterProps])):r};return t.propTypes={},t.filterProps=["css"].concat(Object(n.a)(e.filterProps)),t};var u=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=function(e){return t.reduce((function(t,r){var n=r(e);return n?o(t,n):t}),{})};return n.propTypes={},n.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),n},c=r(11),l=r(28),p={xs:0,sm:600,md:960,lg:1280,xl:1920},h={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(p[e],"px)")}};function f(e,t,r){if(Array.isArray(t)){var n=e.theme.breakpoints||h;return t.reduce((function(e,i,a){return e[n.up(n.keys[a])]=r(t[a]),e}),{})}if("object"===Object(l.a)(t)){var i=e.theme.breakpoints||h;return Object.keys(t).reduce((function(e,n){return e[i.up(n)]=r(t[n]),e}),{})}return r(t)}function d(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var m=function(e){var t=e.prop,r=e.cssProperty,n=void 0===r?e.prop:r,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var r=e[t],o=d(e.theme,i)||{};return f(e,r,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=d(o,e)||e,a&&(t=a(t))),!1===n?t:Object(c.a)({},n,t)}))};return o.propTypes={},o.filterProps=[t],o};function g(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var v=u(m({prop:"border",themeKey:"borders",transform:g}),m({prop:"borderTop",themeKey:"borders",transform:g}),m({prop:"borderRight",themeKey:"borders",transform:g}),m({prop:"borderBottom",themeKey:"borders",transform:g}),m({prop:"borderLeft",themeKey:"borders",transform:g}),m({prop:"borderColor",themeKey:"palette"}),m({prop:"borderRadius",themeKey:"shape"})),y=u(m({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),m({prop:"display"}),m({prop:"overflow"}),m({prop:"textOverflow"}),m({prop:"visibility"}),m({prop:"whiteSpace"})),b=u(m({prop:"flexBasis"}),m({prop:"flexDirection"}),m({prop:"flexWrap"}),m({prop:"justifyContent"}),m({prop:"alignItems"}),m({prop:"alignContent"}),m({prop:"order"}),m({prop:"flex"}),m({prop:"flexGrow"}),m({prop:"flexShrink"}),m({prop:"alignSelf"}),m({prop:"justifyItems"}),m({prop:"justifySelf"})),_=u(m({prop:"position"}),m({prop:"zIndex",themeKey:"zIndex"}),m({prop:"top"}),m({prop:"right"}),m({prop:"bottom"}),m({prop:"left"})),x=u(m({prop:"color",themeKey:"palette"}),m({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),w=m({prop:"boxShadow",themeKey:"shadows"});function O(e){return e<=1?"".concat(100*e,"%"):e}var k=m({prop:"width",transform:O}),E=m({prop:"maxWidth",transform:O}),T=m({prop:"minWidth",transform:O}),S=m({prop:"height",transform:O}),j=m({prop:"maxHeight",transform:O}),P=m({prop:"minHeight",transform:O}),C=(m({prop:"size",cssProperty:"width",transform:O}),m({prop:"size",cssProperty:"height",transform:O}),u(k,E,T,S,j,P)),A=r(26);var M={m:"margin",p:"padding"},I={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},R={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},L=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){if(e.length>2){if(!R[e])return[e];e=R[e]}var t=e.split(""),r=Object(A.a)(t,2),n=r[0],i=r[1],a=M[n],o=I[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),z=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function D(e,t){return function(r){return e.reduce((function(e,n){return e[n]=function(e,t){if("string"===typeof t)return t;var r=e(Math.abs(t));return t>=0?r:"number"===typeof r?-r:"-".concat(r)}(t,r),e}),{})}}function F(e){var t=function(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}(e.theme);return Object.keys(e).map((function(r){if(-1===z.indexOf(r))return null;var n=D(L(r),t),i=e[r];return f(e,i,n)})).reduce(o,{})}F.propTypes={},F.filterProps=z;var B=F,N=u(m({prop:"fontFamily",themeKey:"typography"}),m({prop:"fontSize",themeKey:"typography"}),m({prop:"fontStyle",themeKey:"typography"}),m({prop:"fontWeight",themeKey:"typography"}),m({prop:"letterSpacing"}),m({prop:"lineHeight"}),m({prop:"textAlign"})),q=r(10),U=r(0),V=r.n(U),G=r(8),W=r(102),H=r.n(W),Z=r(373);function X(e,t){var r={};return Object.keys(e).forEach((function(n){-1===t.indexOf(n)&&(r[n]=e[n])})),r}var K=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.name,a=Object(q.a)(r,["name"]);var o,s=n,u="function"===typeof t?function(e){return{root:function(r){return t(Object(i.a)({theme:e},r))}}}:{root:t},c=Object(Z.a)(u,Object(i.a)({Component:e,name:n||e.displayName,classNamePrefix:s},a));t.filterProps&&(o=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var l=V.a.forwardRef((function(t,r){var n=t.children,a=t.className,s=t.clone,u=t.component,l=Object(q.a)(t,["children","className","clone","component"]),p=c(t),h=Object(G.a)(p.root,a),f=l;if(o&&(f=X(f,o)),s)return V.a.cloneElement(n,Object(i.a)({className:Object(G.a)(n.props.className,h)},f));if("function"===typeof n)return n(Object(i.a)({className:h},f));var d=u||e;return V.a.createElement(d,Object(i.a)({ref:r,className:h},f),n)}));return H()(l,e),l}},Y=r(113),$=function(e){var t=K(e);return function(e,r){return t(e,Object(i.a)({defaultTheme:Y.a},r))}},J=s(u(v,y,b,_,x,w,C,B,N)),Q=$("div")(J,{name:"MuiBox"});t.a=Q},function(e,t,r){"use strict";var n=r(7),i=r(6),a=r(18),o=r(13),s=r(33),u=r(19),c=r(213),l=r(232),p=r(181),h=r(261),f=r(410),d=r(11),m=r(264),g=r(207),v=r(136),y=r(12),b=r.n(y),_=r(73),x=r(157),w=r(28);function O(e){var t=E(e);if(!t)throw new Error("Not an image");return t}function k(e){switch(O(e)){case"imagebitmap":case"ndarray":return{width:e.width,height:e.height};case"html":return{width:e.naturalWidth,height:e.naturalHeight};default:return Object(_.a)(!1)}}function E(e){return"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!==typeof Image&&e instanceof Image?"html":e&&"object"===Object(w.a)(e)&&e.data&&e.width&&e.height?"ndarray":Array.isArray(e)?"ndarray":null}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e,t,r){var n=e;"function"===typeof e&&(n=e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{},r))),Object(_.a)("string"===typeof n);var i=t.baseUrl;return i&&(n="/"===i[i.length-1]?"".concat(i).concat(n):"".concat(i,"/").concat(n)),n}var j=function(e){return e&&"object"===Object(w.a)(e)};function P(e,t){var r,n=arguments;return b.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return r=n.length>2&&void 0!==n[2]?n[2]:{},i.next=3,b.a.awrap(C(e,t,r));case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}}))}function C(e,t,r){var n;return b.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!Array.isArray(e)){i.next=4;break}return i.next=3,b.a.awrap(M(e,t,r));case 3:return i.abrupt("return",i.sent);case 4:if(!j(e)){i.next=8;break}return i.next=7,b.a.awrap(A(e,t,r));case 7:return i.abrupt("return",i.sent);case 8:return n=e,i.next=11,b.a.awrap(t(n,r));case 11:return i.abrupt("return",i.sent);case 12:case"end":return i.stop()}}))}function A(e,t,r){var n,i,a,o;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:for(o in n=[],i={},a=function(a){var o=C(e[a],t,r).then((function(e){i[a]=e}));n.push(o)},e)a(o);return s.next=6,b.a.awrap(Promise.all(n));case 6:return s.abrupt("return",i);case 7:case"end":return s.stop()}}))}function M(e,t){var r,n,i=arguments;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},n=e.map((function(e){return C(e,t,r)})),a.next=4,b.a.awrap(Promise.all(n));case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}}))}function I(e,t,r){return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(P(e,(function(e){return R(e,t,r)})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))}function R(e,t,r){var n,i;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(fetch(e,r.fetch));case 2:return n=a.sent,a.next=5,b.a.awrap(n.arrayBuffer());case 5:return i=a.sent,a.next=8,b.a.awrap(t(i,r));case 8:return a.abrupt("return",a.sent);case 9:case"end":return a.stop()}}))}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){Object(d.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t){var r,n,i=arguments;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=i.length>2&&void 0!==i[2]?i[2]:{},0===(n=t&&t.image&&t.image.mipLevels||0)){a.next=8;break}return a.next=5,b.a.awrap(F(e,n,t,r));case 5:a.t0=a.sent,a.next=9;break;case 8:a.t0=S(e,t,r);case 9:return a.abrupt("return",a.t0);case 10:case"end":return a.stop()}}))}function F(e,t,r,n){var i,a,o,s,u,c,l,p;return b.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(i=[],"auto"!==t){h.next=9;break}return a=S(e,r,z({},n,{lod:0})),h.next=5,b.a.awrap(R(a,x.a,r));case 5:o=h.sent,s=k(o),u=s.width,c=s.height,t=B({width:u,height:c}),i.push(a);case 9:for(Object(_.a)(t>0),l=i.length;l<t;++l)p=S(e,r,z({},n,{lod:l})),i.push(p);return h.abrupt("return",i);case 12:case"end":return h.stop()}}))}function B(e){var t=e.width,r=e.height;return 1+Math.floor(Math.log2(Math.max(t,r)))}var N,q=r(122),U=1024,V=4,G=function(){},W=(N={},Object(d.a)(N,10241,9987),Object(d.a)(N,10240,9729),N);function H(e){return e&&(e.id||e.url)}function Z(e,t,r){for(var n=0;n<t.length;n++){var i=t[n],a=i.icon,o=i.xOffset;e[H(a)]=Object.assign({},a,{x:o,y:r})}}var X=function(){function e(t,r){var i=r.onUpdate,a=void 0===i?G:i;Object(n.a)(this,e),this.gl=t,this.onUpdate=a,this._getIcon=null,this._texture=null,this._externalTexture=null,this._mapping={},this._autoPacking=!1,this._xOffset=0,this._yOffset=0,this._rowHeight=0,this._buffer=V,this._canvasWidth=U,this._canvasHeight=0,this._canvas=null}return Object(i.a)(e,[{key:"finalize",value:function(){this._texture&&this._texture.delete()}},{key:"getTexture",value:function(){return this._texture||this._externalTexture}},{key:"getIconMapping",value:function(e){var t=this._autoPacking?H(e):e;return this._mapping[t]||{}}},{key:"setProps",value:function(e){var t=e.autoPacking,r=e.iconAtlas,n=e.iconMapping,i=e.data,a=e.getIcon;void 0!==t&&(this._autoPacking=t),a&&(this._getIcon=a),n&&(this._mapping=n),r&&this._updateIconAtlas(r),this._autoPacking&&(i||a)&&"undefined"!==typeof document&&(this._canvas=this._canvas||document.createElement("canvas"),this._updateAutoPacking(i))}},{key:"_updateIconAtlas",value:function(e){this._texture&&(this._texture.delete(),this._texture=null),e instanceof v.a?(e.setParameters(W),this._externalTexture=e,this.onUpdate()):e&&(this._texture=new v.a(this.gl,{data:e,parameters:W}),this.onUpdate())}},{key:"_updateAutoPacking",value:function(e){var t=Object.values(function(e,t,r){if(!e||!t)return null;r=r||{};var n={},i=Object(q.a)(e),a=i.iterable,o=i.objectInfo,s=!0,u=!1,c=void 0;try{for(var l,p=a[Symbol.iterator]();!(s=(l=p.next()).done);s=!0){var h=l.value;o.index++;var f=t(h,o),d=H(f);if(!f)throw new Error("Icon is missing.");if(!f.url)throw new Error("Icon url is missing.");n[d]||r[d]&&f.url===r[d].url||(n[d]=f)}}catch(m){u=!0,c=m}finally{try{s||null==p.return||p.return()}finally{if(u)throw c}}return n}(e,this._getIcon,this._mapping)||{});if(t.length>0){var r=function(e){for(var t,r=e.icons,n=e.buffer,i=e.mapping,a=void 0===i?{}:i,o=e.xOffset,s=void 0===o?0:o,u=e.yOffset,c=void 0===u?0:u,l=e.rowHeight,p=void 0===l?0:l,h=e.canvasWidth,f=[],d=0;d<r.length;d++){var m=r[d];if(!a[H(m)]){var g=m.height,v=m.width;s+v+n>h&&(Z(a,f,c),s=0,c=p+c+n,p=0,f=[]),f.push({icon:m,xOffset:s}),s=s+v+n,p=Math.max(p,g)}}return f.length>0&&Z(a,f,c),{mapping:a,rowHeight:p,xOffset:s,yOffset:c,canvasWidth:h,canvasHeight:(t=p+c+n,Math.pow(2,Math.ceil(Math.log2(t))))}}({icons:t,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset}),n=r.mapping,i=r.xOffset,a=r.yOffset,o=r.rowHeight,s=r.canvasHeight;this._rowHeight=o,this._mapping=n,this._xOffset=i,this._yOffset=a,this._canvasHeight=s,this._texture||(this._texture=new v.a(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:W})),this._texture.height!==this._canvasHeight&&(this._texture=function(e,t,r,n){var i=t.width,a=t.height,o=Object(m.a)(t,{width:r,height:n});return Object(g.b)(t,o,{targetY:n-a,width:i,height:a}),t.delete(),o}(this.gl,this._texture,this._canvasWidth,this._canvasHeight)),this.onUpdate(),this._loadIcons(t)}}},{key:"_loadIcons",value:function(e){var t=this,r=this._canvas.getContext("2d"),n=!0,i=!1,a=void 0;try{for(var o,s=function(){var e=o.value;(function(e){var t,r,n=arguments;return b.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=n.length>1&&void 0!==n[1]?n[1]:{},i.next=3,b.a.awrap(D(e,t));case 3:return r=i.sent,i.next=6,b.a.awrap(I(r,x.a,t));case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}}))})(e.url).then((function(n){var i=H(e),a=t._mapping[i],o=a.x,s=a.y,u=a.width,c=a.height,l=function(e,t,r,n){var i=t.naturalWidth,a=t.naturalHeight;return r===i&&n===a?t:(e.canvas.height=n,e.canvas.width=r,e.clearRect(0,0,e.canvas.width,e.canvas.height),e.drawImage(t,0,0,i,a,0,0,r,n),e.canvas)}(r,n,u,c);t._texture.setSubImageData({data:l,x:o,y:s,width:u,height:c}),t._texture.generateMipmap(),t.onUpdate()}))},u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0)s()}catch(c){i=!0,a=c}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}}}]),e}();r.d(t,"a",(function(){return $}));var K=[0,0,0,255],Y={iconAtlas:{type:"object",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:function(e){return e.position}},getIcon:{type:"accessor",value:function(e){return e.icon}},getColor:{type:"accessor",value:K},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0}},$=function(e){function t(){return Object(n.a)(this,t),Object(a.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getShaders",value:function(){return Object(s.a)(Object(o.a)(t.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale), \n    sizeMinPixels, sizeMaxPixels\n  );\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n",fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[c.a,l.a]})}},{key:"initializeState",value:function(){var e=this;this.state={iconManager:new X(this.context.gl,{onUpdate:function(){return e._onUpdate()}})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:K},instanceAngles:{size:1,transition:!0,accessor:"getAngle",defaultValue:0}})}},{key:"updateState",value:function(e){var r=e.oldProps,n=e.props,i=e.changeFlags;Object(s.a)(Object(o.a)(t.prototype),"updateState",this).call(this,{props:n,oldProps:r,changeFlags:i});var a=this.getAttributeManager(),u=this.state.iconManager,c=n.iconAtlas,l=n.iconMapping,p=n.data,h=n.getIcon,f=!1;if(c||this.internalState.isAsyncPropLoading("iconAtlas")?(r.iconAtlas!==n.iconAtlas&&u.setProps({iconAtlas:c,autoPacking:!1}),r.iconMapping!==n.iconMapping&&(u.setProps({iconMapping:l}),f=!0)):u.setProps({autoPacking:!0}),(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getIcon))&&(u.setProps({data:p,getIcon:h}),f=!0),f&&(a.invalidate("instanceOffsets"),a.invalidate("instanceIconFrames"),a.invalidate("instanceColorModes")),i.extensionsChanged){var d=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(d)}),a.invalidateAll()}}},{key:"finalizeState",value:function(){Object(s.a)(Object(o.a)(t.prototype),"finalizeState",this).call(this),this.state.iconManager.finalize()}},{key:"draw",value:function(e){var t=e.uniforms,r=this.props,n=r.sizeScale,i=r.sizeMinPixels,a=r.sizeMaxPixels,o=r.sizeUnits,s=r.billboard,u=r.alphaCutoff,c=this.state.iconManager,l=this.context.viewport,p=c.getTexture();p&&p.loaded&&this.state.model.setUniforms(Object.assign({},t,{iconsTexture:p,iconsTextureDim:[p.width,p.height],sizeScale:n*("pixels"===o?l.metersPerPixel:1),sizeMinPixels:i,sizeMaxPixels:a,billboard:s,alphaCutoff:u})).draw()}},{key:"_getModel",value:function(e){return new h.a(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new f.a({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0}))}},{key:"_onUpdate",value:function(){this.setNeedsRedraw()}},{key:"getInstanceOffset",value:function(e){var t=this.state.iconManager.getIconMapping(e);return[t.width/2-t.anchorX||0,t.height/2-t.anchorY||0]}},{key:"getInstanceColorMode",value:function(e){return this.state.iconManager.getIconMapping(e).mask?1:0}},{key:"getInstanceIconFrame",value:function(e){var t=this.state.iconManager.getIconMapping(e);return[t.x||0,t.y||0,t.width||0,t.height||0]}}]),t}(p.a);$.layerName="IconLayer",$.defaultProps=Y},function(e,t,r){"use strict";var n=r(26),i=r(7),a=r(6),o=r(18),s=r(13),u=r(33),c=r(19),l=r(11),p=r(9);function h(e){var t=e.map((function(e){return e[0]})),r=e.map((function(e){return e[1]})),n=Math.min.apply(null,t),i=Math.max.apply(null,t);return[n,Math.min.apply(null,r),i,Math.max.apply(null,r)]}function f(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}var d=new Float32Array(12);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=0,n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)for(var u=o.value,c=0;c<t;c++)d[r++]=u[c]||0}catch(l){i=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return d}function g(e,t,r){var i=Object(n.a)(e,4),a=i[0],o=i[1],s=i[2],u=i[3],c=s-a,l=u-o,p=c,h=l;c/l<t/r?p=t/r*l:h=r/t*c,p<t&&(p=t,h=r);var f=(s+a)/2,d=(u+o)/2;return[f-p/2,d-h/2,f+p/2,d+h/2]}var v=r(200),y=r(371),b=r(136),_=r(436),x=r(53),w=r(22),O=r(262),k=r(247),E=r(213),T=r(23),S=r(261),j=r(410),P=r(181);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var A=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"getShaders",value:function(){return{vs:"#define SHADER_NAME heatp-map-layer-vertex-shader\n\nuniform sampler2D maxTexture;\nuniform float intensity;\nuniform vec2 colorDomain;\nuniform float threshold;\n\nattribute vec3 positions;\nattribute vec2 texCoords;\n\nvarying vec2 vTexCoords;\nvarying float vIntensityMin;\nvarying float vIntensityMax;\n\nvoid main(void) {\n  gl_Position = project_position_to_clipspace(positions, vec3(0.0), vec3(0.0));\n  vTexCoords = texCoords;\n  float maxValue = texture2D(maxTexture, vec2(0.5)).r;\n  float minValue = maxValue * threshold;\n  if (colorDomain[1] > 0.) {\n    maxValue = colorDomain[1];\n    minValue = colorDomain[0];\n  }\n  vIntensityMax = intensity / maxValue;\n  vIntensityMin = intensity / minValue;\n}\n",fs:"#define SHADER_NAME triangle-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D texture;\nvarying vec2 vTexCoords;\nuniform sampler2D colorTexture;\n\nvarying float vIntensityMin;\nvarying float vIntensityMax;\n\nvec4 getLinearColor(float value) {\n  float factor = clamp(value * vIntensityMax, 0., 1.);\n  vec4 color = texture2D(colorTexture, vec2(factor, 0.5));\n  color.a *= min(value * vIntensityMin, 1.0);\n  return color;\n}\n\nvoid main(void) {\n  float weight = texture2D(texture, vTexCoords).r;\n  if (weight <= 0.) {\n     discard;\n  }\n\n  vec4 linearColor = getLinearColor(weight);\n  linearColor.a *= opacity;\n  gl_FragColor =linearColor;\n}\n",modules:[E.a]}}},{key:"initializeState",value:function(){var e=this.context.gl;this.getAttributeManager().add({positions:{size:3,noAlloc:!0},texCoords:{size:2,noAlloc:!0}}),this.setState({model:this._getModel(e)})}},{key:"_getModel",value:function(e){var t=this.props.vertexCount;return new S.a(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new j.a({drawMode:6,vertexCount:t})}))}},{key:"draw",value:function(e){var t=e.uniforms,r=this.state.model,n=this.props,i=n.texture,a=n.maxTexture,o=n.colorTexture,s=n.intensity,u=n.threshold,c=n.colorDomain;r.setUniforms(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(r,!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{texture:i,maxTexture:a,colorTexture:o,intensity:s,threshold:u,colorDomain:c})).draw()}}]),t}(P.a);A.layerName="TriangleLayer",A.defaultProps={count:0,texture:null};var M,I=r(186),R=r(141),L="attribute vec3 positions;\nattribute float weights;\nvarying vec4 weightsTexture;\nuniform float radiusPixels;\nuniform float textureWidth;\nuniform vec4 commonBounds;\nuniform float weightsScale;\nvoid main()\n{\n  weightsTexture = vec4(weights * weightsScale, 0., 0., 1.);\n\n  float radiusTexels  = project_pixel_size(radiusPixels) * textureWidth / (commonBounds.z - commonBounds.x);\n  gl_PointSize = radiusTexels * 2.;\n\n  vec3 commonPosition = project_position(positions);\n  gl_Position.xy = (commonPosition.xy - commonBounds.xy) / (commonBounds.zw - commonBounds.xy) ;\n  gl_Position.xy = (gl_Position.xy * 2.) - (1.);\n}\n",z="varying vec4 weightsTexture;\nfloat gaussianKDE(float u){\n  return pow(2.71828, -u*u/0.05555)/(1.77245385*0.166666);\n}\nvoid main()\n{\n  float dist = length(gl_PointCoord - vec2(0.5, 0.5));\n  if (dist > 0.5) {\n    discard;\n  }\n  gl_FragColor.rgb = weightsTexture.rgb * gaussianKDE(2. * dist);\n  gl_FragColor.a = 1.0;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n";function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(r,!0).forEach((function(t){Object(l.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,"a",(function(){return G}));var B={mipmaps:!1,parameters:(M={},Object(l.a)(M,10240,9729),Object(l.a)(M,10241,9729),Object(l.a)(M,10242,33071),Object(l.a)(M,10243,33071),M),dataFormat:6408},N=[0,0],q={getPosition:{type:"accessor",value:function(e){return e.position}},getWeight:{type:"accessor",value:1},intensity:{type:"number",min:0,value:1},radiusPixels:{type:"number",min:1,max:100,value:50},colorRange:R.b,threshold:{type:"number",min:0,max:1,value:.05},colorDomain:{type:"array",value:null,optional:!0}},U=[v.a.BLEND_EQUATION_MINMAX,v.a.TEXTURE_FLOAT],V={data:{props:["radiusPixels"]}},G=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"initializeState",value:function(){var e=this.context.gl;if(!Object(y.c)(e,U))return this.setState({supported:!1}),void w.a.error("HeatmapLayer: ".concat(this.id," is not supported on this browser"))();Object(u.a)(Object(s.a)(t.prototype),"initializeState",this).call(this,V),this.setState({supported:!0}),this._setupTextureParams(),this._setupAttributes(),this._setupResources()}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){if(this.state.supported){Object(u.a)(Object(s.a)(t.prototype),"updateState",this).call(this,e);var r=e.props,n=e.oldProps,i=this._getChangeFlags(e);if(i.viewportChanged&&(i.boundsChanged=this._updateBounds()),i.dataChanged||i.boundsChanged?this._updateWeightmap():i.viewportZoomChanged&&this._debouncedUpdateWeightmap(),r.colorRange!==n.colorRange&&this._updateColorTexture(e),i.viewportChanged&&this._updateTextureRenderingBounds(),n.colorDomain!==r.colorDomain||i.viewportChanged){var a=this.context.viewport,o=this.state.weightsScale,c=(a?1024/a.scale:1)*o,l=r.colorDomain?r.colorDomain.map((function(e){return e*c})):N;if(l[1]>0&&o<1){var p=Math.min(l[1],1);l[0]*=p/l[1],l[1]=p}this.setState({colorDomain:l})}this.setState({zoom:e.context.viewport.zoom})}}},{key:"renderLayers",value:function(){if(!this.state.supported)return[];var e=this.state,t=e.weightsTexture,r=e.triPositionBuffer,n=e.triTexCoordBuffer,i=e.maxWeightsTexture,a=e.colorTexture,o=e.colorDomain,s=this.props,u=s.updateTriggers,c=s.intensity,l=s.threshold;return new(this.getSubLayerClass("triangle",A))(this.getSubLayerProps({id:"triangle-layer",updateTriggers:u}),{data:{attributes:{positions:r,texCoords:n}},vertexCount:4,maxTexture:i,colorTexture:a,texture:t,intensity:c,threshold:l,colorDomain:o})}},{key:"finalizeState",value:function(){Object(u.a)(Object(s.a)(t.prototype),"finalizeState",this).call(this);var e=this.state,r=e.weightsTransform,n=e.weightsTexture,i=e.maxWeightTransform,a=e.maxWeightsTexture,o=e.triPositionBuffer,c=e.triTexCoordBuffer,l=e.colorTexture,p=e.updateTimer;r&&r.delete(),n&&n.delete(),i&&i.delete(),a&&a.delete(),o&&o.delete(),c&&c.delete(),l&&l.delete(),p&&clearTimeout(p)}},{key:"_getAttributeManager",value:function(){return new O.a(this.context.gl,{id:this.props.id,stats:this.context.stats})}},{key:"_getChangeFlags",value:function(e){var t={},r=this.state.dimensions;t.dataChanged=this.isAttributeChanged()||this.isAggregationDirty(e,{compareAll:!0,dimension:r.data}),t.viewportChanged=e.changeFlags.viewportChanged;var n=this.state.zoom;return e.context.viewport&&e.context.viewport.zoom===n||(t.viewportZoomChanged=!0),t}},{key:"_createTextures",value:function(){var e=this.context.gl,t=this.state,r=t.textureSize,n=t.format,i=t.type;this.setState({weightsTexture:new b.a(e,F({width:r,height:r,format:n,type:i},B)),maxWeightsTexture:new b.a(e,F({format:n,type:i},B))})}},{key:"_setupAttributes",value:function(){this.getAttributeManager().add({positions:{size:3,accessor:"getPosition"},weights:{size:1,accessor:"getWeight"}}),this.setState({positionAttributeName:"positions"})}},{key:"_setupTextureParams",value:function(){var e=this.context.gl,t=Math.min(2048,Object(p.d)(e,3379)),r=Object(y.c)(e,v.a.COLOR_ATTACHMENT_RGBA32F),n=function(e){var t=e.gl,r=e.floatTargetSupport;return{format:Object(p.g)(t)?34836:6408,type:r?5126:5121}}({gl:e,floatTargetSupport:r}),i=n.format,a=n.type,o=r?1:1/255;this.setState({textureSize:t,format:i,type:a,weightsScale:o}),r||w.a.warn("HeatmapLayer: ".concat(this.id," rendering to float texture not supported, fallingback to low precession format"))()}},{key:"_createWeightsTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.context.gl,r=this.state.weightsTransform,n=this.state.weightsTexture;r&&r.delete();var i=Object(k.a)({vs:L,_fs:z,modules:[E.a]},e);r=new _.a(t,F({id:"".concat(this.id,"-weights-transform"),elementCount:1,_targetTexture:n,_targetTextureVarying:"weightsTexture"},i)),this.setState({weightsTransform:r})}},{key:"_setupResources",value:function(){var e=this.context.gl;this._createTextures();var t=this.state,r=t.textureSize,n=t.weightsTexture,i=t.maxWeightsTexture;this._createWeightsTransform();var a=new _.a(e,{id:"".concat(this.id,"-max-weights-transform"),_sourceTextures:{inTexture:n},_targetTexture:i,_targetTextureVarying:"outTexture",vs:"attribute vec4 inTexture;\nvarying vec4 outTexture;\n\nvoid main()\n{\noutTexture = inTexture;\ngl_Position = vec4(0, 0, 0, 1.);\ngl_PointSize = 1.0;\n}\n",elementCount:r*r});this.setState({weightsTexture:n,maxWeightsTexture:i,maxWeightTransform:a,zoom:null,triPositionBuffer:new x.a(e,{byteLength:48,accessor:{size:3}}),triTexCoordBuffer:new x.a(e,{byteLength:48,accessor:{size:2}})})}},{key:"updateShaders",value:function(e){this._createWeightsTransform(e)}},{key:"_updateMaxWeightValue",value:function(){this.state.maxWeightTransform.run({parameters:{blend:!0,depthTest:!1,blendFunc:[1,1],blendEquation:32776}})}},{key:"_updateBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.context.viewport,r=[t.unproject([0,0]),t.unproject([t.width,0]),t.unproject([t.width,t.height]),t.unproject([0,t.height])],n=h(r),i={visibleWorldBounds:n,viewportCorners:r},a=!1;if(e||!this.state.worldBounds||!f(this.state.worldBounds,n)){var o=this._worldToCommonBounds(n),s=this._commonToWorldBounds(o);this.props.coordinateSystem===T.a.LNGLAT&&(s[1]=Math.max(s[1],-85.051129),s[3]=Math.min(s[3],85.051129),s[0]=Math.max(s[0],-360),s[2]=Math.min(s[2],360));var u=this._worldToCommonBounds(s);i.worldBounds=s,i.normalizedCommonBounds=u,a=!0}return this.setState(i),a}},{key:"_updateTextureRenderingBounds",value:function(){var e=this.state,t=e.triPositionBuffer,r=e.triTexCoordBuffer,i=e.normalizedCommonBounds,a=e.viewportCorners,o=this.context.viewport;t.subData(m(a,3));var s=a.map((function(e){return function(e,t){var r=Object(n.a)(t,4),i=r[0],a=r[1],o=r[2],s=r[3];return[(e[0]-i)/(o-i),(e[1]-a)/(s-a)]}(o.projectPosition(e),i)}));r.subData(m(s,2))}},{key:"_updateColorTexture",value:function(e){var t=e.props.colorRange,r=this.state.colorTexture,n=Object(R.a)(t,!0);r?r.setImageData({data:n,width:t.length}):r=new b.a(this.context.gl,F({data:n,width:t.length,height:1,format:Object(p.g)(this.context.gl)?34836:6408,type:5126},B)),this.setState({colorTexture:r})}},{key:"_updateWeightmap",value:function(){var e,t=this.props.radiusPixels,r=this.state,n=r.weightsTransform,i=r.worldBounds,a=r.textureSize,o=r.weightsTexture,s=r.weightsScale,u={radiusPixels:t,commonBounds:this._worldToCommonBounds(i,{useLayerCoordinateSystem:!0}),textureWidth:a,weightsScale:s};n.update({elementCount:this.getNumInstances()}),n.run({uniforms:u,parameters:{blend:!0,depthTest:!1,blendFunc:[1,1],blendEquation:32774},clearRenderTarget:!0,attributes:this.getAttributes(),moduleSettings:this.getModuleSettings()}),this._updateMaxWeightValue(),o.setParameters((e={},Object(l.a)(e,10240,9729),Object(l.a)(e,10241,9729),e)),this.setState({lastUpdate:Date.now()})}},{key:"_debouncedUpdateWeightmap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state.updateTimer,r=Date.now()-this.state.lastUpdate;e&&(t=null),r>=500?(this._updateBounds(!0),this._updateWeightmap(),this._updateTextureRenderingBounds()):t||(t=setTimeout(this._debouncedUpdateWeightmap.bind(this,!0),500-r)),this.setState({updateTimer:t})}},{key:"_worldToCommonBounds",value:function(e){var t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.useLayerCoordinateSystem,o=void 0!==a&&a,s=Object(n.a)(e,4),u=s[0],c=s[1],l=s[2],p=s[3],h=this.context.viewport,f=this.state.textureSize,d=2*f/h.scale;o?(t=this.projectPosition([u,c,0]),r=this.projectPosition([l,p,0])):(t=h.projectPosition([u,c,0]),r=h.projectPosition([l,p,0]));var m=t.slice(0,2).concat(r.slice(0,2));return m=g(m,d,d)}},{key:"_commonToWorldBounds",value:function(e){var t=Object(n.a)(e,4),r=t[0],i=t[1],a=t[2],o=t[3],s=this.context.viewport,u=s.unprojectPosition([r,i]),c=s.unprojectPosition([a,o]);return u.slice(0,2).concat(c.slice(0,2))}}]),t}(I.a);G.layerName="HeatmapLayer",G.defaultProps=q},function(e,t,r){"use strict";var n,i=r(30),a=r(21),o=r(41),s=r(50),u=r(35),c=r(137),l=r(40),p=r(56),h=r(72),f=r(93),d=r(4),m=r(9),g=r(126),v=r(29),y=(n={},Object(d.a)(n,5126,I.bind(null,"uniform1fv",k,1,R)),Object(d.a)(n,35664,I.bind(null,"uniform2fv",k,2,R)),Object(d.a)(n,35665,I.bind(null,"uniform3fv",k,3,R)),Object(d.a)(n,35666,I.bind(null,"uniform4fv",k,4,R)),Object(d.a)(n,5124,I.bind(null,"uniform1iv",E,1,R)),Object(d.a)(n,35667,I.bind(null,"uniform2iv",E,2,R)),Object(d.a)(n,35668,I.bind(null,"uniform3iv",E,3,R)),Object(d.a)(n,35669,I.bind(null,"uniform4iv",E,4,R)),Object(d.a)(n,35670,I.bind(null,"uniform1iv",E,1,R)),Object(d.a)(n,35671,I.bind(null,"uniform2iv",E,2,R)),Object(d.a)(n,35672,I.bind(null,"uniform3iv",E,3,R)),Object(d.a)(n,35673,I.bind(null,"uniform4iv",E,4,R)),Object(d.a)(n,35674,I.bind(null,"uniformMatrix2fv",k,4,L)),Object(d.a)(n,35675,I.bind(null,"uniformMatrix3fv",k,9,L)),Object(d.a)(n,35676,I.bind(null,"uniformMatrix4fv",k,16,L)),Object(d.a)(n,35678,M),Object(d.a)(n,35680,M),Object(d.a)(n,5125,I.bind(null,"uniform1uiv",T,1,R)),Object(d.a)(n,36294,I.bind(null,"uniform2uiv",T,2,R)),Object(d.a)(n,36295,I.bind(null,"uniform3uiv",T,3,R)),Object(d.a)(n,36296,I.bind(null,"uniform4uiv",T,4,R)),Object(d.a)(n,35685,I.bind(null,"uniformMatrix2x3fv",k,6,L)),Object(d.a)(n,35686,I.bind(null,"uniformMatrix2x4fv",k,8,L)),Object(d.a)(n,35687,I.bind(null,"uniformMatrix3x2fv",k,6,L)),Object(d.a)(n,35688,I.bind(null,"uniformMatrix3x4fv",k,12,L)),Object(d.a)(n,35689,I.bind(null,"uniformMatrix4x2fv",k,8,L)),Object(d.a)(n,35690,I.bind(null,"uniformMatrix4x3fv",k,12,L)),Object(d.a)(n,35679,M),Object(d.a)(n,35682,M),Object(d.a)(n,36289,M),Object(d.a)(n,36292,M),Object(d.a)(n,36293,M),Object(d.a)(n,36298,M),Object(d.a)(n,36299,M),Object(d.a)(n,36300,M),Object(d.a)(n,36303,M),Object(d.a)(n,36306,M),Object(d.a)(n,36307,M),Object(d.a)(n,36308,M),Object(d.a)(n,36311,M),n),b={},_={},x={},w=[0];function O(e,t,r,n){1===t&&"boolean"===typeof e&&(e=e?1:0),Number.isFinite(e)&&(w[0]=e,e=w);var i=e.length;if(i%t&&m.h.warn("Uniform size should be multiples of ".concat(t),e)(),e instanceof r)return e;var a=n[i];a||(a=new r(i),n[i]=a);for(var o=0;o<i;o++)a[o]=e[o];return a}function k(e,t){return O(e,t,Float32Array,b)}function E(e,t){return O(e,t,Int32Array,_)}function T(e,t){return O(e,t,Uint32Array,x)}function S(e){if("]"!==e[e.length-1])return{name:e,length:1,isArray:!1};var t=e.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(e));return{name:t[1],length:t[2]||1,isArray:Boolean(t[2])}}function j(e,t,r){var n=y[r.type];if(!n)throw new Error("Unknown GLSL uniform type ".concat(r.type));return n().bind(null,e,t)}function P(e,t,r){for(var n in e){var i=e[n];if((!r||Boolean(r[n]))&&!C(i))throw t=t?"".concat(t," "):"",console.error("".concat(t," Bad uniform ").concat(n),i),new Error("".concat(t," Bad uniform ").concat(n))}return!0}function C(e){return Array.isArray(e)||ArrayBuffer.isView(e)?function(e){if(0===e.length)return!1;for(var t=Math.min(e.length,16),r=0;r<t;++r)if(!Number.isFinite(e[r]))return!1;return!0}(e):!!isFinite(e)||(!0===e||!1===e||(e instanceof h.a||(e instanceof g.a||e instanceof f.a&&Boolean(e.texture))))}function A(e,t,r){if(Array.isArray(r)||ArrayBuffer.isView(r))if(e[t])for(var n=e[t],i=0,a=r.length;i<a;++i)n[i]=r[i];else e[t]=r.slice();else e[t]=r}function M(){var e=null;return function(t,r,n){var i=e!==n;return i&&(t.uniform1i(r,n),e=n),i}}function I(e,t,r,n){var i=null,a=null;return function(o,s,u){var c=t(u,r),l=c.length,p=!1;if(null===i)i=new Float32Array(l),a=l,p=!0;else{Object(v.a)(a===l,"Uniform length cannot change.");for(var h=0;h<l;++h)if(c[h]!==i[h]){p=!0;break}}return p&&(n(o,e,s,c),i.set(c)),p}}function R(e,t,r,n){e[t](r,n)}function L(e,t,r,n){e[t](r,!1,n)}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed",r=e.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return r?r[1]:t}var D=35632,F=35633;function B(e,t,r,n){for(var i=e.split(/\r?\n/),a={},o={},s=n||z(t)||"(unnamed)",u="".concat(function(e){switch(e){case D:return"fragment";case F:return"vertex";default:return"unknown type"}}(r)," shader ").concat(s),c=0;c<i.length;c++){var l=i[c];if(!(l.length<=1)){var p=l.split(":"),h=p[0],f=parseInt(p[2],10);if(isNaN(f))throw new Error("GLSL compilation error in ".concat(u,": ").concat(e));"WARNING"!==h?a[f]=l:o[f]=l}}var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",n=e.split(/\r?\n/),i=String(n.length+t-1).length;return n.map((function(e,n){var a=n+t,o=String(a).length;return q(a,i-o)+r+e}))}(t);return{shaderName:u,errors:N(a,d),warnings:N(o,d)}}function N(e,t){for(var r="",n=0;n<t.length;n++){var i=t[n];if((e[n+3]||e[n+2]||e[n+1])&&(r+="".concat(i,"\n"),e[n+1])){var a=e[n+1],o=a.split(":",3),s=o[0],u=parseInt(o[1],10)||0,c=a.substring(o.join(":").length+1).trim();r+=q("^^^ ".concat(s,": ").concat(c,"\n\n"),u)}}return r}function q(e,t){for(var r="",n=0;n<t;++n)r+=" ";return"".concat(r).concat(e)}var U=r(107),V=r(143),G="Shader: GLSL source code must be a JavaScript string",W=function(e){function t(e,r){var n;Object(i.a)(this,t),Object(U.b)(e),Object(v.a)("string"===typeof r.source,G);var a=z(r.source,null)||r.id||Object(V.c)("unnamed ".concat(t.getTypeName(r.shaderType)));return(n=Object(o.a)(this,Object(u.a)(t).call(this,e,{id:a}))).shaderType=r.shaderType,n.source=r.source,n.initialize(r),n}return Object(l.a)(t,e),Object(a.a)(t,null,[{key:"getTypeName",value:function(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return Object(v.a)(!1),"unknown"}}}]),Object(a.a)(t,[{key:"initialize",value:function(e){var t=e.source,r=z(t,null);r&&(this.id=Object(V.c)(r)),this._compile(t)}},{key:"getParameter",value:function(e){return this.gl.getShaderParameter(this.handle,e)}},{key:"toString",value:function(){return"".concat(t.getTypeName(this.shaderType),":").concat(this.id)}},{key:"getName",value:function(){return z(this.source)||"unnamed-shader"}},{key:"getSource",value:function(){return this.gl.getShaderSource(this.handle)}},{key:"getTranslatedSource",value:function(){var e=this.gl.getExtension("WEBGL.debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL.debug_shaders not implemented"}},{key:"_compile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;e.startsWith("#version ")||(e="#version 100\n".concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle);var t=this.getParameter(35713);if(!t){var r=this.gl.getShaderInfoLog(this.handle),n=B(r,this.source,this.shaderType,this.id),i=n.shaderName,a=n.errors,o=n.warnings;throw m.h.error("GLSL compilation errors in ".concat(i,"\n").concat(a))(),m.h.warn("GLSL compilation warnings in ".concat(i,"\n").concat(o))(),new Error("GLSL compilation errors in ".concat(i))}}},{key:"_deleteHandle",value:function(){this.gl.deleteShader(this.handle)}},{key:"_getOptsFromHandle",value:function(){return{type:this.getParameter(35663),source:this.getSource()}}}]),t}(p.a),H=function(e){function t(e,r){return Object(i.a)(this,t),"string"===typeof r&&(r={source:r}),Object(o.a)(this,Object(u.a)(t).call(this,e,Object.assign({},r,{shaderType:35633})))}return Object(l.a)(t,e),Object(a.a)(t,[{key:"_createHandle",value:function(){return this.gl.createShader(35633)}}]),t}(W),Z=function(e){function t(e,r){return Object(i.a)(this,t),"string"===typeof r&&(r={source:r}),Object(o.a)(this,Object(u.a)(t).call(this,e,Object.assign({},r,{shaderType:35632})))}return Object(l.a)(t,e),Object(a.a)(t,[{key:"_createHandle",value:function(){return this.gl.createShader(35632)}}]),t}(W),X=r(82),K=r(103),Y=function(){function e(t){Object(i.a)(this,e),this.id=t.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(t),this._readVaryingsFromProgram(t)}return Object(a.a)(e,[{key:"getAttributeInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}},{key:"getAttributeLocation",value:function(e){var t=this.getAttributeInfo(e);return t?t.location:-1}},{key:"getAttributeAccessor",value:function(e){var t=this.getAttributeInfo(e);return t?t.accessor:null}},{key:"getVaryingInfo",value:function(e){var t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}},{key:"getVaryingIndex",value:function(e){var t=this.getVaryingInfo();return t?t.location:-1}},{key:"getVaryingAccessor",value:function(e){var t=this.getVaryingInfo();return t?t.accessor:null}},{key:"_readAttributesFromProgram",value:function(e){for(var t=e.gl,r=t.getProgramParameter(e.handle,35721),n=0;n<r;n++){var i=t.getActiveAttrib(e.handle,n),a=i.name,o=i.type,s=i.size,u=t.getAttribLocation(e.handle,a);u>=0&&this._addAttribute(u,a,o,s)}this.attributeInfos.sort((function(e,t){return e.location-t.location}))}},{key:"_readVaryingsFromProgram",value:function(e){var t=e.gl;if(Object(m.g)(t)){for(var r=t.getProgramParameter(e.handle,35971),n=0;n<r;n++){var i=t.getTransformFeedbackVarying(e.handle,n),a=i.name,o=i.type,s=i.size;this._addVarying(n,a,o,s)}this.varyingInfos.sort((function(e,t){return e.location-t.location}))}}},{key:"_addAttribute",value:function(e,t,r,n){var i=Object(K.a)(r),a={type:i.type,size:n*i.components};this._inferProperties(e,t,a);var o={location:e,name:t,accessor:new X.a(a)};this.attributeInfos.push(o),this.attributeInfosByLocation[e]=o,this.attributeInfosByName[o.name]=o}},{key:"_inferProperties",value:function(e,t,r){/instance/i.test(t)&&(r.divisor=1)}},{key:"_addVarying",value:function(e,t,r,n){var i=Object(K.a)(r),a=i.type,o=i.components,s={location:e,name:t,accessor:new X.a({type:a,size:n*o})};this.varyingInfos.push(s),this.varyingInfosByName[s.name]=s}}]),e}(),$=r(118);r.d(t,"a",(function(){return Q}));var J=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"],Q=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(this,t),(r=Object(o.a)(this,Object(u.a)(t).call(this,e,n))).stubRemovedMethods("Program","v6.0",J),r._isCached=!1,r.initialize(n),Object.seal(Object(s.a)(r)),r._setId(n.id),r}return Object(l.a)(t,e),Object(a.a)(t,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hash,r=e.vs,n=e.fs,i=e.varyings,a=e.bufferMode,o=void 0===a?35981:a,s=e.debug,u=void 0!==s&&s;return this.hash=t||"",this.debug=u,this.vs="string"===typeof r?new H(this.gl,{id:"".concat(e.id,"-vs"),source:r}):r,this.fs="string"===typeof n?new Z(this.gl,{id:"".concat(e.id,"-fs"),source:n}):n,Object(v.a)(this.vs instanceof H),Object(v.a)(this.fs instanceof Z),this.uniforms={},this._textureUniforms={},this._texturesRenderable=!0,i&&i.length>0&&(Object(U.a)(this.gl),this.varyings=i,this.gl.transformFeedbackVaryings(this.handle,i,o)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new Y(this),this.setProps(e)}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:Object(c.a)(Object(u.a)(t.prototype),"delete",this).call(this,e)}},{key:"setProps",value:function(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}},{key:"draw",value:function(e){var t=this,r=e.logPriority,n=e.drawMode,i=void 0===n?4:n,a=e.vertexCount,o=e.offset,s=void 0===o?0:o,u=e.start,c=e.end,l=e.isIndexed,p=void 0!==l&&l,h=e.indexType,f=void 0===h?5123:h,d=e.instanceCount,g=void 0===d?0:d,y=e.isInstanced,b=void 0===y?g>0:y,_=e.vertexArray,x=void 0===_?null:_,w=e.transformFeedback,O=e.framebuffer,k=e.parameters,E=void 0===k?{}:k,T=e.uniforms,S=e.samplers;if((T||S)&&(m.h.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(T||{})),this.debug&&void 0!==r){var j=O?O.id:"default",P="mode=".concat(Object($.a)(this.gl,i)," verts=").concat(a," ")+"instances=".concat(g," indexType=").concat(Object($.a)(this.gl,f)," ")+"isInstanced=".concat(b," isIndexed=").concat(p," ")+"Framebuffer=".concat(j);m.h.log(r,P)()}return Object(v.a)(x),this.gl.useProgram(this.handle),!!this._areTexturesRenderable()&&(x.bindForDraw(a,g,(function(){if(void 0!==O&&(E=Object.assign({},E,{framebuffer:O})),w){var e=Object(K.c)(i);w.begin(e)}t._bindTextures(),Object(m.l)(t.gl,E,(function(){p&&b?t.gl.drawElementsInstanced(i,a,f,s,g):p&&Object(m.g)(t.gl)&&!isNaN(u)&&!isNaN(c)?t.gl.drawRangeElements(i,u,c,a,f,s):p?t.gl.drawElements(i,a,f,s):b?t.gl.drawArraysInstanced(i,s,a,g):t.gl.drawArrays(i,s,a)})),w&&w.end()})),!0)}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in this.debug&&P(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle),e){var r=e[t],n=this._uniformSetters[t];if(n){var i=r,a=!1;if(i instanceof f.a&&(i=i.texture),i instanceof h.a)if(a=this.uniforms[t]!==r){void 0===n.textureIndex&&(n.textureIndex=this._textureIndexCounter++);var o=i,s=n.textureIndex;o.bind(s),i=s,o.loaded||(this._texturesRenderable=!1),this._textureUniforms[t]=o}else i=n.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(n(i)||a)&&A(this.uniforms,t,r)}}return this}},{key:"_areTexturesRenderable",value:function(){if(this._texturesRenderable)return!0;for(var e in this._texturesRenderable=!0,this._textureUniforms){var t=this._textureUniforms[e];this._texturesRenderable=this._texturesRenderable&&t.loaded}return this._texturesRenderable}},{key:"_bindTextures",value:function(){for(var e in this._textureUniforms){var t=this._uniformSetters[e].textureIndex;this._textureUniforms[e].bind(t)}}},{key:"_createHandle",value:function(){return this.gl.createProgram()}},{key:"_deleteHandle",value:function(){this.gl.deleteProgram(this.handle)}},{key:"_getOptionsFromHandle",value:function(e){var t=this.gl.getAttachedShaders(e),r={},n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:r.vs=new H({handle:u});break;case 35632:r.fs=new Z({handle:u})}}}catch(c){i=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}},{key:"_getParameter",value:function(e){return this.gl.getProgramParameter(this.handle,e)}},{key:"_setId",value:function(e){if(!e){var t=this._getName();this.id=Object(V.c)(t)}}},{key:"_getName",value:function(){var e=this.vs.getName()||this.fs.getName();return e=(e=e.replace(/shader/i,""))?"".concat(e,"-program"):"program"}},{key:"_compileAndLink",value:function(){var e=this.gl;if((e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),m.h.time(4,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),m.h.timeEnd(4,"linkProgram for ".concat(this._getName()))(),e.debug||m.h.level>0)&&(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35714)))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)))}},{key:"_readUniformLocationsFromLinkedProgram",value:function(){var e=this.gl;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(var t=0;t<this._uniformCount;t++){var r=this.gl.getActiveUniform(this.handle,t),n=S(r.name),i=n.name,a=(n.isArray,e.getUniformLocation(this.handle,i));if(this._uniformSetters[i]=j(e,a,r),r.size>1)for(var o=0;o<r.size;o++)a=e.getUniformLocation(this.handle,"".concat(i,"[").concat(o,"]")),this._uniformSetters["".concat(i,"[").concat(o,"]")]=j(e,a,r)}this._textureIndexCounter=0}},{key:"getActiveUniforms",value:function(e,t){return this.gl.getActiveUniforms(this.handle,e,t)}},{key:"getUniformBlockIndex",value:function(e){return this.gl.getUniformBlockIndex(this.handle,e)}},{key:"getActiveUniformBlockParameter",value:function(e,t){return this.gl.getActiveUniformBlockParameter(this.handle,e,t)}},{key:"uniformBlockBinding",value:function(e,t){this.gl.uniformBlockBinding(this.handle,e,t)}}]),t}(p.a)},function(e,t,r){"use strict";var n=r(62),i=r(55),a=r(183),o=r(188),s="void main() {gl_FragColor = vec4(0);}",u="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",c="#version 300 es\n".concat(u);function l(e,t){t=Array.isArray(t)?t:[t];var r=e.replace(/^\s+/,"").split(/\s+/),n=Object(a.a)(r,3),i=n[0],o=n[1],s=n[2];return t.includes(i)&&o&&s?{qualifier:i,type:o,name:s.split(";")[0]}:null}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.version,r=void 0===t?100:t,n=e.input,i=e.inputType,a=e.output;if(!n)return 300===r?c:r>300?"#version ".concat(r,"\n").concat(u):s;var l=function(e,t){switch(t){case"float":return"vec4(".concat(e,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(e,", 0.0, 1.0)");case"vec3":return"vec4(".concat(e,", 1.0)");case"vec4":return e;default:return Object(o.a)(!1),null}}(n,i);return r>=300?"#version ".concat(r," ").concat(300===r?"es":"","\nin ").concat(i," ").concat(n,";\nout vec4 ").concat(a,";\nvoid main() {\n  ").concat(a," = ").concat(l,";\n}"):"varying ".concat(i," ").concat(n,";\nvoid main() {\n  gl_FragColor = ").concat(l,";\n}")}function h(e){switch(e){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return Object(o.a)(!1),null}}var f=r(9),d=r(53),m=r(409),g=r(29),v=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.a)(this,e),this.gl=t,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(r),Object.seal(this)}return Object(i.a)(e,[{key:"setupResources",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=this.bindings[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this._setupTransformFeedback(o,e)}}catch(s){r=!0,n=s}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}},{key:"updateModelProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.varyings;return t.length>0&&(e=Object.assign({},e,{varyings:t})),e}},{key:"getDrawOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],r=t.sourceBuffers,n=t.transformFeedback,i=Object.assign({},r,e.attributes);return{attributes:i,transformFeedback:n}}},{key:"swap",value:function(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e)}},{key:"getBuffer",value:function(e){var t=this.bindings[this.currentIndex].feedbackBuffers,r=e?t[e]:null;return r?r instanceof d.a?r:r.buffer:null}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.varyingName,r=this.getBuffer(t);return r?r.getData():null}},{key:"delete",value:function(){for(var e in this.resources)this.resources[e].delete()}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&Object(g.a)(Object(f.g)(this.gl))}},{key:"_getFeedbackBuffers",value:function(e){var t=e.sourceBuffers,r=void 0===t?{}:t,n={};if(this.bindings[this.currentIndex]&&Object.assign(n,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(var i in this.feedbackMap){var a=this.feedbackMap[i];i in r&&(n[a]=i)}for(var o in Object.assign(n,e.feedbackBuffers),n){var s=n[o];if("string"===typeof s){var u=r[s],c=u.byteLength,l=u.usage,p=u.accessor;n[o]=this._createNewBuffer(o,{byteLength:c,usage:l,accessor:p})}}return n}},{key:"_setupBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sourceBuffers,r=void 0===t?null:t;Object.assign(this.feedbackMap,e.feedbackMap);var n=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:r,feedbackBuffers:n})}},{key:"_setupTransformFeedback",value:function(e,t){var r=t.model.program;e.transformFeedback=new m.a(this.gl,{program:r,buffers:e.feedbackBuffers})}},{key:"_updateBindings",value:function(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){var t=this._swapBuffers(this.bindings[this.currentIndex]),r=t.sourceBuffers,n=t.feedbackBuffers,i=this._getNextIndex();this.bindings[i]=this._updateBinding(this.bindings[i],{sourceBuffers:r,feedbackBuffers:n})}}},{key:"_updateBinding",value:function(e,t){return e?(Object.assign(e.sourceBuffers,t.sourceBuffers),Object.assign(e.feedbackBuffers,t.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},t.sourceBuffers),feedbackBuffers:Object.assign({},t.feedbackBuffers)}}},{key:"_swapBuffers",value:function(e){if(!this.feedbackMap)return null;var t=Object.assign({},e.sourceBuffers),r=Object.assign({},e.feedbackBuffers);for(var n in this.feedbackMap){var i=this.feedbackMap[n];t[n]=e.feedbackBuffers[i],r[i]=e.sourceBuffers[n],Object(g.a)(r[i]instanceof d.a)}return{sourceBuffers:t,feedbackBuffers:r}}},{key:"_createNewBuffer",value:function(e,t){var r=new d.a(this.gl,t);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=r,r}},{key:"_getNextIndex",value:function(){return(this.currentIndex+1)%2}}]),e}(),y=r(65),b=r(207),_=r(136),x=r(93),w=r(264);function O(e){var t=100,r=e.match(/[^\s]+/g);if(r.length>=2&&"#version"===r[0]){var n=parseInt(r[1],10);Number.isFinite(n)&&(t=n)}return t}var k,E=r(206),T={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},S="transform_uSampler_",j="transform_uSize_",P="transform_position";function C(e){var t=e.vs,r=e.sourceTextureMap,n=e.targetTextureVarying,i=e.targetTexture,a=Object.keys(r).length,s=null,u={},c=t,p={};if(a>0||n){var h=c.split("\n"),f=h.slice();if(h.forEach((function(e,t,i){if(a>0){var c=function(e,t){var r={},n=function(e){return l(e,["attribute","in"])}(e);if(!n)return null;var i=n.type,a=n.name;if(a&&t[a]){var s="// ".concat(e," => Replaced by Transform with a sampler"),u=function(e){var t="".concat(S).concat(e),r="".concat(j).concat(e),n="  uniform sampler2D ".concat(t,";\n  uniform vec2 ").concat(r,";");return{samplerName:t,sizeName:r,uniformDeclerations:n}}(a),c=u.samplerName,p=u.sizeName,h=u.uniformDeclerations,f=function(e){switch(e){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return Object(o.a)(!1),null}}(i),d="  ".concat(i," ").concat(a," = transform_getInput(").concat(c,", ").concat(p,").").concat(f,";\n");return r[c]=a,{updatedLine:s,inject:{"vs:#decl":h,"vs:#main-start":d},samplerTextureMap:r}}return null}(e,r);if(c){var h=c.updatedLine,d=c.inject;f[t]=h,p=Object(E.b)([p,d]),Object.assign(u,c.samplerTextureMap),a--}}n&&!s&&(s=function(e,t){var r=l(e,["varying","out"]);if(!r)return null;return r.name===t?r.type:null}(e,n))})),n){Object(g.a)(i);var d="".concat(j).concat(n),m={"vs:#decl":"uniform vec2 ".concat(d,";\n"),"vs:#main-start":"     vec2 ".concat(P," = transform_getPos(").concat(d,");\n     gl_Position = vec4(").concat(P,", 0, 1.);\n")};p=Object(E.b)([p,m])}c=f.join("\n")}return{vs:c,targetTextureType:s,inject:p,samplerTextureMap:u}}function A(e){var t,r,n=e.sourceTextureMap,i=e.targetTextureVarying,a=e.targetTexture,o={};for(var s in i&&(t=a.width,r=a.height,o["".concat(j).concat(i)]=[t,r]),n){var u=n[s];t=u.width,r=u.height,o["".concat(j).concat(s)]=[t,r]}return o}var M=(k={},Object(y.a)(k,10241,9728),Object(y.a)(k,10240,9728),Object(y.a)(k,10242,33071),Object(y.a)(k,10243,33071),k),I=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.a)(this,e),this.gl=t,this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(r),Object.seal(this)}return Object(i.a)(e,[{key:"updateModelProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._processVertexShader(e);return Object.assign({},e,t)}},{key:"getDrawOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],r=t.sourceTextures,n=t.framebuffer,i=t.targetTexture,a=Object.assign({},e.attributes),o=Object.assign({},e.uniforms),s=Object.assign({},e.parameters),u=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){for(var c in a.transform_elementID=this.elementIDBuffer,this.samplerTextureMap){var l=this.samplerTextureMap[c];o[c]=r[l]}this._setSourceTextureParameters();var p=A({sourceTextureMap:r,targetTextureVarying:this.targetTextureVarying,targetTexture:i});Object.assign(o,p)}return this.hasTargetTexture&&(u=!1,s.viewport=[0,0,n.width,n.height]),{attributes:a,framebuffer:n,uniforms:o,discard:u,parameters:s}}},{key:"swap",value:function(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupTextures(e)}},{key:"getTargetTexture",value:function(){return this.bindings[this.currentIndex].targetTexture}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.packed,r=void 0!==t&&t,n=this.bindings[this.currentIndex].framebuffer,i=Object(b.c)(n);if(!r)return i;for(var a=i.constructor,o=h(this.targetTextureType),s=new a(i.length*o/4),u=0,c=0;c<i.length;c+=4)for(var l=0;l<o;l++)s[u++]=i[c+l];return s}},{key:"getFramebuffer",value:function(){return this.bindings[this.currentIndex].framebuffer}},{key:"delete",value:function(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e._targetTextureVarying,r=e._swapTexture;this._swapTexture=r,this.targetTextureVarying=t,this.hasTargetTexture=t,this._setupTextures(e)}},{key:"_createTargetTexture",value:function(e){var t=e.sourceTextures,r=e.textureOrReference;if(r instanceof _.a)return r;var n=t[r];return n?(this._targetRefTexName=r,this._createNewTexture(n)):null}},{key:"_setupTextures",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e._sourceTextures,r=void 0===t?{}:t,n=e._targetTexture,i=this._createTargetTexture({sourceTextures:r,textureOrReference:n});this.hasSourceTextures=this.hasSourceTextures||r&&Object.keys(r).length>0,this._updateBindings({sourceTextures:r,targetTexture:i}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}},{key:"_updateElementIDBuffer",value:function(e){if(!("number"!==typeof e||this.elementCount>=e)){var t=new Float32Array(e);t.forEach((function(e,t,r){r[t]=t})),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new d.a(this.gl,{data:t,accessor:{size:1}}),this.elementCount=e}}},{key:"_updateBindings",value:function(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){var t=this._swapTextures(this.bindings[this.currentIndex]),r=t.sourceTextures,n=t.targetTexture,i=this._getNextIndex();this.bindings[i]=this._updateBinding(this.bindings[i],{sourceTextures:r,targetTexture:n})}}},{key:"_updateBinding",value:function(e,t){var r=t.sourceTextures,n=t.targetTexture;if(e||(e={sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,r),n){e.targetTexture=n;var i=n.width,a=n.height,o=e.framebuffer;o?(o.update({attachments:Object(y.a)({},36064,n),resizeAttachments:!1}),o.resize({width:i,height:a})):e.framebuffer=new x.a(this.gl,{id:"".concat(this.id||"transform","-framebuffer"),width:i,height:a,attachments:Object(y.a)({},36064,n)})}return e}},{key:"_setSourceTextureParameters",value:function(){var e=this.currentIndex,t=this.bindings[e].sourceTextures;for(var r in t)t[r].setParameters(M)}},{key:"_swapTextures",value:function(e){if(!this._swapTexture)return null;var t=Object.assign({},e.sourceTextures);return t[this._swapTexture]=e.targetTexture,{sourceTextures:t,targetTexture:e.sourceTextures[this._swapTexture]}}},{key:"_createNewTexture",value:function(e){var t,r=Object(w.a)(e,{parameters:(t={},Object(y.a)(t,10241,9728),Object(y.a)(t,10240,9728),Object(y.a)(t,10242,33071),Object(y.a)(t,10243,33071),t),pixelStore:Object(y.a)({},37440,!1)});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=r,r}},{key:"_getNextIndex",value:function(){return(this.currentIndex+1)%2}},{key:"_processVertexShader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.bindings[this.currentIndex],r=t.sourceTextures,n=t.targetTexture,i=C({vs:e.vs,sourceTextureMap:r,targetTextureVarying:this.targetTextureVarying,targetTexture:n}),a=i.vs,o=i.uniforms,s=i.targetTextureType,u=i.inject,c=i.samplerTextureMap,l=Object(E.b)([e.inject||{},u]);this.targetTextureType=s,this.samplerTextureMap=c;var h=e._fs||p({version:O(a),input:this.targetTextureVarying,inputType:s,output:"transform_output"}),f=this.hasSourceTextures||this.targetTextureVarying?[T].concat(e.modules||[]):e.modules;return{vs:a,fs:h,modules:f,uniforms:o,inject:l}}}]),e}(),R=r(143),L=r(261);r.d(t,"a",(function(){return z}));var z=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.a)(this,e),this.gl=t,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(r),Object.seal(this)}return Object(i.a)(e,null,[{key:"isSupported",value:function(e){return Object(f.g)(e)}}]),Object(i.a)(e,[{key:"delete",value:function(){var e=this.model,t=this.bufferTransform,r=this.textureTransform;e&&e.delete(),t&&t.delete(),r&&r.delete()}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clearRenderTarget,r=void 0===t||t,n=this._updateDrawOptions(e);r&&n.framebuffer&&n.framebuffer.clear({color:!0}),this.model.transform(n)}},{key:"swap",value:function(){var e=!1,t=[this.bufferTransform,this.textureTransform].filter(Boolean),r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;e=e||s.swap()}}catch(u){n=!0,i=u}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}Object(g.a)(e,"Nothing to swap")}},{key:"getBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.bufferTransform&&this.bufferTransform.getBuffer(e)}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[this.bufferTransform,this.textureTransform].filter(Boolean),r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value,u=s.getData(e);if(u)return u}}catch(c){n=!0,i=c}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"getFramebuffer",value:function(){return this.textureTransform&&this.textureTransform.getFramebuffer()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);var t=[this.bufferTransform,this.textureTransform].filter(Boolean),r=!0,n=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s.update(e)}}catch(u){n=!0,i=u}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"_initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.gl;this._buildResourceTransforms(t,e),e=this._updateModelProps(e),this.model=new L.a(t,Object.assign({},e,{fs:e.fs||p({version:O(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}},{key:"_updateModelProps",value:function(e){var t=Object.assign({},e),r=[this.bufferTransform,this.textureTransform].filter(Boolean),n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){t=o.value.updateModelProps(t)}}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return t}},{key:"_buildResourceTransforms",value:function(e,t){(function(e){if(!Object(R.a)(e.sourceBuffers)||!Object(R.a)(e.feedbackBuffers)||e.varyings&&e.varyings.length>0)return!0;return!1})(t)&&(this.bufferTransform=new v(e,t)),function(e){if(!Object(R.a)(e._sourceTextures)||e._targetTexture||e._targetTextureVarying)return!0;return!1}(t)&&(this.textureTransform=new I(e,t)),Object(g.a)(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}},{key:"_updateDrawOptions",value:function(e){var t=Object.assign({},e),r=[this.bufferTransform,this.textureTransform].filter(Boolean),n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;t=Object.assign(t,u.getDrawOptions(t))}}catch(c){i=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return t}}]),e}()},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8));var u=r(155),c=r(15),l=r(34),p=r(37),h=r(135);function f(e,t){return parseInt(e[t],10)||0}var d="undefined"!==typeof window?o.a.useLayoutEffect:o.a.useEffect,m={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},g=o.a.forwardRef((function(e,t){var r=e.onChange,a=e.rows,s=e.rowsMax,u=e.rowsMin,c=void 0===u?1:u,l=e.style,g=e.value,v=Object(i.a)(e,["onChange","rows","rowsMax","rowsMin","style","value"]),y=a||c,b=o.a.useRef(null!=g).current,_=o.a.useRef(null),x=Object(p.a)(t,_),w=o.a.useRef(null),O=o.a.useState({}),k=O[0],E=O[1],T=o.a.useCallback((function(){var t=_.current,r=window.getComputedStyle(t),n=w.current;n.style.width=r.width,n.value=t.value||e.placeholder||"x";var i=r["box-sizing"],a=f(r,"padding-bottom")+f(r,"padding-top"),o=f(r,"border-bottom-width")+f(r,"border-top-width"),u=n.scrollHeight-a;n.value="x";var c=n.scrollHeight-a,l=u;y&&(l=Math.max(Number(y)*c,l)),s&&(l=Math.min(Number(s)*c,l));var p=(l=Math.max(l,c))+("border-box"===i?a+o:0),h=Math.abs(l-u)<=1;E((function(e){return p>0&&Math.abs((e.outerHeightStyle||0)-p)>1||e.overflow!==h?{overflow:h,outerHeightStyle:p}:e}))}),[s,y,e.placeholder]);o.a.useEffect((function(){var e=Object(h.a)((function(){T()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[T]),d((function(){T()}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("textarea",Object(n.a)({value:g,onChange:function(e){b||T(),r&&r(e)},ref:x,rows:y,style:Object(n.a)({height:k.outerHeightStyle,overflow:k.overflow?"hidden":null},l)},v)),o.a.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:w,tabIndex:-1,style:Object(n.a)({},m,{},l)}))}));function v(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}var y="undefined"===typeof window?o.a.useEffect:o.a.useLayoutEffect,b=o.a.forwardRef((function(e,t){var r=e["aria-describedby"],a=e.autoComplete,c=e.autoFocus,h=e.classes,f=e.className,d=(e.color,e.defaultValue),m=e.disabled,b=e.endAdornment,_=(e.error,e.fullWidth),x=void 0!==_&&_,w=e.id,O=e.inputComponent,k=void 0===O?"input":O,E=e.inputProps,T=void 0===E?{}:E,S=e.inputRef,j=(e.margin,e.multiline),P=void 0!==j&&j,C=e.name,A=e.onBlur,M=e.onChange,I=e.onClick,R=e.onFocus,L=e.onKeyDown,z=e.onKeyUp,D=e.placeholder,F=e.readOnly,B=e.renderSuffix,N=e.rows,q=e.rowsMax,U=e.rowsMin,V=e.startAdornment,G=e.type,W=void 0===G?"text":G,H=e.value,Z=Object(i.a)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),X=null!=T.value?T.value:H,K=o.a.useRef(null!=X).current,Y=o.a.useRef(),$=o.a.useCallback((function(e){0}),[]),J=Object(p.a)(T.ref,$),Q=Object(p.a)(S,J),ee=Object(p.a)(Y,Q),te=o.a.useState(!1),re=te[0],ne=te[1],ie=Object(u.b)();var ae=function(e){var t=e.props,r=e.states,n=e.muiFormControl;return r.reduce((function(e,r){return e[r]=t[r],n&&"undefined"===typeof t[r]&&(e[r]=n[r]),e}),{})}({props:e,muiFormControl:ie,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});ae.focused=ie?ie.focused:re,o.a.useEffect((function(){!ie&&m&&re&&(ne(!1),A&&A())}),[ie,m,re,A]);var oe=ie&&ie.onFilled,se=ie&&ie.onEmpty,ue=o.a.useCallback((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(v(e.value)&&""!==e.value||t&&v(e.defaultValue)&&""!==e.defaultValue)}(e)?se&&se():oe&&oe()}),[oe,se]);y((function(){K&&ue({value:X})}),[X,ue,K]);o.a.useEffect((function(){ue(Y.current)}),[]);var ce=k,le=Object(n.a)({},T,{ref:ee});"string"!==typeof ce?le=Object(n.a)({inputRef:ee,type:W},le,{ref:null}):P?!N||q||U?(le=Object(n.a)({rows:N,rowsMax:q},le),ce=g):ce="textarea":le=Object(n.a)({type:W},le);return o.a.useEffect((function(){ie&&ie.setAdornedStart(Boolean(V))}),[ie,V]),o.a.createElement("div",Object(n.a)({className:Object(s.a)(h.root,h["color".concat(Object(l.a)(ae.color||"primary"))],f,ae.disabled&&h.disabled,ae.error&&h.error,x&&h.fullWidth,ae.focused&&h.focused,ie&&h.formControl,P&&h.multiline,V&&h.adornedStart,b&&h.adornedEnd,{dense:h.marginDense}[ae.margin]),onClick:function(e){Y.current&&e.currentTarget===e.target&&Y.current.focus(),I&&I(e)},ref:t},Z),V,o.a.createElement(u.a.Provider,{value:null},o.a.createElement(ce,Object(n.a)({"aria-invalid":ae.error,"aria-describedby":r,autoComplete:a,autoFocus:c,defaultValue:d,disabled:ae.disabled,id:w,onAnimationStart:function(e){ue(-1!==e.animationName.indexOf("auto-fill-cancel")?Y.current:{value:"x"})},name:C,placeholder:D,readOnly:F,required:ae.required,rows:N,value:X,onKeyDown:L,onKeyUp:z},le,{className:Object(s.a)(h.input,T.className,ae.disabled&&h.disabled,P&&h.inputMultiline,ae.hiddenLabel&&h.inputHiddenLabel,V&&h.inputAdornedStart,b&&h.inputAdornedEnd,{search:h.inputTypeSearch}[W],{dense:h.inputMarginDense}[ae.margin]),onBlur:function(e){A&&A(e),T.onBlur&&T.onBlur(e),ie&&ie.onBlur?ie.onBlur(e):ne(!1)},onChange:function(e){if(!K){var t=e.target||Y.current;if(null==t)throw new TypeError("Material-UI: Expected valid input target. Did you use a custom `inputComponent` and forget to forward refs? See https://material-ui.com/r/input-component-ref-interface for more info.");ue({value:t.value})}for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];T.onChange&&T.onChange.apply(T,[e].concat(n)),M&&M.apply(void 0,[e].concat(n))},onFocus:function(e){ae.disabled?e.stopPropagation():(R&&R(e),T.onFocus&&T.onFocus(e),ie&&ie.onFocus?ie.onFocus(e):ne(!0))}}))),b,B?B(Object(n.a)({},ae,{startAdornment:V})):null)}));t.a=Object(c.a)((function(e){var t="light"===e.palette.type,r={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},n={opacity:"0 !important"},i={opacity:t?.42:.5};return{root:{fontFamily:e.typography.fontFamily,color:e.palette.text.primary,fontSize:e.typography.pxToRem(16),lineHeight:"1.1875em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}},formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1875em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"$auto-fill-cancel","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"$auto-fill"}},"@keyframes auto-fill":{from:{}},"@keyframes auto-fill-cancel":{from:{}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(b)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(375),c=r(15),l=r(378),p=r(69),h=r(112),f=r(81),d=r(37),m={entering:{opacity:1},entered:{opacity:1}},g={enter:p.b.enteringScreen,exit:p.b.leavingScreen},v=o.a.forwardRef((function(e,t){var r=e.children,a=e.in,s=e.onEnter,u=e.onExit,c=e.style,p=e.timeout,v=void 0===p?g:p,y=Object(i.a)(e,["children","in","onEnter","onExit","style","timeout"]),b=Object(h.a)(),_=Object(d.a)(r.ref,t);return o.a.createElement(l.a,Object(n.a)({appear:!0,in:a,onEnter:function(e,t){Object(f.b)(e);var r=Object(f.a)({style:c,timeout:v},{mode:"enter"});e.style.webkitTransition=b.transitions.create("opacity",r),e.style.transition=b.transitions.create("opacity",r),s&&s(e,t)},onExit:function(e){var t=Object(f.a)({style:c,timeout:v},{mode:"exit"});e.style.webkitTransition=b.transitions.create("opacity",t),e.style.transition=b.transitions.create("opacity",t),u&&u(e)},timeout:v},y),(function(e,t){return o.a.cloneElement(r,Object(n.a)({style:Object(n.a)({opacity:0,visibility:"exited"!==e||a?void 0:"hidden"},m[e],{},c,{},r.props.style),ref:_},t))}))})),y=o.a.forwardRef((function(e,t){var r=e.children,a=e.classes,u=e.className,c=e.invisible,l=void 0!==c&&c,p=e.open,h=e.transitionDuration,f=Object(i.a)(e,["children","classes","className","invisible","open","transitionDuration"]);return o.a.createElement(v,Object(n.a)({in:p,timeout:h},f),o.a.createElement("div",{className:Object(s.a)(a.root,u,l&&a.invisible),"aria-hidden":!0,ref:t},r))})),b=Object(c.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",touchAction:"none"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(y),_=r(42),x=r.n(_),w=r(135);function O(e,t){var r=function(e,t){var r,n=t.getBoundingClientRect();if(t.fakeTransform)r=t.fakeTransform;else{var i=window.getComputedStyle(t);r=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var a=0,o=0;if(r&&"none"!==r&&"string"===typeof r){var s=r.split("(")[1].split(")")[0].split(",");a=parseInt(s[4],10),o=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(-").concat(n.left-a,"px)"):"right"===e?"translateX(-".concat(n.left+n.width-a,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(-").concat(n.top-o,"px)"):"translateY(-".concat(n.top+n.height-o,"px)")}(e,t);r&&(t.style.webkitTransform=r,t.style.transform=r)}var k={enter:p.b.enteringScreen,exit:p.b.leavingScreen},E=o.a.forwardRef((function(e,t){var r=e.children,a=e.direction,s=void 0===a?"down":a,u=e.in,c=e.onEnter,p=e.onEntering,m=e.onExit,g=e.onExited,v=e.style,y=e.timeout,b=void 0===y?k:y,_=Object(i.a)(e,["children","direction","in","onEnter","onEntering","onExit","onExited","style","timeout"]),E=Object(h.a)(),T=o.a.useRef(null),S=o.a.useCallback((function(e){T.current=x.a.findDOMNode(e)}),[]),j=Object(d.a)(r.ref,S),P=Object(d.a)(j,t),C=o.a.useCallback((function(){T.current&&O(s,T.current)}),[s]);return o.a.useEffect((function(){if(!u&&"down"!==s&&"right"!==s){var e=Object(w.a)((function(){T.current&&O(s,T.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[s,u]),o.a.useEffect((function(){u||C()}),[u,C]),o.a.createElement(l.a,Object(n.a)({onEnter:function(e,t){var r=T.current;O(s,r),Object(f.b)(r),c&&c(r,t)},onEntering:function(e,t){var r=T.current,i=Object(f.a)({timeout:b,style:v},{mode:"enter"});r.style.webkitTransition=E.transitions.create("-webkit-transform",Object(n.a)({},i,{easing:E.transitions.easing.easeOut})),r.style.transition=E.transitions.create("transform",Object(n.a)({},i,{easing:E.transitions.easing.easeOut})),r.style.webkitTransform="none",r.style.transform="none",p&&p(r,t)},onExit:function(){var e=T.current,t=Object(f.a)({timeout:b,style:v},{mode:"exit"});e.style.webkitTransition=E.transitions.create("-webkit-transform",Object(n.a)({},t,{easing:E.transitions.easing.sharp})),e.style.transition=E.transitions.create("transform",Object(n.a)({},t,{easing:E.transitions.easing.sharp})),O(s,e),m&&m(e)},onExited:function(){var e=T.current;e.style.webkitTransition="",e.style.transition="",g&&g(e)},appear:!0,in:u,timeout:b},_),(function(e,t){return o.a.cloneElement(r,Object(n.a)({ref:P,style:Object(n.a)({visibility:"exited"!==e||u?void 0:"hidden"},v,{},r.props.style)},t))}))})),T=r(208),S=r(34),j={left:"right",right:"left",top:"down",bottom:"up"};var P={enter:p.b.enteringScreen,exit:p.b.leavingScreen},C=o.a.forwardRef((function(e,t){var r=e.anchor,a=void 0===r?"left":r,c=e.BackdropProps,l=e.children,p=e.classes,f=e.className,d=e.elevation,m=void 0===d?16:d,g=e.ModalProps,v=(g=void 0===g?{}:g).BackdropProps,y=Object(i.a)(g,["BackdropProps"]),_=e.onClose,x=e.open,w=void 0!==x&&x,O=e.PaperProps,k=void 0===O?{}:O,C=e.SlideProps,A=e.transitionDuration,M=void 0===A?P:A,I=e.variant,R=void 0===I?"temporary":I,L=Object(i.a)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","transitionDuration","variant"]),z=Object(h.a)(),D=o.a.useRef(!1);o.a.useEffect((function(){D.current=!0}),[]);var F=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?j[t]:t}(z,a),B=o.a.createElement(T.a,Object(n.a)({elevation:"temporary"===R?m:0,square:!0,className:Object(s.a)(p.paper,p["paperAnchor".concat(Object(S.a)(F))],k.className,"temporary"!==R&&p["paperAnchorDocked".concat(Object(S.a)(F))])},k),l);if("permanent"===R)return o.a.createElement("div",Object(n.a)({className:Object(s.a)(p.root,p.docked,f),ref:t},L),B);var N=o.a.createElement(E,Object(n.a)({in:w,direction:j[F],timeout:M,appear:D.current},C),B);return"persistent"===R?o.a.createElement("div",Object(n.a)({className:Object(s.a)(p.root,p.docked,f),ref:t},L),N):o.a.createElement(u.a,Object(n.a)({BackdropProps:Object(n.a)({},c,{},v,{transitionDuration:M}),BackdropComponent:b,className:Object(s.a)(p.root,p.modal,f),open:w,onClose:_,ref:t},L,y),N)}));t.a=Object(c.a)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(C)},function(e,t,r){"use strict";var n=r(10),i=r(11),a=r(2),o=r(0),s=r.n(o),u=(r(3),r(8)),c=r(15),l=r(69),p=r(42),h=r.n(p),f=r(63),d=r(37),m=r(115),g=r(67);function v(e){return e.substring(2).toLowerCase()}var y=s.a.forwardRef((function(e,t){var r=e.children,n=e.mouseEvent,i=void 0===n?"onClick":n,a=e.touchEvent,o=void 0===a?"onTouchEnd":a,u=e.onClickAway,c=s.a.useRef(!1),l=s.a.useRef(null),p=s.a.useRef(!1);s.a.useEffect((function(){return p.current=!0,function(){p.current=!1}}),[]);var y=Object(d.a)(l,t),b=s.a.useCallback((function(e){Object(m.a)(y,h.a.findDOMNode(e))}),[y]),_=Object(d.a)(r.ref,b),x=Object(g.a)((function(e){if(p.current)if(c.current)c.current=!1;else if(l.current){var t=Object(f.a)(l.current);t.documentElement&&t.documentElement.contains(e.target)&&!l.current.contains(e.target)&&u(e)}})),w=s.a.useCallback((function(){c.current=!0}),[]);return s.a.useEffect((function(){if(!1!==o){var e=v(o),t=Object(f.a)(l.current);return t.addEventListener(e,x),t.addEventListener("touchmove",w),function(){t.removeEventListener(e,x),t.removeEventListener("touchmove",w)}}}),[x,w,o]),s.a.useEffect((function(){if(!1!==i){var e=v(i),t=Object(f.a)(l.current);return t.addEventListener(e,x),function(){t.removeEventListener(e,x)}}}),[x,i]),s.a.createElement(s.a.Fragment,null,s.a.cloneElement(r,{ref:_}))})),b=r(34),_=r(116),x=r(372),w=r(208),O=r(190),k=r(54),E=s.a.forwardRef((function(e,t){var r=e.action,i=e.classes,o=e.className,c=e.message,l=e.role,p=void 0===l?"alert":l,h=Object(n.a)(e,["action","classes","className","message","role"]);return s.a.createElement(w.a,Object(a.a)({component:O.a,variant:"body2",variantMapping:{body1:"div",body2:"div"},role:p,square:!0,elevation:6,className:Object(u.a)(i.root,o),ref:t},h),s.a.createElement("div",{className:i.message},c),r?s.a.createElement("div",{className:i.action},r):null)})),T=Object(c.a)((function(e){var t="light"===e.palette.type?.8:.98,r=Object(k.b)(e.palette.background.default,t);return{root:Object(i.a)({color:e.palette.getContrastText(r),backgroundColor:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288}),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(E),S=s.a.forwardRef((function(e,t){var r=e.action,i=e.anchorOrigin,o=(i=void 0===i?{vertical:"bottom",horizontal:"center"}:i).vertical,c=i.horizontal,p=e.autoHideDuration,h=e.children,f=e.classes,d=e.className,m=e.ClickAwayListenerProps,v=e.ContentProps,w=e.disableWindowBlurListener,O=void 0!==w&&w,k=e.message,E=e.onClose,S=e.onEnter,j=e.onEntered,P=e.onEntering,C=e.onExit,A=e.onExited,M=e.onExiting,I=e.onMouseEnter,R=e.onMouseLeave,L=e.open,z=e.resumeHideDuration,D=e.TransitionComponent,F=void 0===D?x.a:D,B=e.transitionDuration,N=void 0===B?{enter:l.b.enteringScreen,exit:l.b.leavingScreen}:B,q=e.TransitionProps,U=Object(n.a)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),V=s.a.useRef(),G=s.a.useState(!0),W=G[0],H=G[1],Z=Object(g.a)((function(){E.apply(void 0,arguments)})),X=Object(g.a)((function(e){Z&&null!=e&&(clearTimeout(V.current),V.current=setTimeout((function(){Z(null,"timeout")}),e))}));s.a.useEffect((function(){return L&&X(p),function(){clearTimeout(V.current)}}),[L,p,X]);var K=function(){clearTimeout(V.current)},Y=s.a.useCallback((function(){null!=p&&X(null!=z?z:.5*p)}),[p,z,X]);return s.a.useEffect((function(){if(!O&&L)return window.addEventListener("focus",Y),window.addEventListener("blur",K),function(){window.removeEventListener("focus",Y),window.removeEventListener("blur",K)}}),[O,Y,L]),!L&&W?null:s.a.createElement(y,Object(a.a)({onClickAway:function(e){E&&E(e,"clickaway")}},m),s.a.createElement("div",Object(a.a)({className:Object(u.a)(f.root,f["anchorOrigin".concat(Object(b.a)(o)).concat(Object(b.a)(c))],d),onMouseEnter:function(e){I&&I(e),K()},onMouseLeave:function(e){R&&R(e),Y()},ref:t},U),s.a.createElement(F,Object(a.a)({appear:!0,in:L,onEnter:Object(_.a)((function(){H(!1)}),S),onEntered:j,onEntering:P,onExit:C,onExited:Object(_.a)((function(){H(!0)}),A),onExiting:M,timeout:N,direction:"top"===o?"down":"up"},q),h||s.a.createElement(T,Object(a.a)({message:k,action:r},v)))))}));t.a=Object(c.a)((function(e){var t={top:8},r={bottom:8},n={justifyContent:"flex-end"},o={justifyContent:"flex-start"},s={top:24},u={bottom:24},c={right:24},l={left:24},p={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(a.a)({},t,Object(i.a)({},e.breakpoints.up("sm"),Object(a.a)({},s,{},p))),anchorOriginBottomCenter:Object(a.a)({},r,Object(i.a)({},e.breakpoints.up("sm"),Object(a.a)({},u,{},p))),anchorOriginTopRight:Object(a.a)({},t,{},n,Object(i.a)({},e.breakpoints.up("sm"),Object(a.a)({left:"auto"},s,{},c))),anchorOriginBottomRight:Object(a.a)({},r,{},n,Object(i.a)({},e.breakpoints.up("sm"),Object(a.a)({left:"auto"},u,{},c))),anchorOriginTopLeft:Object(a.a)({},t,{},o,Object(i.a)({},e.breakpoints.up("sm"),Object(a.a)({right:"auto"},s,{},l))),anchorOriginBottomLeft:Object(a.a)({},r,{},o,Object(i.a)({},e.breakpoints.up("sm"),Object(a.a)({right:"auto"},u,{},l)))}}),{flip:!1,name:"MuiSnackbar"})(S)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=r(54),l=r(34),p=r(155);var h=r(414),f=o.a.forwardRef((function(e,t){var r=e.autoFocus,a=e.checked,u=e.checkedIcon,c=e.classes,l=e.className,f=e.defaultChecked,d=e.disabled,m=e.icon,g=e.id,v=e.inputProps,y=e.inputRef,b=e.name,_=e.onBlur,x=e.onChange,w=e.onFocus,O=e.readOnly,k=e.required,E=e.tabIndex,T=e.type,S=e.value,j=Object(i.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),P=o.a.useRef(null!=a).current,C=o.a.useState(Boolean(f)),A=C[0],M=C[1],I=P?a:A,R=o.a.useContext(p.a),L=d;R&&"undefined"===typeof L&&(L=R.disabled);var z="checkbox"===T||"radio"===T;return o.a.createElement(h.a,Object(n.a)({component:"span",className:Object(s.a)(c.root,l,I&&c.checked,L&&c.disabled),disabled:L,tabIndex:null,role:void 0,onFocus:function(e){w&&w(e),R&&R.onFocus&&R.onFocus(e)},onBlur:function(e){_&&_(e),R&&R.onBlur&&R.onBlur(e)},ref:t},j),o.a.createElement("input",Object(n.a)({autoFocus:r,checked:a,defaultChecked:f,className:c.input,disabled:L,id:z&&g,name:b,onChange:function(e){var t=e.target.checked;P||M(t),x&&x(e,t)},readOnly:O,ref:y,required:k,tabIndex:E,type:T,value:S},v)),I?u:m)})),d=Object(u.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(f),m=o.a.forwardRef((function(e,t){var r=e.classes,a=e.className,u=e.color,c=void 0===u?"secondary":u,p=e.disabled,h=void 0!==p&&p,f=e.edge,m=void 0!==f&&f,g=e.size,v=void 0===g?"medium":g,y=Object(i.a)(e,["classes","className","color","disabled","edge","size"]),b=o.a.createElement("span",{className:r.thumb});return o.a.createElement("span",{className:Object(s.a)(r.root,a,{start:r.edgeStart,end:r.edgeEnd}[m],{small:r["size".concat(Object(l.a)(v))]}[v])},o.a.createElement(d,Object(n.a)({type:"checkbox",icon:b,checkedIcon:b,classes:{root:Object(s.a)(r.switchBase,r["color".concat(Object(l.a)(c))]),input:r.input,checked:r.checked,disabled:r.disabled},ref:t,disabled:h},y)),o.a.createElement("span",{className:r.track}))}));t.a=Object(u.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle"},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(c.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(c.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(m)},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=r(219);var l=function(e,t){var r=o.a.memo(o.a.forwardRef((function(t,r){return o.a.createElement(c.a,Object(n.a)({},t,{ref:r}),e)})));return r.muiName=c.a.muiName,r}(o.a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var p=o.a.forwardRef((function(e,t){var r=e.alt,a=e.children,u=e.classes,c=e.className,p=e.component,h=void 0===p?"div":p,f=e.imgProps,d=e.sizes,m=e.src,g=e.srcSet,v=e.variant,y=void 0===v?"circle":v,b=Object(i.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),_=null,x=function(e){var t=e.src,r=e.srcSet,n=o.a.useState(!1),i=n[0],a=n[1];return o.a.useEffect((function(){if(t||r){a(!1);var e=!0,n=new Image;return n.src=t,n.srcSet=r,n.onload=function(){e&&a("loaded")},n.onerror=function(){e&&a("error")},function(){e=!1}}}),[t,r]),i}({src:m,srcSet:g}),w=m||g,O=w&&"error"!==x;return _=O?o.a.createElement("img",Object(n.a)({alt:r,src:m,srcSet:g,sizes:d,className:u.img},f)):null!=a?a:w&&r?r[0]:o.a.createElement(l,{className:u.fallback}),o.a.createElement(h,Object(n.a)({className:Object(s.a)(u.root,u.system,u[y],c,!O&&u.colorDefault),ref:t},b),_)}));t.a=Object(u.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",backgroundColor:e.palette.action.hover,textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(p)},function(e,t,r){"use strict";var n=r(7),i=r(6),a=r(18),o=r(13),s=r(33),u=r(19),c=r(213),l=r(232),p=r(181),h=r(261),f=r(410);r.d(t,"a",(function(){return g}));var d=[0,0,0,255],m={radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,getPosition:{type:"accessor",value:function(e){return e.position}},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:d},getLineColor:{type:"accessor",value:d},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}},g=function(e){function t(){return Object(n.a)(this,t),Object(a.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getShaders",value:function(e){return Object(s.a)(Object(o.a)(t.prototype),"getShaders",this).call(this,{vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius),\n    radiusMinPixels, radiusMaxPixels\n  );\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n  unitPosition = positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  vec3 offset = positions * project_pixel_size(outerRadiusPixels);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  float inCircle = smoothedge(distToCenter, outerRadiusPixels);\n\n  if (inCircle == 0.0) {\n    discard;\n  }\n\n  if (stroked > 0.5) {\n    float isLine = smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter);\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[c.a,l.a]})}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}},{key:"updateState",value:function(e){var r=e.props,n=e.oldProps,i=e.changeFlags;if(Object(s.a)(Object(o.a)(t.prototype),"updateState",this).call(this,{props:r,oldProps:n,changeFlags:i}),i.extensionsChanged){var a=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(a)}),this.getAttributeManager().invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,r=this.context.viewport,n=this.props,i=n.radiusScale,a=n.radiusMinPixels,o=n.radiusMaxPixels,s=n.stroked,u=n.filled,c=n.lineWidthUnits,l=n.lineWidthScale,p=n.lineWidthMinPixels,h=n.lineWidthMaxPixels,f="pixels"===c?r.metersPerPixel:1;this.state.model.setUniforms(t).setUniforms({stroked:s?1:0,filled:u,radiusScale:i,radiusMinPixels:a,radiusMaxPixels:o,lineWidthScale:l*f,lineWidthMinPixels:p,lineWidthMaxPixels:h}).draw()}},{key:"_getModel",value:function(e){return new h.a(e,Object.assign(this.getShaders(),{id:this.props.id,geometry:new f.a({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,-1,1,0,1,1,0,1,-1,0])}}}),isInstanced:!0}))}}]),t}(p.a);g.layerName="ScatterplotLayer",g.defaultProps=m},function(e,t,r){"use strict";function n(e){return e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r.n(a),s=(r(3),r(8)),u=r(15),c=r(266);var l=r(37),p=r(79),h=r(42),f=r.n(h),d="undefined"===typeof window?o.a.useEffect:o.a.useLayoutEffect,m=o.a.forwardRef((function(e,t){var r=e.alignItems,a=void 0===r?"center":r,u=e.autoFocus,h=void 0!==u&&u,m=e.button,g=void 0!==m&&m,v=e.children,y=e.classes,b=e.className,_=e.component,x=e.ContainerComponent,w=void 0===x?"li":x,O=e.ContainerProps,k=(O=void 0===O?{}:O).className,E=Object(i.a)(O,["className"]),T=e.dense,S=void 0!==T&&T,j=e.disabled,P=void 0!==j&&j,C=e.disableGutters,A=void 0!==C&&C,M=e.divider,I=void 0!==M&&M,R=e.focusVisibleClassName,L=e.selected,z=void 0!==L&&L,D=Object(i.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),F=o.a.useContext(p.a),B={dense:S||F.dense||!1,alignItems:a},N=o.a.useRef(null);d((function(){h&&N.current&&N.current.focus()}),[h]);var q,U,V=o.a.Children.toArray(v),G=V.length&&(q=V[V.length-1],U=["ListItemSecondaryAction"],o.a.isValidElement(q)&&-1!==U.indexOf(q.type.muiName)),W=o.a.useCallback((function(e){N.current=f.a.findDOMNode(e)}),[]),H=Object(l.a)(W,t),Z=Object(n.a)({className:Object(s.a)(y.root,b,B.dense&&y.dense,!A&&y.gutters,I&&y.divider,P&&y.disabled,g&&y.button,"center"!==a&&y.alignItemsFlexStart,G&&y.secondaryAction,z&&y.selected),disabled:P},D),X=_||"li";return g&&(Z.component=_||"div",Z.focusVisibleClassName=Object(s.a)(y.focusVisible,R),X=c.a),G?(X=Z.component||_?X:"div","li"===w&&("li"===X?X="div":"li"===Z.component&&(Z.component="div")),o.a.createElement(p.a.Provider,{value:B},o.a.createElement(w,Object(n.a)({className:Object(s.a)(y.container,k),ref:H},E),o.a.createElement(X,Z,V),V.pop()))):o.a.createElement(p.a.Provider,{value:B},o.a.createElement(X,Object(n.a)({ref:H},Z),V))}));t.a=Object(u.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(m)},function(e,t,r){"use strict";var n=r(2),i=r(38),a=r(10),o=r(0),s=r.n(o),u=(r(151),r(3),r(8));var c=r(15),l=r(34),p=s.a.forwardRef((function(e,t){var r=e.children,o=e.classes,c=e.className,p=e.exclusive,h=void 0!==p&&p,f=e.onChange,d=e.size,m=void 0===d?"medium":d,g=e.value,v=Object(a.a)(e,["children","classes","className","exclusive","onChange","size","value"]),y=function(e,t){if(f){var r,n=g&&g.indexOf(t);g&&n>=0?(r=Object(i.a)(g)).splice(n,1):r=g?[].concat(Object(i.a)(g),[t]):[t],f(e,r)}},b=function(e,t){f&&f(e,g===t?null:t)};return s.a.createElement("div",Object(n.a)({className:Object(u.a)(o.root,c),ref:t,role:"group"},v),s.a.Children.map(r,(function(e){if(!s.a.isValidElement(e))return null;var t=e.props,r=t.selected,n=t.value,i=void 0===r?function(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}(n,g):r;return s.a.cloneElement(e,{className:Object(u.a)(o.grouped,e.props.className,"medium"!==m&&o["groupedSize".concat(Object(l.a)(m))]),selected:i,onChange:h?b:y,size:m})})))}));t.a=Object(c.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,display:"inline-flex"},grouped:{padding:"0px 11px 0px 12px","&:not(:first-child)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedSizeSmall:{padding:"0px 7px 0px 8px"},groupedSizeLarge:{padding:"0px 15px 0px 16px"}}}),{name:"MuiToggleButtonGroup"})(p)}]]);
//# sourceMappingURL=2.b5cf020d.chunk.js.map